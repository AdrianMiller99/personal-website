var Kl=Object.defineProperty;var Mo=a=>{throw TypeError(a)};var Yl=(a,o,h)=>o in a?Kl(a,o,{enumerable:!0,configurable:!0,writable:!0,value:h}):a[o]=h;var ir=(a,o,h)=>Yl(a,typeof o!="symbol"?o+"":o,h),Hs=(a,o,h)=>o.has(a)||Mo("Cannot "+h);var Kt=(a,o,h)=>(Hs(a,o,"read from private field"),h?h.call(a):o.get(a)),Fn=(a,o,h)=>o.has(a)?Mo("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(a):o.set(a,h),On=(a,o,h,g)=>(Hs(a,o,"write to private field"),g?g.call(a,h):o.set(a,h),h),xn=(a,o,h)=>(Hs(a,o,"access private method"),h);var zr=(a,o,h,g)=>({set _(xt){On(a,o,xt,h)},get _(){return Kt(a,o,g)}});(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const xt of document.querySelectorAll('link[rel="modulepreload"]'))g(xt);new MutationObserver(xt=>{for(const Bt of xt)if(Bt.type==="childList")for(const Ut of Bt.addedNodes)Ut.tagName==="LINK"&&Ut.rel==="modulepreload"&&g(Ut)}).observe(document,{childList:!0,subtree:!0});function h(xt){const Bt={};return xt.integrity&&(Bt.integrity=xt.integrity),xt.referrerPolicy&&(Bt.referrerPolicy=xt.referrerPolicy),xt.crossOrigin==="use-credentials"?Bt.credentials="include":xt.crossOrigin==="anonymous"?Bt.credentials="omit":Bt.credentials="same-origin",Bt}function g(xt){if(xt.ep)return;xt.ep=!0;const Bt=h(xt);fetch(xt.href,Bt)}})();function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var o=a.default;if(typeof o=="function"){var h=function g(){return this instanceof g?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};h.prototype=o.prototype}else h={};return Object.defineProperty(h,"__esModule",{value:!0}),Object.keys(a).forEach(function(g){var xt=Object.getOwnPropertyDescriptor(a,g);Object.defineProperty(h,g,xt.get?xt:{enumerable:!0,get:function(){return a[g]}})}),h}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(a){return a===null||typeof a!="object"?null:(a=z$1&&a[z$1]||a["@@iterator"],typeof a=="function"?a:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(a,o,h){this.props=a,this.context=o,this.refs=D$1,this.updater=h||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,o){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,o,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(a,o,h){this.props=a,this.context=o,this.refs=D$1,this.updater=h||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(a,o,h){var g,xt={},Bt=null,Ut=null;if(o!=null)for(g in o.ref!==void 0&&(Ut=o.ref),o.key!==void 0&&(Bt=""+o.key),o)J.call(o,g)&&!L$1.hasOwnProperty(g)&&(xt[g]=o[g]);var $=arguments.length-2;if($===1)xt.children=h;else if(1<$){for(var _t=Array($),s=0;s<$;s++)_t[s]=arguments[s+2];xt.children=_t}if(a&&a.defaultProps)for(g in $=a.defaultProps,$)xt[g]===void 0&&(xt[g]=$[g]);return{$$typeof:l$1,type:a,key:Bt,ref:Ut,props:xt,_owner:K$1.current}}function N$1(a,o){return{$$typeof:l$1,type:a.type,key:o,ref:a.ref,props:a.props,_owner:a._owner}}function O$1(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$1}function escape$1(a){var o={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(h){return o[h]})}var P$1=/\/+/g;function Q$1(a,o){return typeof a=="object"&&a!==null&&a.key!=null?escape$1(""+a.key):o.toString(36)}function R$1(a,o,h,g,xt){var Bt=typeof a;(Bt==="undefined"||Bt==="boolean")&&(a=null);var Ut=!1;if(a===null)Ut=!0;else switch(Bt){case"string":case"number":Ut=!0;break;case"object":switch(a.$$typeof){case l$1:case n$1:Ut=!0}}if(Ut)return Ut=a,xt=xt(Ut),a=g===""?"."+Q$1(Ut,0):g,I$1(xt)?(h="",a!=null&&(h=a.replace(P$1,"$&/")+"/"),R$1(xt,o,h,"",function(s){return s})):xt!=null&&(O$1(xt)&&(xt=N$1(xt,h+(!xt.key||Ut&&Ut.key===xt.key?"":(""+xt.key).replace(P$1,"$&/")+"/")+a)),o.push(xt)),1;if(Ut=0,g=g===""?".":g+":",I$1(a))for(var $=0;$<a.length;$++){Bt=a[$];var _t=g+Q$1(Bt,$);Ut+=R$1(Bt,o,h,_t,xt)}else if(_t=A$1(a),typeof _t=="function")for(a=_t.call(a),$=0;!(Bt=a.next()).done;)Bt=Bt.value,_t=g+Q$1(Bt,$++),Ut+=R$1(Bt,o,h,_t,xt);else if(Bt==="object")throw o=String(a),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return Ut}function S$1(a,o,h){if(a==null)return a;var g=[],xt=0;return R$1(a,g,"","",function(Bt){return o.call(h,Bt,xt++)}),g}function T$1(a){if(a._status===-1){var o=a._result;o=o(),o.then(function(h){(a._status===0||a._status===-1)&&(a._status=1,a._result=h)},function(h){(a._status===0||a._status===-1)&&(a._status=2,a._result=h)}),a._status===-1&&(a._status=0,a._result=o)}if(a._status===1)return a._result.default;throw a._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(a,o,h){S$1(a,function(){o.apply(this,arguments)},h)},count:function(a){var o=0;return S$1(a,function(){o++}),o},toArray:function(a){return S$1(a,function(o){return o})||[]},only:function(a){if(!O$1(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(a,o,h){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var g=C$1({},a.props),xt=a.key,Bt=a.ref,Ut=a._owner;if(o!=null){if(o.ref!==void 0&&(Bt=o.ref,Ut=K$1.current),o.key!==void 0&&(xt=""+o.key),a.type&&a.type.defaultProps)var $=a.type.defaultProps;for(_t in o)J.call(o,_t)&&!L$1.hasOwnProperty(_t)&&(g[_t]=o[_t]===void 0&&$!==void 0?$[_t]:o[_t])}var _t=arguments.length-2;if(_t===1)g.children=h;else if(1<_t){$=Array(_t);for(var s=0;s<_t;s++)$[s]=arguments[s+2];g.children=$}return{$$typeof:l$1,type:a.type,key:xt,ref:Bt,props:g,_owner:Ut}};react_production_min.createContext=function(a){return a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t,_context:a},a.Consumer=a};react_production_min.createElement=M$1;react_production_min.createFactory=function(a){var o=M$1.bind(null,a);return o.type=a,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$1,render:a}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T$1}};react_production_min.memo=function(a,o){return{$$typeof:x,type:a,compare:o===void 0?null:o}};react_production_min.startTransition=function(a){var o=V$1.transition;V$1.transition={};try{a()}finally{V$1.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(a,o){return U$1.current.useCallback(a,o)};react_production_min.useContext=function(a){return U$1.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$1.current.useDeferredValue(a)};react_production_min.useEffect=function(a,o){return U$1.current.useEffect(a,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(a,o,h){return U$1.current.useImperativeHandle(a,o,h)};react_production_min.useInsertionEffect=function(a,o){return U$1.current.useInsertionEffect(a,o)};react_production_min.useLayoutEffect=function(a,o){return U$1.current.useLayoutEffect(a,o)};react_production_min.useMemo=function(a,o){return U$1.current.useMemo(a,o)};react_production_min.useReducer=function(a,o,h){return U$1.current.useReducer(a,o,h)};react_production_min.useRef=function(a){return U$1.current.useRef(a)};react_production_min.useState=function(a){return U$1.current.useState(a)};react_production_min.useSyncExternalStore=function(a,o,h){return U$1.current.useSyncExternalStore(a,o,h)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(a,o,h){var g,xt={},Bt=null,Ut=null;h!==void 0&&(Bt=""+h),o.key!==void 0&&(Bt=""+o.key),o.ref!==void 0&&(Ut=o.ref);for(g in o)m$1.call(o,g)&&!p$1.hasOwnProperty(g)&&(xt[g]=o[g]);if(a&&a.defaultProps)for(g in o=a.defaultProps,o)xt[g]===void 0&&(xt[g]=o[g]);return{$$typeof:k,type:a,key:Bt,ref:Ut,props:xt,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function o(wt,b){var pt=wt.length;wt.push(b);t:for(;0<pt;){var Ot=pt-1>>>1,kt=wt[Ot];if(0<xt(kt,b))wt[Ot]=b,wt[pt]=kt,pt=Ot;else break t}}function h(wt){return wt.length===0?null:wt[0]}function g(wt){if(wt.length===0)return null;var b=wt[0],pt=wt.pop();if(pt!==b){wt[0]=pt;t:for(var Ot=0,kt=wt.length,st=kt>>>1;Ot<st;){var nt=2*(Ot+1)-1,gt=wt[nt],Ft=nt+1,yt=wt[Ft];if(0>xt(gt,pt))Ft<kt&&0>xt(yt,gt)?(wt[Ot]=yt,wt[Ft]=pt,Ot=Ft):(wt[Ot]=gt,wt[nt]=pt,Ot=nt);else if(Ft<kt&&0>xt(yt,pt))wt[Ot]=yt,wt[Ft]=pt,Ot=Ft;else break t}}return b}function xt(wt,b){var pt=wt.sortIndex-b.sortIndex;return pt!==0?pt:wt.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Bt=performance;a.unstable_now=function(){return Bt.now()}}else{var Ut=Date,$=Ut.now();a.unstable_now=function(){return Ut.now()-$}}var _t=[],s=[],bt=1,St=null,e=3,i=!1,d=!1,ut=!1,dt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(wt){for(var b=h(s);b!==null;){if(b.callback===null)g(s);else if(b.startTime<=wt)g(s),b.sortIndex=b.expirationTime,o(_t,b);else break;b=h(s)}}function lt(wt){if(ut=!1,c(wt),!d)if(h(_t)!==null)d=!0,rt(at);else{var b=h(s);b!==null&&ft(lt,b.startTime-wt)}}function at(wt,b){d=!1,ut&&(ut=!1,et(tt),tt=-1),i=!0;var pt=e;try{for(c(b),St=h(_t);St!==null&&(!(St.expirationTime>b)||wt&&!Ct());){var Ot=St.callback;if(typeof Ot=="function"){St.callback=null,e=St.priorityLevel;var kt=Ot(St.expirationTime<=b);b=a.unstable_now(),typeof kt=="function"?St.callback=kt:St===h(_t)&&g(_t),c(b)}else g(_t);St=h(_t)}if(St!==null)var st=!0;else{var nt=h(s);nt!==null&&ft(lt,nt.startTime-b),st=!1}return st}finally{St=null,e=pt,i=!1}}var ct=!1,it=null,tt=-1,ot=5,mt=-1;function Ct(){return!(a.unstable_now()-mt<ot)}function Nt(){if(it!==null){var wt=a.unstable_now();mt=wt;var b=!0;try{b=it(!0,wt)}finally{b?Pt():(ct=!1,it=null)}}else ct=!1}var Pt;if(typeof _=="function")Pt=function(){_(Nt)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,Et=Tt.port2;Tt.port1.onmessage=Nt,Pt=function(){Et.postMessage(null)}}else Pt=function(){dt(Nt,0)};function rt(wt){it=wt,ct||(ct=!0,Pt())}function ft(wt,b){tt=dt(function(){wt(a.unstable_now())},b)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(wt){wt.callback=null},a.unstable_continueExecution=function(){d||i||(d=!0,rt(at))},a.unstable_forceFrameRate=function(wt){0>wt||125<wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<wt?Math.floor(1e3/wt):5},a.unstable_getCurrentPriorityLevel=function(){return e},a.unstable_getFirstCallbackNode=function(){return h(_t)},a.unstable_next=function(wt){switch(e){case 1:case 2:case 3:var b=3;break;default:b=e}var pt=e;e=b;try{return wt()}finally{e=pt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(wt,b){switch(wt){case 1:case 2:case 3:case 4:case 5:break;default:wt=3}var pt=e;e=wt;try{return b()}finally{e=pt}},a.unstable_scheduleCallback=function(wt,b,pt){var Ot=a.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ot+pt:Ot):pt=Ot,wt){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=pt+kt,wt={id:bt++,callback:b,priorityLevel:wt,startTime:pt,expirationTime:kt,sortIndex:-1},pt>Ot?(wt.sortIndex=pt,o(s,wt),h(_t)===null&&wt===h(s)&&(ut?(et(tt),tt=-1):ut=!0,ft(lt,pt-Ot))):(wt.sortIndex=kt,o(_t,wt),d||i||(d=!0,rt(at))),wt},a.unstable_shouldYield=Ct,a.unstable_wrapCallback=function(wt){var b=e;return function(){var pt=e;e=b;try{return wt.apply(this,arguments)}finally{e=pt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,o){ha(a,o),ha(a+"Capture",o)}function ha(a,o){for(ea[a]=o,a=0;a<o.length;a++)da.add(o[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,o,h,g){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,o,h,g){if(o===null||typeof o>"u"||pa(a,o,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v(a,o,h,g,xt,Bt,Ut){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=xt,this.mustUseProperty=h,this.propertyName=a,this.type=o,this.sanitizeURL=Bt,this.removeEmptyString=Ut}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];z[o]=new v(o,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(ra,sa);z[o]=new v(o,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(ra,sa);z[o]=new v(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(ra,sa);z[o]=new v(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,o,h,g){var xt=z.hasOwnProperty(o)?z[o]:null;(xt!==null?xt.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,h,xt,g)&&(h=null),g||xt===null?oa(o)&&(h===null?a.removeAttribute(o):a.setAttribute(o,""+h)):xt.mustUseProperty?a[xt.propertyName]=h===null?xt.type===3?!1:"":h:(o=xt.attributeName,g=xt.attributeNamespace,h===null?a.removeAttribute(o):(xt=xt.type,h=xt===3||xt===4&&h===!0?"":""+h,g?a.setAttributeNS(g,o,h):a.setAttribute(o,h))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+a}var Na=!1;function Oa(a,o){if(!a||Na)return"";Na=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(s){var g=s}Reflect.construct(a,[],o)}else{try{o.call()}catch(s){g=s}a.call(o.prototype)}else{try{throw Error()}catch(s){g=s}a()}}catch(s){if(s&&g&&typeof s.stack=="string"){for(var xt=s.stack.split(`
`),Bt=g.stack.split(`
`),Ut=xt.length-1,$=Bt.length-1;1<=Ut&&0<=$&&xt[Ut]!==Bt[$];)$--;for(;1<=Ut&&0<=$;Ut--,$--)if(xt[Ut]!==Bt[$]){if(Ut!==1||$!==1)do if(Ut--,$--,0>$||xt[Ut]!==Bt[$]){var _t=`
`+xt[Ut].replace(" at new "," at ");return a.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",a.displayName)),_t}while(1<=Ut&&0<=$);break}}}finally{Na=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return o=a.displayName||null,o!==null?o:Qa(a.type)||"Memo";case Ha:o=a._payload,a=a._init;try{return Qa(a(o))}catch{}}return null}function Ra(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(a){var o=Ta(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),g=""+a[o];if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var xt=h.get,Bt=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return xt.call(this)},set:function(Ut){g=""+Ut,Bt.call(this,Ut)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(Ut){g=""+Ut},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var h=o.getValue(),g="";return a&&(g=Ta(a)?a.checked?"true":"false":a.value),a=g,a!==h?(o.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,o){var h=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Za(a,o){var h=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;h=Sa(o.value!=null?o.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(a,o){o=o.checked,o!=null&&ta(a,"checked",o,!1)}function bb(a,o){ab(a,o);var h=Sa(o.value),g=o.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?cb(a,o.type,h):o.hasOwnProperty("defaultValue")&&cb(a,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function db(a,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,h||o===a.value||(a.value=o),a.defaultValue=o}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function cb(a,o,h){(o!=="number"||Xa(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var eb=Array.isArray;function fb(a,o,h,g){if(a=a.options,o){o={};for(var xt=0;xt<h.length;xt++)o["$"+h[xt]]=!0;for(h=0;h<a.length;h++)xt=o.hasOwnProperty("$"+a[h].value),a[h].selected!==xt&&(a[h].selected=xt),xt&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Sa(h),o=null,xt=0;xt<a.length;xt++){if(a[xt].value===h){a[xt].selected=!0,g&&(a[xt].defaultSelected=!0);return}o!==null||a[xt].disabled||(o=a[xt])}o!==null&&(o.selected=!0)}}function gb(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(p(92));if(eb(h)){if(1<h.length)throw Error(p(93));h=h[0]}o=h}o==null&&(o=""),h=o}a._wrapperState={initialValue:Sa(h)}}function ib(a,o){var h=Sa(o.value),g=Sa(o.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),o.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function jb(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,g,xt){MSApp.execUnsafeLocalFunction(function(){return a(o,h,g,xt)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function ob(a,o){if(o){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=o;return}}a.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),pb[o]=pb[a]})});function rb(a,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||pb.hasOwnProperty(a)&&pb[a]?(""+o).trim():o+"px"}function sb(a,o){a=a.style;for(var h in o)if(o.hasOwnProperty(h)){var g=h.indexOf("--")===0,xt=rb(h,o[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,xt):a[h]=xt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,o){if(o){if(tb[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p(62))}}function vb(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p(280));var o=a.stateNode;o&&(o=Db(o),yb(a.stateNode,a.type,o))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,o=Ab;if(Ab=zb=null,Bb(a),o)for(a=0;a<o.length;a++)Bb(o[a])}}function Gb(a,o){return a(o)}function Hb(){}var Ib=!1;function Jb(a,o,h){if(Ib)return a(o,h);Ib=!0;try{return Gb(a,o,h)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,o){var h=a.stateNode;if(h===null)return null;var g=Db(h);if(g===null)return null;h=g[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(p(231,o,typeof h));return h}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,o,h,g,xt,Bt,Ut,$,_t){var s=Array.prototype.slice.call(arguments,3);try{o.apply(h,s)}catch(bt){this.onError(bt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,o,h,g,xt,Bt,Ut,$,_t){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,o,h,g,xt,Bt,Ut,$,_t){if(Tb.apply(this,arguments),Ob){if(Ob){var s=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=s)}}function Vb(a){var o=a,h=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(h=o.return),a=o.return;while(a)}return o.tag===3?h:null}function Wb(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188))}function Yb(a){var o=a.alternate;if(!o){if(o=Vb(a),o===null)throw Error(p(188));return o!==a?null:a}for(var h=a,g=o;;){var xt=h.return;if(xt===null)break;var Bt=xt.alternate;if(Bt===null){if(g=xt.return,g!==null){h=g;continue}break}if(xt.child===Bt.child){for(Bt=xt.child;Bt;){if(Bt===h)return Xb(xt),a;if(Bt===g)return Xb(xt),o;Bt=Bt.sibling}throw Error(p(188))}if(h.return!==g.return)h=xt,g=Bt;else{for(var Ut=!1,$=xt.child;$;){if($===h){Ut=!0,h=xt,g=Bt;break}if($===g){Ut=!0,g=xt,h=Bt;break}$=$.sibling}if(!Ut){for($=Bt.child;$;){if($===h){Ut=!0,h=Bt,g=xt;break}if($===g){Ut=!0,g=Bt,h=xt;break}$=$.sibling}if(!Ut)throw Error(p(189))}}if(h.alternate!==g)throw Error(p(190))}if(h.tag!==3)throw Error(p(188));return h.stateNode.current===h?a:o}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=$b(a);if(o!==null)return o;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,o){var h=a.pendingLanes;if(h===0)return 0;var g=0,xt=a.suspendedLanes,Bt=a.pingedLanes,Ut=h&268435455;if(Ut!==0){var $=Ut&~xt;$!==0?g=tc($):(Bt&=Ut,Bt!==0&&(g=tc(Bt)))}else Ut=h&~xt,Ut!==0?g=tc(Ut):Bt!==0&&(g=tc(Bt));if(g===0)return 0;if(o!==0&&o!==g&&!(o&xt)&&(xt=g&-g,Bt=o&-o,xt>=Bt||xt===16&&(Bt&4194240)!==0))return o;if(g&4&&(g|=h&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=g;0<o;)h=31-oc(o),xt=1<<h,g|=a[h],o&=~xt;return g}function vc(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,o){for(var h=a.suspendedLanes,g=a.pingedLanes,xt=a.expirationTimes,Bt=a.pendingLanes;0<Bt;){var Ut=31-oc(Bt),$=1<<Ut,_t=xt[Ut];_t===-1?(!($&h)||$&g)&&(xt[Ut]=vc($,o)):_t<=o&&(a.expiredLanes|=$),Bt&=~$}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var o=[],h=0;31>h;h++)o.push(a);return o}function Ac(a,o,h){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-oc(o),a[o]=h}function Bc(a,o){var h=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var xt=31-oc(h),Bt=1<<xt;o[xt]=0,g[xt]=-1,a[xt]=-1,h&=~Bt}}function Cc(a,o){var h=a.entangledLanes|=o;for(a=a.entanglements;h;){var g=31-oc(h),xt=1<<g;xt&o|a[g]&o&&(a[g]|=o),h&=~xt}}var C=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,o){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(a,o,h,g,xt,Bt){return a===null||a.nativeEvent!==Bt?(a={blockedOn:o,domEventName:h,eventSystemFlags:g,nativeEvent:Bt,targetContainers:[xt]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),a):(a.eventSystemFlags|=g,o=a.targetContainers,xt!==null&&o.indexOf(xt)===-1&&o.push(xt),a)}function Uc(a,o,h,g,xt){switch(o){case"focusin":return Lc=Tc(Lc,a,o,h,g,xt),!0;case"dragenter":return Mc=Tc(Mc,a,o,h,g,xt),!0;case"mouseover":return Nc=Tc(Nc,a,o,h,g,xt),!0;case"pointerover":var Bt=xt.pointerId;return Oc.set(Bt,Tc(Oc.get(Bt)||null,a,o,h,g,xt)),!0;case"gotpointercapture":return Bt=xt.pointerId,Pc.set(Bt,Tc(Pc.get(Bt)||null,a,o,h,g,xt)),!0}return!1}function Vc(a){var o=Wc(a.target);if(o!==null){var h=Vb(o);if(h!==null){if(o=h.tag,o===13){if(o=Wb(h),o!==null){a.blockedOn=o,Ic(a.priority,function(){Gc(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var h=Yc(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);wb=g,h.target.dispatchEvent(g),wb=null}else return o=Cb(h),o!==null&&Fc(o),a.blockedOn=h,!1;o.shift()}return!0}function Zc(a,o,h){Xc(a)&&h.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,o){a.blockedOn===o&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function o(xt){return ad(xt,a)}if(0<Kc.length){ad(Kc[0],a);for(var h=1;h<Kc.length;h++){var g=Kc[h];g.blockedOn===a&&(g.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(o),Pc.forEach(o),h=0;h<Qc.length;h++)g=Qc[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<Qc.length&&(h=Qc[0],h.blockedOn===null);)Vc(h),h.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,o,h,g){var xt=C,Bt=cd.transition;cd.transition=null;try{C=1,fd(a,o,h,g)}finally{C=xt,cd.transition=Bt}}function gd(a,o,h,g){var xt=C,Bt=cd.transition;cd.transition=null;try{C=4,fd(a,o,h,g)}finally{C=xt,cd.transition=Bt}}function fd(a,o,h,g){if(dd){var xt=Yc(a,o,h,g);if(xt===null)hd(a,o,g,id,h),Sc(a,g);else if(Uc(xt,a,o,h,g))g.stopPropagation();else if(Sc(a,g),o&4&&-1<Rc.indexOf(a)){for(;xt!==null;){var Bt=Cb(xt);if(Bt!==null&&Ec(Bt),Bt=Yc(a,o,h,g),Bt===null&&hd(a,o,g,id,h),Bt===xt)break;xt=Bt}xt!==null&&g.stopPropagation()}else hd(a,o,g,null,h)}}var id=null;function Yc(a,o,h,g){if(id=null,a=xb(g),a=Wc(a),a!==null)if(o=Vb(a),o===null)a=null;else if(h=o.tag,h===13){if(a=Wb(o),a!==null)return a;a=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return id=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,o=ld,h=o.length,g,xt="value"in kd?kd.value:kd.textContent,Bt=xt.length;for(a=0;a<h&&o[a]===xt[a];a++);var Ut=h-a;for(g=1;g<=Ut&&o[h-g]===xt[Bt-g];g++);return md=xt.slice(a,1<g?1-g:void 0)}function od(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function o(h,g,xt,Bt,Ut){this._reactName=h,this._targetInst=xt,this.type=g,this.nativeEvent=Bt,this.target=Ut,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(h=a[$],this[$]=h?h(Bt):Bt[$]);return this.isDefaultPrevented=(Bt.defaultPrevented!=null?Bt.defaultPrevented:Bt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Od[a])?!!o[a]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(a){if(a.key){var o=Md[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(a,o){switch(a){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je(a,o){switch(a){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return a=o.data,a===ee&&fe?null:a;default:return null}}function ke(a,o){if(ie)return a==="compositionend"||!ae&&ge(a,o)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!le[a.type]:o==="textarea"}function ne(a,o,h,g){Eb(g),o=oe(o,"onChange"),0<o.length&&(h=new td("onChange","change",null,h,g),a.push({event:h,listeners:o}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var o=ue(a);if(Wa(o))return a}function ve(a,o){if(a==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if(a.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,a,xb(a)),Jb(re,o)}}function Ce(a,o,h){a==="focusin"?(Ae(),pe=o,qe=h,pe.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae()}function De(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee(a,o){if(a==="click")return te(o)}function Fe(a,o){if(a==="input"||a==="change")return te(o)}function Ge(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(a,o){if(He(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var h=Object.keys(a),g=Object.keys(o);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var xt=h[g];if(!ja.call(o,xt)||!He(a[xt],o[xt]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,o){var h=Je(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=o&&g>=o)return{node:h,offset:o-a};a=g}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=Je(h)}}function Le(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Le(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var a=window,o=Xa();o instanceof a.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)a=o.contentWindow;else break;o=Xa(a.document)}return o}function Ne(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function Oe(a){var o=Me(),h=a.focusedElem,g=a.selectionRange;if(o!==h&&h&&h.ownerDocument&&Le(h.ownerDocument.documentElement,h)){if(g!==null&&Ne(h)){if(o=g.start,a=g.end,a===void 0&&(a=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(a,h.value.length);else if(a=(o=h.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var xt=h.textContent.length,Bt=Math.min(g.start,xt);g=g.end===void 0?Bt:Math.min(g.end,xt),!a.extend&&Bt>g&&(xt=g,g=Bt,Bt=xt),xt=Ke(h,Bt);var Ut=Ke(h,g);xt&&Ut&&(a.rangeCount!==1||a.anchorNode!==xt.node||a.anchorOffset!==xt.offset||a.focusNode!==Ut.node||a.focusOffset!==Ut.offset)&&(o=o.createRange(),o.setStart(xt.node,xt.offset),a.removeAllRanges(),Bt>g?(a.addRange(o),a.extend(Ut.node,Ut.offset)):(o.setEnd(Ut.node,Ut.offset),a.addRange(o)))}}for(o=[],a=h;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)a=o[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(a,o,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Te||Qe==null||Qe!==Xa(g)||(g=Qe,"selectionStart"in g&&Ne(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Se&&Ie(Se,g)||(Se=g,g=oe(Re,"onSelect"),0<g.length&&(o=new td("onSelect","select",null,o,h),a.push({event:o,listeners:g}),o.target=Qe)))}function Ve(a,o){var h={};return h[a.toLowerCase()]=o.toLowerCase(),h["Webkit"+a]="webkit"+o,h["Moz"+a]="moz"+o,h}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var o=We[a],h;for(h in o)if(o.hasOwnProperty(h)&&h in Ye)return Xe[a]=o[h];return a}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,o){df.set(a,o),fa(o,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,o,h){var g=a.type||"unknown-event";a.currentTarget=h,Ub(g,o,void 0,a),a.currentTarget=null}function se(a,o){o=(o&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],xt=g.event;g=g.listeners;t:{var Bt=void 0;if(o)for(var Ut=g.length-1;0<=Ut;Ut--){var $=g[Ut],_t=$.instance,s=$.currentTarget;if($=$.listener,_t!==Bt&&xt.isPropagationStopped())break t;nf(xt,$,s),Bt=_t}else for(Ut=0;Ut<g.length;Ut++){if($=g[Ut],_t=$.instance,s=$.currentTarget,$=$.listener,_t!==Bt&&xt.isPropagationStopped())break t;nf(xt,$,s),Bt=_t}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D(a,o){var h=o[of];h===void 0&&(h=o[of]=new Set);var g=a+"__bubble";h.has(g)||(pf(o,a,2,!1),h.add(g))}function qf(a,o,h){var g=0;o&&(g|=4),pf(h,a,g,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(h){h!=="selectionchange"&&(mf.has(h)||qf(h,!1,a),qf(h,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(a,o,h,g){switch(jd(o)){case 1:var xt=ed;break;case 4:xt=gd;break;default:xt=fd}h=xt.bind(null,o,h,a),xt=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(xt=!0),g?xt!==void 0?a.addEventListener(o,h,{capture:!0,passive:xt}):a.addEventListener(o,h,!0):xt!==void 0?a.addEventListener(o,h,{passive:xt}):a.addEventListener(o,h,!1)}function hd(a,o,h,g,xt){var Bt=g;if(!(o&1)&&!(o&2)&&g!==null)t:for(;;){if(g===null)return;var Ut=g.tag;if(Ut===3||Ut===4){var $=g.stateNode.containerInfo;if($===xt||$.nodeType===8&&$.parentNode===xt)break;if(Ut===4)for(Ut=g.return;Ut!==null;){var _t=Ut.tag;if((_t===3||_t===4)&&(_t=Ut.stateNode.containerInfo,_t===xt||_t.nodeType===8&&_t.parentNode===xt))return;Ut=Ut.return}for(;$!==null;){if(Ut=Wc($),Ut===null)return;if(_t=Ut.tag,_t===5||_t===6){g=Bt=Ut;continue t}$=$.parentNode}}g=g.return}Jb(function(){var s=Bt,bt=xb(h),St=[];t:{var e=df.get(a);if(e!==void 0){var i=td,d=a;switch(a){case"keypress":if(od(h)===0)break t;case"keydown":case"keyup":i=Rd;break;case"focusin":d="focus",i=Fd;break;case"focusout":d="blur",i=Fd;break;case"beforeblur":case"afterblur":i=Fd;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=Vd;break;case $e:case af:case bf:i=Hd;break;case cf:i=Xd;break;case"scroll":i=vd;break;case"wheel":i=Zd;break;case"copy":case"cut":case"paste":i=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Td}var ut=(o&4)!==0,dt=!ut&&a==="scroll",et=ut?e!==null?e+"Capture":null:e;ut=[];for(var _=s,c;_!==null;){c=_;var lt=c.stateNode;if(c.tag===5&&lt!==null&&(c=lt,et!==null&&(lt=Kb(_,et),lt!=null&&ut.push(tf(_,lt,c)))),dt)break;_=_.return}0<ut.length&&(e=new i(e,d,null,h,bt),St.push({event:e,listeners:ut}))}}if(!(o&7)){t:{if(e=a==="mouseover"||a==="pointerover",i=a==="mouseout"||a==="pointerout",e&&h!==wb&&(d=h.relatedTarget||h.fromElement)&&(Wc(d)||d[uf]))break t;if((i||e)&&(e=bt.window===bt?bt:(e=bt.ownerDocument)?e.defaultView||e.parentWindow:window,i?(d=h.relatedTarget||h.toElement,i=s,d=d?Wc(d):null,d!==null&&(dt=Vb(d),d!==dt||d.tag!==5&&d.tag!==6)&&(d=null)):(i=null,d=s),i!==d)){if(ut=Bd,lt="onMouseLeave",et="onMouseEnter",_="mouse",(a==="pointerout"||a==="pointerover")&&(ut=Td,lt="onPointerLeave",et="onPointerEnter",_="pointer"),dt=i==null?e:ue(i),c=d==null?e:ue(d),e=new ut(lt,_+"leave",i,h,bt),e.target=dt,e.relatedTarget=c,lt=null,Wc(bt)===s&&(ut=new ut(et,_+"enter",d,h,bt),ut.target=c,ut.relatedTarget=dt,lt=ut),dt=lt,i&&d)e:{for(ut=i,et=d,_=0,c=ut;c;c=vf(c))_++;for(c=0,lt=et;lt;lt=vf(lt))c++;for(;0<_-c;)ut=vf(ut),_--;for(;0<c-_;)et=vf(et),c--;for(;_--;){if(ut===et||et!==null&&ut===et.alternate)break e;ut=vf(ut),et=vf(et)}ut=null}else ut=null;i!==null&&wf(St,e,i,ut,!1),d!==null&&dt!==null&&wf(St,dt,d,ut,!0)}}t:{if(e=s?ue(s):window,i=e.nodeName&&e.nodeName.toLowerCase(),i==="select"||i==="input"&&e.type==="file")var at=ve;else if(me(e))if(we)at=Fe;else{at=De;var ct=Ce}else(i=e.nodeName)&&i.toLowerCase()==="input"&&(e.type==="checkbox"||e.type==="radio")&&(at=Ee);if(at&&(at=at(a,s))){ne(St,at,h,bt);break t}ct&&ct(a,e,s),a==="focusout"&&(ct=e._wrapperState)&&ct.controlled&&e.type==="number"&&cb(e,"number",e.value)}switch(ct=s?ue(s):window,a){case"focusin":(me(ct)||ct.contentEditable==="true")&&(Qe=ct,Re=s,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(St,h,bt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(St,h,bt)}var it;if(ae)t:{switch(a){case"compositionstart":var tt="onCompositionStart";break t;case"compositionend":tt="onCompositionEnd";break t;case"compositionupdate":tt="onCompositionUpdate";break t}tt=void 0}else ie?ge(a,h)&&(tt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(tt="onCompositionStart");tt&&(de&&h.locale!=="ko"&&(ie||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&ie&&(it=nd()):(kd=bt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ct=oe(s,tt),0<ct.length&&(tt=new Ld(tt,a,null,h,bt),St.push({event:tt,listeners:ct}),it?tt.data=it:(it=he(h),it!==null&&(tt.data=it)))),(it=ce?je(a,h):ke(a,h))&&(s=oe(s,"onBeforeInput"),0<s.length&&(bt=new Ld("onBeforeInput","beforeinput",null,h,bt),St.push({event:bt,listeners:s}),bt.data=it))}se(St,o)})}function tf(a,o,h){return{instance:a,listener:o,currentTarget:h}}function oe(a,o){for(var h=o+"Capture",g=[];a!==null;){var xt=a,Bt=xt.stateNode;xt.tag===5&&Bt!==null&&(xt=Bt,Bt=Kb(a,h),Bt!=null&&g.unshift(tf(a,Bt,xt)),Bt=Kb(a,o),Bt!=null&&g.push(tf(a,Bt,xt))),a=a.return}return g}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,o,h,g,xt){for(var Bt=o._reactName,Ut=[];h!==null&&h!==g;){var $=h,_t=$.alternate,s=$.stateNode;if(_t!==null&&_t===g)break;$.tag===5&&s!==null&&($=s,xt?(_t=Kb(h,Bt),_t!=null&&Ut.unshift(tf(h,_t,$))):xt||(_t=Kb(h,Bt),_t!=null&&Ut.push(tf(h,_t,$)))),h=h.return}Ut.length!==0&&a.push({event:o,listeners:Ut})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,o,h){if(o=zf(o),zf(a)!==o&&h)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,o){var h=o,g=0;do{var xt=h.nextSibling;if(a.removeChild(h),xt&&xt.nodeType===8)if(h=xt.data,h==="/$"){if(g===0){a.removeChild(xt),bd(o);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=xt}while(h);bd(o)}function Lf(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return a;o--}else h==="/$"&&o++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var o=a[Of];if(o)return o;for(var h=a.parentNode;h;){if(o=h[uf]||h[Of]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(a=Mf(a);a!==null;){if(h=a[Of])return h;a=Mf(a)}return o}a=h,h=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,o){Tf++,Sf[Tf]=a.current,a.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,o){var h=a.type.contextTypes;if(!h)return Vf;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var xt={},Bt;for(Bt in h)xt[Bt]=o[Bt];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=xt),xt}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H)}function ag(a,o,h){if(H.current!==Vf)throw Error(p(168));G(H,o),G(Wf,h)}function bg(a,o,h){var g=a.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var xt in g)if(!(xt in o))throw Error(p(108,Ra(a)||"Unknown",xt));return A({},h,g)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,a),G(Wf,Wf.current),!0}function dg(a,o,h){var g=a.stateNode;if(!g)throw Error(p(169));h?(a=bg(a,o,Xf),g.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf),G(Wf,h)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,o=C;try{var h=eg;for(C=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}eg=null,fg=!1}catch(xt){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),xt}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,o){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=o}function ug(a,o,h){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var g=rg;a=sg;var xt=32-oc(g)-1;g&=~(1<<xt),h+=1;var Bt=32-oc(o)+xt;if(30<Bt){var Ut=xt-xt%5;Bt=(g&(1<<Ut)-1).toString(32),g>>=Ut,xt-=Ut,rg=1<<32-oc(o)+xt|h<<xt|g,sg=Bt+a}else rg=1<<Bt|h<<xt|g,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(a,o){var h=Bg(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=a,o=a.deletions,o===null?(a.deletions=[h],a.flags|=16):o.push(h)}function Cg(a,o){switch(a.tag){case 5:var h=a.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,xg=a,yg=Lf(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,xg=a,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=Bg(18,null,null,0),h.stateNode=o,h.return=a,a.child=h,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I){var o=yg;if(o){var h=o;if(!Cg(a,o)){if(Dg(a))throw Error(p(418));o=Lf(h.nextSibling);var g=xg;o&&Cg(a,o)?Ag(g,h):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2,I=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Ef(a.type,a.memoizedProps)),o&&(o=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;o;)Ag(a,o),o=Lf(o.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p(317));t:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(o===0){yg=Lf(a.nextSibling);break t}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,o,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(p(309));var g=h.stateNode}if(!g)throw Error(p(147,a));var xt=g,Bt=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===Bt?o.ref:(o=function(Ut){var $=xt.refs;Ut===null?delete $[Bt]:$[Bt]=Ut},o._stringRef=Bt,o)}if(typeof a!="string")throw Error(p(284));if(!h._owner)throw Error(p(290,a))}return a}function Mg(a,o){throw a=Object.prototype.toString.call(o),Error(p(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function Ng(a){var o=a._init;return o(a._payload)}function Og(a){function o(et,_){if(a){var c=et.deletions;c===null?(et.deletions=[_],et.flags|=16):c.push(_)}}function h(et,_){if(!a)return null;for(;_!==null;)o(et,_),_=_.sibling;return null}function g(et,_){for(et=new Map;_!==null;)_.key!==null?et.set(_.key,_):et.set(_.index,_),_=_.sibling;return et}function xt(et,_){return et=Pg(et,_),et.index=0,et.sibling=null,et}function Bt(et,_,c){return et.index=c,a?(c=et.alternate,c!==null?(c=c.index,c<_?(et.flags|=2,_):c):(et.flags|=2,_)):(et.flags|=1048576,_)}function Ut(et){return a&&et.alternate===null&&(et.flags|=2),et}function $(et,_,c,lt){return _===null||_.tag!==6?(_=Qg(c,et.mode,lt),_.return=et,_):(_=xt(_,c),_.return=et,_)}function _t(et,_,c,lt){var at=c.type;return at===ya?bt(et,_,c.props.children,lt,c.key):_!==null&&(_.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===Ha&&Ng(at)===_.type)?(lt=xt(_,c.props),lt.ref=Lg(et,_,c),lt.return=et,lt):(lt=Rg(c.type,c.key,c.props,null,et.mode,lt),lt.ref=Lg(et,_,c),lt.return=et,lt)}function s(et,_,c,lt){return _===null||_.tag!==4||_.stateNode.containerInfo!==c.containerInfo||_.stateNode.implementation!==c.implementation?(_=Sg(c,et.mode,lt),_.return=et,_):(_=xt(_,c.children||[]),_.return=et,_)}function bt(et,_,c,lt,at){return _===null||_.tag!==7?(_=Tg(c,et.mode,lt,at),_.return=et,_):(_=xt(_,c),_.return=et,_)}function St(et,_,c){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Qg(""+_,et.mode,c),_.return=et,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case va:return c=Rg(_.type,_.key,_.props,null,et.mode,c),c.ref=Lg(et,null,_),c.return=et,c;case wa:return _=Sg(_,et.mode,c),_.return=et,_;case Ha:var lt=_._init;return St(et,lt(_._payload),c)}if(eb(_)||Ka(_))return _=Tg(_,et.mode,c,null),_.return=et,_;Mg(et,_)}return null}function e(et,_,c,lt){var at=_!==null?_.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return at!==null?null:$(et,_,""+c,lt);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case va:return c.key===at?_t(et,_,c,lt):null;case wa:return c.key===at?s(et,_,c,lt):null;case Ha:return at=c._init,e(et,_,at(c._payload),lt)}if(eb(c)||Ka(c))return at!==null?null:bt(et,_,c,lt,null);Mg(et,c)}return null}function i(et,_,c,lt,at){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return et=et.get(c)||null,$(_,et,""+lt,at);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return et=et.get(lt.key===null?c:lt.key)||null,_t(_,et,lt,at);case wa:return et=et.get(lt.key===null?c:lt.key)||null,s(_,et,lt,at);case Ha:var ct=lt._init;return i(et,_,c,ct(lt._payload),at)}if(eb(lt)||Ka(lt))return et=et.get(c)||null,bt(_,et,lt,at,null);Mg(_,lt)}return null}function d(et,_,c,lt){for(var at=null,ct=null,it=_,tt=_=0,ot=null;it!==null&&tt<c.length;tt++){it.index>tt?(ot=it,it=null):ot=it.sibling;var mt=e(et,it,c[tt],lt);if(mt===null){it===null&&(it=ot);break}a&&it&&mt.alternate===null&&o(et,it),_=Bt(mt,_,tt),ct===null?at=mt:ct.sibling=mt,ct=mt,it=ot}if(tt===c.length)return h(et,it),I&&tg(et,tt),at;if(it===null){for(;tt<c.length;tt++)it=St(et,c[tt],lt),it!==null&&(_=Bt(it,_,tt),ct===null?at=it:ct.sibling=it,ct=it);return I&&tg(et,tt),at}for(it=g(et,it);tt<c.length;tt++)ot=i(it,et,tt,c[tt],lt),ot!==null&&(a&&ot.alternate!==null&&it.delete(ot.key===null?tt:ot.key),_=Bt(ot,_,tt),ct===null?at=ot:ct.sibling=ot,ct=ot);return a&&it.forEach(function(Ct){return o(et,Ct)}),I&&tg(et,tt),at}function ut(et,_,c,lt){var at=Ka(c);if(typeof at!="function")throw Error(p(150));if(c=at.call(c),c==null)throw Error(p(151));for(var ct=at=null,it=_,tt=_=0,ot=null,mt=c.next();it!==null&&!mt.done;tt++,mt=c.next()){it.index>tt?(ot=it,it=null):ot=it.sibling;var Ct=e(et,it,mt.value,lt);if(Ct===null){it===null&&(it=ot);break}a&&it&&Ct.alternate===null&&o(et,it),_=Bt(Ct,_,tt),ct===null?at=Ct:ct.sibling=Ct,ct=Ct,it=ot}if(mt.done)return h(et,it),I&&tg(et,tt),at;if(it===null){for(;!mt.done;tt++,mt=c.next())mt=St(et,mt.value,lt),mt!==null&&(_=Bt(mt,_,tt),ct===null?at=mt:ct.sibling=mt,ct=mt);return I&&tg(et,tt),at}for(it=g(et,it);!mt.done;tt++,mt=c.next())mt=i(it,et,tt,mt.value,lt),mt!==null&&(a&&mt.alternate!==null&&it.delete(mt.key===null?tt:mt.key),_=Bt(mt,_,tt),ct===null?at=mt:ct.sibling=mt,ct=mt);return a&&it.forEach(function(Nt){return o(et,Nt)}),I&&tg(et,tt),at}function dt(et,_,c,lt){if(typeof c=="object"&&c!==null&&c.type===ya&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case va:t:{for(var at=c.key,ct=_;ct!==null;){if(ct.key===at){if(at=c.type,at===ya){if(ct.tag===7){h(et,ct.sibling),_=xt(ct,c.props.children),_.return=et,et=_;break t}}else if(ct.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===Ha&&Ng(at)===ct.type){h(et,ct.sibling),_=xt(ct,c.props),_.ref=Lg(et,ct,c),_.return=et,et=_;break t}h(et,ct);break}else o(et,ct);ct=ct.sibling}c.type===ya?(_=Tg(c.props.children,et.mode,lt,c.key),_.return=et,et=_):(lt=Rg(c.type,c.key,c.props,null,et.mode,lt),lt.ref=Lg(et,_,c),lt.return=et,et=lt)}return Ut(et);case wa:t:{for(ct=c.key;_!==null;){if(_.key===ct)if(_.tag===4&&_.stateNode.containerInfo===c.containerInfo&&_.stateNode.implementation===c.implementation){h(et,_.sibling),_=xt(_,c.children||[]),_.return=et,et=_;break t}else{h(et,_);break}else o(et,_);_=_.sibling}_=Sg(c,et.mode,lt),_.return=et,et=_}return Ut(et);case Ha:return ct=c._init,dt(et,_,ct(c._payload),lt)}if(eb(c))return d(et,_,c,lt);if(Ka(c))return ut(et,_,c,lt);Mg(et,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,_!==null&&_.tag===6?(h(et,_.sibling),_=xt(_,c),_.return=et,et=_):(h(et,_),_=Qg(c,et.mode,lt),_.return=et,et=_),Ut(et)):h(et,_)}return dt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var o=Wg.current;E(Wg),a._currentValue=o}function bh(a,o,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),a===h)break;a=a.return}}function ch(a,o){Xg=a,Zg=Yg=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(dh=!0),a.firstContext=null)}function eh(a){var o=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:o,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=a,Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return o}var fh=null;function gh(a){fh===null?fh=[a]:fh.push(a)}function hh(a,o,h,g){var xt=o.interleaved;return xt===null?(h.next=h,gh(o)):(h.next=xt.next,xt.next=h),o.interleaved=h,ih(a,g)}function ih(a,o){a.lanes|=o;var h=a.alternate;for(h!==null&&(h.lanes|=o),h=a,a=a.return;a!==null;)a.childLanes|=o,h=a.alternate,h!==null&&(h.childLanes|=o),h=a,a=a.return;return h.tag===3?h.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function nh(a,o,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,K&2){var xt=g.pending;return xt===null?o.next=o:(o.next=xt.next,xt.next=o),g.pending=o,ih(a,h)}return xt=g.interleaved,xt===null?(o.next=o,gh(g)):(o.next=xt.next,xt.next=o),g.interleaved=o,ih(a,h)}function oh(a,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var g=o.lanes;g&=a.pendingLanes,h|=g,o.lanes=h,Cc(a,h)}}function ph(a,o){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var xt=null,Bt=null;if(h=h.firstBaseUpdate,h!==null){do{var Ut={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};Bt===null?xt=Bt=Ut:Bt=Bt.next=Ut,h=h.next}while(h!==null);Bt===null?xt=Bt=o:Bt=Bt.next=o}else xt=Bt=o;h={baseState:g.baseState,firstBaseUpdate:xt,lastBaseUpdate:Bt,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=o:a.next=o,h.lastBaseUpdate=o}function qh(a,o,h,g){var xt=a.updateQueue;jh=!1;var Bt=xt.firstBaseUpdate,Ut=xt.lastBaseUpdate,$=xt.shared.pending;if($!==null){xt.shared.pending=null;var _t=$,s=_t.next;_t.next=null,Ut===null?Bt=s:Ut.next=s,Ut=_t;var bt=a.alternate;bt!==null&&(bt=bt.updateQueue,$=bt.lastBaseUpdate,$!==Ut&&($===null?bt.firstBaseUpdate=s:$.next=s,bt.lastBaseUpdate=_t))}if(Bt!==null){var St=xt.baseState;Ut=0,bt=s=_t=null,$=Bt;do{var e=$.lane,i=$.eventTime;if((g&e)===e){bt!==null&&(bt=bt.next={eventTime:i,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});t:{var d=a,ut=$;switch(e=o,i=h,ut.tag){case 1:if(d=ut.payload,typeof d=="function"){St=d.call(i,St,e);break t}St=d;break t;case 3:d.flags=d.flags&-65537|128;case 0:if(d=ut.payload,e=typeof d=="function"?d.call(i,St,e):d,e==null)break t;St=A({},St,e);break t;case 2:jh=!0}}$.callback!==null&&$.lane!==0&&(a.flags|=64,e=xt.effects,e===null?xt.effects=[$]:e.push($))}else i={eventTime:i,lane:e,tag:$.tag,payload:$.payload,callback:$.callback,next:null},bt===null?(s=bt=i,_t=St):bt=bt.next=i,Ut|=e;if($=$.next,$===null){if($=xt.shared.pending,$===null)break;e=$,$=e.next,e.next=null,xt.lastBaseUpdate=e,xt.shared.pending=null}}while(!0);if(bt===null&&(_t=St),xt.baseState=_t,xt.firstBaseUpdate=s,xt.lastBaseUpdate=bt,o=xt.shared.interleaved,o!==null){xt=o;do Ut|=xt.lane,xt=xt.next;while(xt!==o)}else Bt===null&&(xt.shared.lanes=0);rh|=Ut,a.lanes=Ut,a.memoizedState=St}}function sh(a,o,h){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var g=a[o],xt=g.callback;if(xt!==null){if(g.callback=null,g=h,typeof xt!="function")throw Error(p(191,xt));xt.call(g)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}function yh(a,o){switch(G(wh,o),G(vh,a),G(uh,th),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=lb(o,a)}E(uh),G(uh,o)}function zh(){E(uh),E(vh),E(wh)}function Ah(a){xh(wh.current);var o=xh(uh.current),h=lb(o,a.type);o!==h&&(G(vh,a),G(uh,h))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);function Ch(a){for(var o=a;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh=[];function Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(a,o){if(o===null)return!1;for(var h=0;h<o.length&&h<a.length;h++)if(!He(a[h],o[h]))return!1;return!0}function Nh(a,o,h,g,xt,Bt){if(Hh=Bt,M=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fh.current=a===null||a.memoizedState===null?Oh:Ph,a=h(g,xt),Jh){Bt=0;do{if(Jh=!1,Kh=0,25<=Bt)throw Error(p(301));Bt+=1,O=N=null,o.updateQueue=null,Fh.current=Qh,a=h(g,xt)}while(Jh)}if(Fh.current=Rh,o=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,o)throw Error(p(300));return a}function Sh(){var a=Kh!==0;return Kh=0,a}function Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=a:O=O.next=a,O}function Uh(){if(N===null){var a=M.alternate;a=a!==null?a.memoizedState:null}else a=N.next;var o=O===null?M.memoizedState:O.next;if(o!==null)O=o,N=a;else{if(a===null)throw Error(p(310));N=a,a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=a:O=O.next=a}return O}function Vh(a,o){return typeof o=="function"?o(a):o}function Wh(a){var o=Uh(),h=o.queue;if(h===null)throw Error(p(311));h.lastRenderedReducer=a;var g=N,xt=g.baseQueue,Bt=h.pending;if(Bt!==null){if(xt!==null){var Ut=xt.next;xt.next=Bt.next,Bt.next=Ut}g.baseQueue=xt=Bt,h.pending=null}if(xt!==null){Bt=xt.next,g=g.baseState;var $=Ut=null,_t=null,s=Bt;do{var bt=s.lane;if((Hh&bt)===bt)_t!==null&&(_t=_t.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),g=s.hasEagerState?s.eagerState:a(g,s.action);else{var St={lane:bt,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};_t===null?($=_t=St,Ut=g):_t=_t.next=St,M.lanes|=bt,rh|=bt}s=s.next}while(s!==null&&s!==Bt);_t===null?Ut=g:_t.next=$,He(g,o.memoizedState)||(dh=!0),o.memoizedState=g,o.baseState=Ut,o.baseQueue=_t,h.lastRenderedState=g}if(a=h.interleaved,a!==null){xt=a;do Bt=xt.lane,M.lanes|=Bt,rh|=Bt,xt=xt.next;while(xt!==a)}else xt===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function Xh(a){var o=Uh(),h=o.queue;if(h===null)throw Error(p(311));h.lastRenderedReducer=a;var g=h.dispatch,xt=h.pending,Bt=o.memoizedState;if(xt!==null){h.pending=null;var Ut=xt=xt.next;do Bt=a(Bt,Ut.action),Ut=Ut.next;while(Ut!==xt);He(Bt,o.memoizedState)||(dh=!0),o.memoizedState=Bt,o.baseQueue===null&&(o.baseState=Bt),h.lastRenderedState=Bt}return[Bt,g]}function Yh(){}function Zh(a,o){var h=M,g=Uh(),xt=o(),Bt=!He(g.memoizedState,xt);if(Bt&&(g.memoizedState=xt,dh=!0),g=g.queue,$h(ai.bind(null,h,g,a),[a]),g.getSnapshot!==o||Bt||O!==null&&O.memoizedState.tag&1){if(h.flags|=2048,bi(9,ci.bind(null,h,g,xt,o),void 0,null),Q===null)throw Error(p(349));Hh&30||di(h,o,xt)}return xt}function di(a,o,h){a.flags|=16384,a={getSnapshot:o,value:h},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.stores=[a]):(h=o.stores,h===null?o.stores=[a]:h.push(a))}function ci(a,o,h,g){o.value=h,o.getSnapshot=g,ei(o)&&fi(a)}function ai(a,o,h){return h(function(){ei(o)&&fi(a)})}function ei(a){var o=a.getSnapshot;a=a.value;try{var h=o();return!He(a,h)}catch{return!0}}function fi(a){var o=ih(a,1);o!==null&&gi(o,a,1,-1)}function hi(a){var o=Th();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a},o.queue=a,a=a.dispatch=ii.bind(null,M,a),[o.memoizedState,a]}function bi(a,o,h,g){return a={tag:a,create:o,destroy:h,deps:g,next:null},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.lastEffect=a.next=a):(h=o.lastEffect,h===null?o.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,o.lastEffect=a)),a}function ji(){return Uh().memoizedState}function ki(a,o,h,g){var xt=Th();M.flags|=a,xt.memoizedState=bi(1|o,h,void 0,g===void 0?null:g)}function li(a,o,h,g){var xt=Uh();g=g===void 0?null:g;var Bt=void 0;if(N!==null){var Ut=N.memoizedState;if(Bt=Ut.destroy,g!==null&&Mh(g,Ut.deps)){xt.memoizedState=bi(o,h,Bt,g);return}}M.flags|=a,xt.memoizedState=bi(1|o,h,Bt,g)}function mi(a,o){return ki(8390656,8,a,o)}function $h(a,o){return li(2048,8,a,o)}function ni(a,o){return li(4,2,a,o)}function oi(a,o){return li(4,4,a,o)}function pi(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function qi(a,o,h){return h=h!=null?h.concat([a]):null,li(4,4,pi.bind(null,o,a),h)}function ri(){}function si(a,o){var h=Uh();o=o===void 0?null:o;var g=h.memoizedState;return g!==null&&o!==null&&Mh(o,g[1])?g[0]:(h.memoizedState=[a,o],a)}function ti(a,o){var h=Uh();o=o===void 0?null:o;var g=h.memoizedState;return g!==null&&o!==null&&Mh(o,g[1])?g[0]:(a=a(),h.memoizedState=[a,o],a)}function ui(a,o,h){return Hh&21?(He(h,o)||(h=yc(),M.lanes|=h,rh|=h,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=h)}function vi(a,o){var h=C;C=h!==0&&4>h?h:4,a(!0);var g=Gh.transition;Gh.transition={};try{a(!1),o()}finally{C=h,Gh.transition=g}}function wi(){return Uh().memoizedState}function xi(a,o,h){var g=yi(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},zi(a))Ai(o,h);else if(h=hh(a,o,h,g),h!==null){var xt=R();gi(h,a,g,xt),Bi(h,o,g)}}function ii(a,o,h){var g=yi(a),xt={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(o,xt);else{var Bt=a.alternate;if(a.lanes===0&&(Bt===null||Bt.lanes===0)&&(Bt=o.lastRenderedReducer,Bt!==null))try{var Ut=o.lastRenderedState,$=Bt(Ut,h);if(xt.hasEagerState=!0,xt.eagerState=$,He($,Ut)){var _t=o.interleaved;_t===null?(xt.next=xt,gh(o)):(xt.next=_t.next,_t.next=xt),o.interleaved=xt;return}}catch{}finally{}h=hh(a,o,xt,g),h!==null&&(xt=R(),gi(h,a,g,xt),Bi(h,o,g))}}function zi(a){var o=a.alternate;return a===M||o!==null&&o===M}function Ai(a,o){Jh=Ih=!0;var h=a.pending;h===null?o.next=o:(o.next=h.next,h.next=o),a.pending=o}function Bi(a,o,h){if(h&4194240){var g=o.lanes;g&=a.pendingLanes,h|=g,o.lanes=h,Cc(a,h)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,o){return Th().memoizedState=[a,o===void 0?null:o],a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,o,h){return h=h!=null?h.concat([a]):null,ki(4194308,4,pi.bind(null,o,a),h)},useLayoutEffect:function(a,o){return ki(4194308,4,a,o)},useInsertionEffect:function(a,o){return ki(4,2,a,o)},useMemo:function(a,o){var h=Th();return o=o===void 0?null:o,a=a(),h.memoizedState=[a,o],a},useReducer:function(a,o,h){var g=Th();return o=h!==void 0?h(o):o,g.memoizedState=g.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},g.queue=a,a=a.dispatch=xi.bind(null,M,a),[g.memoizedState,a]},useRef:function(a){var o=Th();return a={current:a},o.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),o=a[0];return a=vi.bind(null,a[1]),Th().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,h){var g=M,xt=Th();if(I){if(h===void 0)throw Error(p(407));h=h()}else{if(h=o(),Q===null)throw Error(p(349));Hh&30||di(g,o,h)}xt.memoizedState=h;var Bt={value:h,getSnapshot:o};return xt.queue=Bt,mi(ai.bind(null,g,Bt,a),[a]),g.flags|=2048,bi(9,ci.bind(null,g,Bt,h,o),void 0,null),h},useId:function(){var a=Th(),o=Q.identifierPrefix;if(I){var h=sg,g=rg;h=(g&~(1<<32-oc(g)-1)).toString(32)+h,o=":"+o+"R"+h,h=Kh++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=Lh++,o=":"+o+"r"+h.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var o=Uh();return ui(o,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],o=Uh().memoizedState;return[a,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var o=Uh();return N===null?o.memoizedState=a:ui(o,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],o=Uh().memoizedState;return[a,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,o){if(a&&a.defaultProps){o=A({},o),a=a.defaultProps;for(var h in a)o[h]===void 0&&(o[h]=a[h]);return o}return o}function Di(a,o,h,g){o=a.memoizedState,h=h(g,o),h=h==null?o:A({},o,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,o,h){a=a._reactInternals;var g=R(),xt=yi(a),Bt=mh(g,xt);Bt.payload=o,h!=null&&(Bt.callback=h),o=nh(a,Bt,xt),o!==null&&(gi(o,a,xt,g),oh(o,a,xt))},enqueueReplaceState:function(a,o,h){a=a._reactInternals;var g=R(),xt=yi(a),Bt=mh(g,xt);Bt.tag=1,Bt.payload=o,h!=null&&(Bt.callback=h),o=nh(a,Bt,xt),o!==null&&(gi(o,a,xt,g),oh(o,a,xt))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var h=R(),g=yi(a),xt=mh(h,g);xt.tag=2,o!=null&&(xt.callback=o),o=nh(a,xt,g),o!==null&&(gi(o,a,g,h),oh(o,a,g))}};function Fi(a,o,h,g,xt,Bt,Ut){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,Bt,Ut):o.prototype&&o.prototype.isPureReactComponent?!Ie(h,g)||!Ie(xt,Bt):!0}function Gi(a,o,h){var g=!1,xt=Vf,Bt=o.contextType;return typeof Bt=="object"&&Bt!==null?Bt=eh(Bt):(xt=Zf(o)?Xf:H.current,g=o.contextTypes,Bt=(g=g!=null)?Yf(a,xt):Vf),o=new o(h,Bt),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ei,a.stateNode=o,o._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=xt,a.__reactInternalMemoizedMaskedChildContext=Bt),o}function Hi(a,o,h,g){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,g),o.state!==a&&Ei.enqueueReplaceState(o,o.state,null)}function Ii(a,o,h,g){var xt=a.stateNode;xt.props=h,xt.state=a.memoizedState,xt.refs={},kh(a);var Bt=o.contextType;typeof Bt=="object"&&Bt!==null?xt.context=eh(Bt):(Bt=Zf(o)?Xf:H.current,xt.context=Yf(a,Bt)),xt.state=a.memoizedState,Bt=o.getDerivedStateFromProps,typeof Bt=="function"&&(Di(a,o,Bt,h),xt.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof xt.getSnapshotBeforeUpdate=="function"||typeof xt.UNSAFE_componentWillMount!="function"&&typeof xt.componentWillMount!="function"||(o=xt.state,typeof xt.componentWillMount=="function"&&xt.componentWillMount(),typeof xt.UNSAFE_componentWillMount=="function"&&xt.UNSAFE_componentWillMount(),o!==xt.state&&Ei.enqueueReplaceState(xt,xt.state,null),qh(a,h,xt,g),xt.state=a.memoizedState),typeof xt.componentDidMount=="function"&&(a.flags|=4194308)}function Ji(a,o){try{var h="",g=o;do h+=Pa(g),g=g.return;while(g);var xt=h}catch(Bt){xt=`
Error generating stack: `+Bt.message+`
`+Bt.stack}return{value:a,source:o,stack:xt,digest:null}}function Ki(a,o,h){return{value:a,source:null,stack:h??null,digest:o??null}}function Li(a,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(a,o,h){h=mh(-1,h),h.tag=3,h.payload={element:null};var g=o.value;return h.callback=function(){Oi||(Oi=!0,Pi=g),Li(a,o)},h}function Qi(a,o,h){h=mh(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var xt=o.value;h.payload=function(){return g(xt)},h.callback=function(){Li(a,o)}}var Bt=a.stateNode;return Bt!==null&&typeof Bt.componentDidCatch=="function"&&(h.callback=function(){Li(a,o),typeof g!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Ut=o.stack;this.componentDidCatch(o.value,{componentStack:Ut!==null?Ut:""})}),h}function Si(a,o,h){var g=a.pingCache;if(g===null){g=a.pingCache=new Mi;var xt=new Set;g.set(o,xt)}else xt=g.get(o),xt===void 0&&(xt=new Set,g.set(o,xt));xt.has(h)||(xt.add(h),a=Ti.bind(null,a,o,h),o.then(a,a))}function Ui(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function Vi(a,o,h,g,xt){return a.mode&1?(a.flags|=65536,a.lanes=xt,a):(a===o?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=mh(-1,1),o.tag=2,nh(h,o,1))),h.lanes|=1),a)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,o,h,g){o.child=a===null?Vg(o,null,h,g):Ug(o,a.child,h,g)}function Yi(a,o,h,g,xt){h=h.render;var Bt=o.ref;return ch(o,xt),g=Nh(a,o,h,g,Bt,xt),h=Sh(),a!==null&&!dh?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~xt,Zi(a,o,xt)):(I&&h&&vg(o),o.flags|=1,Xi(a,o,g,xt),o.child)}function $i(a,o,h,g,xt){if(a===null){var Bt=h.type;return typeof Bt=="function"&&!aj(Bt)&&Bt.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=Bt,bj(a,o,Bt,g,xt)):(a=Rg(h.type,null,g,o,o.mode,xt),a.ref=o.ref,a.return=o,o.child=a)}if(Bt=a.child,!(a.lanes&xt)){var Ut=Bt.memoizedProps;if(h=h.compare,h=h!==null?h:Ie,h(Ut,g)&&a.ref===o.ref)return Zi(a,o,xt)}return o.flags|=1,a=Pg(Bt,g),a.ref=o.ref,a.return=o,o.child=a}function bj(a,o,h,g,xt){if(a!==null){var Bt=a.memoizedProps;if(Ie(Bt,g)&&a.ref===o.ref)if(dh=!1,o.pendingProps=g=Bt,(a.lanes&xt)!==0)a.flags&131072&&(dh=!0);else return o.lanes=a.lanes,Zi(a,o,xt)}return cj(a,o,h,g,xt)}function dj(a,o,h){var g=o.pendingProps,xt=g.children,Bt=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=h;else{if(!(h&1073741824))return a=Bt!==null?Bt.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,G(ej,fj),fj|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=Bt!==null?Bt.baseLanes:h,G(ej,fj),fj|=g}else Bt!==null?(g=Bt.baseLanes|h,o.memoizedState=null):g=h,G(ej,fj),fj|=g;return Xi(a,o,xt,h),o.child}function gj(a,o){var h=o.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function cj(a,o,h,g,xt){var Bt=Zf(h)?Xf:H.current;return Bt=Yf(o,Bt),ch(o,xt),h=Nh(a,o,h,g,Bt,xt),g=Sh(),a!==null&&!dh?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~xt,Zi(a,o,xt)):(I&&g&&vg(o),o.flags|=1,Xi(a,o,h,xt),o.child)}function hj(a,o,h,g,xt){if(Zf(h)){var Bt=!0;cg(o)}else Bt=!1;if(ch(o,xt),o.stateNode===null)ij(a,o),Gi(o,h,g),Ii(o,h,g,xt),g=!0;else if(a===null){var Ut=o.stateNode,$=o.memoizedProps;Ut.props=$;var _t=Ut.context,s=h.contextType;typeof s=="object"&&s!==null?s=eh(s):(s=Zf(h)?Xf:H.current,s=Yf(o,s));var bt=h.getDerivedStateFromProps,St=typeof bt=="function"||typeof Ut.getSnapshotBeforeUpdate=="function";St||typeof Ut.UNSAFE_componentWillReceiveProps!="function"&&typeof Ut.componentWillReceiveProps!="function"||($!==g||_t!==s)&&Hi(o,Ut,g,s),jh=!1;var e=o.memoizedState;Ut.state=e,qh(o,g,Ut,xt),_t=o.memoizedState,$!==g||e!==_t||Wf.current||jh?(typeof bt=="function"&&(Di(o,h,bt,g),_t=o.memoizedState),($=jh||Fi(o,h,$,g,e,_t,s))?(St||typeof Ut.UNSAFE_componentWillMount!="function"&&typeof Ut.componentWillMount!="function"||(typeof Ut.componentWillMount=="function"&&Ut.componentWillMount(),typeof Ut.UNSAFE_componentWillMount=="function"&&Ut.UNSAFE_componentWillMount()),typeof Ut.componentDidMount=="function"&&(o.flags|=4194308)):(typeof Ut.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=_t),Ut.props=g,Ut.state=_t,Ut.context=s,g=$):(typeof Ut.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{Ut=o.stateNode,lh(a,o),$=o.memoizedProps,s=o.type===o.elementType?$:Ci(o.type,$),Ut.props=s,St=o.pendingProps,e=Ut.context,_t=h.contextType,typeof _t=="object"&&_t!==null?_t=eh(_t):(_t=Zf(h)?Xf:H.current,_t=Yf(o,_t));var i=h.getDerivedStateFromProps;(bt=typeof i=="function"||typeof Ut.getSnapshotBeforeUpdate=="function")||typeof Ut.UNSAFE_componentWillReceiveProps!="function"&&typeof Ut.componentWillReceiveProps!="function"||($!==St||e!==_t)&&Hi(o,Ut,g,_t),jh=!1,e=o.memoizedState,Ut.state=e,qh(o,g,Ut,xt);var d=o.memoizedState;$!==St||e!==d||Wf.current||jh?(typeof i=="function"&&(Di(o,h,i,g),d=o.memoizedState),(s=jh||Fi(o,h,s,g,e,d,_t)||!1)?(bt||typeof Ut.UNSAFE_componentWillUpdate!="function"&&typeof Ut.componentWillUpdate!="function"||(typeof Ut.componentWillUpdate=="function"&&Ut.componentWillUpdate(g,d,_t),typeof Ut.UNSAFE_componentWillUpdate=="function"&&Ut.UNSAFE_componentWillUpdate(g,d,_t)),typeof Ut.componentDidUpdate=="function"&&(o.flags|=4),typeof Ut.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof Ut.componentDidUpdate!="function"||$===a.memoizedProps&&e===a.memoizedState||(o.flags|=4),typeof Ut.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&e===a.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=d),Ut.props=g,Ut.state=d,Ut.context=_t,g=s):(typeof Ut.componentDidUpdate!="function"||$===a.memoizedProps&&e===a.memoizedState||(o.flags|=4),typeof Ut.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&e===a.memoizedState||(o.flags|=1024),g=!1)}return jj(a,o,h,g,Bt,xt)}function jj(a,o,h,g,xt,Bt){gj(a,o);var Ut=(o.flags&128)!==0;if(!g&&!Ut)return xt&&dg(o,h,!1),Zi(a,o,Bt);g=o.stateNode,Wi.current=o;var $=Ut&&typeof h.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,a!==null&&Ut?(o.child=Ug(o,a.child,null,Bt),o.child=Ug(o,null,$,Bt)):Xi(a,o,$,Bt),o.memoizedState=g.state,xt&&dg(o,h,!0),o.child}function kj(a){var o=a.stateNode;o.pendingContext?ag(a,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(a,o.context,!1),yh(a,o.containerInfo)}function lj(a,o,h,g,xt){return Ig(),Jg(xt),o.flags|=256,Xi(a,o,h,g),o.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}function oj(a,o,h){var g=o.pendingProps,xt=L.current,Bt=!1,Ut=(o.flags&128)!==0,$;if(($=Ut)||($=a!==null&&a.memoizedState===null?!1:(xt&2)!==0),$?(Bt=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(xt|=1),G(L,xt&1),a===null)return Eg(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(Ut=g.children,a=g.fallback,Bt?(g=o.mode,Bt=o.child,Ut={mode:"hidden",children:Ut},!(g&1)&&Bt!==null?(Bt.childLanes=0,Bt.pendingProps=Ut):Bt=pj(Ut,g,0,null),a=Tg(a,g,h,null),Bt.return=o,a.return=o,Bt.sibling=a,o.child=Bt,o.child.memoizedState=nj(h),o.memoizedState=mj,a):qj(o,Ut));if(xt=a.memoizedState,xt!==null&&($=xt.dehydrated,$!==null))return rj(a,o,Ut,g,$,xt,h);if(Bt){Bt=g.fallback,Ut=o.mode,xt=a.child,$=xt.sibling;var _t={mode:"hidden",children:g.children};return!(Ut&1)&&o.child!==xt?(g=o.child,g.childLanes=0,g.pendingProps=_t,o.deletions=null):(g=Pg(xt,_t),g.subtreeFlags=xt.subtreeFlags&14680064),$!==null?Bt=Pg($,Bt):(Bt=Tg(Bt,Ut,h,null),Bt.flags|=2),Bt.return=o,g.return=o,g.sibling=Bt,o.child=g,g=Bt,Bt=o.child,Ut=a.child.memoizedState,Ut=Ut===null?nj(h):{baseLanes:Ut.baseLanes|h,cachePool:null,transitions:Ut.transitions},Bt.memoizedState=Ut,Bt.childLanes=a.childLanes&~h,o.memoizedState=mj,g}return Bt=a.child,a=Bt.sibling,g=Pg(Bt,{mode:"visible",children:g.children}),!(o.mode&1)&&(g.lanes=h),g.return=o,g.sibling=null,a!==null&&(h=o.deletions,h===null?(o.deletions=[a],o.flags|=16):h.push(a)),o.child=g,o.memoizedState=null,g}function qj(a,o){return o=pj({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function sj(a,o,h,g){return g!==null&&Jg(g),Ug(o,a.child,null,h),a=qj(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function rj(a,o,h,g,xt,Bt,Ut){if(h)return o.flags&256?(o.flags&=-257,g=Ki(Error(p(422))),sj(a,o,Ut,g)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(Bt=g.fallback,xt=o.mode,g=pj({mode:"visible",children:g.children},xt,0,null),Bt=Tg(Bt,xt,Ut,null),Bt.flags|=2,g.return=o,Bt.return=o,g.sibling=Bt,o.child=g,o.mode&1&&Ug(o,a.child,null,Ut),o.child.memoizedState=nj(Ut),o.memoizedState=mj,Bt);if(!(o.mode&1))return sj(a,o,Ut,null);if(xt.data==="$!"){if(g=xt.nextSibling&&xt.nextSibling.dataset,g)var $=g.dgst;return g=$,Bt=Error(p(419)),g=Ki(Bt,g,void 0),sj(a,o,Ut,g)}if($=(Ut&a.childLanes)!==0,dh||$){if(g=Q,g!==null){switch(Ut&-Ut){case 4:xt=2;break;case 16:xt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:xt=32;break;case 536870912:xt=268435456;break;default:xt=0}xt=xt&(g.suspendedLanes|Ut)?0:xt,xt!==0&&xt!==Bt.retryLane&&(Bt.retryLane=xt,ih(a,xt),gi(g,a,xt,-1))}return tj(),g=Ki(Error(p(421))),sj(a,o,Ut,g)}return xt.data==="$?"?(o.flags|=128,o.child=a.child,o=uj.bind(null,a),xt._reactRetry=o,null):(a=Bt.treeContext,yg=Lf(xt.nextSibling),xg=o,I=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=o),o=qj(o,g.children),o.flags|=4096,o)}function vj(a,o,h){a.lanes|=o;var g=a.alternate;g!==null&&(g.lanes|=o),bh(a.return,o,h)}function wj(a,o,h,g,xt){var Bt=a.memoizedState;Bt===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:xt}:(Bt.isBackwards=o,Bt.rendering=null,Bt.renderingStartTime=0,Bt.last=g,Bt.tail=h,Bt.tailMode=xt)}function xj(a,o,h){var g=o.pendingProps,xt=g.revealOrder,Bt=g.tail;if(Xi(a,o,g.children,h),g=L.current,g&2)g=g&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vj(a,h,o);else if(a.tag===19)vj(a,h,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(G(L,g),!(o.mode&1))o.memoizedState=null;else switch(xt){case"forwards":for(h=o.child,xt=null;h!==null;)a=h.alternate,a!==null&&Ch(a)===null&&(xt=h),h=h.sibling;h=xt,h===null?(xt=o.child,o.child=null):(xt=h.sibling,h.sibling=null),wj(o,!1,xt,h,Bt);break;case"backwards":for(h=null,xt=o.child,o.child=null;xt!==null;){if(a=xt.alternate,a!==null&&Ch(a)===null){o.child=xt;break}a=xt.sibling,xt.sibling=h,h=xt,xt=a}wj(o,!0,h,null,Bt);break;case"together":wj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ij(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function Zi(a,o,h){if(a!==null&&(o.dependencies=a.dependencies),rh|=o.lanes,!(h&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(p(153));if(o.child!==null){for(a=o.child,h=Pg(a,a.pendingProps),o.child=h,h.return=o;a.sibling!==null;)a=a.sibling,h=h.sibling=Pg(a,a.pendingProps),h.return=o;h.sibling=null}return o.child}function yj(a,o,h){switch(o.tag){case 3:kj(o),Ig();break;case 5:Ah(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:yh(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,xt=o.memoizedProps.value;G(Wg,g._currentValue),g._currentValue=xt;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(G(L,L.current&1),o.flags|=128,null):h&o.child.childLanes?oj(a,o,h):(G(L,L.current&1),a=Zi(a,o,h),a!==null?a.sibling:null);G(L,L.current&1);break;case 19:if(g=(h&o.childLanes)!==0,a.flags&128){if(g)return xj(a,o,h);o.flags|=128}if(xt=o.memoizedState,xt!==null&&(xt.rendering=null,xt.tail=null,xt.lastEffect=null),G(L,L.current),g)break;return null;case 22:case 23:return o.lanes=0,dj(a,o,h)}return Zi(a,o,h)}var zj,Aj,Bj,Cj;zj=function(a,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}};Aj=function(){};Bj=function(a,o,h,g){var xt=a.memoizedProps;if(xt!==g){a=o.stateNode,xh(uh.current);var Bt=null;switch(h){case"input":xt=Ya(a,xt),g=Ya(a,g),Bt=[];break;case"select":xt=A({},xt,{value:void 0}),g=A({},g,{value:void 0}),Bt=[];break;case"textarea":xt=gb(a,xt),g=gb(a,g),Bt=[];break;default:typeof xt.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Bf)}ub(h,g);var Ut;h=null;for(s in xt)if(!g.hasOwnProperty(s)&&xt.hasOwnProperty(s)&&xt[s]!=null)if(s==="style"){var $=xt[s];for(Ut in $)$.hasOwnProperty(Ut)&&(h||(h={}),h[Ut]="")}else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ea.hasOwnProperty(s)?Bt||(Bt=[]):(Bt=Bt||[]).push(s,null));for(s in g){var _t=g[s];if($=xt!=null?xt[s]:void 0,g.hasOwnProperty(s)&&_t!==$&&(_t!=null||$!=null))if(s==="style")if($){for(Ut in $)!$.hasOwnProperty(Ut)||_t&&_t.hasOwnProperty(Ut)||(h||(h={}),h[Ut]="");for(Ut in _t)_t.hasOwnProperty(Ut)&&$[Ut]!==_t[Ut]&&(h||(h={}),h[Ut]=_t[Ut])}else h||(Bt||(Bt=[]),Bt.push(s,h)),h=_t;else s==="dangerouslySetInnerHTML"?(_t=_t?_t.__html:void 0,$=$?$.__html:void 0,_t!=null&&$!==_t&&(Bt=Bt||[]).push(s,_t)):s==="children"?typeof _t!="string"&&typeof _t!="number"||(Bt=Bt||[]).push(s,""+_t):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(ea.hasOwnProperty(s)?(_t!=null&&s==="onScroll"&&D("scroll",a),Bt||$===_t||(Bt=[])):(Bt=Bt||[]).push(s,_t))}h&&(Bt=Bt||[]).push("style",h);var s=Bt;(o.updateQueue=s)&&(o.flags|=4)}};Cj=function(a,o,h,g){h!==g&&(o.flags|=4)};function Dj(a,o){if(!I)switch(a.tailMode){case"hidden":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function S(a){var o=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(o)for(var xt=a.child;xt!==null;)h|=xt.lanes|xt.childLanes,g|=xt.subtreeFlags&14680064,g|=xt.flags&14680064,xt.return=a,xt=xt.sibling;else for(xt=a.child;xt!==null;)h|=xt.lanes|xt.childLanes,g|=xt.subtreeFlags,g|=xt.flags,xt.return=a,xt=xt.sibling;return a.subtreeFlags|=g,a.childLanes=h,o}function Ej(a,o,h){var g=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return g=o.stateNode,zh(),E(Wf),E(H),Eh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Gg(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a,o),S(o),null;case 5:Bh(o);var xt=xh(wh.current);if(h=o.type,a!==null&&o.stateNode!=null)Bj(a,o,h,g,xt),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(p(166));return S(o),null}if(a=xh(uh.current),Gg(o)){g=o.stateNode,h=o.type;var Bt=o.memoizedProps;switch(g[Of]=o,g[Pf]=Bt,a=(o.mode&1)!==0,h){case"dialog":D("cancel",g),D("close",g);break;case"iframe":case"object":case"embed":D("load",g);break;case"video":case"audio":for(xt=0;xt<lf.length;xt++)D(lf[xt],g);break;case"source":D("error",g);break;case"img":case"image":case"link":D("error",g),D("load",g);break;case"details":D("toggle",g);break;case"input":Za(g,Bt),D("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!Bt.multiple},D("invalid",g);break;case"textarea":hb(g,Bt),D("invalid",g)}ub(h,Bt),xt=null;for(var Ut in Bt)if(Bt.hasOwnProperty(Ut)){var $=Bt[Ut];Ut==="children"?typeof $=="string"?g.textContent!==$&&(Bt.suppressHydrationWarning!==!0&&Af(g.textContent,$,a),xt=["children",$]):typeof $=="number"&&g.textContent!==""+$&&(Bt.suppressHydrationWarning!==!0&&Af(g.textContent,$,a),xt=["children",""+$]):ea.hasOwnProperty(Ut)&&$!=null&&Ut==="onScroll"&&D("scroll",g)}switch(h){case"input":Va(g),db(g,Bt,!0);break;case"textarea":Va(g),jb(g);break;case"select":case"option":break;default:typeof Bt.onClick=="function"&&(g.onclick=Bf)}g=xt,o.updateQueue=g,g!==null&&(o.flags|=4)}else{Ut=xt.nodeType===9?xt:xt.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=Ut.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=Ut.createElement(h,{is:g.is}):(a=Ut.createElement(h),h==="select"&&(Ut=a,g.multiple?Ut.multiple=!0:g.size&&(Ut.size=g.size))):a=Ut.createElementNS(a,h),a[Of]=o,a[Pf]=g,zj(a,o,!1,!1),o.stateNode=a;t:{switch(Ut=vb(h,g),h){case"dialog":D("cancel",a),D("close",a),xt=g;break;case"iframe":case"object":case"embed":D("load",a),xt=g;break;case"video":case"audio":for(xt=0;xt<lf.length;xt++)D(lf[xt],a);xt=g;break;case"source":D("error",a),xt=g;break;case"img":case"image":case"link":D("error",a),D("load",a),xt=g;break;case"details":D("toggle",a),xt=g;break;case"input":Za(a,g),xt=Ya(a,g),D("invalid",a);break;case"option":xt=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},xt=A({},g,{value:void 0}),D("invalid",a);break;case"textarea":hb(a,g),xt=gb(a,g),D("invalid",a);break;default:xt=g}ub(h,xt),$=xt;for(Bt in $)if($.hasOwnProperty(Bt)){var _t=$[Bt];Bt==="style"?sb(a,_t):Bt==="dangerouslySetInnerHTML"?(_t=_t?_t.__html:void 0,_t!=null&&nb(a,_t)):Bt==="children"?typeof _t=="string"?(h!=="textarea"||_t!=="")&&ob(a,_t):typeof _t=="number"&&ob(a,""+_t):Bt!=="suppressContentEditableWarning"&&Bt!=="suppressHydrationWarning"&&Bt!=="autoFocus"&&(ea.hasOwnProperty(Bt)?_t!=null&&Bt==="onScroll"&&D("scroll",a):_t!=null&&ta(a,Bt,_t,Ut))}switch(h){case"input":Va(a),db(a,g,!1);break;case"textarea":Va(a),jb(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Sa(g.value));break;case"select":a.multiple=!!g.multiple,Bt=g.value,Bt!=null?fb(a,!!g.multiple,Bt,!1):g.defaultValue!=null&&fb(a,!!g.multiple,g.defaultValue,!0);break;default:typeof xt.onClick=="function"&&(a.onclick=Bf)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(a&&o.stateNode!=null)Cj(a,o,a.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(p(166));if(h=xh(wh.current),xh(uh.current),Gg(o)){if(g=o.stateNode,h=o.memoizedProps,g[Of]=o,(Bt=g.nodeValue!==h)&&(a=xg,a!==null))switch(a.tag){case 3:Af(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(g.nodeValue,h,(a.mode&1)!==0)}Bt&&(o.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Of]=o,o.stateNode=g}return S(o),null;case 13:if(E(L),g=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,Bt=!1;else if(Bt=Gg(o),g!==null&&g.dehydrated!==null){if(a===null){if(!Bt)throw Error(p(318));if(Bt=o.memoizedState,Bt=Bt!==null?Bt.dehydrated:null,!Bt)throw Error(p(317));Bt[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),Bt=!1}else zg!==null&&(Fj(zg),zg=null),Bt=!0;if(!Bt)return o.flags&65536?o:null}return o.flags&128?(o.lanes=h,o):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(o.child.flags|=8192,o.mode&1&&(a===null||L.current&1?T===0&&(T=3):tj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return zh(),Aj(a,o),a===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return ah(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(L),Bt=o.memoizedState,Bt===null)return S(o),null;if(g=(o.flags&128)!==0,Ut=Bt.rendering,Ut===null)if(g)Dj(Bt,!1);else{if(T!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(Ut=Ch(a),Ut!==null){for(o.flags|=128,Dj(Bt,!1),g=Ut.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=h,h=o.child;h!==null;)Bt=h,a=g,Bt.flags&=14680066,Ut=Bt.alternate,Ut===null?(Bt.childLanes=0,Bt.lanes=a,Bt.child=null,Bt.subtreeFlags=0,Bt.memoizedProps=null,Bt.memoizedState=null,Bt.updateQueue=null,Bt.dependencies=null,Bt.stateNode=null):(Bt.childLanes=Ut.childLanes,Bt.lanes=Ut.lanes,Bt.child=Ut.child,Bt.subtreeFlags=0,Bt.deletions=null,Bt.memoizedProps=Ut.memoizedProps,Bt.memoizedState=Ut.memoizedState,Bt.updateQueue=Ut.updateQueue,Bt.type=Ut.type,a=Ut.dependencies,Bt.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return G(L,L.current&1|2),o.child}a=a.sibling}Bt.tail!==null&&B()>Gj&&(o.flags|=128,g=!0,Dj(Bt,!1),o.lanes=4194304)}else{if(!g)if(a=Ch(Ut),a!==null){if(o.flags|=128,g=!0,h=a.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),Dj(Bt,!0),Bt.tail===null&&Bt.tailMode==="hidden"&&!Ut.alternate&&!I)return S(o),null}else 2*B()-Bt.renderingStartTime>Gj&&h!==1073741824&&(o.flags|=128,g=!0,Dj(Bt,!1),o.lanes=4194304);Bt.isBackwards?(Ut.sibling=o.child,o.child=Ut):(h=Bt.last,h!==null?h.sibling=Ut:o.child=Ut,Bt.last=Ut)}return Bt.tail!==null?(o=Bt.tail,Bt.rendering=o,Bt.tail=o.sibling,Bt.renderingStartTime=B(),o.sibling=null,h=L.current,G(L,g?h&1|2:h&1),o):(S(o),null);case 22:case 23:return Hj(),g=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(o.flags|=8192),g&&o.mode&1?fj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p(156,o.tag))}function Ij(a,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return zh(),E(Wf),E(H),Eh(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return Bh(o),null;case 13:if(E(L),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(p(340));Ig()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(o.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(a,o){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){W(a,o,g)}else h.current=null}function Mj(a,o,h){try{h()}catch(g){W(a,o,g)}}var Nj=!1;function Oj(a,o){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var xt=g.anchorOffset,Bt=g.focusNode;g=g.focusOffset;try{h.nodeType,Bt.nodeType}catch{h=null;break t}var Ut=0,$=-1,_t=-1,s=0,bt=0,St=a,e=null;e:for(;;){for(var i;St!==h||xt!==0&&St.nodeType!==3||($=Ut+xt),St!==Bt||g!==0&&St.nodeType!==3||(_t=Ut+g),St.nodeType===3&&(Ut+=St.nodeValue.length),(i=St.firstChild)!==null;)e=St,St=i;for(;;){if(St===a)break e;if(e===h&&++s===xt&&($=Ut),e===Bt&&++bt===g&&(_t=Ut),(i=St.nextSibling)!==null)break;St=e,e=St.parentNode}St=i}h=$===-1||_t===-1?null:{start:$,end:_t}}else h=null}h=h||{start:0,end:0}}else h=null;for(Df={focusedElem:a,selectionRange:h},dd=!1,V=o;V!==null;)if(o=V,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,V=a;else for(;V!==null;){o=V;try{var d=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var ut=d.memoizedProps,dt=d.memoizedState,et=o.stateNode,_=et.getSnapshotBeforeUpdate(o.elementType===o.type?ut:Ci(o.type,ut),dt);et.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var c=o.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(lt){W(o,o.return,lt)}if(a=o.sibling,a!==null){a.return=o.return,V=a;break}V=o.return}return d=Nj,Nj=!1,d}function Pj(a,o,h){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var xt=g=g.next;do{if((xt.tag&a)===a){var Bt=xt.destroy;xt.destroy=void 0,Bt!==void 0&&Mj(o,h,Bt)}xt=xt.next}while(xt!==g)}}function Qj(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==o)}}function Rj(a){var o=a.ref;if(o!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof o=="function"?o(a):o.current=a}}function Sj(a){var o=a.alternate;o!==null&&(a.alternate=null,Sj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Tj(a){return a.tag===5||a.tag===3||a.tag===4}function Uj(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||Tj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vj(a,o,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(a,o):h.insertBefore(a,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(a,h)):(o=h,o.appendChild(a)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Bf));else if(g!==4&&(a=a.child,a!==null))for(Vj(a,o,h),a=a.sibling;a!==null;)Vj(a,o,h),a=a.sibling}function Wj(a,o,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?h.insertBefore(a,o):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Wj(a,o,h),a=a.sibling;a!==null;)Wj(a,o,h),a=a.sibling}var X=null,Xj=!1;function Yj(a,o,h){for(h=h.child;h!==null;)Zj(a,o,h),h=h.sibling}function Zj(a,o,h){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,h)}catch{}switch(h.tag){case 5:U||Lj(h,o);case 6:var g=X,xt=Xj;X=null,Yj(a,o,h),X=g,Xj=xt,X!==null&&(Xj?(a=X,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):X.removeChild(h.stateNode));break;case 18:X!==null&&(Xj?(a=X,h=h.stateNode,a.nodeType===8?Kf(a.parentNode,h):a.nodeType===1&&Kf(a,h),bd(a)):Kf(X,h.stateNode));break;case 4:g=X,xt=Xj,X=h.stateNode.containerInfo,Xj=!0,Yj(a,o,h),X=g,Xj=xt;break;case 0:case 11:case 14:case 15:if(!U&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){xt=g=g.next;do{var Bt=xt,Ut=Bt.destroy;Bt=Bt.tag,Ut!==void 0&&(Bt&2||Bt&4)&&Mj(h,o,Ut),xt=xt.next}while(xt!==g)}Yj(a,o,h);break;case 1:if(!U&&(Lj(h,o),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch($){W(h,o,$)}Yj(a,o,h);break;case 21:Yj(a,o,h);break;case 22:h.mode&1?(U=(g=U)||h.memoizedState!==null,Yj(a,o,h),U=g):Yj(a,o,h);break;default:Yj(a,o,h)}}function ak(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new Kj),o.forEach(function(g){var xt=bk.bind(null,a,g);h.has(g)||(h.add(g),g.then(xt,xt))})}}function ck(a,o){var h=o.deletions;if(h!==null)for(var g=0;g<h.length;g++){var xt=h[g];try{var Bt=a,Ut=o,$=Ut;t:for(;$!==null;){switch($.tag){case 5:X=$.stateNode,Xj=!1;break t;case 3:X=$.stateNode.containerInfo,Xj=!0;break t;case 4:X=$.stateNode.containerInfo,Xj=!0;break t}$=$.return}if(X===null)throw Error(p(160));Zj(Bt,Ut,xt),X=null,Xj=!1;var _t=xt.alternate;_t!==null&&(_t.return=null),xt.return=null}catch(s){W(xt,o,s)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)dk(o,a),o=o.sibling}function dk(a,o){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ck(o,a),ek(a),g&4){try{Pj(3,a,a.return),Qj(3,a)}catch(ut){W(a,a.return,ut)}try{Pj(5,a,a.return)}catch(ut){W(a,a.return,ut)}}break;case 1:ck(o,a),ek(a),g&512&&h!==null&&Lj(h,h.return);break;case 5:if(ck(o,a),ek(a),g&512&&h!==null&&Lj(h,h.return),a.flags&32){var xt=a.stateNode;try{ob(xt,"")}catch(ut){W(a,a.return,ut)}}if(g&4&&(xt=a.stateNode,xt!=null)){var Bt=a.memoizedProps,Ut=h!==null?h.memoizedProps:Bt,$=a.type,_t=a.updateQueue;if(a.updateQueue=null,_t!==null)try{$==="input"&&Bt.type==="radio"&&Bt.name!=null&&ab(xt,Bt),vb($,Ut);var s=vb($,Bt);for(Ut=0;Ut<_t.length;Ut+=2){var bt=_t[Ut],St=_t[Ut+1];bt==="style"?sb(xt,St):bt==="dangerouslySetInnerHTML"?nb(xt,St):bt==="children"?ob(xt,St):ta(xt,bt,St,s)}switch($){case"input":bb(xt,Bt);break;case"textarea":ib(xt,Bt);break;case"select":var e=xt._wrapperState.wasMultiple;xt._wrapperState.wasMultiple=!!Bt.multiple;var i=Bt.value;i!=null?fb(xt,!!Bt.multiple,i,!1):e!==!!Bt.multiple&&(Bt.defaultValue!=null?fb(xt,!!Bt.multiple,Bt.defaultValue,!0):fb(xt,!!Bt.multiple,Bt.multiple?[]:"",!1))}xt[Pf]=Bt}catch(ut){W(a,a.return,ut)}}break;case 6:if(ck(o,a),ek(a),g&4){if(a.stateNode===null)throw Error(p(162));xt=a.stateNode,Bt=a.memoizedProps;try{xt.nodeValue=Bt}catch(ut){W(a,a.return,ut)}}break;case 3:if(ck(o,a),ek(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(ut){W(a,a.return,ut)}break;case 4:ck(o,a),ek(a);break;case 13:ck(o,a),ek(a),xt=a.child,xt.flags&8192&&(Bt=xt.memoizedState!==null,xt.stateNode.isHidden=Bt,!Bt||xt.alternate!==null&&xt.alternate.memoizedState!==null||(fk=B())),g&4&&ak(a);break;case 22:if(bt=h!==null&&h.memoizedState!==null,a.mode&1?(U=(s=U)||bt,ck(o,a),U=s):ck(o,a),ek(a),g&8192){if(s=a.memoizedState!==null,(a.stateNode.isHidden=s)&&!bt&&a.mode&1)for(V=a,bt=a.child;bt!==null;){for(St=V=bt;V!==null;){switch(e=V,i=e.child,e.tag){case 0:case 11:case 14:case 15:Pj(4,e,e.return);break;case 1:Lj(e,e.return);var d=e.stateNode;if(typeof d.componentWillUnmount=="function"){g=e,h=e.return;try{o=g,d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(ut){W(g,h,ut)}}break;case 5:Lj(e,e.return);break;case 22:if(e.memoizedState!==null){gk(St);continue}}i!==null?(i.return=e,V=i):gk(St)}bt=bt.sibling}t:for(bt=null,St=a;;){if(St.tag===5){if(bt===null){bt=St;try{xt=St.stateNode,s?(Bt=xt.style,typeof Bt.setProperty=="function"?Bt.setProperty("display","none","important"):Bt.display="none"):($=St.stateNode,_t=St.memoizedProps.style,Ut=_t!=null&&_t.hasOwnProperty("display")?_t.display:null,$.style.display=rb("display",Ut))}catch(ut){W(a,a.return,ut)}}}else if(St.tag===6){if(bt===null)try{St.stateNode.nodeValue=s?"":St.memoizedProps}catch(ut){W(a,a.return,ut)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===a)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===a)break t;for(;St.sibling===null;){if(St.return===null||St.return===a)break t;bt===St&&(bt=null),St=St.return}bt===St&&(bt=null),St.sibling.return=St.return,St=St.sibling}}break;case 19:ck(o,a),ek(a),g&4&&ak(a);break;case 21:break;default:ck(o,a),ek(a)}}function ek(a){var o=a.flags;if(o&2){try{t:{for(var h=a.return;h!==null;){if(Tj(h)){var g=h;break t}h=h.return}throw Error(p(160))}switch(g.tag){case 5:var xt=g.stateNode;g.flags&32&&(ob(xt,""),g.flags&=-33);var Bt=Uj(a);Wj(a,Bt,xt);break;case 3:case 4:var Ut=g.stateNode.containerInfo,$=Uj(a);Vj(a,$,Ut);break;default:throw Error(p(161))}}catch(_t){W(a,a.return,_t)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function hk(a,o,h){V=a,ik(a)}function ik(a,o,h){for(var g=(a.mode&1)!==0;V!==null;){var xt=V,Bt=xt.child;if(xt.tag===22&&g){var Ut=xt.memoizedState!==null||Jj;if(!Ut){var $=xt.alternate,_t=$!==null&&$.memoizedState!==null||U;$=Jj;var s=U;if(Jj=Ut,(U=_t)&&!s)for(V=xt;V!==null;)Ut=V,_t=Ut.child,Ut.tag===22&&Ut.memoizedState!==null?jk(xt):_t!==null?(_t.return=Ut,V=_t):jk(xt);for(;Bt!==null;)V=Bt,ik(Bt),Bt=Bt.sibling;V=xt,Jj=$,U=s}kk(a)}else xt.subtreeFlags&8772&&Bt!==null?(Bt.return=xt,V=Bt):kk(a)}}function kk(a){for(;V!==null;){var o=V;if(o.flags&8772){var h=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Qj(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!U)if(h===null)g.componentDidMount();else{var xt=o.elementType===o.type?h.memoizedProps:Ci(o.type,h.memoizedProps);g.componentDidUpdate(xt,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var Bt=o.updateQueue;Bt!==null&&sh(o,Bt,g);break;case 3:var Ut=o.updateQueue;if(Ut!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}sh(o,Ut,h)}break;case 5:var $=o.stateNode;if(h===null&&o.flags&4){h=$;var _t=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":_t.autoFocus&&h.focus();break;case"img":_t.src&&(h.src=_t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var s=o.alternate;if(s!==null){var bt=s.memoizedState;if(bt!==null){var St=bt.dehydrated;St!==null&&bd(St)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||o.flags&512&&Rj(o)}catch(e){W(o,o.return,e)}}if(o===a){V=null;break}if(h=o.sibling,h!==null){h.return=o.return,V=h;break}V=o.return}}function gk(a){for(;V!==null;){var o=V;if(o===a){V=null;break}var h=o.sibling;if(h!==null){h.return=o.return,V=h;break}V=o.return}}function jk(a){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{Qj(4,o)}catch(_t){W(o,h,_t)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var xt=o.return;try{g.componentDidMount()}catch(_t){W(o,xt,_t)}}var Bt=o.return;try{Rj(o)}catch(_t){W(o,Bt,_t)}break;case 5:var Ut=o.return;try{Rj(o)}catch(_t){W(o,Ut,_t)}}}catch(_t){W(o,o.return,_t)}if(o===a){V=null;break}var $=o.sibling;if($!==null){$.return=o.return,V=$;break}V=o.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(a){return a.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a=C,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function gi(a,o,h,g){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,h,g),(!(K&2)||a!==Q)&&(a===Q&&(!(K&2)&&(qk|=h),T===4&&Ck(a,Z)),Dk(a,g),h===1&&K===0&&!(o.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(a,o){var h=a.callbackNode;wc(a,o);var g=uc(a,a===Q?Z:0);if(g===0)h!==null&&bc(h),a.callbackNode=null,a.callbackPriority=0;else if(o=g&-g,a.callbackPriority!==o){if(h!=null&&bc(h),o===1)a.tag===0?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){!(K&6)&&jg()}),h=null;else{switch(Dc(g)){case 1:h=fc;break;case 4:h=gc;break;case 16:h=hc;break;case 536870912:h=jc;break;default:h=hc}h=Fk(h,Gk.bind(null,a))}a.callbackPriority=o,a.callbackNode=h}}function Gk(a,o){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var h=a.callbackNode;if(Hk()&&a.callbackNode!==h)return null;var g=uc(a,a===Q?Z:0);if(g===0)return null;if(g&30||g&a.expiredLanes||o)o=Ik(a,g);else{o=g;var xt=K;K|=2;var Bt=Jk();(Q!==a||Z!==o)&&(uk=null,Gj=B()+500,Kk(a,o));do try{Lk();break}catch($){Mk(a,$)}while(!0);$g(),mk.current=Bt,K=xt,Y!==null?o=0:(Q=null,Z=0,o=T)}if(o!==0){if(o===2&&(xt=xc(a),xt!==0&&(g=xt,o=Nk(a,xt))),o===1)throw h=pk,Kk(a,0),Ck(a,g),Dk(a,B()),h;if(o===6)Ck(a,g);else{if(xt=a.current.alternate,!(g&30)&&!Ok(xt)&&(o=Ik(a,g),o===2&&(Bt=xc(a),Bt!==0&&(g=Bt,o=Nk(a,Bt))),o===1))throw h=pk,Kk(a,0),Ck(a,g),Dk(a,B()),h;switch(a.finishedWork=xt,a.finishedLanes=g,o){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:if(Ck(a,g),(g&130023424)===g&&(o=fk+500-B(),10<o)){if(uc(a,0)!==0)break;if(xt=a.suspendedLanes,(xt&g)!==g){R(),a.pingedLanes|=a.suspendedLanes&xt;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),o);break}Pk(a,tk,uk);break;case 4:if(Ck(a,g),(g&4194240)===g)break;for(o=a.eventTimes,xt=-1;0<g;){var Ut=31-oc(g);Bt=1<<Ut,Ut=o[Ut],Ut>xt&&(xt=Ut),g&=~Bt}if(g=xt,g=B()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*lk(g/1960))-g,10<g){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),g);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329))}}}return Dk(a,B()),a.callbackNode===h?Gk.bind(null,a):null}function Nk(a,o){var h=sk;return a.current.memoizedState.isDehydrated&&(Kk(a,o).flags|=256),a=Ik(a,o),a!==2&&(o=tk,tk=h,o!==null&&Fj(o)),a}function Fj(a){tk===null?tk=a:tk.push.apply(tk,a)}function Ok(a){for(var o=a;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var xt=h[g],Bt=xt.getSnapshot;xt=xt.value;try{if(!He(Bt(),xt))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ck(a,o){for(o&=~rk,o&=~qk,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var h=31-oc(o),g=1<<h;a[h]=-1,o&=~g}}function Ek(a){if(K&6)throw Error(p(327));Hk();var o=uc(a,0);if(!(o&1))return Dk(a,B()),null;var h=Ik(a,o);if(a.tag!==0&&h===2){var g=xc(a);g!==0&&(o=g,h=Nk(a,g))}if(h===1)throw h=pk,Kk(a,0),Ck(a,o),Dk(a,B()),h;if(h===6)throw Error(p(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Pk(a,tk,uk),Dk(a,B()),null}function Qk(a,o){var h=K;K|=1;try{return a(o)}finally{K=h,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(a){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var o=K;K|=1;var h=ok.transition,g=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=g,ok.transition=h,K=o,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(a,o){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,Gf(h)),Y!==null)for(h=Y.return;h!==null;){var g=h;switch(wg(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(g);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(g.type._context);break;case 22:case 23:Hj()}h=h.return}if(Q=a,Y=a=Pg(a.current,null),Z=fj=o,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(o=0;o<fh.length;o++)if(h=fh[o],g=h.interleaved,g!==null){h.interleaved=null;var xt=g.next,Bt=h.pending;if(Bt!==null){var Ut=Bt.next;Bt.next=xt,g.next=Ut}h.pending=g}fh=null}return a}function Mk(a,o){do{var h=Y;try{if($g(),Fh.current=Rh,Ih){for(var g=M.memoizedState;g!==null;){var xt=g.queue;xt!==null&&(xt.pending=null),g=g.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,h===null||h.return===null){T=1,pk=o,Y=null;break}t:{var Bt=a,Ut=h.return,$=h,_t=o;if(o=Z,$.flags|=32768,_t!==null&&typeof _t=="object"&&typeof _t.then=="function"){var s=_t,bt=$,St=bt.tag;if(!(bt.mode&1)&&(St===0||St===11||St===15)){var e=bt.alternate;e?(bt.updateQueue=e.updateQueue,bt.memoizedState=e.memoizedState,bt.lanes=e.lanes):(bt.updateQueue=null,bt.memoizedState=null)}var i=Ui(Ut);if(i!==null){i.flags&=-257,Vi(i,Ut,$,Bt,o),i.mode&1&&Si(Bt,s,o),o=i,_t=s;var d=o.updateQueue;if(d===null){var ut=new Set;ut.add(_t),o.updateQueue=ut}else d.add(_t);break t}else{if(!(o&1)){Si(Bt,s,o),tj();break t}_t=Error(p(426))}}else if(I&&$.mode&1){var dt=Ui(Ut);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Vi(dt,Ut,$,Bt,o),Jg(Ji(_t,$));break t}}Bt=_t=Ji(_t,$),T!==4&&(T=2),sk===null?sk=[Bt]:sk.push(Bt),Bt=Ut;do{switch(Bt.tag){case 3:Bt.flags|=65536,o&=-o,Bt.lanes|=o;var et=Ni(Bt,_t,o);ph(Bt,et);break t;case 1:$=_t;var _=Bt.type,c=Bt.stateNode;if(!(Bt.flags&128)&&(typeof _.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ri===null||!Ri.has(c)))){Bt.flags|=65536,o&=-o,Bt.lanes|=o;var lt=Qi(Bt,$,o);ph(Bt,lt);break t}}Bt=Bt.return}while(Bt!==null)}Sk(h)}catch(at){o=at,Y===h&&h!==null&&(Y=h=h.return);continue}break}while(!0)}function Jk(){var a=mk.current;return mk.current=Rh,a===null?Rh:a}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(a,o){var h=K;K|=2;var g=Jk();(Q!==a||Z!==o)&&(uk=null,Kk(a,o));do try{Tk();break}catch(xt){Mk(a,xt)}while(!0);if($g(),K=h,mk.current=g,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(a){var o=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps,o===null?Sk(a):Y=o,nk.current=null}function Sk(a){var o=a;do{var h=o.alternate;if(a=o.return,o.flags&32768){if(h=Ij(h,o),h!==null){h.flags&=32767,Y=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6,Y=null;return}}else if(h=Ej(h,o,fj),h!==null){Y=h;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=a}while(o!==null);T===0&&(T=5)}function Pk(a,o,h){var g=C,xt=ok.transition;try{ok.transition=null,C=1,Wk(a,o,h,g)}finally{ok.transition=xt,C=g}return null}function Wk(a,o,h,g){do Hk();while(wk!==null);if(K&6)throw Error(p(327));h=a.finishedWork;var xt=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(p(177));a.callbackNode=null,a.callbackPriority=0;var Bt=h.lanes|h.childLanes;if(Bc(a,Bt),a===Q&&(Y=Q=null,Z=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),Bt=(h.flags&15990)!==0,h.subtreeFlags&15990||Bt){Bt=ok.transition,ok.transition=null;var Ut=C;C=1;var $=K;K|=4,nk.current=null,Oj(a,h),dk(h,a),Oe(Df),dd=!!Cf,Df=Cf=null,a.current=h,hk(h),dc(),K=$,C=Ut,ok.transition=Bt}else a.current=h;if(vk&&(vk=!1,wk=a,xk=xt),Bt=a.pendingLanes,Bt===0&&(Ri=null),mc(h.stateNode),Dk(a,B()),o!==null)for(g=a.onRecoverableError,h=0;h<o.length;h++)xt=o[h],g(xt.value,{componentStack:xt.stack,digest:xt.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;return xk&1&&a.tag!==0&&Hk(),Bt=a.pendingLanes,Bt&1?a===zk?yk++:(yk=0,zk=a):yk=0,jg(),null}function Hk(){if(wk!==null){var a=Dc(xk),o=ok.transition,h=C;try{if(ok.transition=null,C=16>a?16:a,wk===null)var g=!1;else{if(a=wk,wk=null,xk=0,K&6)throw Error(p(331));var xt=K;for(K|=4,V=a.current;V!==null;){var Bt=V,Ut=Bt.child;if(V.flags&16){var $=Bt.deletions;if($!==null){for(var _t=0;_t<$.length;_t++){var s=$[_t];for(V=s;V!==null;){var bt=V;switch(bt.tag){case 0:case 11:case 15:Pj(8,bt,Bt)}var St=bt.child;if(St!==null)St.return=bt,V=St;else for(;V!==null;){bt=V;var e=bt.sibling,i=bt.return;if(Sj(bt),bt===s){V=null;break}if(e!==null){e.return=i,V=e;break}V=i}}}var d=Bt.alternate;if(d!==null){var ut=d.child;if(ut!==null){d.child=null;do{var dt=ut.sibling;ut.sibling=null,ut=dt}while(ut!==null)}}V=Bt}}if(Bt.subtreeFlags&2064&&Ut!==null)Ut.return=Bt,V=Ut;else t:for(;V!==null;){if(Bt=V,Bt.flags&2048)switch(Bt.tag){case 0:case 11:case 15:Pj(9,Bt,Bt.return)}var et=Bt.sibling;if(et!==null){et.return=Bt.return,V=et;break t}V=Bt.return}}var _=a.current;for(V=_;V!==null;){Ut=V;var c=Ut.child;if(Ut.subtreeFlags&2064&&c!==null)c.return=Ut,V=c;else t:for(Ut=_;V!==null;){if($=V,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Qj(9,$)}}catch(at){W($,$.return,at)}if($===Ut){V=null;break t}var lt=$.sibling;if(lt!==null){lt.return=$.return,V=lt;break t}V=$.return}}if(K=xt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}g=!0}return g}finally{C=h,ok.transition=o}}return!1}function Xk(a,o,h){o=Ji(h,o),o=Ni(a,o,1),a=nh(a,o,1),o=R(),a!==null&&(Ac(a,1,o),Dk(a,o))}function W(a,o,h){if(a.tag===3)Xk(a,a,h);else for(;o!==null;){if(o.tag===3){Xk(o,a,h);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ri===null||!Ri.has(g))){a=Ji(h,a),a=Qi(o,a,1),o=nh(o,a,1),a=R(),o!==null&&(Ac(o,1,a),Dk(o,a));break}}o=o.return}}function Ti(a,o,h){var g=a.pingCache;g!==null&&g.delete(o),o=R(),a.pingedLanes|=a.suspendedLanes&h,Q===a&&(Z&h)===h&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=h),Dk(a,o)}function Yk(a,o){o===0&&(a.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var h=R();a=ih(a,o),a!==null&&(Ac(a,o,h),Dk(a,h))}function uj(a){var o=a.memoizedState,h=0;o!==null&&(h=o.retryLane),Yk(a,h)}function bk(a,o){var h=0;switch(a.tag){case 13:var g=a.stateNode,xt=a.memoizedState;xt!==null&&(h=xt.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(p(314))}g!==null&&g.delete(o),Yk(a,h)}var Vk;Vk=function(a,o,h){if(a!==null)if(a.memoizedProps!==o.pendingProps||Wf.current)dh=!0;else{if(!(a.lanes&h)&&!(o.flags&128))return dh=!1,yj(a,o,h);dh=!!(a.flags&131072)}else dh=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;ij(a,o),a=o.pendingProps;var xt=Yf(o,H.current);ch(o,h),xt=Nh(null,o,g,a,xt,h);var Bt=Sh();return o.flags|=1,typeof xt=="object"&&xt!==null&&typeof xt.render=="function"&&xt.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(g)?(Bt=!0,cg(o)):Bt=!1,o.memoizedState=xt.state!==null&&xt.state!==void 0?xt.state:null,kh(o),xt.updater=Ei,o.stateNode=xt,xt._reactInternals=o,Ii(o,g,a,h),o=jj(null,o,g,!0,Bt,h)):(o.tag=0,I&&Bt&&vg(o),Xi(null,o,xt,h),o=o.child),o;case 16:g=o.elementType;t:{switch(ij(a,o),a=o.pendingProps,xt=g._init,g=xt(g._payload),o.type=g,xt=o.tag=Zk(g),a=Ci(g,a),xt){case 0:o=cj(null,o,g,a,h);break t;case 1:o=hj(null,o,g,a,h);break t;case 11:o=Yi(null,o,g,a,h);break t;case 14:o=$i(null,o,g,Ci(g.type,a),h);break t}throw Error(p(306,g,""))}return o;case 0:return g=o.type,xt=o.pendingProps,xt=o.elementType===g?xt:Ci(g,xt),cj(a,o,g,xt,h);case 1:return g=o.type,xt=o.pendingProps,xt=o.elementType===g?xt:Ci(g,xt),hj(a,o,g,xt,h);case 3:t:{if(kj(o),a===null)throw Error(p(387));g=o.pendingProps,Bt=o.memoizedState,xt=Bt.element,lh(a,o),qh(o,g,null,h);var Ut=o.memoizedState;if(g=Ut.element,Bt.isDehydrated)if(Bt={element:g,isDehydrated:!1,cache:Ut.cache,pendingSuspenseBoundaries:Ut.pendingSuspenseBoundaries,transitions:Ut.transitions},o.updateQueue.baseState=Bt,o.memoizedState=Bt,o.flags&256){xt=Ji(Error(p(423)),o),o=lj(a,o,g,h,xt);break t}else if(g!==xt){xt=Ji(Error(p(424)),o),o=lj(a,o,g,h,xt);break t}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,h=Vg(o,null,g,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ig(),g===xt){o=Zi(a,o,h);break t}Xi(a,o,g,h)}o=o.child}return o;case 5:return Ah(o),a===null&&Eg(o),g=o.type,xt=o.pendingProps,Bt=a!==null?a.memoizedProps:null,Ut=xt.children,Ef(g,xt)?Ut=null:Bt!==null&&Ef(g,Bt)&&(o.flags|=32),gj(a,o),Xi(a,o,Ut,h),o.child;case 6:return a===null&&Eg(o),null;case 13:return oj(a,o,h);case 4:return yh(o,o.stateNode.containerInfo),g=o.pendingProps,a===null?o.child=Ug(o,null,g,h):Xi(a,o,g,h),o.child;case 11:return g=o.type,xt=o.pendingProps,xt=o.elementType===g?xt:Ci(g,xt),Yi(a,o,g,xt,h);case 7:return Xi(a,o,o.pendingProps,h),o.child;case 8:return Xi(a,o,o.pendingProps.children,h),o.child;case 12:return Xi(a,o,o.pendingProps.children,h),o.child;case 10:t:{if(g=o.type._context,xt=o.pendingProps,Bt=o.memoizedProps,Ut=xt.value,G(Wg,g._currentValue),g._currentValue=Ut,Bt!==null)if(He(Bt.value,Ut)){if(Bt.children===xt.children&&!Wf.current){o=Zi(a,o,h);break t}}else for(Bt=o.child,Bt!==null&&(Bt.return=o);Bt!==null;){var $=Bt.dependencies;if($!==null){Ut=Bt.child;for(var _t=$.firstContext;_t!==null;){if(_t.context===g){if(Bt.tag===1){_t=mh(-1,h&-h),_t.tag=2;var s=Bt.updateQueue;if(s!==null){s=s.shared;var bt=s.pending;bt===null?_t.next=_t:(_t.next=bt.next,bt.next=_t),s.pending=_t}}Bt.lanes|=h,_t=Bt.alternate,_t!==null&&(_t.lanes|=h),bh(Bt.return,h,o),$.lanes|=h;break}_t=_t.next}}else if(Bt.tag===10)Ut=Bt.type===o.type?null:Bt.child;else if(Bt.tag===18){if(Ut=Bt.return,Ut===null)throw Error(p(341));Ut.lanes|=h,$=Ut.alternate,$!==null&&($.lanes|=h),bh(Ut,h,o),Ut=Bt.sibling}else Ut=Bt.child;if(Ut!==null)Ut.return=Bt;else for(Ut=Bt;Ut!==null;){if(Ut===o){Ut=null;break}if(Bt=Ut.sibling,Bt!==null){Bt.return=Ut.return,Ut=Bt;break}Ut=Ut.return}Bt=Ut}Xi(a,o,xt.children,h),o=o.child}return o;case 9:return xt=o.type,g=o.pendingProps.children,ch(o,h),xt=eh(xt),g=g(xt),o.flags|=1,Xi(a,o,g,h),o.child;case 14:return g=o.type,xt=Ci(g,o.pendingProps),xt=Ci(g.type,xt),$i(a,o,g,xt,h);case 15:return bj(a,o,o.type,o.pendingProps,h);case 17:return g=o.type,xt=o.pendingProps,xt=o.elementType===g?xt:Ci(g,xt),ij(a,o),o.tag=1,Zf(g)?(a=!0,cg(o)):a=!1,ch(o,h),Gi(o,g,xt),Ii(o,g,xt,h),jj(null,o,g,!0,a,h);case 19:return xj(a,o,h);case 22:return dj(a,o,h)}throw Error(p(156,o.tag))};function Fk(a,o){return ac(a,o)}function $k(a,o,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,o,h,g){return new $k(a,o,h,g)}function aj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zk(a){if(typeof a=="function")return aj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function Pg(a,o){var h=a.alternate;return h===null?(h=Bg(a.tag,o,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=o,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,o=a.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Rg(a,o,h,g,xt,Bt){var Ut=2;if(g=a,typeof a=="function")aj(a)&&(Ut=1);else if(typeof a=="string")Ut=5;else t:switch(a){case ya:return Tg(h.children,xt,Bt,o);case za:Ut=8,xt|=8;break;case Aa:return a=Bg(12,h,o,xt|2),a.elementType=Aa,a.lanes=Bt,a;case Ea:return a=Bg(13,h,o,xt),a.elementType=Ea,a.lanes=Bt,a;case Fa:return a=Bg(19,h,o,xt),a.elementType=Fa,a.lanes=Bt,a;case Ia:return pj(h,xt,Bt,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:Ut=10;break t;case Ca:Ut=9;break t;case Da:Ut=11;break t;case Ga:Ut=14;break t;case Ha:Ut=16,g=null;break t}throw Error(p(130,a==null?a:typeof a,""))}return o=Bg(Ut,h,o,xt),o.elementType=a,o.type=g,o.lanes=Bt,o}function Tg(a,o,h,g){return a=Bg(7,a,g,o),a.lanes=h,a}function pj(a,o,h,g){return a=Bg(22,a,g,o),a.elementType=Ia,a.lanes=h,a.stateNode={isHidden:!1},a}function Qg(a,o,h){return a=Bg(6,a,null,o),a.lanes=h,a}function Sg(a,o,h){return o=Bg(4,a.children!==null?a.children:[],a.key,o),o.lanes=h,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function al(a,o,h,g,xt){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=g,this.onRecoverableError=xt,this.mutableSourceEagerHydrationData=null}function bl(a,o,h,g,xt,Bt,Ut,$,_t){return a=new al(a,o,h,$,_t),o===1?(o=1,Bt===!0&&(o|=8)):o=0,Bt=Bg(3,null,null,o),a.current=Bt,Bt.stateNode=a,Bt.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(Bt),a}function cl(a,o,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:g==null?null:""+g,children:a,containerInfo:o,implementation:h}}function dl(a){if(!a)return Vf;a=a._reactInternals;t:{if(Vb(a)!==a||a.tag!==1)throw Error(p(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(p(171))}if(a.tag===1){var h=a.type;if(Zf(h))return bg(a,h,o)}return o}function el(a,o,h,g,xt,Bt,Ut,$,_t){return a=bl(h,g,!0,a,xt,Bt,Ut,$,_t),a.context=dl(null),h=a.current,g=R(),xt=yi(h),Bt=mh(g,xt),Bt.callback=o??null,nh(h,Bt,xt),a.current.lanes=xt,Ac(a,xt,g),Dk(a,g),a}function fl(a,o,h,g){var xt=o.current,Bt=R(),Ut=yi(xt);return h=dl(h),o.context===null?o.context=h:o.pendingContext=h,o=mh(Bt,Ut),o.payload={element:a},g=g===void 0?null:g,g!==null&&(o.callback=g),a=nh(xt,o,Ut),a!==null&&(gi(a,xt,Ut,Bt),oh(a,xt,Ut)),Ut}function gl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<o?h:o}}function il(a,o){hl(a,o),(a=a.alternate)&&hl(a,o)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}ml.prototype.render=ll.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(p(409));fl(a,o,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Rk(function(){fl(null,a,null,null)}),o[uf]=null}};function ml(a){this._internalRoot=a}ml.prototype.unstable_scheduleHydration=function(a){if(a){var o=Hc();a={blockedOn:null,target:a,priority:o};for(var h=0;h<Qc.length&&o!==0&&o<Qc[h].priority;h++);Qc.splice(h,0,a),h===0&&Vc(a)}};function nl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(a,o,h,g,xt){if(xt){if(typeof g=="function"){var Bt=g;g=function(){var s=gl(Ut);Bt.call(s)}}var Ut=el(o,g,a,0,null,!1,!1,"",pl);return a._reactRootContainer=Ut,a[uf]=Ut.current,sf(a.nodeType===8?a.parentNode:a),Rk(),Ut}for(;xt=a.lastChild;)a.removeChild(xt);if(typeof g=="function"){var $=g;g=function(){var s=gl(_t);$.call(s)}}var _t=bl(a,0,!1,null,null,!1,!1,"",pl);return a._reactRootContainer=_t,a[uf]=_t.current,sf(a.nodeType===8?a.parentNode:a),Rk(function(){fl(o,_t,h,g)}),_t}function rl(a,o,h,g,xt){var Bt=h._reactRootContainer;if(Bt){var Ut=Bt;if(typeof xt=="function"){var $=xt;xt=function(){var _t=gl(Ut);$.call(_t)}}fl(o,Ut,a,xt)}else Ut=ql(h,o,a,xt,g);return gl(Ut)}Ec=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var h=tc(o.pendingLanes);h!==0&&(Cc(o,h|1),Dk(o,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var g=ih(a,1);if(g!==null){var xt=R();gi(g,a,1,xt)}}),il(a,1)}};Fc=function(a){if(a.tag===13){var o=ih(a,134217728);if(o!==null){var h=R();gi(o,a,134217728,h)}il(a,134217728)}};Gc=function(a){if(a.tag===13){var o=yi(a),h=ih(a,o);if(h!==null){var g=R();gi(h,a,o,g)}il(a,o)}};Hc=function(){return C};Ic=function(a,o){var h=C;try{return C=a,o()}finally{C=h}};yb=function(a,o,h){switch(o){case"input":if(bb(a,h),o=h.name,h.type==="radio"&&o!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var g=h[o];if(g!==a&&g.form===a.form){var xt=Db(g);if(!xt)throw Error(p(90));Wa(g),bb(g,xt)}}}break;case"textarea":ib(a,h);break;case"select":o=h.value,o!=null&&fb(a,!!h.multiple,o,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(a,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(o))throw Error(p(200));return cl(a,o,null,h)};reactDom_production_min.createRoot=function(a,o){if(!nl(a))throw Error(p(299));var h=!1,g="",xt=kl;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(xt=o.onRecoverableError)),o=bl(a,1,!1,null,null,h,!1,g,xt),a[uf]=o.current,sf(a.nodeType===8?a.parentNode:a),new ll(o)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(p(188)):(a=Object.keys(a).join(","),Error(p(268,a)));return a=Zb(o),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Rk(a)};reactDom_production_min.hydrate=function(a,o,h){if(!ol(o))throw Error(p(200));return rl(null,a,o,!0,h)};reactDom_production_min.hydrateRoot=function(a,o,h){if(!nl(a))throw Error(p(405));var g=h!=null&&h.hydratedSources||null,xt=!1,Bt="",Ut=kl;if(h!=null&&(h.unstable_strictMode===!0&&(xt=!0),h.identifierPrefix!==void 0&&(Bt=h.identifierPrefix),h.onRecoverableError!==void 0&&(Ut=h.onRecoverableError)),o=el(o,null,a,1,h??null,xt,!1,Bt,Ut),a[uf]=o.current,sf(a),g)for(a=0;a<g.length;a++)h=g[a],xt=h._getVersion,xt=xt(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,xt]:o.mutableSourceEagerHydrationData.push(h,xt);return new ml(o)};reactDom_production_min.render=function(a,o,h){if(!ol(o))throw Error(p(200));return rl(null,a,o,!1,h)};reactDom_production_min.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,o,h,g){if(!ol(h))throw Error(p(200));if(a==null||a._reactInternals===void 0)throw Error(p(38));return rl(a,o,h,!1,g)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;var dist={};Object.defineProperty(dist,"__esModule",{value:!0});dist.parse=parse;dist.serialize=serialize;const cookieNameRegExp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cookieValueRegExp=/^[\u0021-\u003A\u003C-\u007E]*$/,domainValueRegExp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pathValueRegExp=/^[\u0020-\u003A\u003D-\u007E]*$/,__toString=Object.prototype.toString,NullObject=(()=>{const a=function(){};return a.prototype=Object.create(null),a})();function parse(a,o){const h=new NullObject,g=a.length;if(g<2)return h;const xt=(o==null?void 0:o.decode)||decode;let Bt=0;do{const Ut=a.indexOf("=",Bt);if(Ut===-1)break;const $=a.indexOf(";",Bt),_t=$===-1?g:$;if(Ut>_t){Bt=a.lastIndexOf(";",Ut-1)+1;continue}const s=startIndex(a,Bt,Ut),bt=endIndex(a,Ut,s),St=a.slice(s,bt);if(h[St]===void 0){let e=startIndex(a,Ut+1,_t),i=endIndex(a,_t,e);const d=xt(a.slice(e,i));h[St]=d}Bt=_t+1}while(Bt<g);return h}function startIndex(a,o,h){do{const g=a.charCodeAt(o);if(g!==32&&g!==9)return o}while(++o<h);return h}function endIndex(a,o,h){for(;o>h;){const g=a.charCodeAt(--o);if(g!==32&&g!==9)return o+1}return h}function serialize(a,o,h){const g=(h==null?void 0:h.encode)||encodeURIComponent;if(!cookieNameRegExp.test(a))throw new TypeError(`argument name is invalid: ${a}`);const xt=g(o);if(!cookieValueRegExp.test(xt))throw new TypeError(`argument val is invalid: ${o}`);let Bt=a+"="+xt;if(!h)return Bt;if(h.maxAge!==void 0){if(!Number.isInteger(h.maxAge))throw new TypeError(`option maxAge is invalid: ${h.maxAge}`);Bt+="; Max-Age="+h.maxAge}if(h.domain){if(!domainValueRegExp.test(h.domain))throw new TypeError(`option domain is invalid: ${h.domain}`);Bt+="; Domain="+h.domain}if(h.path){if(!pathValueRegExp.test(h.path))throw new TypeError(`option path is invalid: ${h.path}`);Bt+="; Path="+h.path}if(h.expires){if(!isDate(h.expires)||!Number.isFinite(h.expires.valueOf()))throw new TypeError(`option expires is invalid: ${h.expires}`);Bt+="; Expires="+h.expires.toUTCString()}if(h.httpOnly&&(Bt+="; HttpOnly"),h.secure&&(Bt+="; Secure"),h.partitioned&&(Bt+="; Partitioned"),h.priority)switch(typeof h.priority=="string"?h.priority.toLowerCase():void 0){case"low":Bt+="; Priority=Low";break;case"medium":Bt+="; Priority=Medium";break;case"high":Bt+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${h.priority}`)}if(h.sameSite)switch(typeof h.sameSite=="string"?h.sameSite.toLowerCase():h.sameSite){case!0:case"strict":Bt+="; SameSite=Strict";break;case"lax":Bt+="; SameSite=Lax";break;case"none":Bt+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${h.sameSite}`)}return Bt}function decode(a){if(a.indexOf("%")===-1)return a;try{return decodeURIComponent(a)}catch{return a}}function isDate(a){return __toString.call(a)==="[object Date]"}/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(a={}){function o(g,xt){let{pathname:Bt,search:Ut,hash:$}=g.location;return createLocation("",{pathname:Bt,search:Ut,hash:$},xt.state&&xt.state.usr||null,xt.state&&xt.state.key||"default")}function h(g,xt){return typeof xt=="string"?xt:createPath(xt)}return getUrlBasedHistory(o,h,null,a)}function invariant(a,o){if(a===!1||a===null||typeof a>"u")throw new Error(o)}function warning(a,o){if(!a){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(a,o){return{usr:a.state,key:a.key,idx:o}}function createLocation(a,o,h=null,g){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof o=="string"?parsePath(o):o,state:h,key:o&&o.key||g||createKey()}}function createPath({pathname:a="/",search:o="",hash:h=""}){return o&&o!=="?"&&(a+=o.charAt(0)==="?"?o:"?"+o),h&&h!=="#"&&(a+=h.charAt(0)==="#"?h:"#"+h),a}function parsePath(a){let o={};if(a){let h=a.indexOf("#");h>=0&&(o.hash=a.substring(h),a=a.substring(0,h));let g=a.indexOf("?");g>=0&&(o.search=a.substring(g),a=a.substring(0,g)),a&&(o.pathname=a)}return o}function getUrlBasedHistory(a,o,h,g={}){let{window:xt=document.defaultView,v5Compat:Bt=!1}=g,Ut=xt.history,$="POP",_t=null,s=bt();s==null&&(s=0,Ut.replaceState({...Ut.state,idx:s},""));function bt(){return(Ut.state||{idx:null}).idx}function St(){$="POP";let dt=bt(),et=dt==null?null:dt-s;s=dt,_t&&_t({action:$,location:ut.location,delta:et})}function e(dt,et){$="PUSH";let _=createLocation(ut.location,dt,et);s=bt()+1;let c=getHistoryState(_,s),lt=ut.createHref(_);try{Ut.pushState(c,"",lt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;xt.location.assign(lt)}Bt&&_t&&_t({action:$,location:ut.location,delta:1})}function i(dt,et){$="REPLACE";let _=createLocation(ut.location,dt,et);s=bt();let c=getHistoryState(_,s),lt=ut.createHref(_);Ut.replaceState(c,"",lt),Bt&&_t&&_t({action:$,location:ut.location,delta:0})}function d(dt){let et=xt.location.origin!=="null"?xt.location.origin:xt.location.href,_=typeof dt=="string"?dt:createPath(dt);return _=_.replace(/ $/,"%20"),invariant(et,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,et)}let ut={get action(){return $},get location(){return a(xt,Ut)},listen(dt){if(_t)throw new Error("A history only accepts one active listener");return xt.addEventListener(PopStateEventType,St),_t=dt,()=>{xt.removeEventListener(PopStateEventType,St),_t=null}},createHref(dt){return o(xt,dt)},createURL:d,encodeLocation(dt){let et=d(dt);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:e,replace:i,go(dt){return Ut.go(dt)}};return ut}function matchRoutes(a,o,h="/"){return matchRoutesImpl(a,o,h,!1)}function matchRoutesImpl(a,o,h,g){let xt=typeof o=="string"?parsePath(o):o,Bt=stripBasename(xt.pathname||"/",h);if(Bt==null)return null;let Ut=flattenRoutes(a);rankRouteBranches(Ut);let $=null;for(let _t=0;$==null&&_t<Ut.length;++_t){let s=decodePath(Bt);$=matchRouteBranch(Ut[_t],s,g)}return $}function flattenRoutes(a,o=[],h=[],g=""){let xt=(Bt,Ut,$)=>{let _t={relativePath:$===void 0?Bt.path||"":$,caseSensitive:Bt.caseSensitive===!0,childrenIndex:Ut,route:Bt};_t.relativePath.startsWith("/")&&(invariant(_t.relativePath.startsWith(g),`Absolute route path "${_t.relativePath}" nested under path "${g}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_t.relativePath=_t.relativePath.slice(g.length));let s=joinPaths([g,_t.relativePath]),bt=h.concat(_t);Bt.children&&Bt.children.length>0&&(invariant(Bt.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${s}".`),flattenRoutes(Bt.children,o,bt,s)),!(Bt.path==null&&!Bt.index)&&o.push({path:s,score:computeScore(s,Bt.index),routesMeta:bt})};return a.forEach((Bt,Ut)=>{var $;if(Bt.path===""||!(($=Bt.path)!=null&&$.includes("?")))xt(Bt,Ut);else for(let _t of explodeOptionalSegments(Bt.path))xt(Bt,Ut,_t)}),o}function explodeOptionalSegments(a){let o=a.split("/");if(o.length===0)return[];let[h,...g]=o,xt=h.endsWith("?"),Bt=h.replace(/\?$/,"");if(g.length===0)return xt?[Bt,""]:[Bt];let Ut=explodeOptionalSegments(g.join("/")),$=[];return $.push(...Ut.map(_t=>_t===""?Bt:[Bt,_t].join("/"))),xt&&$.push(...Ut),$.map(_t=>a.startsWith("/")&&_t===""?"/":_t)}function rankRouteBranches(a){a.sort((o,h)=>o.score!==h.score?h.score-o.score:compareIndexes(o.routesMeta.map(g=>g.childrenIndex),h.routesMeta.map(g=>g.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,o){let h=a.split("/"),g=h.length;return h.some(isSplat)&&(g+=splatPenalty),o&&(g+=indexRouteValue),h.filter(xt=>!isSplat(xt)).reduce((xt,Bt)=>xt+(paramRe.test(Bt)?dynamicSegmentValue:Bt===""?emptySegmentValue:staticSegmentValue),g)}function compareIndexes(a,o){return a.length===o.length&&a.slice(0,-1).every((g,xt)=>g===o[xt])?a[a.length-1]-o[o.length-1]:0}function matchRouteBranch(a,o,h=!1){let{routesMeta:g}=a,xt={},Bt="/",Ut=[];for(let $=0;$<g.length;++$){let _t=g[$],s=$===g.length-1,bt=Bt==="/"?o:o.slice(Bt.length)||"/",St=matchPath({path:_t.relativePath,caseSensitive:_t.caseSensitive,end:s},bt),e=_t.route;if(!St&&s&&h&&!g[g.length-1].route.index&&(St=matchPath({path:_t.relativePath,caseSensitive:_t.caseSensitive,end:!1},bt)),!St)return null;Object.assign(xt,St.params),Ut.push({params:xt,pathname:joinPaths([Bt,St.pathname]),pathnameBase:normalizePathname(joinPaths([Bt,St.pathnameBase])),route:e}),St.pathnameBase!=="/"&&(Bt=joinPaths([Bt,St.pathnameBase]))}return Ut}function matchPath(a,o){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[h,g]=compilePath(a.path,a.caseSensitive,a.end),xt=o.match(h);if(!xt)return null;let Bt=xt[0],Ut=Bt.replace(/(.)\/+$/,"$1"),$=xt.slice(1);return{params:g.reduce((s,{paramName:bt,isOptional:St},e)=>{if(bt==="*"){let d=$[e]||"";Ut=Bt.slice(0,Bt.length-d.length).replace(/(.)\/+$/,"$1")}const i=$[e];return St&&!i?s[bt]=void 0:s[bt]=(i||"").replace(/%2F/g,"/"),s},{}),pathname:Bt,pathnameBase:Ut,pattern:a}}function compilePath(a,o=!1,h=!0){warning(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let g=[],xt="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ut,$,_t)=>(g.push({paramName:$,isOptional:_t!=null}),_t?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(g.push({paramName:"*"}),xt+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?xt+="\\/*$":a!==""&&a!=="/"&&(xt+="(?:(?=\\/|$))"),[new RegExp(xt,o?void 0:"i"),g]}function decodePath(a){try{return a.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),a}}function stripBasename(a,o){if(o==="/")return a;if(!a.toLowerCase().startsWith(o.toLowerCase()))return null;let h=o.endsWith("/")?o.length-1:o.length,g=a.charAt(h);return g&&g!=="/"?null:a.slice(h)||"/"}function resolvePath(a,o="/"){let{pathname:h,search:g="",hash:xt=""}=typeof a=="string"?parsePath(a):a;return{pathname:h?h.startsWith("/")?h:resolvePathname(h,o):o,search:normalizeSearch(g),hash:normalizeHash(xt)}}function resolvePathname(a,o){let h=o.replace(/\/+$/,"").split("/");return a.split("/").forEach(xt=>{xt===".."?h.length>1&&h.pop():xt!=="."&&h.push(xt)}),h.length>1?h.join("/"):"/"}function getInvalidPathError(a,o,h,g){return`Cannot include a '${a}' character in a manually specified \`to.${o}\` field [${JSON.stringify(g)}].  Please separate it out to the \`to.${h}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(a){return a.filter((o,h)=>h===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches(a){let o=getPathContributingMatches(a);return o.map((h,g)=>g===o.length-1?h.pathname:h.pathnameBase)}function resolveTo(a,o,h,g=!1){let xt;typeof a=="string"?xt=parsePath(a):(xt={...a},invariant(!xt.pathname||!xt.pathname.includes("?"),getInvalidPathError("?","pathname","search",xt)),invariant(!xt.pathname||!xt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",xt)),invariant(!xt.search||!xt.search.includes("#"),getInvalidPathError("#","search","hash",xt)));let Bt=a===""||xt.pathname==="",Ut=Bt?"/":xt.pathname,$;if(Ut==null)$=h;else{let St=o.length-1;if(!g&&Ut.startsWith("..")){let e=Ut.split("/");for(;e[0]==="..";)e.shift(),St-=1;xt.pathname=e.join("/")}$=St>=0?o[St]:"/"}let _t=resolvePath(xt,$),s=Ut&&Ut!=="/"&&Ut.endsWith("/"),bt=(Bt||Ut===".")&&h.endsWith("/");return!_t.pathname.endsWith("/")&&(s||bt)&&(_t.pathname+="/"),_t}var joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(a,{relative:o}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:h,navigator:g}=reactExports.useContext(NavigationContext),{hash:xt,pathname:Bt,search:Ut}=useResolvedPath(a,{relative:o}),$=Bt;return h!=="/"&&($=Bt==="/"?h:joinPaths([h,Bt])),g.createHref({pathname:$,search:Ut,hash:xt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let a=reactExports.useContext(DataRouterContext),{basename:o,navigator:h}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),{pathname:xt}=useLocation(),Bt=JSON.stringify(getResolveToMatches(g)),Ut=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{Ut.current=!0}),reactExports.useCallback((_t,s={})=>{if(warning(Ut.current,navigateEffectWarning),!Ut.current)return;if(typeof _t=="number"){h.go(_t);return}let bt=resolveTo(_t,JSON.parse(Bt),xt,s.relative==="path");a==null&&o!=="/"&&(bt.pathname=bt.pathname==="/"?o:joinPaths([o,bt.pathname])),(s.replace?h.replace:h.push)(bt,s.state,s)},[o,h,Bt,xt,a])}reactExports.createContext(null);function useParams(){let{matches:a}=reactExports.useContext(RouteContext),o=a[a.length-1];return o?o.params:{}}function useResolvedPath(a,{relative:o}={}){let{matches:h}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),xt=JSON.stringify(getResolveToMatches(h));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(xt),g,o==="path"),[a,xt,g,o])}function useRoutes(a,o){return useRoutesImpl(a,o)}function useRoutesImpl(a,o,h,g){var _;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:xt,static:Bt}=reactExports.useContext(NavigationContext),{matches:Ut}=reactExports.useContext(RouteContext),$=Ut[Ut.length-1],_t=$?$.params:{},s=$?$.pathname:"/",bt=$?$.pathnameBase:"/",St=$&&$.route;{let c=St&&St.path||"";warningOnce(s,!St||c.endsWith("*")||c.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${s}" (under <Route path="${c}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${c}"> to <Route path="${c==="/"?"*":`${c}/*`}">.`)}let e=useLocation(),i;if(o){let c=typeof o=="string"?parsePath(o):o;invariant(bt==="/"||((_=c.pathname)==null?void 0:_.startsWith(bt)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${bt}" but pathname "${c.pathname}" was given in the \`location\` prop.`),i=c}else i=e;let d=i.pathname||"/",ut=d;if(bt!=="/"){let c=bt.replace(/^\//,"").split("/");ut="/"+d.replace(/^\//,"").split("/").slice(c.length).join("/")}let dt=!Bt&&h&&h.matches&&h.matches.length>0?h.matches:matchRoutes(a,{pathname:ut});warning(St||dt!=null,`No routes matched location "${i.pathname}${i.search}${i.hash}" `),warning(dt==null||dt[dt.length-1].route.element!==void 0||dt[dt.length-1].route.Component!==void 0||dt[dt.length-1].route.lazy!==void 0,`Matched leaf route at location "${i.pathname}${i.search}${i.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=_renderMatches(dt&&dt.map(c=>Object.assign({},c,{params:Object.assign({},_t,c.params),pathname:joinPaths([bt,xt.encodeLocation?xt.encodeLocation(c.pathname).pathname:c.pathname]),pathnameBase:c.pathnameBase==="/"?bt:joinPaths([bt,xt.encodeLocation?xt.encodeLocation(c.pathnameBase).pathname:c.pathnameBase])})),Ut,h,g);return o&&et?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...i},navigationType:"POP"}},et):et}function DefaultErrorComponent(){let a=useRouteError(),o=isRouteErrorResponse(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),h=a instanceof Error?a.stack:null,g="rgba(200,200,200, 0.5)",xt={padding:"0.5rem",backgroundColor:g},Bt={padding:"2px 4px",backgroundColor:g},Ut=null;return console.error("Error handled by React Router default ErrorBoundary:",a),Ut=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:Bt},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:Bt},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),h?reactExports.createElement("pre",{style:xt},h):null,Ut)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,o){return o.location!==a.location||o.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:o.error,location:o.location,revalidation:a.revalidation||o.revalidation}}componentDidCatch(a,o){console.error("React Router caught the following error during render",a,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:a,match:o,children:h}){let g=reactExports.useContext(DataRouterContext);return g&&g.static&&g.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(g.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:a},h)}function _renderMatches(a,o=[],h=null,g=null){if(a==null){if(!h)return null;if(h.errors)a=h.matches;else if(o.length===0&&!h.initialized&&h.matches.length>0)a=h.matches;else return null}let xt=a,Bt=h==null?void 0:h.errors;if(Bt!=null){let _t=xt.findIndex(s=>s.route.id&&(Bt==null?void 0:Bt[s.route.id])!==void 0);invariant(_t>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(Bt).join(",")}`),xt=xt.slice(0,Math.min(xt.length,_t+1))}let Ut=!1,$=-1;if(h)for(let _t=0;_t<xt.length;_t++){let s=xt[_t];if((s.route.HydrateFallback||s.route.hydrateFallbackElement)&&($=_t),s.route.id){let{loaderData:bt,errors:St}=h,e=s.route.loader&&!bt.hasOwnProperty(s.route.id)&&(!St||St[s.route.id]===void 0);if(s.route.lazy||e){Ut=!0,$>=0?xt=xt.slice(0,$+1):xt=[xt[0]];break}}}return xt.reduceRight((_t,s,bt)=>{let St,e=!1,i=null,d=null;h&&(St=Bt&&s.route.id?Bt[s.route.id]:void 0,i=s.route.errorElement||defaultErrorElement,Ut&&($<0&&bt===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),e=!0,d=null):$===bt&&(e=!0,d=s.route.hydrateFallbackElement||null)));let ut=o.concat(xt.slice(0,bt+1)),dt=()=>{let et;return St?et=i:e?et=d:s.route.Component?et=reactExports.createElement(s.route.Component,null):s.route.element?et=s.route.element:et=_t,reactExports.createElement(RenderedRoute,{match:s,routeContext:{outlet:_t,matches:ut,isDataRoute:h!=null},children:et})};return h&&(s.route.ErrorBoundary||s.route.errorElement||bt===0)?reactExports.createElement(RenderErrorBoundary,{location:h.location,revalidation:h.revalidation,component:i,error:St,children:dt(),routeContext:{outlet:null,matches:ut,isDataRoute:!0}}):dt()},null)}function getDataRouterConsoleError(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(a){let o=reactExports.useContext(DataRouterContext);return invariant(o,getDataRouterConsoleError(a)),o}function useDataRouterState(a){let o=reactExports.useContext(DataRouterStateContext);return invariant(o,getDataRouterConsoleError(a)),o}function useRouteContext(a){let o=reactExports.useContext(RouteContext);return invariant(o,getDataRouterConsoleError(a)),o}function useCurrentRouteId(a){let o=useRouteContext(a),h=o.matches[o.matches.length-1];return invariant(h.route.id,`${a} can only be used on routes that contain a unique "id"`),h.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var g;let a=reactExports.useContext(RouteErrorContext),o=useDataRouterState("useRouteError"),h=useCurrentRouteId("useRouteError");return a!==void 0?a:(g=o.errors)==null?void 0:g[h]}function useNavigateStable(){let{router:a}=useDataRouterContext("useNavigate"),o=useCurrentRouteId("useNavigate"),h=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{h.current=!0}),reactExports.useCallback(async(xt,Bt={})=>{warning(h.current,navigateEffectWarning),h.current&&(typeof xt=="number"?a.navigate(xt):await a.navigate(xt,{fromRouteId:o,...Bt}))},[a,o])}var alreadyWarned={};function warningOnce(a,o,h){!o&&!alreadyWarned[a]&&(alreadyWarned[a]=!0,warning(!1,h))}reactExports.memo(DataRoutes);function DataRoutes({routes:a,future:o,state:h}){return useRoutesImpl(a,void 0,h,o)}function Route(a){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:a="/",children:o=null,location:h,navigationType:g="POP",navigator:xt,static:Bt=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Ut=a.replace(/^\/*/,"/"),$=reactExports.useMemo(()=>({basename:Ut,navigator:xt,static:Bt,future:{}}),[Ut,xt,Bt]);typeof h=="string"&&(h=parsePath(h));let{pathname:_t="/",search:s="",hash:bt="",state:St=null,key:e="default"}=h,i=reactExports.useMemo(()=>{let d=stripBasename(_t,Ut);return d==null?null:{location:{pathname:d,search:s,hash:bt,state:St,key:e},navigationType:g}},[Ut,_t,s,bt,St,e,g]);return warning(i!=null,`<Router basename="${Ut}"> is not able to match the URL "${_t}${s}${bt}" because it does not start with the basename, so the <Router> won't render anything.`),i==null?null:reactExports.createElement(NavigationContext.Provider,{value:$},reactExports.createElement(LocationContext.Provider,{children:o,value:i}))}function Routes({children:a,location:o}){return useRoutes(createRoutesFromChildren(a),o)}function createRoutesFromChildren(a,o=[]){let h=[];return reactExports.Children.forEach(a,(g,xt)=>{if(!reactExports.isValidElement(g))return;let Bt=[...o,xt];if(g.type===reactExports.Fragment){h.push.apply(h,createRoutesFromChildren(g.props.children,Bt));return}invariant(g.type===Route,`[${typeof g.type=="string"?g.type:g.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!g.props.index||!g.props.children,"An index route cannot have child routes.");let Ut={id:g.props.id||Bt.join("-"),caseSensitive:g.props.caseSensitive,element:g.props.element,Component:g.props.Component,index:g.props.index,path:g.props.path,loader:g.props.loader,action:g.props.action,hydrateFallbackElement:g.props.hydrateFallbackElement,HydrateFallback:g.props.HydrateFallback,errorElement:g.props.errorElement,ErrorBoundary:g.props.ErrorBoundary,hasErrorBoundary:g.props.hasErrorBoundary===!0||g.props.ErrorBoundary!=null||g.props.errorElement!=null,shouldRevalidate:g.props.shouldRevalidate,handle:g.props.handle,lazy:g.props.lazy};g.props.children&&(Ut.children=createRoutesFromChildren(g.props.children,Bt)),h.push(Ut)}),h}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(a){return a!=null&&typeof a.tagName=="string"}function isButtonElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="button"}function isFormElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="form"}function isInputElement(a){return isHtmlElement(a)&&a.tagName.toLowerCase()==="input"}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,o){return a.button===0&&(!o||o==="_self")&&!isModifiedEvent(a)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(a){return a!=null&&!supportedFormEncTypes.has(a)?(warning(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):a}function getFormSubmissionInfo(a,o){let h,g,xt,Bt,Ut;if(isFormElement(a)){let $=a.getAttribute("action");g=$?stripBasename($,o):null,h=a.getAttribute("method")||defaultMethod,xt=getFormEncType(a.getAttribute("enctype"))||defaultEncType,Bt=new FormData(a)}else if(isButtonElement(a)||isInputElement(a)&&(a.type==="submit"||a.type==="image")){let $=a.form;if($==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _t=a.getAttribute("formaction")||$.getAttribute("action");if(g=_t?stripBasename(_t,o):null,h=a.getAttribute("formmethod")||$.getAttribute("method")||defaultMethod,xt=getFormEncType(a.getAttribute("formenctype"))||getFormEncType($.getAttribute("enctype"))||defaultEncType,Bt=new FormData($,a),!isFormDataSubmitterSupported()){let{name:s,type:bt,value:St}=a;if(bt==="image"){let e=s?`${s}.`:"";Bt.append(`${e}x`,"0"),Bt.append(`${e}y`,"0")}else s&&Bt.append(s,St)}}else{if(isHtmlElement(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');h=defaultMethod,g=null,xt=defaultEncType,Ut=a}return Bt&&xt==="text/plain"&&(Ut=Bt,Bt=void 0),{action:g,method:h.toLowerCase(),encType:xt,formData:Bt,body:Ut}}function invariant2(a,o){if(a===!1||a===null||typeof a>"u")throw new Error(o)}async function loadRouteModule(a,o){if(a.id in o)return o[a.id];try{let h=await import(a.module);return o[a.id]=h,h}catch(h){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(h),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function getKeyedPrefetchLinks(a,o,h){let g=await Promise.all(a.map(async xt=>{let Bt=o.routes[xt.route.id];if(Bt){let Ut=await loadRouteModule(Bt,h);return Ut.links?Ut.links():[]}return[]}));return dedupeLinkDescriptors(g.flat(1).filter(isHtmlLinkDescriptor).filter(xt=>xt.rel==="stylesheet"||xt.rel==="preload").map(xt=>xt.rel==="stylesheet"?{...xt,rel:"prefetch",as:"style"}:{...xt,rel:"prefetch"}))}function getNewMatchesForLinks(a,o,h,g,xt,Bt){let Ut=(_t,s)=>h[s]?_t.route.id!==h[s].route.id:!0,$=(_t,s)=>{var bt;return h[s].pathname!==_t.pathname||((bt=h[s].route.path)==null?void 0:bt.endsWith("*"))&&h[s].params["*"]!==_t.params["*"]};return Bt==="assets"?o.filter((_t,s)=>Ut(_t,s)||$(_t,s)):Bt==="data"?o.filter((_t,s)=>{var St;let bt=g.routes[_t.route.id];if(!bt||!bt.hasLoader)return!1;if(Ut(_t,s)||$(_t,s))return!0;if(_t.route.shouldRevalidate){let e=_t.route.shouldRevalidate({currentUrl:new URL(xt.pathname+xt.search+xt.hash,window.origin),currentParams:((St=h[0])==null?void 0:St.params)||{},nextUrl:new URL(a,window.origin),nextParams:_t.params,defaultShouldRevalidate:!0});if(typeof e=="boolean")return e}return!0}):[]}function getModuleLinkHrefs(a,o,{includeHydrateFallback:h}={}){return dedupeHrefs(a.map(g=>{let xt=o.routes[g.route.id];if(!xt)return[];let Bt=[xt.module];return xt.clientActionModule&&(Bt=Bt.concat(xt.clientActionModule)),xt.clientLoaderModule&&(Bt=Bt.concat(xt.clientLoaderModule)),h&&xt.hydrateFallbackModule&&(Bt=Bt.concat(xt.hydrateFallbackModule)),xt.imports&&(Bt=Bt.concat(xt.imports)),Bt}).flat(1))}function dedupeHrefs(a){return[...new Set(a)]}function sortKeys(a){let o={},h=Object.keys(a).sort();for(let g of h)o[g]=a[g];return o}function dedupeLinkDescriptors(a,o){let h=new Set;return new Set(o),a.reduce((g,xt)=>{let Bt=JSON.stringify(sortKeys(xt));return h.has(Bt)||(h.add(Bt),g.push({key:Bt,link:xt})),g},[])}function singleFetchUrl(a,o){let h=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return h.pathname==="/"?h.pathname="_root.data":o&&stripBasename(h.pathname,o)==="/"?h.pathname=`${o.replace(/\/$/,"")}/_root.data`:h.pathname=`${h.pathname.replace(/\/$/,"")}.data`,h}function useDataRouterContext2(){let a=reactExports.useContext(DataRouterContext);return invariant2(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function useDataRouterStateContext(){let a=reactExports.useContext(DataRouterStateContext);return invariant2(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let a=reactExports.useContext(FrameworkContext);return invariant2(a,"You must render this element inside a <HydratedRouter> element"),a}function usePrefetchBehavior(a,o){let h=reactExports.useContext(FrameworkContext),[g,xt]=reactExports.useState(!1),[Bt,Ut]=reactExports.useState(!1),{onFocus:$,onBlur:_t,onMouseEnter:s,onMouseLeave:bt,onTouchStart:St}=o,e=reactExports.useRef(null);reactExports.useEffect(()=>{if(a==="render"&&Ut(!0),a==="viewport"){let ut=et=>{et.forEach(_=>{Ut(_.isIntersecting)})},dt=new IntersectionObserver(ut,{threshold:.5});return e.current&&dt.observe(e.current),()=>{dt.disconnect()}}},[a]),reactExports.useEffect(()=>{if(g){let ut=setTimeout(()=>{Ut(!0)},100);return()=>{clearTimeout(ut)}}},[g]);let i=()=>{xt(!0)},d=()=>{xt(!1),Ut(!1)};return h?a!=="intent"?[Bt,e,{}]:[Bt,e,{onFocus:composeEventHandlers($,i),onBlur:composeEventHandlers(_t,d),onMouseEnter:composeEventHandlers(s,i),onMouseLeave:composeEventHandlers(bt,d),onTouchStart:composeEventHandlers(St,i)}]:[!1,e,{}]}function composeEventHandlers(a,o){return h=>{a&&a(h),h.defaultPrevented||o(h)}}function PrefetchPageLinks({page:a,...o}){let{router:h}=useDataRouterContext2(),g=reactExports.useMemo(()=>matchRoutes(h.routes,a,h.basename),[h.routes,a,h.basename]);return g?reactExports.createElement(PrefetchPageLinksImpl,{page:a,matches:g,...o}):null}function useKeyedPrefetchLinks(a){let{manifest:o,routeModules:h}=useFrameworkContext(),[g,xt]=reactExports.useState([]);return reactExports.useEffect(()=>{let Bt=!1;return getKeyedPrefetchLinks(a,o,h).then(Ut=>{Bt||xt(Ut)}),()=>{Bt=!0}},[a,o,h]),g}function PrefetchPageLinksImpl({page:a,matches:o,...h}){let g=useLocation(),{manifest:xt,routeModules:Bt}=useFrameworkContext(),{basename:Ut}=useDataRouterContext2(),{loaderData:$,matches:_t}=useDataRouterStateContext(),s=reactExports.useMemo(()=>getNewMatchesForLinks(a,o,_t,xt,g,"data"),[a,o,_t,xt,g]),bt=reactExports.useMemo(()=>getNewMatchesForLinks(a,o,_t,xt,g,"assets"),[a,o,_t,xt,g]),St=reactExports.useMemo(()=>{if(a===g.pathname+g.search+g.hash)return[];let d=new Set,ut=!1;if(o.forEach(et=>{var c;let _=xt.routes[et.route.id];!_||!_.hasLoader||(!s.some(lt=>lt.route.id===et.route.id)&&et.route.id in $&&((c=Bt[et.route.id])!=null&&c.shouldRevalidate)||_.hasClientLoader?ut=!0:d.add(et.route.id))}),d.size===0)return[];let dt=singleFetchUrl(a,Ut);return ut&&d.size>0&&dt.searchParams.set("_routes",o.filter(et=>d.has(et.route.id)).map(et=>et.route.id).join(",")),[dt.pathname+dt.search]},[Ut,$,g,xt,s,o,a,Bt]),e=reactExports.useMemo(()=>getModuleLinkHrefs(bt,xt),[bt,xt]),i=useKeyedPrefetchLinks(bt);return reactExports.createElement(reactExports.Fragment,null,St.map(d=>reactExports.createElement("link",{key:d,rel:"prefetch",as:"fetch",href:d,...h})),e.map(d=>reactExports.createElement("link",{key:d,rel:"modulepreload",href:d,...h})),i.map(({key:d,link:ut})=>reactExports.createElement("link",{key:d,...ut})))}function mergeRefs(...a){return o=>{a.forEach(h=>{typeof h=="function"?h(o):h!=null&&(h.current=o)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.3.0")}catch{}function BrowserRouter({basename:a,children:o,window:h}){let g=reactExports.useRef();g.current==null&&(g.current=createBrowserHistory({window:h,v5Compat:!0}));let xt=g.current,[Bt,Ut]=reactExports.useState({action:xt.action,location:xt.location}),$=reactExports.useCallback(_t=>{reactExports.startTransition(()=>Ut(_t))},[Ut]);return reactExports.useLayoutEffect(()=>xt.listen($),[xt,$]),reactExports.createElement(Router,{basename:a,children:o,location:Bt.location,navigationType:Bt.action,navigator:xt})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:o,discover:h="render",prefetch:g="none",relative:xt,reloadDocument:Bt,replace:Ut,state:$,target:_t,to:s,preventScrollReset:bt,viewTransition:St,...e},i){let{basename:d}=reactExports.useContext(NavigationContext),ut=typeof s=="string"&&ABSOLUTE_URL_REGEX2.test(s),dt,et=!1;if(typeof s=="string"&&ut&&(dt=s,isBrowser))try{let ot=new URL(window.location.href),mt=s.startsWith("//")?new URL(ot.protocol+s):new URL(s),Ct=stripBasename(mt.pathname,d);mt.origin===ot.origin&&Ct!=null?s=Ct+mt.search+mt.hash:et=!0}catch{warning(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=useHref(s,{relative:xt}),[c,lt,at]=usePrefetchBehavior(g,e),ct=useLinkClickHandler(s,{replace:Ut,state:$,target:_t,preventScrollReset:bt,relative:xt,viewTransition:St});function it(ot){o&&o(ot),ot.defaultPrevented||ct(ot)}let tt=reactExports.createElement("a",{...e,...at,href:dt||_,onClick:et||Bt?o:it,ref:mergeRefs(i,lt),target:_t,"data-discover":!ut&&h==="render"?"true":void 0});return c&&!ut?reactExports.createElement(reactExports.Fragment,null,tt,reactExports.createElement(PrefetchPageLinks,{page:_})):tt});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":o="page",caseSensitive:h=!1,className:g="",end:xt=!1,style:Bt,to:Ut,viewTransition:$,children:_t,...s},bt){let St=useResolvedPath(Ut,{relative:s.relative}),e=useLocation(),i=reactExports.useContext(DataRouterStateContext),{navigator:d,basename:ut}=reactExports.useContext(NavigationContext),dt=i!=null&&useViewTransitionState(St)&&$===!0,et=d.encodeLocation?d.encodeLocation(St).pathname:St.pathname,_=e.pathname,c=i&&i.navigation&&i.navigation.location?i.navigation.location.pathname:null;h||(_=_.toLowerCase(),c=c?c.toLowerCase():null,et=et.toLowerCase()),c&&ut&&(c=stripBasename(c,ut)||c);const lt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let at=_===et||!xt&&_.startsWith(et)&&_.charAt(lt)==="/",ct=c!=null&&(c===et||!xt&&c.startsWith(et)&&c.charAt(et.length)==="/"),it={isActive:at,isPending:ct,isTransitioning:dt},tt=at?o:void 0,ot;typeof g=="function"?ot=g(it):ot=[g,at?"active":null,ct?"pending":null,dt?"transitioning":null].filter(Boolean).join(" ");let mt=typeof Bt=="function"?Bt(it):Bt;return reactExports.createElement(Link,{...s,"aria-current":tt,className:ot,ref:bt,style:mt,to:Ut,viewTransition:$},typeof _t=="function"?_t(it):_t)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:a="render",fetcherKey:o,navigate:h,reloadDocument:g,replace:xt,state:Bt,method:Ut=defaultMethod,action:$,onSubmit:_t,relative:s,preventScrollReset:bt,viewTransition:St,...e},i)=>{let d=useSubmit(),ut=useFormAction($,{relative:s}),dt=Ut.toLowerCase()==="get"?"get":"post",et=typeof $=="string"&&ABSOLUTE_URL_REGEX2.test($),_=c=>{if(_t&&_t(c),c.defaultPrevented)return;c.preventDefault();let lt=c.nativeEvent.submitter,at=(lt==null?void 0:lt.getAttribute("formmethod"))||Ut;d(lt||c.currentTarget,{fetcherKey:o,method:at,navigate:h,replace:xt,state:Bt,relative:s,preventScrollReset:bt,viewTransition:St})};return reactExports.createElement("form",{ref:i,method:dt,action:ut,onSubmit:g?_t:_,...e,"data-discover":!et&&a==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(a){let o=reactExports.useContext(DataRouterContext);return invariant(o,getDataRouterConsoleError2(a)),o}function useLinkClickHandler(a,{target:o,replace:h,state:g,preventScrollReset:xt,relative:Bt,viewTransition:Ut}={}){let $=useNavigate(),_t=useLocation(),s=useResolvedPath(a,{relative:Bt});return reactExports.useCallback(bt=>{if(shouldProcessLinkClick(bt,o)){bt.preventDefault();let St=h!==void 0?h:createPath(_t)===createPath(s);$(a,{replace:St,state:g,preventScrollReset:xt,relative:Bt,viewTransition:Ut})}},[_t,$,s,h,g,o,a,xt,Bt,Ut])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:a}=useDataRouterContext3("useSubmit"),{basename:o}=reactExports.useContext(NavigationContext),h=useRouteId();return reactExports.useCallback(async(g,xt={})=>{let{action:Bt,method:Ut,encType:$,formData:_t,body:s}=getFormSubmissionInfo(g,o);if(xt.navigate===!1){let bt=xt.fetcherKey||getUniqueFetcherId();await a.fetch(bt,h,xt.action||Bt,{preventScrollReset:xt.preventScrollReset,formData:_t,body:s,formMethod:xt.method||Ut,formEncType:xt.encType||$,flushSync:xt.flushSync})}else await a.navigate(xt.action||Bt,{preventScrollReset:xt.preventScrollReset,formData:_t,body:s,formMethod:xt.method||Ut,formEncType:xt.encType||$,replace:xt.replace,state:xt.state,fromRouteId:h,flushSync:xt.flushSync,viewTransition:xt.viewTransition})},[a,o,h])}function useFormAction(a,{relative:o}={}){let{basename:h}=reactExports.useContext(NavigationContext),g=reactExports.useContext(RouteContext);invariant(g,"useFormAction must be used inside a RouteContext");let[xt]=g.matches.slice(-1),Bt={...useResolvedPath(a||".",{relative:o})},Ut=useLocation();if(a==null){Bt.search=Ut.search;let $=new URLSearchParams(Bt.search),_t=$.getAll("index");if(_t.some(bt=>bt==="")){$.delete("index"),_t.filter(St=>St).forEach(St=>$.append("index",St));let bt=$.toString();Bt.search=bt?`?${bt}`:""}}return(!a||a===".")&&xt.route.index&&(Bt.search=Bt.search?Bt.search.replace(/^\?/,"?index&"):"?index"),h!=="/"&&(Bt.pathname=Bt.pathname==="/"?h:joinPaths([h,Bt.pathname])),createPath(Bt)}function useViewTransitionState(a,o={}){let h=reactExports.useContext(ViewTransitionContext);invariant(h!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:g}=useDataRouterContext3("useViewTransitionState"),xt=useResolvedPath(a,{relative:o.relative});if(!h.isTransitioning)return!1;let Bt=stripBasename(h.currentLocation.pathname,g)||h.currentLocation.pathname,Ut=stripBasename(h.nextLocation.pathname,g)||h.nextLocation.pathname;return matchPath(xt.pathname,Ut)!=null||matchPath(xt.pathname,Bt)!=null}new TextEncoder;/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...a)=>a.filter((o,h,g)=>!!o&&g.indexOf(o)===h).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:h=2,absoluteStrokeWidth:g,className:xt="",children:Bt,iconNode:Ut,...$},_t)=>reactExports.createElement("svg",{ref:_t,...defaultAttributes,width:o,height:o,stroke:a,strokeWidth:g?Number(h)*24/Number(o):h,className:mergeClasses("lucide",xt),...$},[...Ut.map(([s,bt])=>reactExports.createElement(s,bt)),...Array.isArray(Bt)?Bt:[Bt]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(a,o)=>{const h=reactExports.forwardRef(({className:g,...xt},Bt)=>reactExports.createElement(Icon,{ref:Bt,iconNode:o,className:mergeClasses(`lucide-${toKebabCase(a)}`,g),...xt}));return h.displayName=`${a}`,h};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileUp=createLucideIcon("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Github=createLucideIcon("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize=createLucideIcon("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minimize=createLucideIcon("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ParticleNetwork=({interactive:a=!0})=>{const o=reactExports.useRef(null),[h,g]=reactExports.useState(!1);return reactExports.useEffect(()=>{const xt=o.current,Bt=xt.getContext("2d");let Ut,$=[],_t=[],s={x:null,y:null,radius:150},bt=null;const St=()=>{xt.width=window.innerWidth,xt.height=window.innerHeight};St(),window.addEventListener("resize",St);const e=lt=>{s.x=lt.clientX,s.y=lt.clientY};window.addEventListener("mousemove",e);const i=()=>{s.x=null,s.y=null};window.addEventListener("mouseleave",i);class d{constructor(){this.x=Math.random()*xt.width,this.y=-10,this.width=Math.random()*10+5,this.height=Math.random()*10+5,this.speed=Math.random()*3+2,this.color=`hsl(${Math.random()*360}, 50%, 50%)`,this.angle=Math.random()*360,this.spin=Math.random()*8-4}update(){this.y+=this.speed,this.angle+=this.spin}draw(){Bt.save(),Bt.translate(this.x,this.y),Bt.rotate(this.angle*Math.PI/180),Bt.fillStyle=this.color,Bt.fillRect(-this.width/2,-this.height/2,this.width,this.height),Bt.restore()}}class ut{constructor(){this.x=Math.random()*xt.width,this.y=Math.random()*xt.height,this.baseX=this.x,this.baseY=this.y,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=2,this.isCaught=!1}update(){if(this.x+=this.vx,this.y+=this.vy,a&&s.x!==null){const at=s.x-this.x,ct=s.y-this.y,it=Math.sqrt(at*at+ct*ct);if(it<s.radius){const tt=(s.radius-it)/s.radius,ot=at/it,mt=ct/it;this.x+=ot*tt*2,this.y+=mt*tt*2,it<30&&(this.isCaught=!0)}}(this.x<0||this.x>xt.width)&&(this.vx=-this.vx,this.baseX=this.x),(this.y<0||this.y>xt.height)&&(this.vy=-this.vy,this.baseY=this.y),this.baseX+=this.vx,this.baseY+=this.vy}release(){this.isCaught=!1;const at=this.x-s.x,ct=this.y-s.y,it=Math.sqrt(at*at+ct*ct),tt=at/it,ot=ct/it;this.vx=tt*(Math.random()*1+2),this.vy=ot*(Math.random()*1+2)}draw(){Bt.beginPath(),Bt.arc(this.x,this.y,this.radius,0,Math.PI*2),Bt.fillStyle="rgba(255, 255, 255, 0.8)",Bt.fill()}}const dt=()=>{$.every(at=>at.isCaught)&&!h&&(g(!0),_t=Array.from({length:100},()=>new d),$.forEach(at=>at.release()),bt=setTimeout(()=>{g(!1)},2e3))};(()=>{const lt=Math.min(100,xt.width*xt.height/2e4);$=Array.from({length:lt},()=>new ut)})();const _=()=>{$.forEach((lt,at)=>{$.slice(at+1).forEach(ct=>{const it=lt.x-ct.x,tt=lt.y-ct.y,ot=Math.sqrt(it*it+tt*tt),mt=150;if(ot<mt){Bt.beginPath(),Bt.moveTo(lt.x,lt.y),Bt.lineTo(ct.x,ct.y);const Ct=1-ot/mt;Bt.strokeStyle=`rgba(255, 255, 255, ${Ct*.2})`,Bt.stroke()}})})},c=()=>{Bt.clearRect(0,0,xt.width,xt.height),$.forEach(lt=>{lt.update(),lt.draw()}),_(),_t=_t.filter(lt=>lt.y<xt.height),_t.forEach(lt=>{lt.update(),lt.draw()}),dt(),Ut=requestAnimationFrame(c)};return c(),()=>{window.removeEventListener("resize",St),window.removeEventListener("mousemove",e),window.removeEventListener("mouseleave",i),cancelAnimationFrame(Ut),bt&&clearTimeout(bt)}},[a]),jsxRuntimeExports.jsx("canvas",{ref:o,className:"fixed top-0 left-0 w-full h-full -z-10",style:{background:"#171a19"}})},LandingPage=()=>{const[a,o]=reactExports.useState(!1),h="info@adrianmiller.ch",g=()=>{navigator.clipboard.writeText(h).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})},xt=[{color:"border-my-green bg-my-green",title:"About",path:"/about"},{color:"border-my-yellow bg-my-yellow",title:"Projects",path:"/projects"},{color:"border-my-red bg-my-red",title:"Contact",path:"/contact"},{color:"border-my-blue bg-my-blue",title:"Resources",path:"/resources"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-transparent text-white flex flex-col justify-between p-4 md:p-8",children:[jsxRuntimeExports.jsx(ParticleNetwork,{}),jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-20 bg-transparent -mx-4 md:-mx-8",children:jsxRuntimeExports.jsx("div",{className:"w-full px-4 md:px-8",children:jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8"}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("div",{className:"flex justify-center space-x-6 py-4",children:xt.map((Bt,Ut)=>jsxRuntimeExports.jsxs(Link,{to:Bt.path,className:"group relative",children:[jsxRuntimeExports.jsx("div",{className:`w-5 h-5 ${Bt.color} rounded-full cursor-pointer 
                                            border-2 hover:bg-opacity-100 bg-opacity-0 
                                            transition-all duration-300 hover:scale-110`}),jsxRuntimeExports.jsx("div",{className:`absolute invisible group-hover:visible opacity-0 
                                            group-hover:opacity-100 top-full left-1/2 -translate-x-1/2 
                                            pt-4 transition-all duration-300`,children:jsxRuntimeExports.jsx("div",{className:`${Bt.color} p-3 rounded-lg border-2 bg-opacity-20`,children:jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium whitespace-nowrap",children:Bt.title})})})]},Ut))})})]})})}),jsxRuntimeExports.jsx("main",{className:"flex-grow flex flex-col items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"w-full lg:w-2/3 text-center lg:text-left",children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-6xl lg:text-7xl font-bold mb-6 px-4 lg:px-0 leading-tight",children:["Hello there! ",jsxRuntimeExports.jsx("br",{})," I'm ",jsxRuntimeExports.jsx("span",{className:"text-my-purple",children:"Adrian"})]}),jsxRuntimeExports.jsxs("p",{className:"mb-6 mt-4 md:mt-8 flex items-center px-4 lg:px-0 text-2xl sm:text-2xl md:text-xl lg:text-lg",children:[jsxRuntimeExports.jsx("a",{href:`mailto:${h}`,className:"hover:text-my-blue transition-colors duration-300 cursor-pointer",children:h}),jsxRuntimeExports.jsx("button",{onClick:g,className:"ml-4 p-1 rounded-full hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-none focus:ring-offset-2 focus:ring-offset-my-gray focus:ring-white",title:"Copy email address",children:a?jsxRuntimeExports.jsx(Check,{size:20,className:"text-my-green"}):jsxRuntimeExports.jsx(Copy,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col lg:flex-row gap-6 px-4 lg:px-0",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-start lg:flex-row lg:items-center gap-6",children:[jsxRuntimeExports.jsx(Link,{to:"/projects",className:"animated-underline text-my-yellow font-bold text-2xl sm:text-2xl md:text-xl lg:text-lg",children:"My projects"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"animated-underline text-my-red font-bold text-2xl sm:text-2xl md:text-xl lg:text-lg",children:"My contact info"}),jsxRuntimeExports.jsx(Link,{to:"/resources",className:"animated-underline text-my-blue font-bold text-2xl sm:text-2xl md:text-xl lg:text-lg",children:"Download my résumé"})]})})]})}),jsxRuntimeExports.jsxs("footer",{className:"flex justify-center space-x-6 mt-0",children:[jsxRuntimeExports.jsx("a",{href:"https://linkedin.com/in/adrian-miller99",className:"text-gray-500 hover:text-white",children:jsxRuntimeExports.jsx(Linkedin,{size:24})}),jsxRuntimeExports.jsx("a",{href:"https://github.com/AdrianMiller99",className:"text-gray-500 hover:text-white",children:jsxRuntimeExports.jsx(Github,{size:24})})]})]})},Layout=({children:a})=>{const o=useLocation(),h=o.pathname==="/",g=[{color:"border-my-green bg-my-green",title:"About",path:"/about"},{color:"border-my-yellow bg-my-yellow",title:"Projects",path:"/projects"},{color:"border-my-red bg-my-red",title:"Contact",path:"/contact"},{color:"border-my-blue bg-my-blue",title:"Resources",path:"/resources"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-transparent text-white flex flex-col justify-between p-4 md:p-8",children:[jsxRuntimeExports.jsx(ParticleNetwork,{interactive:h}),jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-20 bg-my-gray/80 backdrop-blur-sm -mx-4 md:-mx-8",children:jsxRuntimeExports.jsx("div",{className:"w-full px-4 md:px-8",children:jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx(Link,{to:"/",className:"hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("img",{src:"/white.svg",alt:"Logo",className:"w-8 h-8"})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("div",{className:"flex justify-center space-x-6 py-4",children:g.map((xt,Bt)=>jsxRuntimeExports.jsxs(Link,{to:xt.path,className:"group relative",children:[jsxRuntimeExports.jsx("div",{className:`w-5 h-5 ${xt.color} rounded-full cursor-pointer 
                                            border-2 hover:bg-opacity-100 bg-opacity-0 
                                            transition-all duration-300 hover:scale-110
                                            ${o.pathname===xt.path?"bg-opacity-100":""}`}),jsxRuntimeExports.jsx("div",{className:`absolute invisible group-hover:visible opacity-0 
                                            group-hover:opacity-100 top-full left-1/2 -translate-x-1/2 
                                            pt-4 transition-all duration-300`,children:jsxRuntimeExports.jsx("div",{className:`${xt.color} p-3 rounded-lg border-2 bg-opacity-20`,children:jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium whitespace-nowrap",children:xt.title})})})]},Bt))})})]})})}),jsxRuntimeExports.jsx("main",{className:"flex-grow mt-8 md:mt-12",children:a}),jsxRuntimeExports.jsxs("footer",{className:"flex justify-center space-x-6 mt-6",children:[jsxRuntimeExports.jsx("a",{href:"https://linkedin.com/in/adrian-miller99",className:"text-gray-500 hover:text-white",children:jsxRuntimeExports.jsx(Linkedin,{size:24})}),jsxRuntimeExports.jsx("a",{href:"https://github.com/AdrianMiller99",className:"text-gray-500 hover:text-white",children:jsxRuntimeExports.jsx(Github,{size:24})})]})]})},About=()=>{const a=["React","Next.js","JavaScript","TypeScript","Python","Java","C#","C","Kotlin","Haskell","HTML5","CSS","SQL","MySQL","MongoDB","Oracle Database","Pandas","Node.js","Android Development","Unity","Godot","Git","Docker","Android Studio","Scrum","Project Planning"];return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-8",children:"About Me"}),jsxRuntimeExports.jsxs("section",{className:"mb-12 flex flex-col md:flex-row gap-8",children:[jsxRuntimeExports.jsx("div",{className:"md:w-1/3",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-800 bg-opacity-50 p-4 rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:"/headshot.jpg",alt:"Adrian Miller",className:"w-full h-auto rounded-md"})})}),jsxRuntimeExports.jsx("div",{className:"md:w-2/3",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-800 bg-opacity-50 p-6 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"mb-4",children:[jsxRuntimeExports.jsx("p",{children:"Hi, I'm Adrian, a computer science student from Switzerland with a passion for blending creativity and technology. While coding is at the heart of what I do, my creative pursuits don't end there—I express myself through music by playing the piano and crafting digital art with 3D modeling in Blender."}),jsxRuntimeExports.jsx("p",{children:"I'm also an avid gamer who enjoys exploring virtual worlds, understanding game mechanics, and even developing my own game projects. My love for geography often finds its way into my hobbies, whether through strategy games, maps, trivia, or exploring my local geography on my bike."}),jsxRuntimeExports.jsx("p",{children:"I'm always looking for new challenges and projects that allow me to combine technology with creativity. Feel free to reach out if you share similar interests or just want to connect!"})]})})})]}),jsxRuntimeExports.jsxs("section",{className:"mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Skills"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-800 bg-opacity-50 p-6 rounded-lg",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((o,h)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-my-green bg-opacity-20 rounded-full text-sm",children:o},h))})})]})]})})},Projects=()=>{const a=[{id:"decolonise",title:"Decolonise Volunteering",description:"An interactive web application featuring an informative quiz about decolonization for SCI Switzerland, designed for potential volunteers.",category:"Web Development",tags:["React","JavaScript","CSS","Spring Boot","Java","MySQL","Docker"],image:"/decolonise.png"},{id:"gradient",title:"Gradient Wallpaper Generator",description:"A beautiful, user-friendly tool for creating custom gradient wallpapers in various aspect ratios.",category:"Web Development",tags:["TypeScript","React","HTML","Tailwind CSS"],image:"/gradient.png"},{id:"valor",title:"Chronicles of Valor",description:"A turn-based fantasy tactical role-playing game with a retro aesthetic, inspired by classic Fire Emblem games.",category:"Game Development",tags:["Godot","GDScript"],image:"/Chronicles_Of_Valor.png",underConstruction:!0}];return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Projects"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((o,h)=>jsxRuntimeExports.jsxs(Link,{to:`/projects/${o.id}`,className:"bg-gray-800 bg-opacity-50 rounded-lg overflow-hidden hover:bg-opacity-70 transition duration-300",children:[jsxRuntimeExports.jsx("div",{className:"h-48 bg-gray-700 overflow-hidden",children:o.image&&jsxRuntimeExports.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:o.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-4",children:o.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.tags.map((g,xt)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-my-yellow bg-opacity-20 rounded-full text-sm",children:g},xt)),o.underConstruction&&jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-my-red bg-opacity-20 rounded-full text-sm",children:"Under Construction"})]})]})]},h))})]})})},ProjectDetail=()=>{const{projectName:a}=useParams(),h=useLocation().pathname.substring(1),Ut=h==="decolonise"?"decolonise":h==="gradient"?"gradient":h==="valor"?"valor":a,[$,_t]=reactExports.useState(null);return reactExports.useEffect(()=>{const s={decolonise:{title:"Decolonise Volunteering",description:"An interactive web application featuring an informative quiz about decolonization for SCI Switzerland, designed for potential volunteers.",fullDescription:`This project was developed as part of my studies at the University of Applied Sciences and Arts Northwestern Switzerland. 
                It was created in collaboration with SCI Switzerland. The goal was to create an interactive tool that educates people who want to volunteer about decolonization principles and practices. The quiz format makes learning engaging while providing valuable information about ethical volunteering approaches.`,deployedUrl:"https://scich.org/decolonize-tool/",githubUrl:"#",technologies:["React","JavaScript","CSS","Spring Boot","Java","MySQL","Docker"],coverImage:"/decolonise.png",images:["/decolonise.png"],date:"2023"},gradient:{title:"Gradient Wallpaper Generator",description:"A beautiful, user-friendly tool for creating custom gradient wallpapers in various aspect ratios.",fullDescription:`I created this project one evening when I wanted a new desktop wallpaper but couldn't find anything I liked. The tool allows users to:

• Create customized gradient wallpapers with up to 5 colors
• Adjust gradient angle and opacity of each color
• Select from common screen resolutions (16:9, 4:3, 21:9, etc.)
• Support for custom dimensions
• Toggle between light and dark themes
• Download wallpapers in PNG format

It was a fun project to build and deploy in the short span of a couple of hours. The tool provides a straightforward interface for creating beautiful custom wallpapers quickly.`,deployedUrl:"https://gradients.adrianmiller.ch/",githubUrl:"https://github.com/AdrianMiller99/gradient_wallpaper_generator",technologies:["TypeScript","React","HTML","Tailwind CSS"],coverImage:"/gradient.png",images:["/gradient.png"],date:"2023"},valor:{title:"Chronicles of Valor",description:"A turn-based fantasy tactical role-playing game with a retro aesthetic, inspired by classic Fire Emblem games.",underConstruction:!0,fullDescription:`Chronicles of Valor is a passion project born out of nostalgia. After finding an old Fire Emblem GameBoy game I played as a child, I was inspired to create my own tactical RPG with similar gameplay mechanics but with my own unique twist.

This project is developed using the Godot Engine and GDScript. I chose Godot for this project because I had already gained experience with Unity during my university studies and wanted to explore a different game development ecosystem.

Key Features (Planned):
• Turn-based tactical combat on grid-based maps
• Character progression and class system
• Story-driven campaign with branching narratives
• Retro pixel art aesthetic
• Strategic unit positioning and terrain advantages

The game is still early in development with core systems being built out. The repository is private, and no demo is currently available as the project still evolves.`,deployedUrl:"",githubUrl:"",technologies:["Godot","GDScript"],coverImage:"/Chronicles_Of_Valor.png",images:["/Chronicles_Of_Valor.png"],date:"2024"}};Ut&&s[Ut]&&_t(s[Ut])},[Ut]),$?jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto py-10",children:[jsxRuntimeExports.jsxs("div",{className:"mb-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:$.title}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 mb-6",children:$.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[$.technologies.map((s,bt)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-my-yellow bg-opacity-20 rounded-full text-sm",children:s},bt)),$.underConstruction&&jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-my-red bg-opacity-20 rounded-full text-sm",children:"Under Construction"})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-10",children:jsxRuntimeExports.jsx("img",{src:$.coverImage,alt:$.title,className:"w-full h-auto rounded-lg mb-6"})}),jsxRuntimeExports.jsx("div",{className:"prose prose-invert max-w-none mb-10",children:jsxRuntimeExports.jsx("p",{className:"whitespace-pre-line",children:$.fullDescription})}),$.deployedUrl&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:"Live Demo"}),jsxRuntimeExports.jsx("a",{href:$.deployedUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-my-yellow text-black font-medium px-6 py-3 rounded-lg hover:bg-opacity-90 transition",children:"Visit Project"})]}),$.githubUrl&&$.githubUrl!=="#"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:"Source Code"}),jsxRuntimeExports.jsx("a",{href:$.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gray-800 text-white font-medium px-6 py-3 rounded-lg hover:bg-gray-700 transition",children:"View on GitHub"})]})]})}):jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto py-10",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl",children:"Project not found"})})})};class EmailJSResponseStatus{constructor(o=0,h="Network Error"){this.status=o,this.text=h}}const createWebStorage=()=>{if(!(typeof localStorage>"u"))return{get:a=>Promise.resolve(localStorage.getItem(a)),set:(a,o)=>Promise.resolve(localStorage.setItem(a,o)),remove:a=>Promise.resolve(localStorage.removeItem(a))}},store={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:createWebStorage()},buildOptions=a=>a?typeof a=="string"?{publicKey:a}:a.toString()==="[object Object]"?a:{}:{},init=(a,o="https://api.emailjs.com")=>{if(!a)return;const h=buildOptions(a);store.publicKey=h.publicKey,store.blockHeadless=h.blockHeadless,store.storageProvider=h.storageProvider,store.blockList=h.blockList,store.limitRate=h.limitRate,store.origin=h.origin||o},sendPost=async(a,o,h={})=>{const g=await fetch(store.origin+a,{method:"POST",headers:h,body:o}),xt=await g.text(),Bt=new EmailJSResponseStatus(g.status,xt);if(g.ok)return Bt;throw Bt},validateParams=(a,o,h)=>{if(!a||typeof a!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!o||typeof o!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!h||typeof h!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},validateTemplateParams=a=>{if(a&&a.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},isHeadless=a=>a.webdriver||!a.languages||a.languages.length===0,headlessError=()=>new EmailJSResponseStatus(451,"Unavailable For Headless Browser"),validateBlockListParams=(a,o)=>{if(!Array.isArray(a))throw"The BlockList list has to be an array";if(typeof o!="string")throw"The BlockList watchVariable has to be a string"},isBlockListDisabled=a=>{var o;return!((o=a.list)!=null&&o.length)||!a.watchVariable},getValue=(a,o)=>a instanceof FormData?a.get(o):a[o],isBlockedValueInParams=(a,o)=>{if(isBlockListDisabled(a))return!1;validateBlockListParams(a.list,a.watchVariable);const h=getValue(o,a.watchVariable);return typeof h!="string"?!1:a.list.includes(h)},blockedEmailError=()=>new EmailJSResponseStatus(403,"Forbidden"),validateLimitRateParams=(a,o)=>{if(typeof a!="number"||a<0)throw"The LimitRate throttle has to be a positive number";if(o&&typeof o!="string")throw"The LimitRate ID has to be a non-empty string"},getLeftTime=async(a,o,h)=>{const g=Number(await h.get(a)||0);return o-Date.now()+g},isLimitRateHit=async(a,o,h)=>{if(!o.throttle||!h)return!1;validateLimitRateParams(o.throttle,o.id);const g=o.id||a;return await getLeftTime(g,o.throttle,h)>0?!0:(await h.set(g,Date.now().toString()),!1)},limitRateError=()=>new EmailJSResponseStatus(429,"Too Many Requests"),send=async(a,o,h,g)=>{const xt=buildOptions(g),Bt=xt.publicKey||store.publicKey,Ut=xt.blockHeadless||store.blockHeadless,$=xt.storageProvider||store.storageProvider,_t={...store.blockList,...xt.blockList},s={...store.limitRate,...xt.limitRate};return Ut&&isHeadless(navigator)?Promise.reject(headlessError()):(validateParams(Bt,a,o),validateTemplateParams(h),h&&isBlockedValueInParams(_t,h)?Promise.reject(blockedEmailError()):await isLimitRateHit(location.pathname,s,$)?Promise.reject(limitRateError()):sendPost("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:Bt,service_id:a,template_id:o,template_params:h}),{"Content-type":"application/json"}))},validateForm=a=>{if(!a||a.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},findHTMLForm=a=>typeof a=="string"?document.querySelector(a):a,sendForm=async(a,o,h,g)=>{const xt=buildOptions(g),Bt=xt.publicKey||store.publicKey,Ut=xt.blockHeadless||store.blockHeadless,$=store.storageProvider||xt.storageProvider,_t={...store.blockList,...xt.blockList},s={...store.limitRate,...xt.limitRate};if(Ut&&isHeadless(navigator))return Promise.reject(headlessError());const bt=findHTMLForm(h);validateParams(Bt,a,o),validateForm(bt);const St=new FormData(bt);return isBlockedValueInParams(_t,St)?Promise.reject(blockedEmailError()):await isLimitRateHit(location.pathname,s,$)?Promise.reject(limitRateError()):(St.append("lib_version","4.4.1"),St.append("service_id",a),St.append("template_id",o),St.append("user_id",Bt),sendPost("/api/v1.0/email/send-form",St))},emailjs={init,send,sendForm,EmailJSResponseStatus},Contact=()=>{const[a,o]=reactExports.useState({name:"",email:"",message:""}),[h,g]=reactExports.useState({type:"",message:""}),xt=reactExports.useRef(),Bt=Ut=>{Ut.preventDefault(),g({type:"info",message:"Sending..."}),emailjs.sendForm("service_7r4syle","template_gr3ccl2",xt.current,"C7cXyFoQNWwISAVty").then($=>{g({type:"success",message:"Message sent successfully!"}),o({name:"",email:"",message:""})},$=>{g({type:"error",message:"Failed to send message. Please try again."})})};return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Contact"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-6 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Get in Touch"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Mail,{className:"text-my-red"}),jsxRuntimeExports.jsx("span",{children:"info@adrianmiller.ch"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(MapPin,{className:"text-my-red"}),jsxRuntimeExports.jsx("span",{children:"Solothurn, Switzerland"})]})]}),jsxRuntimeExports.jsxs("form",{ref:xt,onSubmit:Bt,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"hidden",name:"to_name",value:"Adrian"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-white",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"from_name",className:"w-full p-2 rounded bg-gray-700 bg-opacity-80 border border-gray-600 focus:border-my-red focus:outline-none focus:ring-1 focus:ring-my-red text-white",value:a.name,onChange:Ut=>o({...a,name:Ut.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-white",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"from_email",className:"w-full p-2 rounded bg-gray-700 bg-opacity-80 border border-gray-600 focus:border-my-red focus:outline-none focus:ring-1 focus:ring-my-red text-white",value:a.email,onChange:Ut=>o({...a,email:Ut.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-white",children:"Message"}),jsxRuntimeExports.jsx("textarea",{name:"message",className:"w-full p-2 rounded bg-gray-700 bg-opacity-80 border border-gray-600 focus:border-my-red focus:outline-none focus:ring-1 focus:ring-my-red text-white h-32",value:a.message,onChange:Ut=>o({...a,message:Ut.target.value}),required:!0})]}),h.message&&jsxRuntimeExports.jsx("div",{className:`p-3 rounded ${h.type==="success"?"bg-green-500/30 text-green-200":h.type==="error"?"bg-red-500/30 text-red-200":"bg-blue-500/30 text-blue-200"}`,children:h.message}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-6 py-2 bg-my-red rounded hover:bg-opacity-80 transition-colors duration-300",children:"Send Message"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-rows-2 gap-6 h-full",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-800 bg-opacity-50 p-6 rounded-lg flex flex-col justify-center items-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("img",{src:"/headshot.jpg",alt:"Adrian Miller",className:"w-32 h-32 object-cover rounded-full mx-auto mb-4 border-2 border-my-red"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Adrian Miller"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Software Developer"})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 bg-opacity-50 p-6 rounded-lg flex flex-col justify-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Connect With Me"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("a",{href:"https://linkedin.com/in/adrian-miller99",className:"bg-blue-900 bg-opacity-30 flex flex-col items-center p-4 rounded-lg hover:bg-opacity-50 transition-all transform hover:-translate-y-1",target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Linkedin,{size:32,className:"text-blue-400 mb-2"}),jsxRuntimeExports.jsx("span",{children:"LinkedIn"})]}),jsxRuntimeExports.jsxs("a",{href:"https://github.com/AdrianMiller99",className:"bg-gray-700 bg-opacity-30 flex flex-col items-center p-4 rounded-lg hover:bg-opacity-50 transition-all transform hover:-translate-y-1",target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Github,{size:32,className:"text-gray-300 mb-2"}),jsxRuntimeExports.jsx("span",{children:"GitHub"})]})]})]})]})]})]})})};function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(o,h){module.exports=o.pdfjsLib=h()})(globalThis,()=>(()=>{var __webpack_modules__=[,(a,o)=>{var An;Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.RenderingIntentFlag=o.PromiseCapability=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.MAX_IMAGE_SIZE_TO_CACHE=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.BASELINE_FACTOR=o.AnnotationType=o.AnnotationReplyType=o.AnnotationPrefix=o.AnnotationMode=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.assert=b,o.bytesToString=Ht,o.createValidAbsoluteUrl=Ot,o.getModificationDate=Zt,o.getUuid=an,o.getVerbosityLevel=Et,o.info=rt,o.isArrayBuffer=Wt,o.isArrayEqual=Gt,o.isNodeJS=void 0,o.normalizeUnicode=en,o.objectFromMap=Xt,o.objectSize=_e,o.setVerbosityLevel=Tt,o.shadow=kt,o.string32=Qt,o.stringToBytes=Vt,o.stringToPDFString=$t,o.stringToUTF8String=zt,o.unreachable=wt,o.utf8StringToString=qt,o.warn=ft;const h=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=h;const g=[1,0,0,1,0,0];o.IDENTITY_MATRIX=g;const xt=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=xt;const Bt=1e7;o.MAX_IMAGE_SIZE_TO_CACHE=Bt;const Ut=1.35;o.LINE_FACTOR=Ut;const $=.35;o.LINE_DESCENT_FACTOR=$;const _t=$/Ut;o.BASELINE_FACTOR=_t;const s={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=s;const bt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=bt;const St="pdfjs_internal_editor_";o.AnnotationEditorPrefix=St;const e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};o.AnnotationEditorType=e;const i={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};o.AnnotationEditorParamsType=i;const d={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=d;const ut={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=ut;const dt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=dt;const et={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=et;const _={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=_;const c={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=c;const lt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=lt;const at={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=at;const ct={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=ct;const it={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=it;const tt={O:"PageOpen",C:"PageClose"};o.PageActionEventType=tt;const ot={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=ot;const mt={NONE:0,BINARY:1};o.CMapCompressionType=mt;const Ct={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=Ct;const Nt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=Nt;let Pt=ot.WARNINGS;function Tt(cn){Number.isInteger(cn)&&(Pt=cn)}function Et(){return Pt}function rt(cn){Pt>=ot.INFOS&&console.log(`Info: ${cn}`)}function ft(cn){Pt>=ot.WARNINGS&&console.log(`Warning: ${cn}`)}function wt(cn){throw new Error(cn)}function b(cn,hn){cn||wt(hn)}function pt(cn){switch(cn==null?void 0:cn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ot(cn,hn=null,fn=null){if(!cn)return null;try{if(fn&&typeof cn=="string"){if(fn.addDefaultProtocol&&cn.startsWith("www.")){const kn=cn.match(/\./g);(kn==null?void 0:kn.length)>=2&&(cn=`http://${cn}`)}if(fn.tryConvertEncoding)try{cn=zt(cn)}catch{}}const Cn=hn?new URL(cn,hn):new URL(cn);if(pt(Cn))return Cn}catch{}return null}function kt(cn,hn,fn,Cn=!1){return Object.defineProperty(cn,hn,{value:fn,enumerable:!Cn,configurable:!0,writable:!1}),fn}const st=function(){function hn(fn,Cn){this.constructor===hn&&wt("Cannot initialize BaseException."),this.message=fn,this.name=Cn}return hn.prototype=new Error,hn.constructor=hn,hn}();o.BaseException=st;class nt extends st{constructor(hn,fn){super(hn,"PasswordException"),this.code=fn}}o.PasswordException=nt;class gt extends st{constructor(hn,fn){super(hn,"UnknownErrorException"),this.details=fn}}o.UnknownErrorException=gt;class Ft extends st{constructor(hn){super(hn,"InvalidPDFException")}}o.InvalidPDFException=Ft;class yt extends st{constructor(hn){super(hn,"MissingPDFException")}}o.MissingPDFException=yt;class vt extends st{constructor(hn,fn){super(hn,"UnexpectedResponseException"),this.status=fn}}o.UnexpectedResponseException=vt;class Lt extends st{constructor(hn){super(hn,"FormatError")}}o.FormatError=Lt;class jt extends st{constructor(hn){super(hn,"AbortException")}}o.AbortException=jt;function Ht(cn){(typeof cn!="object"||(cn==null?void 0:cn.length)===void 0)&&wt("Invalid argument for bytesToString");const hn=cn.length,fn=8192;if(hn<fn)return String.fromCharCode.apply(null,cn);const Cn=[];for(let kn=0;kn<hn;kn+=fn){const Rn=Math.min(kn+fn,hn),sn=cn.subarray(kn,Rn);Cn.push(String.fromCharCode.apply(null,sn))}return Cn.join("")}function Vt(cn){typeof cn!="string"&&wt("Invalid argument for stringToBytes");const hn=cn.length,fn=new Uint8Array(hn);for(let Cn=0;Cn<hn;++Cn)fn[Cn]=cn.charCodeAt(Cn)&255;return fn}function Qt(cn){return String.fromCharCode(cn>>24&255,cn>>16&255,cn>>8&255,cn&255)}function _e(cn){return Object.keys(cn).length}function Xt(cn){const hn=Object.create(null);for(const[fn,Cn]of cn)hn[fn]=Cn;return hn}function Dt(){const cn=new Uint8Array(4);return cn[0]=1,new Uint32Array(cn.buffer,0,1)[0]===1}function It(){try{return new Function(""),!0}catch{return!1}}class j{static get isLittleEndian(){return kt(this,"isLittleEndian",Dt())}static get isEvalSupported(){return kt(this,"isEvalSupported",It())}static get isOffscreenCanvasSupported(){return kt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?kt(this,"platform",{isWin:!1,isMac:!1}):kt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var hn,fn;return kt(this,"isCSSRoundSupported",(fn=(hn=globalThis.CSS)==null?void 0:hn.supports)==null?void 0:fn.call(hn,"width: round(1.5px, 1px)"))}}o.FeatureTest=j;const At=[...Array(256).keys()].map(cn=>cn.toString(16).padStart(2,"0"));class Mt{static makeHexColor(hn,fn,Cn){return`#${At[hn]}${At[fn]}${At[Cn]}`}static scaleMinMax(hn,fn){let Cn;hn[0]?(hn[0]<0&&(Cn=fn[0],fn[0]=fn[1],fn[1]=Cn),fn[0]*=hn[0],fn[1]*=hn[0],hn[3]<0&&(Cn=fn[2],fn[2]=fn[3],fn[3]=Cn),fn[2]*=hn[3],fn[3]*=hn[3]):(Cn=fn[0],fn[0]=fn[2],fn[2]=Cn,Cn=fn[1],fn[1]=fn[3],fn[3]=Cn,hn[1]<0&&(Cn=fn[2],fn[2]=fn[3],fn[3]=Cn),fn[2]*=hn[1],fn[3]*=hn[1],hn[2]<0&&(Cn=fn[0],fn[0]=fn[1],fn[1]=Cn),fn[0]*=hn[2],fn[1]*=hn[2]),fn[0]+=hn[4],fn[1]+=hn[4],fn[2]+=hn[5],fn[3]+=hn[5]}static transform(hn,fn){return[hn[0]*fn[0]+hn[2]*fn[1],hn[1]*fn[0]+hn[3]*fn[1],hn[0]*fn[2]+hn[2]*fn[3],hn[1]*fn[2]+hn[3]*fn[3],hn[0]*fn[4]+hn[2]*fn[5]+hn[4],hn[1]*fn[4]+hn[3]*fn[5]+hn[5]]}static applyTransform(hn,fn){const Cn=hn[0]*fn[0]+hn[1]*fn[2]+fn[4],kn=hn[0]*fn[1]+hn[1]*fn[3]+fn[5];return[Cn,kn]}static applyInverseTransform(hn,fn){const Cn=fn[0]*fn[3]-fn[1]*fn[2],kn=(hn[0]*fn[3]-hn[1]*fn[2]+fn[2]*fn[5]-fn[4]*fn[3])/Cn,Rn=(-hn[0]*fn[1]+hn[1]*fn[0]+fn[4]*fn[1]-fn[5]*fn[0])/Cn;return[kn,Rn]}static getAxialAlignedBoundingBox(hn,fn){const Cn=this.applyTransform(hn,fn),kn=this.applyTransform(hn.slice(2,4),fn),Rn=this.applyTransform([hn[0],hn[3]],fn),sn=this.applyTransform([hn[2],hn[1]],fn);return[Math.min(Cn[0],kn[0],Rn[0],sn[0]),Math.min(Cn[1],kn[1],Rn[1],sn[1]),Math.max(Cn[0],kn[0],Rn[0],sn[0]),Math.max(Cn[1],kn[1],Rn[1],sn[1])]}static inverseTransform(hn){const fn=hn[0]*hn[3]-hn[1]*hn[2];return[hn[3]/fn,-hn[1]/fn,-hn[2]/fn,hn[0]/fn,(hn[2]*hn[5]-hn[4]*hn[3])/fn,(hn[4]*hn[1]-hn[5]*hn[0])/fn]}static singularValueDecompose2dScale(hn){const fn=[hn[0],hn[2],hn[1],hn[3]],Cn=hn[0]*fn[0]+hn[1]*fn[2],kn=hn[0]*fn[1]+hn[1]*fn[3],Rn=hn[2]*fn[0]+hn[3]*fn[2],sn=hn[2]*fn[1]+hn[3]*fn[3],En=(Cn+sn)/2,Pn=Math.sqrt((Cn+sn)**2-4*(Cn*sn-Rn*kn))/2,Ln=En+Pn||1,jn=En-Pn||1;return[Math.sqrt(Ln),Math.sqrt(jn)]}static normalizeRect(hn){const fn=hn.slice(0);return hn[0]>hn[2]&&(fn[0]=hn[2],fn[2]=hn[0]),hn[1]>hn[3]&&(fn[1]=hn[3],fn[3]=hn[1]),fn}static intersect(hn,fn){const Cn=Math.max(Math.min(hn[0],hn[2]),Math.min(fn[0],fn[2])),kn=Math.min(Math.max(hn[0],hn[2]),Math.max(fn[0],fn[2]));if(Cn>kn)return null;const Rn=Math.max(Math.min(hn[1],hn[3]),Math.min(fn[1],fn[3])),sn=Math.min(Math.max(hn[1],hn[3]),Math.max(fn[1],fn[3]));return Rn>sn?null:[Cn,Rn,kn,sn]}static bezierBoundingBox(hn,fn,Cn,kn,Rn,sn,En,Pn){const Ln=[],jn=[[],[]];let Nn,ln,rn,on,mn,gn,dn,Sn;for(let Dn=0;Dn<2;++Dn){if(Dn===0?(ln=6*hn-12*Cn+6*Rn,Nn=-3*hn+9*Cn-9*Rn+3*En,rn=3*Cn-3*hn):(ln=6*fn-12*kn+6*sn,Nn=-3*fn+9*kn-9*sn+3*Pn,rn=3*kn-3*fn),Math.abs(Nn)<1e-12){if(Math.abs(ln)<1e-12)continue;on=-rn/ln,0<on&&on<1&&Ln.push(on);continue}dn=ln*ln-4*rn*Nn,Sn=Math.sqrt(dn),!(dn<0)&&(mn=(-ln+Sn)/(2*Nn),0<mn&&mn<1&&Ln.push(mn),gn=(-ln-Sn)/(2*Nn),0<gn&&gn<1&&Ln.push(gn))}let bn=Ln.length,yn;const pn=bn;for(;bn--;)on=Ln[bn],yn=1-on,jn[0][bn]=yn*yn*yn*hn+3*yn*yn*on*Cn+3*yn*on*on*Rn+on*on*on*En,jn[1][bn]=yn*yn*yn*fn+3*yn*yn*on*kn+3*yn*on*on*sn+on*on*on*Pn;return jn[0][pn]=hn,jn[1][pn]=fn,jn[0][pn+1]=En,jn[1][pn+1]=Pn,jn[0].length=jn[1].length=pn+2,[Math.min(...jn[0]),Math.min(...jn[1]),Math.max(...jn[0]),Math.max(...jn[1])]}}o.Util=Mt;const Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function $t(cn){if(cn[0]>="ï"){let fn;if(cn[0]==="þ"&&cn[1]==="ÿ"?fn="utf-16be":cn[0]==="ÿ"&&cn[1]==="þ"?fn="utf-16le":cn[0]==="ï"&&cn[1]==="»"&&cn[2]==="¿"&&(fn="utf-8"),fn)try{const Cn=new TextDecoder(fn,{fatal:!0}),kn=Vt(cn);return Cn.decode(kn)}catch(Cn){ft(`stringToPDFString: "${Cn}".`)}}const hn=[];for(let fn=0,Cn=cn.length;fn<Cn;fn++){const kn=Rt[cn.charCodeAt(fn)];hn.push(kn?String.fromCharCode(kn):cn.charAt(fn))}return hn.join("")}function zt(cn){return decodeURIComponent(escape(cn))}function qt(cn){return unescape(encodeURIComponent(cn))}function Wt(cn){return typeof cn=="object"&&(cn==null?void 0:cn.byteLength)!==void 0}function Gt(cn,hn){if(cn.length!==hn.length)return!1;for(let fn=0,Cn=cn.length;fn<Cn;fn++)if(cn[fn]!==hn[fn])return!1;return!0}function Zt(cn=new Date){return[cn.getUTCFullYear().toString(),(cn.getUTCMonth()+1).toString().padStart(2,"0"),cn.getUTCDate().toString().padStart(2,"0"),cn.getUTCHours().toString().padStart(2,"0"),cn.getUTCMinutes().toString().padStart(2,"0"),cn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Yt{constructor(){Fn(this,An,!1);this.promise=new Promise((hn,fn)=>{this.resolve=Cn=>{On(this,An,!0),hn(Cn)},this.reject=Cn=>{On(this,An,!0),fn(Cn)}})}get settled(){return Kt(this,An)}}An=new WeakMap,o.PromiseCapability=Yt;let tn=null,nn=null;function en(cn){return tn||(tn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,nn=new Map([["ﬅ","ſt"]])),cn.replaceAll(tn,(hn,fn,Cn)=>fn?fn.normalize("NFKC"):nn.get(Cn))}function an(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const cn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(cn);else for(let hn=0;hn<32;hn++)cn[hn]=Math.floor(Math.random()*255);return Ht(cn)}const vn="pdfjs_internal_id_";o.AnnotationPrefix=vn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var a,h,g,xt,Ir,xa,$,_t,s,bt,St,e,i,d,ut,_a,et,_,Xs,lt,at;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(it){if(typeof it=="string"||it instanceof URL?it={url:it}:(0,_util.isArrayBuffer)(it)&&(it={data:it}),typeof it!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!it.url&&!it.data&&!it.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const tt=new PDFDocumentLoadingTask,{docId:ot}=tt,mt=it.url?getUrlProp(it.url):null,Ct=it.data?getDataProp(it.data):null,Nt=it.httpHeaders||null,Pt=it.withCredentials===!0,Tt=it.password??null,Et=it.range instanceof PDFDataRangeTransport?it.range:null,rt=Number.isInteger(it.rangeChunkSize)&&it.rangeChunkSize>0?it.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ft=it.worker instanceof PDFWorker?it.worker:null;const wt=it.verbosity,b=typeof it.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(it.docBaseUrl)?it.docBaseUrl:null,pt=typeof it.cMapUrl=="string"?it.cMapUrl:null,Ot=it.cMapPacked!==!1,kt=it.CMapReaderFactory||DefaultCMapReaderFactory,st=typeof it.standardFontDataUrl=="string"?it.standardFontDataUrl:null,nt=it.StandardFontDataFactory||DefaultStandardFontDataFactory,gt=it.stopAtErrors!==!0,Ft=Number.isInteger(it.maxImageSize)&&it.maxImageSize>-1?it.maxImageSize:-1,yt=it.isEvalSupported!==!1,vt=typeof it.isOffscreenCanvasSupported=="boolean"?it.isOffscreenCanvasSupported:!_util.isNodeJS,Lt=Number.isInteger(it.canvasMaxAreaInBytes)?it.canvasMaxAreaInBytes:-1,jt=typeof it.disableFontFace=="boolean"?it.disableFontFace:_util.isNodeJS,Ht=it.fontExtraProperties===!0,Vt=it.enableXfa===!0,Qt=it.ownerDocument||globalThis.document,_e=it.disableRange===!0,Xt=it.disableStream===!0,Dt=it.disableAutoFetch===!0,It=it.pdfBug===!0,j=Et?Et.length:it.length??NaN,At=typeof it.useSystemFonts=="boolean"?it.useSystemFonts:!_util.isNodeJS&&!jt,Mt=typeof it.useWorkerFetch=="boolean"?it.useWorkerFetch:kt===_display_utils.DOMCMapReaderFactory&&nt===_display_utils.DOMStandardFontDataFactory&&pt&&st&&(0,_display_utils.isValidFetchUrl)(pt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(st,document.baseURI),Rt=it.canvasFactory||new DefaultCanvasFactory({ownerDocument:Qt}),$t=it.filterFactory||new DefaultFilterFactory({docId:ot,ownerDocument:Qt}),zt=null;(0,_util.setVerbosityLevel)(wt);const qt={canvasFactory:Rt,filterFactory:$t};if(Mt||(qt.cMapReaderFactory=new kt({baseUrl:pt,isCompressed:Ot}),qt.standardFontDataFactory=new nt({baseUrl:st})),!ft){const Zt={verbosity:wt,port:_worker_options.GlobalWorkerOptions.workerPort};ft=Zt.port?PDFWorker.fromPort(Zt):new PDFWorker(Zt),tt._worker=ft}const Wt={docId:ot,apiVersion:"3.11.174",data:Ct,password:Tt,disableAutoFetch:Dt,rangeChunkSize:rt,length:j,docBaseUrl:b,enableXfa:Vt,evaluatorOptions:{maxImageSize:Ft,disableFontFace:jt,ignoreErrors:gt,isEvalSupported:yt,isOffscreenCanvasSupported:vt,canvasMaxAreaInBytes:Lt,fontExtraProperties:Ht,useSystemFonts:At,cMapUrl:Mt?pt:null,standardFontDataUrl:Mt?st:null}},Gt={ignoreErrors:gt,isEvalSupported:yt,disableFontFace:jt,fontExtraProperties:Ht,enableXfa:Vt,ownerDocument:Qt,disableAutoFetch:Dt,pdfBug:It,styleElement:zt};return ft.promise.then(function(){if(tt.destroyed)throw new Error("Loading aborted");const Zt=_fetchDocument(ft,Wt),Yt=new Promise(function(tn){let nn;Et?nn=new _transport_stream.PDFDataTransportStream({length:j,initialData:Et.initialData,progressiveDone:Et.progressiveDone,contentDispositionFilename:Et.contentDispositionFilename,disableRange:_e,disableStream:Xt},Et):Ct||(nn=(an=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(an):(0,_display_utils.isValidFetchUrl)(an.url)?new _displayFetch_stream.PDFFetchStream(an):new _displayNetwork.PDFNetworkStream(an))({url:mt,length:j,httpHeaders:Nt,withCredentials:Pt,rangeChunkSize:rt,disableRange:_e,disableStream:Xt})),tn(nn)});return Promise.all([Zt,Yt]).then(function([tn,nn]){if(tt.destroyed)throw new Error("Loading aborted");const en=new _message_handler.MessageHandler(ot,tn,ft.port),an=new WorkerTransport(en,tt,nn,Gt,qt);tt._transport=an,en.send("Ready",null)})}).catch(tt._capability.reject),tt}async function _fetchDocument(it,tt){if(it.destroyed)throw new Error("Worker was destroyed");const ot=await it.messageHandler.sendWithPromise("GetDocRequest",tt,tt.data?[tt.data.buffer]:null);if(it.destroyed)throw new Error("Worker was destroyed");return ot}function getUrlProp(it){if(it instanceof URL)return it.href;try{return new URL(it,window.location).href}catch{if(_util.isNodeJS&&typeof it=="string")return it}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(it){if(_util.isNodeJS&&typeof Buffer<"u"&&it instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(it instanceof Uint8Array&&it.byteLength===it.buffer.byteLength)return it;if(typeof it=="string")return(0,_util.stringToBytes)(it);if(typeof it=="object"&&!isNaN(it==null?void 0:it.length)||(0,_util.isArrayBuffer)(it))return new Uint8Array(it);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const o=class o{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${zr(o,a)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var tt,ot,mt;this.destroyed=!0;try{(tt=this._worker)!=null&&tt.port&&(this._worker._pendingDestroy=!0),await((ot=this._transport)==null?void 0:ot.destroy())}catch(Ct){throw(mt=this._worker)!=null&&mt.port&&delete this._worker._pendingDestroy,Ct}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};a=new WeakMap,Fn(o,a,0);let PDFDocumentLoadingTask=o;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(tt,ot,mt=!1,Ct=null){this.length=tt,this.initialData=ot,this.progressiveDone=mt,this.contentDispositionFilename=Ct,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(tt){this._rangeListeners.push(tt)}addProgressListener(tt){this._progressListeners.push(tt)}addProgressiveReadListener(tt){this._progressiveReadListeners.push(tt)}addProgressiveDoneListener(tt){this._progressiveDoneListeners.push(tt)}onDataRange(tt,ot){for(const mt of this._rangeListeners)mt(tt,ot)}onDataProgress(tt,ot){this._readyCapability.promise.then(()=>{for(const mt of this._progressListeners)mt(tt,ot)})}onDataProgressiveRead(tt){this._readyCapability.promise.then(()=>{for(const ot of this._progressiveReadListeners)ot(tt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const tt of this._progressiveDoneListeners)tt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(tt,ot){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(tt,ot){this._pdfInfo=tt,this._transport=ot,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(mt=>{if(!mt)return mt;const Ct=[];for(const Nt in mt)Ct.push(...mt[Nt]);return Ct}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(tt){return this._transport.getPage(tt)}getPageIndex(tt){return this._transport.getPageIndex(tt)}getDestinations(){return this._transport.getDestinations()}getDestination(tt){return this._transport.getDestination(tt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(tt=!1){return this._transport.startCleanup(tt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(tt,ot,mt,Ct=!1){Fn(this,xt);Fn(this,h,null);Fn(this,g,!1);this._pageIndex=tt,this._pageInfo=ot,this._transport=mt,this._stats=Ct?new _display_utils.StatTimer:null,this._pdfBug=Ct,this.commonObjs=mt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:tt,rotation:ot=this.rotate,offsetX:mt=0,offsetY:Ct=0,dontFlip:Nt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:tt,rotation:ot,offsetX:mt,offsetY:Ct,dontFlip:Nt})}getAnnotations({intent:tt="display"}={}){const ot=this._transport.getRenderingIntent(tt);return this._transport.getAnnotations(this._pageIndex,ot.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var tt;return((tt=this._transport._htmlForXfa)==null?void 0:tt.children[this._pageIndex])||null}render({canvasContext:tt,viewport:ot,intent:mt="display",annotationMode:Ct=_util.AnnotationMode.ENABLE,transform:Nt=null,background:Pt=null,optionalContentConfigPromise:Tt=null,annotationCanvasMap:Et=null,pageColors:rt=null,printAnnotationStorage:ft=null}){var nt,gt;(nt=this._stats)==null||nt.time("Overall");const wt=this._transport.getRenderingIntent(mt,Ct,ft);On(this,g,!1),xn(this,xt,xa).call(this),Tt||(Tt=this._transport.getOptionalContentConfig());let b=this._intentStates.get(wt.cacheKey);b||(b=Object.create(null),this._intentStates.set(wt.cacheKey,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const pt=!!(wt.renderingIntent&_util.RenderingIntentFlag.PRINT);b.displayReadyCapability||(b.displayReadyCapability=new _util.PromiseCapability,b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(gt=this._stats)==null||gt.time("Page Request"),this._pumpOperatorList(wt));const Ot=Ft=>{var yt,vt;b.renderTasks.delete(kt),(this._maybeCleanupAfterRender||pt)&&On(this,g,!0),xn(this,xt,Ir).call(this,!pt),Ft?(kt.capability.reject(Ft),this._abortOperatorList({intentState:b,reason:Ft instanceof Error?Ft:new Error(Ft)})):kt.capability.resolve(),(yt=this._stats)==null||yt.timeEnd("Rendering"),(vt=this._stats)==null||vt.timeEnd("Overall")},kt=new InternalRenderTask({callback:Ot,params:{canvasContext:tt,viewport:ot,transform:Nt,background:Pt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Et,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!pt,pdfBug:this._pdfBug,pageColors:rt});(b.renderTasks||(b.renderTasks=new Set)).add(kt);const st=kt.task;return Promise.all([b.displayReadyCapability.promise,Tt]).then(([Ft,yt])=>{var vt;if(this.destroyed){Ot();return}(vt=this._stats)==null||vt.time("Rendering"),kt.initializeGraphics({transparency:Ft,optionalContentConfig:yt}),kt.operatorListChanged()}).catch(Ot),st}getOperatorList({intent:tt="display",annotationMode:ot=_util.AnnotationMode.ENABLE,printAnnotationStorage:mt=null}={}){var Et;function Ct(){Pt.operatorList.lastChunk&&(Pt.opListReadCapability.resolve(Pt.operatorList),Pt.renderTasks.delete(Tt))}const Nt=this._transport.getRenderingIntent(tt,ot,mt,!0);let Pt=this._intentStates.get(Nt.cacheKey);Pt||(Pt=Object.create(null),this._intentStates.set(Nt.cacheKey,Pt));let Tt;return Pt.opListReadCapability||(Tt=Object.create(null),Tt.operatorListChanged=Ct,Pt.opListReadCapability=new _util.PromiseCapability,(Pt.renderTasks||(Pt.renderTasks=new Set)).add(Tt),Pt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Et=this._stats)==null||Et.time("Page Request"),this._pumpOperatorList(Nt)),Pt.opListReadCapability.promise}streamTextContent({includeMarkedContent:tt=!1,disableNormalization:ot=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:tt===!0,disableNormalization:ot===!0},{highWaterMark:100,size(Ct){return Ct.items.length}})}getTextContent(tt={}){if(this._transport._htmlForXfa)return this.getXfa().then(mt=>_xfa_text.XfaText.textContent(mt));const ot=this.streamTextContent(tt);return new Promise(function(mt,Ct){function Nt(){Pt.read().then(function({value:Et,done:rt}){if(rt){mt(Tt);return}Object.assign(Tt.styles,Et.styles),Tt.items.push(...Et.items),Nt()},Ct)}const Pt=ot.getReader(),Tt={items:[],styles:Object.create(null)};Nt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const tt=[];for(const ot of this._intentStates.values())if(this._abortOperatorList({intentState:ot,reason:new Error("Page was destroyed."),force:!0}),!ot.opListReadCapability)for(const mt of ot.renderTasks)tt.push(mt.completed),mt.cancel();return this.objs.clear(),On(this,g,!1),xn(this,xt,xa).call(this),Promise.all(tt)}cleanup(tt=!1){On(this,g,!0);const ot=xn(this,xt,Ir).call(this,!1);return tt&&ot&&this._stats&&(this._stats=new _display_utils.StatTimer),ot}_startRenderPage(tt,ot){var Ct,Nt;const mt=this._intentStates.get(ot);mt&&((Ct=this._stats)==null||Ct.timeEnd("Page Request"),(Nt=mt.displayReadyCapability)==null||Nt.resolve(tt))}_renderPageChunk(tt,ot){for(let mt=0,Ct=tt.length;mt<Ct;mt++)ot.operatorList.fnArray.push(tt.fnArray[mt]),ot.operatorList.argsArray.push(tt.argsArray[mt]);ot.operatorList.lastChunk=tt.lastChunk,ot.operatorList.separateAnnots=tt.separateAnnots;for(const mt of ot.renderTasks)mt.operatorListChanged();tt.lastChunk&&xn(this,xt,Ir).call(this,!0)}_pumpOperatorList({renderingIntent:tt,cacheKey:ot,annotationStorageSerializable:mt}){const{map:Ct,transfers:Nt}=mt,Tt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:tt,cacheKey:ot,annotationStorage:Ct},Nt).getReader(),Et=this._intentStates.get(ot);Et.streamReader=Tt;const rt=()=>{Tt.read().then(({value:ft,done:wt})=>{if(wt){Et.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ft,Et),rt())},ft=>{if(Et.streamReader=null,!this._transport.destroyed){if(Et.operatorList){Et.operatorList.lastChunk=!0;for(const wt of Et.renderTasks)wt.operatorListChanged();xn(this,xt,Ir).call(this,!0)}if(Et.displayReadyCapability)Et.displayReadyCapability.reject(ft);else if(Et.opListReadCapability)Et.opListReadCapability.reject(ft);else throw ft}})};rt()}_abortOperatorList({intentState:tt,reason:ot,force:mt=!1}){if(tt.streamReader){if(tt.streamReaderCancelTimeout&&(clearTimeout(tt.streamReaderCancelTimeout),tt.streamReaderCancelTimeout=null),!mt){if(tt.renderTasks.size>0)return;if(ot instanceof _display_utils.RenderingCancelledException){let Ct=RENDERING_CANCELLED_TIMEOUT;ot.extraDelay>0&&ot.extraDelay<1e3&&(Ct+=ot.extraDelay),tt.streamReaderCancelTimeout=setTimeout(()=>{tt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:tt,reason:ot,force:!0})},Ct);return}}if(tt.streamReader.cancel(new _util.AbortException(ot.message)).catch(()=>{}),tt.streamReader=null,!this._transport.destroyed){for(const[Ct,Nt]of this._intentStates)if(Nt===tt){this._intentStates.delete(Ct);break}this.cleanup()}}}get stats(){return this._stats}}h=new WeakMap,g=new WeakMap,xt=new WeakSet,Ir=function(tt=!1){if(xn(this,xt,xa).call(this),!Kt(this,g)||this.destroyed)return!1;if(tt)return On(this,h,setTimeout(()=>{On(this,h,null),xn(this,xt,Ir).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ot,operatorList:mt}of this._intentStates.values())if(ot.size>0||!mt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),On(this,g,!1),!0},xa=function(){Kt(this,h)&&(clearTimeout(Kt(this,h)),On(this,h,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Fn(this,$,new Set);Fn(this,_t,Promise.resolve())}postMessage(tt,ot){const mt={data:structuredClone(tt,ot?{transfer:ot}:null)};Kt(this,_t).then(()=>{for(const Ct of Kt(this,$))Ct.call(this,mt)})}addEventListener(tt,ot){Kt(this,$).add(ot)}removeEventListener(tt,ot){Kt(this,$).delete(ot)}terminate(){Kt(this,$).clear()}}$=new WeakMap,_t=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const it=(s=document==null?void 0:document.currentScript)==null?void 0:s.src;it&&(PDFWorkerUtil.fallbackWorkerSrc=it.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(it,tt){let ot;try{if(ot=new URL(it),!ot.origin||ot.origin==="null")return!1}catch{return!1}const mt=new URL(tt,ot);return ot.origin===mt.origin},PDFWorkerUtil.createCDNWrapper=function(it){const tt=`importScripts("${it}");`;return URL.createObjectURL(new Blob([tt]))}}const _PDFWorker=class _PDFWorker{constructor({name:it=null,port:tt=null,verbosity:ot=(0,_util.getVerbosityLevel)()}={}){var mt;if(this.name=it,this.destroyed=!1,this.verbosity=ot,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,tt){if((mt=Kt(_PDFWorker,bt))!=null&&mt.has(tt))throw new Error("Cannot use more than one PDFWorker per port.");(Kt(_PDFWorker,bt)||On(_PDFWorker,bt,new WeakMap)).set(tt,this),this._initializeFromPort(tt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(it){this._port=it,this._messageHandler=new _message_handler.MessageHandler("main","worker",it),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:it}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,it)||(it=PDFWorkerUtil.createCDNWrapper(new URL(it,window.location).href));const tt=new Worker(it),ot=new _message_handler.MessageHandler("main","worker",tt),mt=()=>{tt.removeEventListener("error",Ct),ot.destroy(),tt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Ct=()=>{this._webWorker||mt()};tt.addEventListener("error",Ct),ot.on("test",Pt=>{if(tt.removeEventListener("error",Ct),this.destroyed){mt();return}Pt?(this._messageHandler=ot,this._port=tt,this._webWorker=tt,this._readyCapability.resolve(),ot.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ot.destroy(),tt.terminate())}),ot.on("ready",Pt=>{if(tt.removeEventListener("error",Ct),this.destroyed){mt();return}try{Nt()}catch{this._setupFakeWorker()}});const Nt=()=>{const Pt=new Uint8Array;ot.send("test",Pt,[Pt.buffer])};Nt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(it=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const tt=new LoopbackPort;this._port=tt;const ot=`fake${PDFWorkerUtil.fakeWorkerId++}`,mt=new _message_handler.MessageHandler(ot+"_worker",ot,tt);it.setup(mt,tt);const Ct=new _message_handler.MessageHandler(ot,ot+"_worker",tt);this._messageHandler=Ct,this._readyCapability.resolve(),Ct.send("configure",{verbosity:this.verbosity})}).catch(it=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${it.message}".`))})}destroy(){var it;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(it=Kt(_PDFWorker,bt))==null||it.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(it){var ot;if(!(it!=null&&it.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const tt=(ot=Kt(this,bt))==null?void 0:ot.get(it.port);if(tt){if(tt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return tt}return new _PDFWorker(it)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var it;try{return((it=globalThis.pdfjsWorker)==null?void 0:it.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};bt=new WeakMap,Fn(_PDFWorker,bt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(tt,ot,mt,Ct,Nt){Fn(this,ut);Fn(this,St,new Map);Fn(this,e,new Map);Fn(this,i,new Map);Fn(this,d,null);this.messageHandler=tt,this.loadingTask=ot,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Ct.ownerDocument,styleElement:Ct.styleElement}),this._params=Ct,this.canvasFactory=Nt.canvasFactory,this.filterFactory=Nt.filterFactory,this.cMapReaderFactory=Nt.cMapReaderFactory,this.standardFontDataFactory=Nt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=mt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(tt,ot=_util.AnnotationMode.ENABLE,mt=null,Ct=!1){let Nt=_util.RenderingIntentFlag.DISPLAY,Pt=_annotation_storage.SerializableEmpty;switch(tt){case"any":Nt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Nt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${tt}`)}switch(ot){case _util.AnnotationMode.DISABLE:Nt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Nt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Nt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Pt=(Nt&_util.RenderingIntentFlag.PRINT&&mt instanceof _annotation_storage.PrintAnnotationStorage?mt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ot}`)}return Ct&&(Nt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Nt,cacheKey:`${Nt}_${Pt.hash}`,annotationStorageSerializable:Pt}}destroy(){var mt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(mt=Kt(this,d))==null||mt.reject(new Error("Worker was destroyed during onPassword callback"));const tt=[];for(const Ct of Kt(this,e).values())tt.push(Ct._destroy());Kt(this,e).clear(),Kt(this,i).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ot=this.messageHandler.sendWithPromise("Terminate",null);return tt.push(ot),Promise.all(tt).then(()=>{var Ct;this.commonObjs.clear(),this.fontLoader.clear(),Kt(this,St).clear(),this.filterFactory.destroy(),(Ct=this._networkStream)==null||Ct.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:tt,loadingTask:ot}=this;tt.on("GetReader",(mt,Ct)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Nt=>{this._lastProgress={loaded:Nt.loaded,total:Nt.total}},Ct.onPull=()=>{this._fullReader.read().then(function({value:Nt,done:Pt}){if(Pt){Ct.close();return}(0,_util.assert)(Nt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Ct.enqueue(new Uint8Array(Nt),1,[Nt])}).catch(Nt=>{Ct.error(Nt)})},Ct.onCancel=Nt=>{this._fullReader.cancel(Nt),Ct.ready.catch(Pt=>{if(!this.destroyed)throw Pt})}}),tt.on("ReaderHeadersReady",mt=>{const Ct=new _util.PromiseCapability,Nt=this._fullReader;return Nt.headersReady.then(()=>{var Pt;(!Nt.isStreamingSupported||!Nt.isRangeSupported)&&(this._lastProgress&&((Pt=ot.onProgress)==null||Pt.call(ot,this._lastProgress)),Nt.onProgress=Tt=>{var Et;(Et=ot.onProgress)==null||Et.call(ot,{loaded:Tt.loaded,total:Tt.total})}),Ct.resolve({isStreamingSupported:Nt.isStreamingSupported,isRangeSupported:Nt.isRangeSupported,contentLength:Nt.contentLength})},Ct.reject),Ct.promise}),tt.on("GetRangeReader",(mt,Ct)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Nt=this._networkStream.getRangeReader(mt.begin,mt.end);if(!Nt){Ct.close();return}Ct.onPull=()=>{Nt.read().then(function({value:Pt,done:Tt}){if(Tt){Ct.close();return}(0,_util.assert)(Pt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Ct.enqueue(new Uint8Array(Pt),1,[Pt])}).catch(Pt=>{Ct.error(Pt)})},Ct.onCancel=Pt=>{Nt.cancel(Pt),Ct.ready.catch(Tt=>{if(!this.destroyed)throw Tt})}}),tt.on("GetDoc",({pdfInfo:mt})=>{this._numPages=mt.numPages,this._htmlForXfa=mt.htmlForXfa,delete mt.htmlForXfa,ot._capability.resolve(new PDFDocumentProxy(mt,this))}),tt.on("DocException",function(mt){let Ct;switch(mt.name){case"PasswordException":Ct=new _util.PasswordException(mt.message,mt.code);break;case"InvalidPDFException":Ct=new _util.InvalidPDFException(mt.message);break;case"MissingPDFException":Ct=new _util.MissingPDFException(mt.message);break;case"UnexpectedResponseException":Ct=new _util.UnexpectedResponseException(mt.message,mt.status);break;case"UnknownErrorException":Ct=new _util.UnknownErrorException(mt.message,mt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ot._capability.reject(Ct)}),tt.on("PasswordRequest",mt=>{if(On(this,d,new _util.PromiseCapability),ot.onPassword){const Ct=Nt=>{Nt instanceof Error?Kt(this,d).reject(Nt):Kt(this,d).resolve({password:Nt})};try{ot.onPassword(Ct,mt.code)}catch(Nt){Kt(this,d).reject(Nt)}}else Kt(this,d).reject(new _util.PasswordException(mt.message,mt.code));return Kt(this,d).promise}),tt.on("DataLoaded",mt=>{var Ct;(Ct=ot.onProgress)==null||Ct.call(ot,{loaded:mt.length,total:mt.length}),this.downloadInfoCapability.resolve(mt)}),tt.on("StartRenderPage",mt=>{if(this.destroyed)return;Kt(this,e).get(mt.pageIndex)._startRenderPage(mt.transparency,mt.cacheKey)}),tt.on("commonobj",([mt,Ct,Nt])=>{var Pt;if(!this.destroyed&&!this.commonObjs.has(mt))switch(Ct){case"Font":const Tt=this._params;if("error"in Nt){const ft=Nt.error;(0,_util.warn)(`Error during font loading: ${ft}`),this.commonObjs.resolve(mt,ft);break}const Et=Tt.pdfBug&&((Pt=globalThis.FontInspector)!=null&&Pt.enabled)?(ft,wt)=>globalThis.FontInspector.fontAdded(ft,wt):null,rt=new _font_loader.FontFaceObject(Nt,{isEvalSupported:Tt.isEvalSupported,disableFontFace:Tt.disableFontFace,ignoreErrors:Tt.ignoreErrors,inspectFont:Et});this.fontLoader.bind(rt).catch(ft=>tt.sendWithPromise("FontFallback",{id:mt})).finally(()=>{!Tt.fontExtraProperties&&rt.data&&(rt.data=null),this.commonObjs.resolve(mt,rt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(mt,Nt);break;default:throw new Error(`Got unknown common object type ${Ct}`)}}),tt.on("obj",([mt,Ct,Nt,Pt])=>{var Et;if(this.destroyed)return;const Tt=Kt(this,e).get(Ct);if(!Tt.objs.has(mt))switch(Nt){case"Image":if(Tt.objs.resolve(mt,Pt),Pt){let rt;if(Pt.bitmap){const{width:ft,height:wt}=Pt;rt=ft*wt*4}else rt=((Et=Pt.data)==null?void 0:Et.length)||0;rt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Tt._maybeCleanupAfterRender=!0)}break;case"Pattern":Tt.objs.resolve(mt,Pt);break;default:throw new Error(`Got unknown object type ${Nt}`)}}),tt.on("DocProgress",mt=>{var Ct;this.destroyed||(Ct=ot.onProgress)==null||Ct.call(ot,{loaded:mt.loaded,total:mt.total})}),tt.on("FetchBuiltInCMap",mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(mt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),tt.on("FetchStandardFontData",mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(mt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var mt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:tt,transfers:ot}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:tt,filename:((mt=this._fullReader)==null?void 0:mt.filename)??null},ot).finally(()=>{this.annotationStorage.resetModified()})}getPage(tt){if(!Number.isInteger(tt)||tt<=0||tt>this._numPages)return Promise.reject(new Error("Invalid page request."));const ot=tt-1,mt=Kt(this,i).get(ot);if(mt)return mt;const Ct=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ot}).then(Nt=>{if(this.destroyed)throw new Error("Transport destroyed");const Pt=new PDFPageProxy(ot,Nt,this,this._params.pdfBug);return Kt(this,e).set(ot,Pt),Pt});return Kt(this,i).set(ot,Ct),Ct}getPageIndex(tt){return typeof tt!="object"||tt===null||!Number.isInteger(tt.num)||tt.num<0||!Number.isInteger(tt.gen)||tt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:tt.num,gen:tt.gen})}getAnnotations(tt,ot){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:tt,intent:ot})}getFieldObjects(){return xn(this,ut,_a).call(this,"GetFieldObjects")}hasJSActions(){return xn(this,ut,_a).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(tt){return typeof tt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:tt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return xn(this,ut,_a).call(this,"GetDocJSActions")}getPageJSActions(tt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:tt})}getStructTree(tt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:tt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(tt=>new _optional_content_config.OptionalContentConfig(tt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const tt="GetMetadata",ot=Kt(this,St).get(tt);if(ot)return ot;const mt=this.messageHandler.sendWithPromise(tt,null).then(Ct=>{var Nt,Pt;return{info:Ct[0],metadata:Ct[1]?new _metadata.Metadata(Ct[1]):null,contentDispositionFilename:((Nt=this._fullReader)==null?void 0:Nt.filename)??null,contentLength:((Pt=this._fullReader)==null?void 0:Pt.contentLength)??null}});return Kt(this,St).set(tt,mt),mt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(tt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ot of Kt(this,e).values())if(!ot.cleanup())throw new Error(`startCleanup: Page ${ot.pageNumber} is currently rendering.`);this.commonObjs.clear(),tt||this.fontLoader.clear(),Kt(this,St).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:tt,enableXfa:ot}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:tt,enableXfa:ot})}}St=new WeakMap,e=new WeakMap,i=new WeakMap,d=new WeakMap,ut=new WeakSet,_a=function(tt,ot=null){const mt=Kt(this,St).get(tt);if(mt)return mt;const Ct=this.messageHandler.sendWithPromise(tt,ot);return Kt(this,St).set(tt,Ct),Ct};class PDFObjects{constructor(){Fn(this,_);Fn(this,et,Object.create(null))}get(tt,ot=null){if(ot){const Ct=xn(this,_,Xs).call(this,tt);return Ct.capability.promise.then(()=>ot(Ct.data)),null}const mt=Kt(this,et)[tt];if(!(mt!=null&&mt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${tt}.`);return mt.data}has(tt){const ot=Kt(this,et)[tt];return(ot==null?void 0:ot.capability.settled)||!1}resolve(tt,ot=null){const mt=xn(this,_,Xs).call(this,tt);mt.data=ot,mt.capability.resolve()}clear(){var tt;for(const ot in Kt(this,et)){const{data:mt}=Kt(this,et)[ot];(tt=mt==null?void 0:mt.bitmap)==null||tt.close()}On(this,et,Object.create(null))}}et=new WeakMap,_=new WeakSet,Xs=function(tt){var ot;return(ot=Kt(this,et))[tt]||(ot[tt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(tt){Fn(this,lt,null);On(this,lt,tt),this.onContinue=null}get promise(){return Kt(this,lt).capability.promise}cancel(tt=0){Kt(this,lt).cancel(null,tt)}get separateAnnots(){const{separateAnnots:tt}=Kt(this,lt).operatorList;if(!tt)return!1;const{annotationCanvasMap:ot}=Kt(this,lt);return tt.form||tt.canvas&&(ot==null?void 0:ot.size)>0}}lt=new WeakMap,exports.RenderTask=RenderTask;const ct=class ct{constructor({callback:tt,params:ot,objs:mt,commonObjs:Ct,annotationCanvasMap:Nt,operatorList:Pt,pageIndex:Tt,canvasFactory:Et,filterFactory:rt,useRequestAnimationFrame:ft=!1,pdfBug:wt=!1,pageColors:b=null}){this.callback=tt,this.params=ot,this.objs=mt,this.commonObjs=Ct,this.annotationCanvasMap=Nt,this.operatorListIdx=null,this.operatorList=Pt,this._pageIndex=Tt,this.canvasFactory=Et,this.filterFactory=rt,this._pdfBug=wt,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ft===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ot.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:tt=!1,optionalContentConfig:ot}){var Tt,Et;if(this.cancelled)return;if(this._canvas){if(Kt(ct,at).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Kt(ct,at).add(this._canvas)}this._pdfBug&&((Tt=globalThis.StepperManager)!=null&&Tt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:mt,viewport:Ct,transform:Nt,background:Pt}=this.params;this.gfx=new _canvas.CanvasGraphics(mt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ot},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Nt,viewport:Ct,transparency:tt,background:Pt}),this.operatorListIdx=0,this.graphicsReady=!0,(Et=this.graphicsReadyCallback)==null||Et.call(this)}cancel(tt=null,ot=0){var mt;this.running=!1,this.cancelled=!0,(mt=this.gfx)==null||mt.endDrawing(),Kt(ct,at).delete(this._canvas),this.callback(tt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ot))}operatorListChanged(){var tt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(tt=this.stepper)==null||tt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Kt(ct,at).delete(this._canvas),this.callback())))}};at=new WeakMap,Fn(ct,at,new WeakSet);let InternalRenderTask=ct;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(a,o,h)=>{var s,bt,St,Ro,i;Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableEmpty=o.PrintAnnotationStorage=o.AnnotationStorage=void 0;var g=h(1),xt=h(4),Bt=h(8);const Ut=Object.freeze({map:null,hash:"",transfers:void 0});o.SerializableEmpty=Ut;class ${constructor(){Fn(this,St);Fn(this,s,!1);Fn(this,bt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ut,dt){const et=Kt(this,bt).get(ut);return et===void 0?dt:Object.assign(dt,et)}getRawValue(ut){return Kt(this,bt).get(ut)}remove(ut){if(Kt(this,bt).delete(ut),Kt(this,bt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const dt of Kt(this,bt).values())if(dt instanceof xt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ut,dt){const et=Kt(this,bt).get(ut);let _=!1;if(et!==void 0)for(const[c,lt]of Object.entries(dt))et[c]!==lt&&(_=!0,et[c]=lt);else _=!0,Kt(this,bt).set(ut,dt);_&&xn(this,St,Ro).call(this),dt instanceof xt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(dt.constructor._type)}has(ut){return Kt(this,bt).has(ut)}getAll(){return Kt(this,bt).size>0?(0,g.objectFromMap)(Kt(this,bt)):null}setAll(ut){for(const[dt,et]of Object.entries(ut))this.setValue(dt,et)}get size(){return Kt(this,bt).size}resetModified(){Kt(this,s)&&(On(this,s,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _t(this)}get serializable(){if(Kt(this,bt).size===0)return Ut;const ut=new Map,dt=new Bt.MurmurHash3_64,et=[],_=Object.create(null);let c=!1;for(const[lt,at]of Kt(this,bt)){const ct=at instanceof xt.AnnotationEditor?at.serialize(!1,_):at;ct&&(ut.set(lt,ct),dt.update(`${lt}:${JSON.stringify(ct)}`),c||(c=!!ct.bitmap))}if(c)for(const lt of ut.values())lt.bitmap&&et.push(lt.bitmap);return ut.size>0?{map:ut,hash:dt.hexdigest(),transfers:et}:Ut}}s=new WeakMap,bt=new WeakMap,St=new WeakSet,Ro=function(){Kt(this,s)||(On(this,s,!0),typeof this.onSetModified=="function"&&this.onSetModified())},o.AnnotationStorage=$;class _t extends ${constructor(dt){super();Fn(this,i);const{map:et,hash:_,transfers:c}=dt.serializable,lt=structuredClone(et,c?{transfer:c}:null);On(this,i,{map:lt,hash:_,transfers:c})}get print(){(0,g.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Kt(this,i)}}i=new WeakMap,o.PrintAnnotationStorage=_t},(a,o,h)=>{var _t,s,bt,St,e,i,d,ut,dt,et,_,c,lt,at,ct,zs,qs,ot,Ws,Gs,Do,No,Lo,Vs,jo;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditor=void 0;var g=h(5),xt=h(1),Bt=h(6);const ft=class ft{constructor(b){Fn(this,ct);Fn(this,_t,"");Fn(this,s,!1);Fn(this,bt,null);Fn(this,St,null);Fn(this,e,null);Fn(this,i,!1);Fn(this,d,null);Fn(this,ut,this.focusin.bind(this));Fn(this,dt,this.focusout.bind(this));Fn(this,et,!1);Fn(this,_,!1);Fn(this,c,!1);ir(this,"_initialOptions",Object.create(null));ir(this,"_uiManager",null);ir(this,"_focusEventsAllowed",!0);ir(this,"_l10nPromise",null);Fn(this,lt,!1);Fn(this,at,ft._zIndex++);this.constructor===ft&&(0,xt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=b.parent,this.id=b.id,this.width=this.height=null,this.pageIndex=b.parent.pageIndex,this.name=b.name,this.div=null,this._uiManager=b.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=b.isCentered,this._structTreeParentId=null;const{rotation:pt,rawDims:{pageWidth:Ot,pageHeight:kt,pageX:st,pageY:nt}}=this.parent.viewport;this.rotation=pt,this.pageRotation=(360+pt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Ot,kt],this.pageTranslation=[st,nt];const[gt,Ft]=this.parentDimensions;this.x=b.x/gt,this.y=b.y/Ft,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,xt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(b){const pt=new $({id:b.parent.getNextId(),parent:b.parent,uiManager:b._uiManager});pt.annotationElementId=b.annotationElementId,pt.deleted=!0,pt._uiManager.addToAnnotationStorage(pt)}static initialize(b,pt=null){if(ft._l10nPromise||(ft._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(kt=>[kt,b.get(kt)]))),pt!=null&&pt.strings)for(const kt of pt.strings)ft._l10nPromise.set(kt,b.get(kt));if(ft._borderLineWidth!==-1)return;const Ot=getComputedStyle(document.documentElement);ft._borderLineWidth=parseFloat(Ot.getPropertyValue("--outline-width"))||0}static updateDefaultParams(b,pt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(b){return!1}static paste(b,pt){(0,xt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Kt(this,lt)}set _isDraggable(b){var pt;On(this,lt,b),(pt=this.div)==null||pt.classList.toggle("draggable",b)}center(){const[b,pt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*pt/(b*2),this.y+=this.width*b/(pt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*pt/(b*2),this.y-=this.width*b/(pt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(b){this._uiManager.addCommands(b)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Kt(this,at)}setParent(b){b!==null&&(this.pageIndex=b.pageIndex,this.pageDimensions=b.pageDimensions),this.parent=b}focusin(b){this._focusEventsAllowed&&(Kt(this,et)?On(this,et,!1):this.parent.setSelected(this))}focusout(b){var Ot;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const pt=b.relatedTarget;pt!=null&&pt.closest(`#${this.id}`)||(b.preventDefault(),(Ot=this.parent)!=null&&Ot.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(b,pt,Ot,kt){const[st,nt]=this.parentDimensions;[Ot,kt]=this.screenToPageTranslation(Ot,kt),this.x=(b+Ot)/st,this.y=(pt+kt)/nt,this.fixAndSetPosition()}translate(b,pt){xn(this,ct,zs).call(this,this.parentDimensions,b,pt)}translateInPage(b,pt){xn(this,ct,zs).call(this,this.pageDimensions,b,pt),this.div.scrollIntoView({block:"nearest"})}drag(b,pt){const[Ot,kt]=this.parentDimensions;if(this.x+=b/Ot,this.y+=pt/kt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:yt,y:vt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,yt,vt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:st,y:nt}=this;const[gt,Ft]=xn(this,ct,qs).call(this);st+=gt,nt+=Ft,this.div.style.left=`${(100*st).toFixed(2)}%`,this.div.style.top=`${(100*nt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[b,pt]=this.pageDimensions;let{x:Ot,y:kt,width:st,height:nt}=this;switch(st*=b,nt*=pt,Ot*=b,kt*=pt,this.rotation){case 0:Ot=Math.max(0,Math.min(b-st,Ot)),kt=Math.max(0,Math.min(pt-nt,kt));break;case 90:Ot=Math.max(0,Math.min(b-nt,Ot)),kt=Math.min(pt,Math.max(st,kt));break;case 180:Ot=Math.min(b,Math.max(st,Ot)),kt=Math.min(pt,Math.max(nt,kt));break;case 270:Ot=Math.min(b,Math.max(nt,Ot)),kt=Math.max(0,Math.min(pt-st,kt));break}this.x=Ot/=b,this.y=kt/=pt;const[gt,Ft]=xn(this,ct,qs).call(this);Ot+=gt,kt+=Ft;const{style:yt}=this.div;yt.left=`${(100*Ot).toFixed(2)}%`,yt.top=`${(100*kt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(b,pt){var Ot;return xn(Ot=ft,ot,Ws).call(Ot,b,pt,this.parentRotation)}pageTranslationToScreen(b,pt){var Ot;return xn(Ot=ft,ot,Ws).call(Ot,b,pt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:b,pageDimensions:[pt,Ot]}=this,kt=pt*b,st=Ot*b;return xt.FeatureTest.isCSSRoundSupported?[Math.round(kt),Math.round(st)]:[kt,st]}setDims(b,pt){var st;const[Ot,kt]=this.parentDimensions;this.div.style.width=`${(100*b/Ot).toFixed(2)}%`,Kt(this,i)||(this.div.style.height=`${(100*pt/kt).toFixed(2)}%`),(st=Kt(this,bt))==null||st.classList.toggle("small",b<ft.SMALL_EDITOR_SIZE||pt<ft.SMALL_EDITOR_SIZE)}fixDims(){const{style:b}=this.div,{height:pt,width:Ot}=b,kt=Ot.endsWith("%"),st=!Kt(this,i)&&pt.endsWith("%");if(kt&&st)return;const[nt,gt]=this.parentDimensions;kt||(b.width=`${(100*parseFloat(Ot)/nt).toFixed(2)}%`),!Kt(this,i)&&!st&&(b.height=`${(100*parseFloat(pt)/gt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Kt(this,bt))return;const b=On(this,bt,document.createElement("button"));b.className="altText";const pt=await ft._l10nPromise.get("editor_alt_text_button_label");b.textContent=pt,b.setAttribute("aria-label",pt),b.tabIndex="0",b.addEventListener("contextmenu",Bt.noContextMenu),b.addEventListener("pointerdown",Ot=>Ot.stopPropagation()),b.addEventListener("click",Ot=>{Ot.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),b.addEventListener("keydown",Ot=>{Ot.target===b&&Ot.key==="Enter"&&(Ot.preventDefault(),this._uiManager.editAltText(this))}),xn(this,ct,Vs).call(this),this.div.append(b),ft.SMALL_EDITOR_SIZE||(ft.SMALL_EDITOR_SIZE=Math.min(128,Math.round(b.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Kt(this,_t),decorative:Kt(this,s)}}set altTextData({altText:b,decorative:pt}){Kt(this,_t)===b&&Kt(this,s)===pt||(On(this,_t,b),On(this,s,pt),xn(this,ct,Vs).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Kt(this,ut)),this.div.addEventListener("focusout",Kt(this,dt));const[b,pt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*pt/b).toFixed(2)}%`,this.div.style.maxHeight=`${(100*b/pt).toFixed(2)}%`);const[Ot,kt]=this.getInitialTranslation();return this.translate(Ot,kt),(0,g.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(b){const{isMac:pt}=xt.FeatureTest.platform;if(b.button!==0||b.ctrlKey&&pt){b.preventDefault();return}On(this,et,!0),xn(this,ct,jo).call(this,b)}moveInDOM(){var b;(b=this.parent)==null||b.moveEditorInDOM(this)}_setParentAndPosition(b,pt,Ot){b.changeParent(this),this.x=pt,this.y=Ot,this.fixAndSetPosition()}getRect(b,pt){const Ot=this.parentScale,[kt,st]=this.pageDimensions,[nt,gt]=this.pageTranslation,Ft=b/Ot,yt=pt/Ot,vt=this.x*kt,Lt=this.y*st,jt=this.width*kt,Ht=this.height*st;switch(this.rotation){case 0:return[vt+Ft+nt,st-Lt-yt-Ht+gt,vt+Ft+jt+nt,st-Lt-yt+gt];case 90:return[vt+yt+nt,st-Lt+Ft+gt,vt+yt+Ht+nt,st-Lt+Ft+jt+gt];case 180:return[vt-Ft-jt+nt,st-Lt+yt+gt,vt-Ft+nt,st-Lt+yt+Ht+gt];case 270:return[vt-yt-Ht+nt,st-Lt-Ft-jt+gt,vt-yt+nt,st-Lt-Ft+gt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(b,pt){const[Ot,kt,st,nt]=b,gt=st-Ot,Ft=nt-kt;switch(this.rotation){case 0:return[Ot,pt-nt,gt,Ft];case 90:return[Ot,pt-kt,Ft,gt];case 180:return[st,pt-kt,gt,Ft];case 270:return[st,pt-nt,Ft,gt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){On(this,c,!0)}disableEditMode(){On(this,c,!1)}isInEditMode(){return Kt(this,c)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var b,pt;(b=this.div)==null||b.addEventListener("focusin",Kt(this,ut)),(pt=this.div)==null||pt.addEventListener("focusout",Kt(this,dt))}serialize(b=!1,pt=null){(0,xt.unreachable)("An editor must be serializable")}static deserialize(b,pt,Ot){const kt=new this.prototype.constructor({parent:pt,id:pt.getNextId(),uiManager:Ot});kt.rotation=b.rotation;const[st,nt]=kt.pageDimensions,[gt,Ft,yt,vt]=kt.getRectInCurrentCoords(b.rect,nt);return kt.x=gt/st,kt.y=Ft/nt,kt.width=yt/st,kt.height=vt/nt,kt}remove(){var b;this.div.removeEventListener("focusin",Kt(this,ut)),this.div.removeEventListener("focusout",Kt(this,dt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(b=Kt(this,bt))==null||b.remove(),On(this,bt,null),On(this,St,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(xn(this,ct,Do).call(this),Kt(this,d).classList.remove("hidden"))}select(){var b;this.makeResizable(),(b=this.div)==null||b.classList.add("selectedEditor")}unselect(){var b,pt,Ot;(b=Kt(this,d))==null||b.classList.add("hidden"),(pt=this.div)==null||pt.classList.remove("selectedEditor"),(Ot=this.div)!=null&&Ot.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(b,pt){}disableEditing(){Kt(this,bt)&&(Kt(this,bt).hidden=!0)}enableEditing(){Kt(this,bt)&&(Kt(this,bt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Kt(this,_)}set isEditing(b){On(this,_,b),this.parent&&(b?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(b,pt){On(this,i,!0);const Ot=b/pt,{style:kt}=this.div;kt.aspectRatio=Ot,kt.height="auto"}static get MIN_SIZE(){return 16}};_t=new WeakMap,s=new WeakMap,bt=new WeakMap,St=new WeakMap,e=new WeakMap,i=new WeakMap,d=new WeakMap,ut=new WeakMap,dt=new WeakMap,et=new WeakMap,_=new WeakMap,c=new WeakMap,lt=new WeakMap,at=new WeakMap,ct=new WeakSet,zs=function([b,pt],Ot,kt){[Ot,kt]=this.screenToPageTranslation(Ot,kt),this.x+=Ot/b,this.y+=kt/pt,this.fixAndSetPosition()},qs=function(){const[b,pt]=this.parentDimensions,{_borderLineWidth:Ot}=ft,kt=Ot/b,st=Ot/pt;switch(this.rotation){case 90:return[-kt,st];case 180:return[kt,st];case 270:return[kt,-st];default:return[-kt,-st]}},ot=new WeakSet,Ws=function(b,pt,Ot){switch(Ot){case 90:return[pt,-b];case 180:return[-b,-pt];case 270:return[-pt,b];default:return[b,pt]}},Gs=function(b){switch(b){case 90:{const[pt,Ot]=this.pageDimensions;return[0,-pt/Ot,Ot/pt,0]}case 180:return[-1,0,0,-1];case 270:{const[pt,Ot]=this.pageDimensions;return[0,pt/Ot,-Ot/pt,0]}default:return[1,0,0,1]}},Do=function(){if(Kt(this,d))return;On(this,d,document.createElement("div")),Kt(this,d).classList.add("resizers");const b=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||b.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const pt of b){const Ot=document.createElement("div");Kt(this,d).append(Ot),Ot.classList.add("resizer",pt),Ot.addEventListener("pointerdown",xn(this,ct,No).bind(this,pt)),Ot.addEventListener("contextmenu",Bt.noContextMenu)}this.div.prepend(Kt(this,d))},No=function(b,pt){pt.preventDefault();const{isMac:Ot}=xt.FeatureTest.platform;if(pt.button!==0||pt.ctrlKey&&Ot)return;const kt=xn(this,ct,Lo).bind(this,b),st=this._isDraggable;this._isDraggable=!1;const nt={passive:!0,capture:!0};window.addEventListener("pointermove",kt,nt);const gt=this.x,Ft=this.y,yt=this.width,vt=this.height,Lt=this.parent.div.style.cursor,jt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(pt.target).cursor;const Ht=()=>{this._isDraggable=st,window.removeEventListener("pointerup",Ht),window.removeEventListener("blur",Ht),window.removeEventListener("pointermove",kt,nt),this.parent.div.style.cursor=Lt,this.div.style.cursor=jt;const Vt=this.x,Qt=this.y,_e=this.width,Xt=this.height;Vt===gt&&Qt===Ft&&_e===yt&&Xt===vt||this.addCommands({cmd:()=>{this.width=_e,this.height=Xt,this.x=Vt,this.y=Qt;const[Dt,It]=this.parentDimensions;this.setDims(Dt*_e,It*Xt),this.fixAndSetPosition()},undo:()=>{this.width=yt,this.height=vt,this.x=gt,this.y=Ft;const[Dt,It]=this.parentDimensions;this.setDims(Dt*yt,It*vt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ht),window.addEventListener("blur",Ht)},Lo=function(b,pt){const[Ot,kt]=this.parentDimensions,st=this.x,nt=this.y,gt=this.width,Ft=this.height,yt=ft.MIN_SIZE/Ot,vt=ft.MIN_SIZE/kt,Lt=en=>Math.round(en*1e4)/1e4,jt=xn(this,ct,Gs).call(this,this.rotation),Ht=(en,an)=>[jt[0]*en+jt[2]*an,jt[1]*en+jt[3]*an],Vt=xn(this,ct,Gs).call(this,360-this.rotation),Qt=(en,an)=>[Vt[0]*en+Vt[2]*an,Vt[1]*en+Vt[3]*an];let _e,Xt,Dt=!1,It=!1;switch(b){case"topLeft":Dt=!0,_e=(en,an)=>[0,0],Xt=(en,an)=>[en,an];break;case"topMiddle":_e=(en,an)=>[en/2,0],Xt=(en,an)=>[en/2,an];break;case"topRight":Dt=!0,_e=(en,an)=>[en,0],Xt=(en,an)=>[0,an];break;case"middleRight":It=!0,_e=(en,an)=>[en,an/2],Xt=(en,an)=>[0,an/2];break;case"bottomRight":Dt=!0,_e=(en,an)=>[en,an],Xt=(en,an)=>[0,0];break;case"bottomMiddle":_e=(en,an)=>[en/2,an],Xt=(en,an)=>[en/2,0];break;case"bottomLeft":Dt=!0,_e=(en,an)=>[0,an],Xt=(en,an)=>[en,0];break;case"middleLeft":It=!0,_e=(en,an)=>[0,an/2],Xt=(en,an)=>[en,an/2];break}const j=_e(gt,Ft),At=Xt(gt,Ft);let Mt=Ht(...At);const Rt=Lt(st+Mt[0]),$t=Lt(nt+Mt[1]);let zt=1,qt=1,[Wt,Gt]=this.screenToPageTranslation(pt.movementX,pt.movementY);if([Wt,Gt]=Qt(Wt/Ot,Gt/kt),Dt){const en=Math.hypot(gt,Ft);zt=qt=Math.max(Math.min(Math.hypot(At[0]-j[0]-Wt,At[1]-j[1]-Gt)/en,1/gt,1/Ft),yt/gt,vt/Ft)}else It?zt=Math.max(yt,Math.min(1,Math.abs(At[0]-j[0]-Wt)))/gt:qt=Math.max(vt,Math.min(1,Math.abs(At[1]-j[1]-Gt)))/Ft;const Zt=Lt(gt*zt),Yt=Lt(Ft*qt);Mt=Ht(...Xt(Zt,Yt));const tn=Rt-Mt[0],nn=$t-Mt[1];this.width=Zt,this.height=Yt,this.x=tn,this.y=nn,this.setDims(Ot*Zt,kt*Yt),this.fixAndSetPosition()},Vs=async function(){var Ot;const b=Kt(this,bt);if(!b)return;if(!Kt(this,_t)&&!Kt(this,s)){b.classList.remove("done"),(Ot=Kt(this,St))==null||Ot.remove();return}ft._l10nPromise.get("editor_alt_text_edit_button_label").then(kt=>{b.setAttribute("aria-label",kt)});let pt=Kt(this,St);if(!pt){On(this,St,pt=document.createElement("span")),pt.className="tooltip",pt.setAttribute("role","tooltip");const kt=pt.id=`alt-text-tooltip-${this.id}`;b.setAttribute("aria-describedby",kt);const st=100;b.addEventListener("mouseenter",()=>{On(this,e,setTimeout(()=>{On(this,e,null),Kt(this,St).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},st))}),b.addEventListener("mouseleave",()=>{var nt;clearTimeout(Kt(this,e)),On(this,e,null),(nt=Kt(this,St))==null||nt.classList.remove("show")})}b.classList.add("done"),pt.innerText=Kt(this,s)?await ft._l10nPromise.get("editor_alt_text_decorative_tooltip"):Kt(this,_t),pt.parentNode||b.append(pt)},jo=function(b){if(!this._isDraggable)return;const pt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Ot,kt;pt&&(Ot={passive:!0,capture:!0},kt=nt=>{const[gt,Ft]=this.screenToPageTranslation(nt.movementX,nt.movementY);this._uiManager.dragSelectedEditors(gt,Ft)},window.addEventListener("pointermove",kt,Ot));const st=()=>{if(window.removeEventListener("pointerup",st),window.removeEventListener("blur",st),pt&&window.removeEventListener("pointermove",kt,Ot),On(this,et,!1),!this._uiManager.endDragSession()){const{isMac:nt}=xt.FeatureTest.platform;b.ctrlKey&&!nt||b.shiftKey||b.metaKey&&nt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",st),window.addEventListener("blur",st)},Fn(ft,ot),ir(ft,"_borderLineWidth",-1),ir(ft,"_colorManager",new g.ColorManager),ir(ft,"_zIndex",1),ir(ft,"SMALL_EDITOR_SIZE",0);let Ut=ft;o.AnnotationEditor=Ut;class $ extends Ut{constructor(b){super(b),this.annotationElementId=b.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(a,o,h)=>{var i,d,ut,dt,et,Ks,lt,at,ct,it,tt,Bo,Ct,Nt,Pt,Tt,Et,rt,ft,wt,b,pt,Ot,kt,st,nt,gt,Ft,yt,vt,Lt,jt,Ht,Vt,Qt,_e,Xt,Dt,It,j,At,Mt,Rt,$t,zt,qt,Wt,$o,Ys,Js,$a,Zs,Qs,wr,qr,Uo,Ho,to,Wr,eo;Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardManager=o.CommandManager=o.ColorManager=o.AnnotationEditorUIManager=void 0,o.bindEvents=Bt,o.opacityToHex=Ut;var g=h(1),xt=h(6);function Bt(Rn,sn,En){for(const Pn of En)sn.addEventListener(Pn,Rn[Pn].bind(Rn))}function Ut(Rn){return Math.round(Math.min(255,Math.max(1,255*Rn))).toString(16).padStart(2,"0")}class ${constructor(){Fn(this,i,0)}getId(){return`${g.AnnotationEditorPrefix}${zr(this,i)._++}`}}i=new WeakMap;const c=class c{constructor(){Fn(this,et);Fn(this,d,(0,g.getUuid)());Fn(this,ut,0);Fn(this,dt,null)}static get _isSVGFittingCanvas(){const sn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Pn=new OffscreenCanvas(1,3).getContext("2d"),Ln=new Image;Ln.src=sn;const jn=Ln.decode().then(()=>(Pn.drawImage(Ln,0,0,1,1,0,0,1,3),new Uint32Array(Pn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,g.shadow)(this,"_isSVGFittingCanvas",jn)}async getFromFile(sn){const{lastModified:En,name:Pn,size:Ln,type:jn}=sn;return xn(this,et,Ks).call(this,`${En}_${Pn}_${Ln}_${jn}`,sn)}async getFromUrl(sn){return xn(this,et,Ks).call(this,sn,sn)}async getFromId(sn){Kt(this,dt)||On(this,dt,new Map);const En=Kt(this,dt).get(sn);return En?En.bitmap?(En.refCounter+=1,En):En.file?this.getFromFile(En.file):this.getFromUrl(En.url):null}getSvgUrl(sn){const En=Kt(this,dt).get(sn);return En!=null&&En.isSvg?En.svgUrl:null}deleteId(sn){Kt(this,dt)||On(this,dt,new Map);const En=Kt(this,dt).get(sn);En&&(En.refCounter-=1,En.refCounter===0&&(En.bitmap=null))}isValidId(sn){return sn.startsWith(`image_${Kt(this,d)}_`)}};d=new WeakMap,ut=new WeakMap,dt=new WeakMap,et=new WeakSet,Ks=async function(sn,En){Kt(this,dt)||On(this,dt,new Map);let Pn=Kt(this,dt).get(sn);if(Pn===null)return null;if(Pn!=null&&Pn.bitmap)return Pn.refCounter+=1,Pn;try{Pn||(Pn={bitmap:null,id:`image_${Kt(this,d)}_${zr(this,ut)._++}`,refCounter:0,isSvg:!1});let Ln;if(typeof En=="string"){Pn.url=En;const jn=await fetch(En);if(!jn.ok)throw new Error(jn.statusText);Ln=await jn.blob()}else Ln=Pn.file=En;if(Ln.type==="image/svg+xml"){const jn=c._isSVGFittingCanvas,Nn=new FileReader,ln=new Image,rn=new Promise((on,mn)=>{ln.onload=()=>{Pn.bitmap=ln,Pn.isSvg=!0,on()},Nn.onload=async()=>{const gn=Pn.svgUrl=Nn.result;ln.src=await jn?`${gn}#svgView(preserveAspectRatio(none))`:gn},ln.onerror=Nn.onerror=mn});Nn.readAsDataURL(Ln),await rn}else Pn.bitmap=await createImageBitmap(Ln);Pn.refCounter=1}catch(Ln){console.error(Ln),Pn=null}return Kt(this,dt).set(sn,Pn),Pn&&Kt(this,dt).set(Pn.id,Pn),Pn};let _t=c;class s{constructor(sn=128){Fn(this,lt,[]);Fn(this,at,!1);Fn(this,ct);Fn(this,it,-1);On(this,ct,sn)}add({cmd:sn,undo:En,mustExec:Pn,type:Ln=NaN,overwriteIfSameType:jn=!1,keepUndo:Nn=!1}){if(Pn&&sn(),Kt(this,at))return;const ln={cmd:sn,undo:En,type:Ln};if(Kt(this,it)===-1){Kt(this,lt).length>0&&(Kt(this,lt).length=0),On(this,it,0),Kt(this,lt).push(ln);return}if(jn&&Kt(this,lt)[Kt(this,it)].type===Ln){Nn&&(ln.undo=Kt(this,lt)[Kt(this,it)].undo),Kt(this,lt)[Kt(this,it)]=ln;return}const rn=Kt(this,it)+1;rn===Kt(this,ct)?Kt(this,lt).splice(0,1):(On(this,it,rn),rn<Kt(this,lt).length&&Kt(this,lt).splice(rn)),Kt(this,lt).push(ln)}undo(){Kt(this,it)!==-1&&(On(this,at,!0),Kt(this,lt)[Kt(this,it)].undo(),On(this,at,!1),On(this,it,Kt(this,it)-1))}redo(){Kt(this,it)<Kt(this,lt).length-1&&(On(this,it,Kt(this,it)+1),On(this,at,!0),Kt(this,lt)[Kt(this,it)].cmd(),On(this,at,!1))}hasSomethingToUndo(){return Kt(this,it)!==-1}hasSomethingToRedo(){return Kt(this,it)<Kt(this,lt).length-1}destroy(){On(this,lt,null)}}lt=new WeakMap,at=new WeakMap,ct=new WeakMap,it=new WeakMap,o.CommandManager=s;class bt{constructor(sn){Fn(this,tt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:En}=g.FeatureTest.platform;for(const[Pn,Ln,jn={}]of sn)for(const Nn of Pn){const ln=Nn.startsWith("mac+");En&&ln?(this.callbacks.set(Nn.slice(4),{callback:Ln,options:jn}),this.allKeys.add(Nn.split("+").at(-1))):!En&&!ln&&(this.callbacks.set(Nn,{callback:Ln,options:jn}),this.allKeys.add(Nn.split("+").at(-1)))}}exec(sn,En){if(!this.allKeys.has(En.key))return;const Pn=this.callbacks.get(xn(this,tt,Bo).call(this,En));if(!Pn)return;const{callback:Ln,options:{bubbles:jn=!1,args:Nn=[],checker:ln=null}}=Pn;ln&&!ln(sn,En)||(Ln.bind(sn,...Nn)(),jn||(En.stopPropagation(),En.preventDefault()))}}tt=new WeakSet,Bo=function(sn){sn.altKey&&this.buffer.push("alt"),sn.ctrlKey&&this.buffer.push("ctrl"),sn.metaKey&&this.buffer.push("meta"),sn.shiftKey&&this.buffer.push("shift"),this.buffer.push(sn.key);const En=this.buffer.join("+");return this.buffer.length=0,En},o.KeyboardManager=bt;const mt=class mt{get _colors(){const sn=new Map([["CanvasText",null],["Canvas",null]]);return(0,xt.getColorValues)(sn),(0,g.shadow)(this,"_colors",sn)}convert(sn){const En=(0,xt.getRGB)(sn);if(!window.matchMedia("(forced-colors: active)").matches)return En;for(const[Pn,Ln]of this._colors)if(Ln.every((jn,Nn)=>jn===En[Nn]))return mt._colorsMapping.get(Pn);return En}getHexCode(sn){const En=this._colors.get(sn);return En?g.Util.makeHexColor(...En):sn}};ir(mt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let St=mt;o.ColorManager=St;const kn=class kn{constructor(sn,En,Pn,Ln,jn,Nn){Fn(this,Wt);Fn(this,Ct,null);Fn(this,Nt,new Map);Fn(this,Pt,new Map);Fn(this,Tt,null);Fn(this,Et,null);Fn(this,rt,new s);Fn(this,ft,0);Fn(this,wt,new Set);Fn(this,b,null);Fn(this,pt,null);Fn(this,Ot,new Set);Fn(this,kt,null);Fn(this,st,new $);Fn(this,nt,!1);Fn(this,gt,!1);Fn(this,Ft,null);Fn(this,yt,g.AnnotationEditorType.NONE);Fn(this,vt,new Set);Fn(this,Lt,null);Fn(this,jt,this.blur.bind(this));Fn(this,Ht,this.focus.bind(this));Fn(this,Vt,this.copy.bind(this));Fn(this,Qt,this.cut.bind(this));Fn(this,_e,this.paste.bind(this));Fn(this,Xt,this.keydown.bind(this));Fn(this,Dt,this.onEditingAction.bind(this));Fn(this,It,this.onPageChanging.bind(this));Fn(this,j,this.onScaleChanging.bind(this));Fn(this,At,this.onRotationChanging.bind(this));Fn(this,Mt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Fn(this,Rt,[0,0]);Fn(this,$t,null);Fn(this,zt,null);Fn(this,qt,null);On(this,zt,sn),On(this,qt,En),On(this,Tt,Pn),this._eventBus=Ln,this._eventBus._on("editingaction",Kt(this,Dt)),this._eventBus._on("pagechanging",Kt(this,It)),this._eventBus._on("scalechanging",Kt(this,j)),this._eventBus._on("rotationchanging",Kt(this,At)),On(this,Et,jn.annotationStorage),On(this,kt,jn.filterFactory),On(this,Lt,Nn),this.viewParameters={realScale:xt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const sn=kn.prototype,En=jn=>{const{activeElement:Nn}=document;return Nn&&Kt(jn,zt).contains(Nn)&&jn.hasSomethingToControl()},Pn=this.TRANSLATE_SMALL,Ln=this.TRANSLATE_BIG;return(0,g.shadow)(this,"_keyboardManager",new bt([[["ctrl+a","mac+meta+a"],sn.selectAll],[["ctrl+z","mac+meta+z"],sn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],sn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],sn.delete],[["Escape","mac+Escape"],sn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],sn.translateSelectedEditors,{args:[-Pn,0],checker:En}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],sn.translateSelectedEditors,{args:[-Ln,0],checker:En}],[["ArrowRight","mac+ArrowRight"],sn.translateSelectedEditors,{args:[Pn,0],checker:En}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],sn.translateSelectedEditors,{args:[Ln,0],checker:En}],[["ArrowUp","mac+ArrowUp"],sn.translateSelectedEditors,{args:[0,-Pn],checker:En}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],sn.translateSelectedEditors,{args:[0,-Ln],checker:En}],[["ArrowDown","mac+ArrowDown"],sn.translateSelectedEditors,{args:[0,Pn],checker:En}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],sn.translateSelectedEditors,{args:[0,Ln],checker:En}]]))}destroy(){xn(this,Wt,$a).call(this),xn(this,Wt,Ys).call(this),this._eventBus._off("editingaction",Kt(this,Dt)),this._eventBus._off("pagechanging",Kt(this,It)),this._eventBus._off("scalechanging",Kt(this,j)),this._eventBus._off("rotationchanging",Kt(this,At));for(const sn of Kt(this,Pt).values())sn.destroy();Kt(this,Pt).clear(),Kt(this,Nt).clear(),Kt(this,Ot).clear(),On(this,Ct,null),Kt(this,vt).clear(),Kt(this,rt).destroy(),Kt(this,Tt).destroy()}get hcmFilter(){return(0,g.shadow)(this,"hcmFilter",Kt(this,Lt)?Kt(this,kt).addHCMFilter(Kt(this,Lt).foreground,Kt(this,Lt).background):"none")}get direction(){return(0,g.shadow)(this,"direction",getComputedStyle(Kt(this,zt)).direction)}editAltText(sn){var En;(En=Kt(this,Tt))==null||En.editAltText(this,sn)}onPageChanging({pageNumber:sn}){On(this,ft,sn-1)}focusMainContainer(){Kt(this,zt).focus()}findParent(sn,En){for(const Pn of Kt(this,Pt).values()){const{x:Ln,y:jn,width:Nn,height:ln}=Pn.div.getBoundingClientRect();if(sn>=Ln&&sn<=Ln+Nn&&En>=jn&&En<=jn+ln)return Pn}return null}disableUserSelect(sn=!1){Kt(this,qt).classList.toggle("noUserSelect",sn)}addShouldRescale(sn){Kt(this,Ot).add(sn)}removeShouldRescale(sn){Kt(this,Ot).delete(sn)}onScaleChanging({scale:sn}){this.commitOrRemove(),this.viewParameters.realScale=sn*xt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const En of Kt(this,Ot))En.onScaleChanging()}onRotationChanging({pagesRotation:sn}){this.commitOrRemove(),this.viewParameters.rotation=sn}addToAnnotationStorage(sn){!sn.isEmpty()&&Kt(this,Et)&&!Kt(this,Et).has(sn.id)&&Kt(this,Et).setValue(sn.id,sn)}blur(){if(!this.hasSelection)return;const{activeElement:sn}=document;for(const En of Kt(this,vt))if(En.div.contains(sn)){On(this,Ft,[En,sn]),En._focusEventsAllowed=!1;break}}focus(){if(!Kt(this,Ft))return;const[sn,En]=Kt(this,Ft);On(this,Ft,null),En.addEventListener("focusin",()=>{sn._focusEventsAllowed=!0},{once:!0}),En.focus()}addEditListeners(){xn(this,Wt,Js).call(this),xn(this,Wt,Zs).call(this)}removeEditListeners(){xn(this,Wt,$a).call(this),xn(this,Wt,Qs).call(this)}copy(sn){var Pn;if(sn.preventDefault(),(Pn=Kt(this,Ct))==null||Pn.commitOrRemove(),!this.hasSelection)return;const En=[];for(const Ln of Kt(this,vt)){const jn=Ln.serialize(!0);jn&&En.push(jn)}En.length!==0&&sn.clipboardData.setData("application/pdfjs",JSON.stringify(En))}cut(sn){this.copy(sn),this.delete()}paste(sn){sn.preventDefault();const{clipboardData:En}=sn;for(const jn of En.items)for(const Nn of Kt(this,pt))if(Nn.isHandlingMimeForPasting(jn.type)){Nn.paste(jn,this.currentLayer);return}let Pn=En.getData("application/pdfjs");if(!Pn)return;try{Pn=JSON.parse(Pn)}catch(jn){(0,g.warn)(`paste: "${jn.message}".`);return}if(!Array.isArray(Pn))return;this.unselectAll();const Ln=this.currentLayer;try{const jn=[];for(const rn of Pn){const on=Ln.deserialize(rn);if(!on)return;jn.push(on)}const Nn=()=>{for(const rn of jn)xn(this,Wt,to).call(this,rn);xn(this,Wt,eo).call(this,jn)},ln=()=>{for(const rn of jn)rn.remove()};this.addCommands({cmd:Nn,undo:ln,mustExec:!0})}catch(jn){(0,g.warn)(`paste: "${jn.message}".`)}}keydown(sn){var En;(En=this.getActive())!=null&&En.shouldGetKeyboardEvents()||kn._keyboardManager.exec(this,sn)}onEditingAction(sn){["undo","redo","delete","selectAll"].includes(sn.name)&&this[sn.name]()}setEditingState(sn){sn?(xn(this,Wt,$o).call(this),xn(this,Wt,Js).call(this),xn(this,Wt,Zs).call(this),xn(this,Wt,wr).call(this,{isEditing:Kt(this,yt)!==g.AnnotationEditorType.NONE,isEmpty:xn(this,Wt,Wr).call(this),hasSomethingToUndo:Kt(this,rt).hasSomethingToUndo(),hasSomethingToRedo:Kt(this,rt).hasSomethingToRedo(),hasSelectedEditor:!1})):(xn(this,Wt,Ys).call(this),xn(this,Wt,$a).call(this),xn(this,Wt,Qs).call(this),xn(this,Wt,wr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(sn){if(!Kt(this,pt)){On(this,pt,sn);for(const En of Kt(this,pt))xn(this,Wt,qr).call(this,En.defaultPropertiesToUpdate)}}getId(){return Kt(this,st).getId()}get currentLayer(){return Kt(this,Pt).get(Kt(this,ft))}getLayer(sn){return Kt(this,Pt).get(sn)}get currentPageIndex(){return Kt(this,ft)}addLayer(sn){Kt(this,Pt).set(sn.pageIndex,sn),Kt(this,nt)?sn.enable():sn.disable()}removeLayer(sn){Kt(this,Pt).delete(sn.pageIndex)}updateMode(sn,En=null){if(Kt(this,yt)!==sn){if(On(this,yt,sn),sn===g.AnnotationEditorType.NONE){this.setEditingState(!1),xn(this,Wt,Ho).call(this);return}this.setEditingState(!0),xn(this,Wt,Uo).call(this),this.unselectAll();for(const Pn of Kt(this,Pt).values())Pn.updateMode(sn);if(En){for(const Pn of Kt(this,Nt).values())if(Pn.annotationElementId===En){this.setSelected(Pn),Pn.enterInEditMode();break}}}}updateToolbar(sn){sn!==Kt(this,yt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:sn})}updateParams(sn,En){if(Kt(this,pt)){if(sn===g.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(sn);return}for(const Pn of Kt(this,vt))Pn.updateParams(sn,En);for(const Pn of Kt(this,pt))Pn.updateDefaultParams(sn,En)}}enableWaiting(sn=!1){if(Kt(this,gt)!==sn){On(this,gt,sn);for(const En of Kt(this,Pt).values())sn?En.disableClick():En.enableClick(),En.div.classList.toggle("waiting",sn)}}getEditors(sn){const En=[];for(const Pn of Kt(this,Nt).values())Pn.pageIndex===sn&&En.push(Pn);return En}getEditor(sn){return Kt(this,Nt).get(sn)}addEditor(sn){Kt(this,Nt).set(sn.id,sn)}removeEditor(sn){var En;Kt(this,Nt).delete(sn.id),this.unselect(sn),(!sn.annotationElementId||!Kt(this,wt).has(sn.annotationElementId))&&((En=Kt(this,Et))==null||En.remove(sn.id))}addDeletedAnnotationElement(sn){Kt(this,wt).add(sn.annotationElementId),sn.deleted=!0}isDeletedAnnotationElement(sn){return Kt(this,wt).has(sn)}removeDeletedAnnotationElement(sn){Kt(this,wt).delete(sn.annotationElementId),sn.deleted=!1}setActiveEditor(sn){Kt(this,Ct)!==sn&&(On(this,Ct,sn),sn&&xn(this,Wt,qr).call(this,sn.propertiesToUpdate))}toggleSelected(sn){if(Kt(this,vt).has(sn)){Kt(this,vt).delete(sn),sn.unselect(),xn(this,Wt,wr).call(this,{hasSelectedEditor:this.hasSelection});return}Kt(this,vt).add(sn),sn.select(),xn(this,Wt,qr).call(this,sn.propertiesToUpdate),xn(this,Wt,wr).call(this,{hasSelectedEditor:!0})}setSelected(sn){for(const En of Kt(this,vt))En!==sn&&En.unselect();Kt(this,vt).clear(),Kt(this,vt).add(sn),sn.select(),xn(this,Wt,qr).call(this,sn.propertiesToUpdate),xn(this,Wt,wr).call(this,{hasSelectedEditor:!0})}isSelected(sn){return Kt(this,vt).has(sn)}unselect(sn){sn.unselect(),Kt(this,vt).delete(sn),xn(this,Wt,wr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Kt(this,vt).size!==0}undo(){Kt(this,rt).undo(),xn(this,Wt,wr).call(this,{hasSomethingToUndo:Kt(this,rt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:xn(this,Wt,Wr).call(this)})}redo(){Kt(this,rt).redo(),xn(this,Wt,wr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Kt(this,rt).hasSomethingToRedo(),isEmpty:xn(this,Wt,Wr).call(this)})}addCommands(sn){Kt(this,rt).add(sn),xn(this,Wt,wr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:xn(this,Wt,Wr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const sn=[...Kt(this,vt)],En=()=>{for(const Ln of sn)Ln.remove()},Pn=()=>{for(const Ln of sn)xn(this,Wt,to).call(this,Ln)};this.addCommands({cmd:En,undo:Pn,mustExec:!0})}commitOrRemove(){var sn;(sn=Kt(this,Ct))==null||sn.commitOrRemove()}hasSomethingToControl(){return Kt(this,Ct)||this.hasSelection}selectAll(){for(const sn of Kt(this,vt))sn.commit();xn(this,Wt,eo).call(this,Kt(this,Nt).values())}unselectAll(){if(Kt(this,Ct)){Kt(this,Ct).commitOrRemove();return}if(this.hasSelection){for(const sn of Kt(this,vt))sn.unselect();Kt(this,vt).clear(),xn(this,Wt,wr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(sn,En,Pn=!1){if(Pn||this.commitOrRemove(),!this.hasSelection)return;Kt(this,Rt)[0]+=sn,Kt(this,Rt)[1]+=En;const[Ln,jn]=Kt(this,Rt),Nn=[...Kt(this,vt)],ln=1e3;Kt(this,$t)&&clearTimeout(Kt(this,$t)),On(this,$t,setTimeout(()=>{On(this,$t,null),Kt(this,Rt)[0]=Kt(this,Rt)[1]=0,this.addCommands({cmd:()=>{for(const rn of Nn)Kt(this,Nt).has(rn.id)&&rn.translateInPage(Ln,jn)},undo:()=>{for(const rn of Nn)Kt(this,Nt).has(rn.id)&&rn.translateInPage(-Ln,-jn)},mustExec:!1})},ln));for(const rn of Nn)rn.translateInPage(sn,En)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),On(this,b,new Map);for(const sn of Kt(this,vt))Kt(this,b).set(sn,{savedX:sn.x,savedY:sn.y,savedPageIndex:sn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Kt(this,b))return!1;this.disableUserSelect(!1);const sn=Kt(this,b);On(this,b,null);let En=!1;for(const[{x:Ln,y:jn,pageIndex:Nn},ln]of sn)ln.newX=Ln,ln.newY=jn,ln.newPageIndex=Nn,En||(En=Ln!==ln.savedX||jn!==ln.savedY||Nn!==ln.savedPageIndex);if(!En)return!1;const Pn=(Ln,jn,Nn,ln)=>{if(Kt(this,Nt).has(Ln.id)){const rn=Kt(this,Pt).get(ln);rn?Ln._setParentAndPosition(rn,jn,Nn):(Ln.pageIndex=ln,Ln.x=jn,Ln.y=Nn)}};return this.addCommands({cmd:()=>{for(const[Ln,{newX:jn,newY:Nn,newPageIndex:ln}]of sn)Pn(Ln,jn,Nn,ln)},undo:()=>{for(const[Ln,{savedX:jn,savedY:Nn,savedPageIndex:ln}]of sn)Pn(Ln,jn,Nn,ln)},mustExec:!0}),!0}dragSelectedEditors(sn,En){if(Kt(this,b))for(const Pn of Kt(this,b).keys())Pn.drag(sn,En)}rebuild(sn){if(sn.parent===null){const En=this.getLayer(sn.pageIndex);En?(En.changeParent(sn),En.addOrRebuild(sn)):(this.addEditor(sn),this.addToAnnotationStorage(sn),sn.rebuild())}else sn.parent.addOrRebuild(sn)}isActive(sn){return Kt(this,Ct)===sn}getActive(){return Kt(this,Ct)}getMode(){return Kt(this,yt)}get imageManager(){return(0,g.shadow)(this,"imageManager",new _t)}};Ct=new WeakMap,Nt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,Et=new WeakMap,rt=new WeakMap,ft=new WeakMap,wt=new WeakMap,b=new WeakMap,pt=new WeakMap,Ot=new WeakMap,kt=new WeakMap,st=new WeakMap,nt=new WeakMap,gt=new WeakMap,Ft=new WeakMap,yt=new WeakMap,vt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Ht=new WeakMap,Vt=new WeakMap,Qt=new WeakMap,_e=new WeakMap,Xt=new WeakMap,Dt=new WeakMap,It=new WeakMap,j=new WeakMap,At=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,$t=new WeakMap,zt=new WeakMap,qt=new WeakMap,Wt=new WeakSet,$o=function(){window.addEventListener("focus",Kt(this,Ht)),window.addEventListener("blur",Kt(this,jt))},Ys=function(){window.removeEventListener("focus",Kt(this,Ht)),window.removeEventListener("blur",Kt(this,jt))},Js=function(){window.addEventListener("keydown",Kt(this,Xt),{capture:!0})},$a=function(){window.removeEventListener("keydown",Kt(this,Xt),{capture:!0})},Zs=function(){document.addEventListener("copy",Kt(this,Vt)),document.addEventListener("cut",Kt(this,Qt)),document.addEventListener("paste",Kt(this,_e))},Qs=function(){document.removeEventListener("copy",Kt(this,Vt)),document.removeEventListener("cut",Kt(this,Qt)),document.removeEventListener("paste",Kt(this,_e))},wr=function(sn){Object.entries(sn).some(([Pn,Ln])=>Kt(this,Mt)[Pn]!==Ln)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Kt(this,Mt),sn)})},qr=function(sn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:sn})},Uo=function(){if(!Kt(this,nt)){On(this,nt,!0);for(const sn of Kt(this,Pt).values())sn.enable()}},Ho=function(){if(this.unselectAll(),Kt(this,nt)){On(this,nt,!1);for(const sn of Kt(this,Pt).values())sn.disable()}},to=function(sn){const En=Kt(this,Pt).get(sn.pageIndex);En?En.addOrRebuild(sn):this.addEditor(sn)},Wr=function(){if(Kt(this,Nt).size===0)return!0;if(Kt(this,Nt).size===1)for(const sn of Kt(this,Nt).values())return sn.isEmpty();return!1},eo=function(sn){Kt(this,vt).clear();for(const En of sn)En.isEmpty()||(Kt(this,vt).add(En),En.select());xn(this,Wt,wr).call(this,{hasSelectedEditor:!0})},ir(kn,"TRANSLATE_SMALL",1),ir(kn,"TRANSLATE_BIG",10);let e=kn;o.AnnotationEditorUIManager=e},(a,o,h)=>{var ft,wt,b,pt,Ot,kt,st,nt,gt,Ft,yt,vt,Mr,Rr,no,ts,es,Gr,Vr;Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMFilterFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=it,o.getColorValues=Nt,o.getCurrentTransform=Pt,o.getCurrentTransformInverse=Tt,o.getFilenameFromUrl=et,o.getPdfFilenameFromUrl=_,o.getRGB=Ct,o.getXfaPageViewport=mt,o.isDataScheme=ut,o.isPdfFile=dt,o.isValidFetchUrl=lt,o.loadScript=ct,o.noContextMenu=at,o.setLayerDimensions=Et;var g=h(7),xt=h(1);const Bt="http://www.w3.org/2000/svg",rt=class rt{};ir(rt,"CSS",96),ir(rt,"PDF",72),ir(rt,"PDF_TO_CSS_UNITS",rt.CSS/rt.PDF);let Ut=rt;o.PixelsPerInch=Ut;class $ extends g.BaseFilterFactory{constructor({docId:j,ownerDocument:At=globalThis.document}={}){super();Fn(this,vt);Fn(this,ft);Fn(this,wt);Fn(this,b);Fn(this,pt);Fn(this,Ot);Fn(this,kt);Fn(this,st);Fn(this,nt);Fn(this,gt);Fn(this,Ft);Fn(this,yt,0);On(this,b,j),On(this,pt,At)}addFilter(j){if(!j)return"none";let At=Kt(this,vt,Mr).get(j);if(At)return At;let Mt,Rt,$t,zt;if(j.length===1){const Zt=j[0],Yt=new Array(256);for(let tn=0;tn<256;tn++)Yt[tn]=Zt[tn]/255;zt=Mt=Rt=$t=Yt.join(",")}else{const[Zt,Yt,tn]=j,nn=new Array(256),en=new Array(256),an=new Array(256);for(let vn=0;vn<256;vn++)nn[vn]=Zt[vn]/255,en[vn]=Yt[vn]/255,an[vn]=tn[vn]/255;Mt=nn.join(","),Rt=en.join(","),$t=an.join(","),zt=`${Mt}${Rt}${$t}`}if(At=Kt(this,vt,Mr).get(zt),At)return Kt(this,vt,Mr).set(j,At),At;const qt=`g_${Kt(this,b)}_transfer_map_${zr(this,yt)._++}`,Wt=`url(#${qt})`;Kt(this,vt,Mr).set(j,Wt),Kt(this,vt,Mr).set(zt,Wt);const Gt=xn(this,vt,ts).call(this,qt);return xn(this,vt,Gr).call(this,Mt,Rt,$t,Gt),Wt}addHCMFilter(j,At){var Yt;const Mt=`${j}-${At}`;if(Kt(this,kt)===Mt)return Kt(this,st);if(On(this,kt,Mt),On(this,st,"none"),(Yt=Kt(this,Ot))==null||Yt.remove(),!j||!At)return Kt(this,st);const Rt=xn(this,vt,Vr).call(this,j);j=xt.Util.makeHexColor(...Rt);const $t=xn(this,vt,Vr).call(this,At);if(At=xt.Util.makeHexColor(...$t),Kt(this,vt,Rr).style.color="",j==="#000000"&&At==="#ffffff"||j===At)return Kt(this,st);const zt=new Array(256);for(let tn=0;tn<=255;tn++){const nn=tn/255;zt[tn]=nn<=.03928?nn/12.92:((nn+.055)/1.055)**2.4}const qt=zt.join(","),Wt=`g_${Kt(this,b)}_hcm_filter`,Gt=On(this,nt,xn(this,vt,ts).call(this,Wt));xn(this,vt,Gr).call(this,qt,qt,qt,Gt),xn(this,vt,no).call(this,Gt);const Zt=(tn,nn)=>{const en=Rt[tn]/255,an=$t[tn]/255,vn=new Array(nn+1);for(let An=0;An<=nn;An++)vn[An]=en+An/nn*(an-en);return vn.join(",")};return xn(this,vt,Gr).call(this,Zt(0,5),Zt(1,5),Zt(2,5),Gt),On(this,st,`url(#${Wt})`),Kt(this,st)}addHighlightHCMFilter(j,At,Mt,Rt){var an;const $t=`${j}-${At}-${Mt}-${Rt}`;if(Kt(this,gt)===$t)return Kt(this,Ft);if(On(this,gt,$t),On(this,Ft,"none"),(an=Kt(this,nt))==null||an.remove(),!j||!At)return Kt(this,Ft);const[zt,qt]=[j,At].map(xn(this,vt,Vr).bind(this));let Wt=Math.round(.2126*zt[0]+.7152*zt[1]+.0722*zt[2]),Gt=Math.round(.2126*qt[0]+.7152*qt[1]+.0722*qt[2]),[Zt,Yt]=[Mt,Rt].map(xn(this,vt,Vr).bind(this));Gt<Wt&&([Wt,Gt,Zt,Yt]=[Gt,Wt,Yt,Zt]),Kt(this,vt,Rr).style.color="";const tn=(vn,An,cn)=>{const hn=new Array(256),fn=(Gt-Wt)/cn,Cn=vn/255,kn=(An-vn)/(255*cn);let Rn=0;for(let sn=0;sn<=cn;sn++){const En=Math.round(Wt+sn*fn),Pn=Cn+sn*kn;for(let Ln=Rn;Ln<=En;Ln++)hn[Ln]=Pn;Rn=En+1}for(let sn=Rn;sn<256;sn++)hn[sn]=hn[Rn-1];return hn.join(",")},nn=`g_${Kt(this,b)}_hcm_highlight_filter`,en=On(this,nt,xn(this,vt,ts).call(this,nn));return xn(this,vt,no).call(this,en),xn(this,vt,Gr).call(this,tn(Zt[0],Yt[0],5),tn(Zt[1],Yt[1],5),tn(Zt[2],Yt[2],5),en),On(this,Ft,`url(#${nn})`),Kt(this,Ft)}destroy(j=!1){j&&(Kt(this,st)||Kt(this,Ft))||(Kt(this,wt)&&(Kt(this,wt).parentNode.parentNode.remove(),On(this,wt,null)),Kt(this,ft)&&(Kt(this,ft).clear(),On(this,ft,null)),On(this,yt,0))}}ft=new WeakMap,wt=new WeakMap,b=new WeakMap,pt=new WeakMap,Ot=new WeakMap,kt=new WeakMap,st=new WeakMap,nt=new WeakMap,gt=new WeakMap,Ft=new WeakMap,yt=new WeakMap,vt=new WeakSet,Mr=function(){return Kt(this,ft)||On(this,ft,new Map)},Rr=function(){if(!Kt(this,wt)){const j=Kt(this,pt).createElement("div"),{style:At}=j;At.visibility="hidden",At.contain="strict",At.width=At.height=0,At.position="absolute",At.top=At.left=0,At.zIndex=-1;const Mt=Kt(this,pt).createElementNS(Bt,"svg");Mt.setAttribute("width",0),Mt.setAttribute("height",0),On(this,wt,Kt(this,pt).createElementNS(Bt,"defs")),j.append(Mt),Mt.append(Kt(this,wt)),Kt(this,pt).body.append(j)}return Kt(this,wt)},no=function(j){const At=Kt(this,pt).createElementNS(Bt,"feColorMatrix");At.setAttribute("type","matrix"),At.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),j.append(At)},ts=function(j){const At=Kt(this,pt).createElementNS(Bt,"filter");return At.setAttribute("color-interpolation-filters","sRGB"),At.setAttribute("id",j),Kt(this,vt,Rr).append(At),At},es=function(j,At,Mt){const Rt=Kt(this,pt).createElementNS(Bt,At);Rt.setAttribute("type","discrete"),Rt.setAttribute("tableValues",Mt),j.append(Rt)},Gr=function(j,At,Mt,Rt){const $t=Kt(this,pt).createElementNS(Bt,"feComponentTransfer");Rt.append($t),xn(this,vt,es).call(this,$t,"feFuncR",j),xn(this,vt,es).call(this,$t,"feFuncG",At),xn(this,vt,es).call(this,$t,"feFuncB",Mt)},Vr=function(j){return Kt(this,vt,Rr).style.color=j,Ct(getComputedStyle(Kt(this,vt,Rr)).getPropertyValue("color"))},o.DOMFilterFactory=$;class _t extends g.BaseCanvasFactory{constructor({ownerDocument:It=globalThis.document}={}){super(),this._document=It}_createCanvas(It,j){const At=this._document.createElement("canvas");return At.width=It,At.height=j,At}}o.DOMCanvasFactory=_t;async function s(Dt,It=!1){if(lt(Dt,document.baseURI)){const j=await fetch(Dt);if(!j.ok)throw new Error(j.statusText);return It?new Uint8Array(await j.arrayBuffer()):(0,xt.stringToBytes)(await j.text())}return new Promise((j,At)=>{const Mt=new XMLHttpRequest;Mt.open("GET",Dt,!0),It&&(Mt.responseType="arraybuffer"),Mt.onreadystatechange=()=>{if(Mt.readyState===XMLHttpRequest.DONE){if(Mt.status===200||Mt.status===0){let Rt;if(It&&Mt.response?Rt=new Uint8Array(Mt.response):!It&&Mt.responseText&&(Rt=(0,xt.stringToBytes)(Mt.responseText)),Rt){j(Rt);return}}At(new Error(Mt.statusText))}},Mt.send(null)})}class bt extends g.BaseCMapReaderFactory{_fetchData(It,j){return s(It,this.isCompressed).then(At=>({cMapData:At,compressionType:j}))}}o.DOMCMapReaderFactory=bt;class St extends g.BaseStandardFontDataFactory{_fetchData(It){return s(It,!0)}}o.DOMStandardFontDataFactory=St;class e extends g.BaseSVGFactory{_createSVG(It){return document.createElementNS(Bt,It)}}o.DOMSVGFactory=e;class i{constructor({viewBox:It,scale:j,rotation:At,offsetX:Mt=0,offsetY:Rt=0,dontFlip:$t=!1}){this.viewBox=It,this.scale=j,this.rotation=At,this.offsetX=Mt,this.offsetY=Rt;const zt=(It[2]+It[0])/2,qt=(It[3]+It[1])/2;let Wt,Gt,Zt,Yt;switch(At%=360,At<0&&(At+=360),At){case 180:Wt=-1,Gt=0,Zt=0,Yt=1;break;case 90:Wt=0,Gt=1,Zt=1,Yt=0;break;case 270:Wt=0,Gt=-1,Zt=-1,Yt=0;break;case 0:Wt=1,Gt=0,Zt=0,Yt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}$t&&(Zt=-Zt,Yt=-Yt);let tn,nn,en,an;Wt===0?(tn=Math.abs(qt-It[1])*j+Mt,nn=Math.abs(zt-It[0])*j+Rt,en=(It[3]-It[1])*j,an=(It[2]-It[0])*j):(tn=Math.abs(zt-It[0])*j+Mt,nn=Math.abs(qt-It[1])*j+Rt,en=(It[2]-It[0])*j,an=(It[3]-It[1])*j),this.transform=[Wt*j,Gt*j,Zt*j,Yt*j,tn-Wt*j*zt-Zt*j*qt,nn-Gt*j*zt-Yt*j*qt],this.width=en,this.height=an}get rawDims(){const{viewBox:It}=this;return(0,xt.shadow)(this,"rawDims",{pageWidth:It[2]-It[0],pageHeight:It[3]-It[1],pageX:It[0],pageY:It[1]})}clone({scale:It=this.scale,rotation:j=this.rotation,offsetX:At=this.offsetX,offsetY:Mt=this.offsetY,dontFlip:Rt=!1}={}){return new i({viewBox:this.viewBox.slice(),scale:It,rotation:j,offsetX:At,offsetY:Mt,dontFlip:Rt})}convertToViewportPoint(It,j){return xt.Util.applyTransform([It,j],this.transform)}convertToViewportRectangle(It){const j=xt.Util.applyTransform([It[0],It[1]],this.transform),At=xt.Util.applyTransform([It[2],It[3]],this.transform);return[j[0],j[1],At[0],At[1]]}convertToPdfPoint(It,j){return xt.Util.applyInverseTransform([It,j],this.transform)}}o.PageViewport=i;class d extends xt.BaseException{constructor(It,j=0){super(It,"RenderingCancelledException"),this.extraDelay=j}}o.RenderingCancelledException=d;function ut(Dt){const It=Dt.length;let j=0;for(;j<It&&Dt[j].trim()==="";)j++;return Dt.substring(j,j+5).toLowerCase()==="data:"}function dt(Dt){return typeof Dt=="string"&&/\.pdf$/i.test(Dt)}function et(Dt,It=!1){return It||([Dt]=Dt.split(/[#?]/,1)),Dt.substring(Dt.lastIndexOf("/")+1)}function _(Dt,It="document.pdf"){if(typeof Dt!="string")return It;if(ut(Dt))return(0,xt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),It;const j=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,At=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Mt=j.exec(Dt);let Rt=At.exec(Mt[1])||At.exec(Mt[2])||At.exec(Mt[3]);if(Rt&&(Rt=Rt[0],Rt.includes("%")))try{Rt=At.exec(decodeURIComponent(Rt))[0]}catch{}return Rt||It}class c{constructor(){ir(this,"started",Object.create(null));ir(this,"times",[])}time(It){It in this.started&&(0,xt.warn)(`Timer is already running for ${It}`),this.started[It]=Date.now()}timeEnd(It){It in this.started||(0,xt.warn)(`Timer has not been started for ${It}`),this.times.push({name:It,start:this.started[It],end:Date.now()}),delete this.started[It]}toString(){const It=[];let j=0;for(const{name:At}of this.times)j=Math.max(At.length,j);for(const{name:At,start:Mt,end:Rt}of this.times)It.push(`${At.padEnd(j)} ${Rt-Mt}ms
`);return It.join("")}}o.StatTimer=c;function lt(Dt,It){try{const{protocol:j}=It?new URL(Dt,It):new URL(Dt);return j==="http:"||j==="https:"}catch{return!1}}function at(Dt){Dt.preventDefault()}function ct(Dt,It=!1){return new Promise((j,At)=>{const Mt=document.createElement("script");Mt.src=Dt,Mt.onload=function(Rt){It&&Mt.remove(),j(Rt)},Mt.onerror=function(){At(new Error(`Cannot load script at: ${Mt.src}`))},(document.head||document.documentElement).append(Mt)})}function it(Dt){console.log("Deprecated API usage: "+Dt)}let tt;class ot{static toDateObject(It){if(!It||typeof It!="string")return null;tt||(tt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const j=tt.exec(It);if(!j)return null;const At=parseInt(j[1],10);let Mt=parseInt(j[2],10);Mt=Mt>=1&&Mt<=12?Mt-1:0;let Rt=parseInt(j[3],10);Rt=Rt>=1&&Rt<=31?Rt:1;let $t=parseInt(j[4],10);$t=$t>=0&&$t<=23?$t:0;let zt=parseInt(j[5],10);zt=zt>=0&&zt<=59?zt:0;let qt=parseInt(j[6],10);qt=qt>=0&&qt<=59?qt:0;const Wt=j[7]||"Z";let Gt=parseInt(j[8],10);Gt=Gt>=0&&Gt<=23?Gt:0;let Zt=parseInt(j[9],10)||0;return Zt=Zt>=0&&Zt<=59?Zt:0,Wt==="-"?($t+=Gt,zt+=Zt):Wt==="+"&&($t-=Gt,zt-=Zt),new Date(Date.UTC(At,Mt,Rt,$t,zt,qt))}}o.PDFDateString=ot;function mt(Dt,{scale:It=1,rotation:j=0}){const{width:At,height:Mt}=Dt.attributes.style,Rt=[0,0,parseInt(At),parseInt(Mt)];return new i({viewBox:Rt,scale:It,rotation:j})}function Ct(Dt){if(Dt.startsWith("#")){const It=parseInt(Dt.slice(1),16);return[(It&16711680)>>16,(It&65280)>>8,It&255]}return Dt.startsWith("rgb(")?Dt.slice(4,-1).split(",").map(It=>parseInt(It)):Dt.startsWith("rgba(")?Dt.slice(5,-1).split(",").map(It=>parseInt(It)).slice(0,3):((0,xt.warn)(`Not a valid color format: "${Dt}"`),[0,0,0])}function Nt(Dt){const It=document.createElement("span");It.style.visibility="hidden",document.body.append(It);for(const j of Dt.keys()){It.style.color=j;const At=window.getComputedStyle(It).color;Dt.set(j,Ct(At))}It.remove()}function Pt(Dt){const{a:It,b:j,c:At,d:Mt,e:Rt,f:$t}=Dt.getTransform();return[It,j,At,Mt,Rt,$t]}function Tt(Dt){const{a:It,b:j,c:At,d:Mt,e:Rt,f:$t}=Dt.getTransform().invertSelf();return[It,j,At,Mt,Rt,$t]}function Et(Dt,It,j=!1,At=!0){if(It instanceof i){const{pageWidth:Mt,pageHeight:Rt}=It.rawDims,{style:$t}=Dt,zt=xt.FeatureTest.isCSSRoundSupported,qt=`var(--scale-factor) * ${Mt}px`,Wt=`var(--scale-factor) * ${Rt}px`,Gt=zt?`round(${qt}, 1px)`:`calc(${qt})`,Zt=zt?`round(${Wt}, 1px)`:`calc(${Wt})`;!j||It.rotation%180===0?($t.width=Gt,$t.height=Zt):($t.width=Zt,$t.height=Gt)}At&&Dt.setAttribute("data-main-rotation",It.rotation)}},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseFilterFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var g=h(1);class xt{constructor(){this.constructor===xt&&(0,g.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(bt){return"none"}addHCMFilter(bt,St){return"none"}addHighlightHCMFilter(bt,St,e,i){return"none"}destroy(bt=!1){}}o.BaseFilterFactory=xt;class Bt{constructor(){this.constructor===Bt&&(0,g.unreachable)("Cannot initialize BaseCanvasFactory.")}create(bt,St){if(bt<=0||St<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(bt,St);return{canvas:e,context:e.getContext("2d")}}reset(bt,St,e){if(!bt.canvas)throw new Error("Canvas is not specified");if(St<=0||e<=0)throw new Error("Invalid canvas size");bt.canvas.width=St,bt.canvas.height=e}destroy(bt){if(!bt.canvas)throw new Error("Canvas is not specified");bt.canvas.width=0,bt.canvas.height=0,bt.canvas=null,bt.context=null}_createCanvas(bt,St){(0,g.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=Bt;class Ut{constructor({baseUrl:bt=null,isCompressed:St=!0}){this.constructor===Ut&&(0,g.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=bt,this.isCompressed=St}async fetch({name:bt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!bt)throw new Error("CMap name must be specified.");const St=this.baseUrl+bt+(this.isCompressed?".bcmap":""),e=this.isCompressed?g.CMapCompressionType.BINARY:g.CMapCompressionType.NONE;return this._fetchData(St,e).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${St}`)})}_fetchData(bt,St){(0,g.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=Ut;class ${constructor({baseUrl:bt=null}){this.constructor===$&&(0,g.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=bt}async fetch({filename:bt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!bt)throw new Error("Font filename must be specified.");const St=`${this.baseUrl}${bt}`;return this._fetchData(St).catch(e=>{throw new Error(`Unable to load font data at: ${St}`)})}_fetchData(bt){(0,g.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=$;class _t{constructor(){this.constructor===_t&&(0,g.unreachable)("Cannot initialize BaseSVGFactory.")}create(bt,St,e=!1){if(bt<=0||St<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),e||(i.setAttribute("width",`${bt}px`),i.setAttribute("height",`${St}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${bt} ${St}`),i}createElement(bt){if(typeof bt!="string")throw new Error("Invalid SVG element type");return this._createSVG(bt)}_createSVG(bt){(0,g.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=_t},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var g=h(1);const xt=3285377520,Bt=4294901760,Ut=65535;class ${constructor(s){this.h1=s?s&4294967295:xt,this.h2=s?s&4294967295:xt}update(s){let bt,St;if(typeof s=="string"){bt=new Uint8Array(s.length*2),St=0;for(let it=0,tt=s.length;it<tt;it++){const ot=s.charCodeAt(it);ot<=255?bt[St++]=ot:(bt[St++]=ot>>>8,bt[St++]=ot&255)}}else if((0,g.isArrayBuffer)(s))bt=s.slice(),St=bt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const e=St>>2,i=St-e*4,d=new Uint32Array(bt.buffer,0,e);let ut=0,dt=0,et=this.h1,_=this.h2;const c=3432918353,lt=461845907,at=c&Ut,ct=lt&Ut;for(let it=0;it<e;it++)it&1?(ut=d[it],ut=ut*c&Bt|ut*at&Ut,ut=ut<<15|ut>>>17,ut=ut*lt&Bt|ut*ct&Ut,et^=ut,et=et<<13|et>>>19,et=et*5+3864292196):(dt=d[it],dt=dt*c&Bt|dt*at&Ut,dt=dt<<15|dt>>>17,dt=dt*lt&Bt|dt*ct&Ut,_^=dt,_=_<<13|_>>>19,_=_*5+3864292196);switch(ut=0,i){case 3:ut^=bt[e*4+2]<<16;case 2:ut^=bt[e*4+1]<<8;case 1:ut^=bt[e*4],ut=ut*c&Bt|ut*at&Ut,ut=ut<<15|ut>>>17,ut=ut*lt&Bt|ut*ct&Ut,e&1?et^=ut:_^=ut}this.h1=et,this.h2=_}hexdigest(){let s=this.h1,bt=this.h2;return s^=bt>>>1,s=s*3981806797&Bt|s*36045&Ut,bt=bt*4283543511&Bt|((bt<<16|s>>>16)*2950163797&Bt)>>>16,s^=bt>>>1,s=s*444984403&Bt|s*60499&Ut,bt=bt*3301882366&Bt|((bt<<16|s>>>16)*3120437893&Bt)>>>16,s^=bt>>>1,(s>>>0).toString(16).padStart(8,"0")+(bt>>>0).toString(16).padStart(8,"0")}}o.MurmurHash3_64=$},(a,o,h)=>{var Ut;Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var g=h(1);class xt{constructor({ownerDocument:_t=globalThis.document,styleElement:s=null}){Fn(this,Ut,new Set);this._document=_t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_t){this.nativeFontFaces.add(_t),this._document.fonts.add(_t)}removeNativeFontFace(_t){this.nativeFontFaces.delete(_t),this._document.fonts.delete(_t)}insertRule(_t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(_t,s.cssRules.length)}clear(){for(const _t of this.nativeFontFaces)this._document.fonts.delete(_t);this.nativeFontFaces.clear(),Kt(this,Ut).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_t){if(!(!_t||Kt(this,Ut).has(_t.loadedName))){if((0,g.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:bt,style:St}=_t,e=new FontFace(s,bt,St);this.addNativeFontFace(e);try{await e.load(),Kt(this,Ut).add(s)}catch{(0,g.warn)(`Cannot load system font: ${_t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(e)}return}(0,g.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_t){if(_t.attached||_t.missingFile&&!_t.systemFontInfo)return;if(_t.attached=!0,_t.systemFontInfo){await this.loadSystemFont(_t.systemFontInfo);return}if(this.isFontLoadingAPISupported){const bt=_t.createNativeFontFace();if(bt){this.addNativeFontFace(bt);try{await bt.loaded}catch(St){throw(0,g.warn)(`Failed to load font '${bt.family}': '${St}'.`),_t.disableFontFace=!0,St}}return}const s=_t.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(bt=>{const St=this._queueLoadingCallback(bt);this._prepareFontLoadEvent(_t,St)})}}get isFontLoadingAPISupported(){var s;const _t=!!((s=this._document)!=null&&s.fonts);return(0,g.shadow)(this,"isFontLoadingAPISupported",_t)}get isSyncFontLoadingSupported(){let _t=!1;return(g.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_t=!0),(0,g.shadow)(this,"isSyncFontLoadingSupported",_t)}_queueLoadingCallback(_t){function s(){for((0,g.assert)(!St.done,"completeRequest() cannot be called twice."),St.done=!0;bt.length>0&&bt[0].done;){const e=bt.shift();setTimeout(e.callback,0)}}const{loadingRequests:bt}=this,St={done:!1,complete:s,callback:_t};return bt.push(St),St}get _loadTestFont(){const _t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,g.shadow)(this,"_loadTestFont",_t)}_prepareFontLoadEvent(_t,s){function bt(Ct,Nt){return Ct.charCodeAt(Nt)<<24|Ct.charCodeAt(Nt+1)<<16|Ct.charCodeAt(Nt+2)<<8|Ct.charCodeAt(Nt+3)&255}function St(Ct,Nt,Pt,Tt){const Et=Ct.substring(0,Nt),rt=Ct.substring(Nt+Pt);return Et+Tt+rt}let e,i;const d=this._document.createElement("canvas");d.width=1,d.height=1;const ut=d.getContext("2d");let dt=0;function et(Ct,Nt){if(++dt>30){(0,g.warn)("Load test font never loaded."),Nt();return}if(ut.font="30px "+Ct,ut.fillText(".",0,20),ut.getImageData(0,0,1,1).data[3]>0){Nt();return}setTimeout(et.bind(null,Ct,Nt))}const _=`lt${Date.now()}${this.loadTestFontId++}`;let c=this._loadTestFont;c=St(c,976,_.length,_);const at=16,ct=1482184792;let it=bt(c,at);for(e=0,i=_.length-3;e<i;e+=4)it=it-ct+bt(_,e)|0;e<_.length&&(it=it-ct+bt(_+"XXX",e)|0),c=St(c,at,4,(0,g.string32)(it));const tt=`url(data:font/opentype;base64,${btoa(c)});`,ot=`@font-face {font-family:"${_}";src:${tt}}`;this.insertRule(ot);const mt=this._document.createElement("div");mt.style.visibility="hidden",mt.style.width=mt.style.height="10px",mt.style.position="absolute",mt.style.top=mt.style.left="0px";for(const Ct of[_t.loadedName,_]){const Nt=this._document.createElement("span");Nt.textContent="Hi",Nt.style.fontFamily=Ct,mt.append(Nt)}this._document.body.append(mt),et(_,()=>{mt.remove(),s.complete()})}}Ut=new WeakMap,o.FontLoader=xt;class Bt{constructor(_t,{isEvalSupported:s=!0,disableFontFace:bt=!1,ignoreErrors:St=!1,inspectFont:e=null}){this.compiledGlyphs=Object.create(null);for(const i in _t)this[i]=_t[i];this.isEvalSupported=s!==!1,this.disableFontFace=bt===!0,this.ignoreErrors=St===!0,this._inspectFont=e}createNativeFontFace(){var s;if(!this.data||this.disableFontFace)return null;let _t;if(!this.cssFontInfo)_t=new FontFace(this.loadedName,this.data,{});else{const bt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(bt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_t=new FontFace(this.cssFontInfo.fontFamily,this.data,bt)}return(s=this._inspectFont)==null||s.call(this,this),_t}createFontFaceRule(){var St;if(!this.data||this.disableFontFace)return null;const _t=(0,g.bytesToString)(this.data),s=`url(data:${this.mimetype};base64,${btoa(_t)});`;let bt;if(!this.cssFontInfo)bt=`@font-face {font-family:"${this.loadedName}";src:${s}}`;else{let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),bt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${s}}`}return(St=this._inspectFont)==null||St.call(this,this,s),bt}getPathGenerator(_t,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];let bt;try{bt=_t.get(this.loadedName+"_path_"+s)}catch(St){if(!this.ignoreErrors)throw St;return(0,g.warn)(`getPathGenerator - ignoring character: "${St}".`),this.compiledGlyphs[s]=function(e,i){}}if(this.isEvalSupported&&g.FeatureTest.isEvalSupported){const St=[];for(const e of bt){const i=e.args!==void 0?e.args.join(","):"";St.push("c.",e.cmd,"(",i,`);
`)}return this.compiledGlyphs[s]=new Function("c","size",St.join(""))}return this.compiledGlyphs[s]=function(St,e){for(const i of bt)i.cmd==="scale"&&(i.args=[e,-e]),St[i.cmd].apply(St,i.args)}}}o.FontFaceObject=Bt},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeFilterFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var g=h(7);h(1);const xt=function(s){return new Promise((bt,St)=>{require$$5.readFile(s,(i,d)=>{if(i||!d){St(new Error(i));return}bt(new Uint8Array(d))})})};class Bt extends g.BaseFilterFactory{}o.NodeFilterFactory=Bt;class Ut extends g.BaseCanvasFactory{_createCanvas(bt,St){return require$$5.createCanvas(bt,St)}}o.NodeCanvasFactory=Ut;class $ extends g.BaseCMapReaderFactory{_fetchData(bt,St){return xt(bt).then(e=>({cMapData:e,compressionType:St}))}}o.NodeCMapReaderFactory=$;class _t extends g.BaseStandardFontDataFactory{_fetchData(bt){return xt(bt)}}o.NodeStandardFontDataFactory=_t},(a,o,h)=>{var wt,ro,io;Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var g=h(1),xt=h(6),Bt=h(12),Ut=h(13);const $=16,_t=100,s=4096,bt=15,St=10,e=1e3,i=16;function d(kt,st){if(kt._removeMirroring)throw new Error("Context is already forwarding operations.");kt.__originalSave=kt.save,kt.__originalRestore=kt.restore,kt.__originalRotate=kt.rotate,kt.__originalScale=kt.scale,kt.__originalTranslate=kt.translate,kt.__originalTransform=kt.transform,kt.__originalSetTransform=kt.setTransform,kt.__originalResetTransform=kt.resetTransform,kt.__originalClip=kt.clip,kt.__originalMoveTo=kt.moveTo,kt.__originalLineTo=kt.lineTo,kt.__originalBezierCurveTo=kt.bezierCurveTo,kt.__originalRect=kt.rect,kt.__originalClosePath=kt.closePath,kt.__originalBeginPath=kt.beginPath,kt._removeMirroring=()=>{kt.save=kt.__originalSave,kt.restore=kt.__originalRestore,kt.rotate=kt.__originalRotate,kt.scale=kt.__originalScale,kt.translate=kt.__originalTranslate,kt.transform=kt.__originalTransform,kt.setTransform=kt.__originalSetTransform,kt.resetTransform=kt.__originalResetTransform,kt.clip=kt.__originalClip,kt.moveTo=kt.__originalMoveTo,kt.lineTo=kt.__originalLineTo,kt.bezierCurveTo=kt.__originalBezierCurveTo,kt.rect=kt.__originalRect,kt.closePath=kt.__originalClosePath,kt.beginPath=kt.__originalBeginPath,delete kt._removeMirroring},kt.save=function(){st.save(),this.__originalSave()},kt.restore=function(){st.restore(),this.__originalRestore()},kt.translate=function(gt,Ft){st.translate(gt,Ft),this.__originalTranslate(gt,Ft)},kt.scale=function(gt,Ft){st.scale(gt,Ft),this.__originalScale(gt,Ft)},kt.transform=function(gt,Ft,yt,vt,Lt,jt){st.transform(gt,Ft,yt,vt,Lt,jt),this.__originalTransform(gt,Ft,yt,vt,Lt,jt)},kt.setTransform=function(gt,Ft,yt,vt,Lt,jt){st.setTransform(gt,Ft,yt,vt,Lt,jt),this.__originalSetTransform(gt,Ft,yt,vt,Lt,jt)},kt.resetTransform=function(){st.resetTransform(),this.__originalResetTransform()},kt.rotate=function(gt){st.rotate(gt),this.__originalRotate(gt)},kt.clip=function(gt){st.clip(gt),this.__originalClip(gt)},kt.moveTo=function(nt,gt){st.moveTo(nt,gt),this.__originalMoveTo(nt,gt)},kt.lineTo=function(nt,gt){st.lineTo(nt,gt),this.__originalLineTo(nt,gt)},kt.bezierCurveTo=function(nt,gt,Ft,yt,vt,Lt){st.bezierCurveTo(nt,gt,Ft,yt,vt,Lt),this.__originalBezierCurveTo(nt,gt,Ft,yt,vt,Lt)},kt.rect=function(nt,gt,Ft,yt){st.rect(nt,gt,Ft,yt),this.__originalRect(nt,gt,Ft,yt)},kt.closePath=function(){st.closePath(),this.__originalClosePath()},kt.beginPath=function(){st.beginPath(),this.__originalBeginPath()}}class ut{constructor(st){this.canvasFactory=st,this.cache=Object.create(null)}getCanvas(st,nt,gt){let Ft;return this.cache[st]!==void 0?(Ft=this.cache[st],this.canvasFactory.reset(Ft,nt,gt)):(Ft=this.canvasFactory.create(nt,gt),this.cache[st]=Ft),Ft}delete(st){delete this.cache[st]}clear(){for(const st in this.cache){const nt=this.cache[st];this.canvasFactory.destroy(nt),delete this.cache[st]}}}function dt(kt,st,nt,gt,Ft,yt,vt,Lt,jt,Ht){const[Vt,Qt,_e,Xt,Dt,It]=(0,xt.getCurrentTransform)(kt);if(Qt===0&&_e===0){const Mt=vt*Vt+Dt,Rt=Math.round(Mt),$t=Lt*Xt+It,zt=Math.round($t),qt=(vt+jt)*Vt+Dt,Wt=Math.abs(Math.round(qt)-Rt)||1,Gt=(Lt+Ht)*Xt+It,Zt=Math.abs(Math.round(Gt)-zt)||1;return kt.setTransform(Math.sign(Vt),0,0,Math.sign(Xt),Rt,zt),kt.drawImage(st,nt,gt,Ft,yt,0,0,Wt,Zt),kt.setTransform(Vt,Qt,_e,Xt,Dt,It),[Wt,Zt]}if(Vt===0&&Xt===0){const Mt=Lt*_e+Dt,Rt=Math.round(Mt),$t=vt*Qt+It,zt=Math.round($t),qt=(Lt+Ht)*_e+Dt,Wt=Math.abs(Math.round(qt)-Rt)||1,Gt=(vt+jt)*Qt+It,Zt=Math.abs(Math.round(Gt)-zt)||1;return kt.setTransform(0,Math.sign(Qt),Math.sign(_e),0,Rt,zt),kt.drawImage(st,nt,gt,Ft,yt,0,0,Zt,Wt),kt.setTransform(Vt,Qt,_e,Xt,Dt,It),[Zt,Wt]}kt.drawImage(st,nt,gt,Ft,yt,vt,Lt,jt,Ht);const j=Math.hypot(Vt,Qt),At=Math.hypot(_e,Xt);return[j*jt,At*Ht]}function et(kt){const{width:st,height:nt}=kt;if(st>e||nt>e)return null;const gt=1e3,Ft=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),yt=st+1;let vt=new Uint8Array(yt*(nt+1)),Lt,jt,Ht;const Vt=st+7&-8;let Qt=new Uint8Array(Vt*nt),_e=0;for(const At of kt.data){let Mt=128;for(;Mt>0;)Qt[_e++]=At&Mt?0:255,Mt>>=1}let Xt=0;for(_e=0,Qt[_e]!==0&&(vt[0]=1,++Xt),jt=1;jt<st;jt++)Qt[_e]!==Qt[_e+1]&&(vt[jt]=Qt[_e]?2:1,++Xt),_e++;for(Qt[_e]!==0&&(vt[jt]=2,++Xt),Lt=1;Lt<nt;Lt++){_e=Lt*Vt,Ht=Lt*yt,Qt[_e-Vt]!==Qt[_e]&&(vt[Ht]=Qt[_e]?1:8,++Xt);let At=(Qt[_e]?4:0)+(Qt[_e-Vt]?8:0);for(jt=1;jt<st;jt++)At=(At>>2)+(Qt[_e+1]?4:0)+(Qt[_e-Vt+1]?8:0),Ft[At]&&(vt[Ht+jt]=Ft[At],++Xt),_e++;if(Qt[_e-Vt]!==Qt[_e]&&(vt[Ht+jt]=Qt[_e]?2:4,++Xt),Xt>gt)return null}for(_e=Vt*(nt-1),Ht=Lt*yt,Qt[_e]!==0&&(vt[Ht]=8,++Xt),jt=1;jt<st;jt++)Qt[_e]!==Qt[_e+1]&&(vt[Ht+jt]=Qt[_e]?4:8,++Xt),_e++;if(Qt[_e]!==0&&(vt[Ht+jt]=4,++Xt),Xt>gt)return null;const Dt=new Int32Array([0,yt,-1,0,-yt,0,0,0,1]),It=new Path2D;for(Lt=0;Xt&&Lt<=nt;Lt++){let At=Lt*yt;const Mt=At+st;for(;At<Mt&&!vt[At];)At++;if(At===Mt)continue;It.moveTo(At%yt,Lt);const Rt=At;let $t=vt[At];do{const zt=Dt[$t];do At+=zt;while(!vt[At]);const qt=vt[At];qt!==5&&qt!==10?($t=qt,vt[At]=0):($t=qt&51*$t>>4,vt[At]&=$t>>2|$t<<2),It.lineTo(At%yt,At/yt|0),vt[At]||--Xt}while(Rt!==At);--Lt}return Qt=null,vt=null,function(At){At.save(),At.scale(1/st,-1/nt),At.translate(0,-nt),At.fill(It),At.beginPath(),At.restore()}}class _{constructor(st,nt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=g.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=g.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=g.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,st,nt])}clone(){const st=Object.create(this);return st.clipBox=this.clipBox.slice(),st}setCurrentPoint(st,nt){this.x=st,this.y=nt}updatePathMinMax(st,nt,gt){[nt,gt]=g.Util.applyTransform([nt,gt],st),this.minX=Math.min(this.minX,nt),this.minY=Math.min(this.minY,gt),this.maxX=Math.max(this.maxX,nt),this.maxY=Math.max(this.maxY,gt)}updateRectMinMax(st,nt){const gt=g.Util.applyTransform(nt,st),Ft=g.Util.applyTransform(nt.slice(2),st);this.minX=Math.min(this.minX,gt[0],Ft[0]),this.minY=Math.min(this.minY,gt[1],Ft[1]),this.maxX=Math.max(this.maxX,gt[0],Ft[0]),this.maxY=Math.max(this.maxY,gt[1],Ft[1])}updateScalingPathMinMax(st,nt){g.Util.scaleMinMax(st,nt),this.minX=Math.min(this.minX,nt[0]),this.maxX=Math.max(this.maxX,nt[1]),this.minY=Math.min(this.minY,nt[2]),this.maxY=Math.max(this.maxY,nt[3])}updateCurvePathMinMax(st,nt,gt,Ft,yt,vt,Lt,jt,Ht,Vt){const Qt=g.Util.bezierBoundingBox(nt,gt,Ft,yt,vt,Lt,jt,Ht);if(Vt){Vt[0]=Math.min(Vt[0],Qt[0],Qt[2]),Vt[1]=Math.max(Vt[1],Qt[0],Qt[2]),Vt[2]=Math.min(Vt[2],Qt[1],Qt[3]),Vt[3]=Math.max(Vt[3],Qt[1],Qt[3]);return}this.updateRectMinMax(st,Qt)}getPathBoundingBox(st=Bt.PathType.FILL,nt=null){const gt=[this.minX,this.minY,this.maxX,this.maxY];if(st===Bt.PathType.STROKE){nt||(0,g.unreachable)("Stroke bounding box must include transform.");const Ft=g.Util.singularValueDecompose2dScale(nt),yt=Ft[0]*this.lineWidth/2,vt=Ft[1]*this.lineWidth/2;gt[0]-=yt,gt[1]-=vt,gt[2]+=yt,gt[3]+=vt}return gt}updateClipFromPath(){const st=g.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(st||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(st){this.clipBox=st,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(st=Bt.PathType.FILL,nt=null){return g.Util.intersect(this.clipBox,this.getPathBoundingBox(st,nt))}}function c(kt,st){if(typeof ImageData<"u"&&st instanceof ImageData){kt.putImageData(st,0,0);return}const nt=st.height,gt=st.width,Ft=nt%i,yt=(nt-Ft)/i,vt=Ft===0?yt:yt+1,Lt=kt.createImageData(gt,i);let jt=0,Ht;const Vt=st.data,Qt=Lt.data;let _e,Xt,Dt,It;if(st.kind===g.ImageKind.GRAYSCALE_1BPP){const j=Vt.byteLength,At=new Uint32Array(Qt.buffer,0,Qt.byteLength>>2),Mt=At.length,Rt=gt+7>>3,$t=4294967295,zt=g.FeatureTest.isLittleEndian?4278190080:255;for(_e=0;_e<vt;_e++){for(Dt=_e<yt?i:Ft,Ht=0,Xt=0;Xt<Dt;Xt++){const qt=j-jt;let Wt=0;const Gt=qt>Rt?gt:qt*8-7,Zt=Gt&-8;let Yt=0,tn=0;for(;Wt<Zt;Wt+=8)tn=Vt[jt++],At[Ht++]=tn&128?$t:zt,At[Ht++]=tn&64?$t:zt,At[Ht++]=tn&32?$t:zt,At[Ht++]=tn&16?$t:zt,At[Ht++]=tn&8?$t:zt,At[Ht++]=tn&4?$t:zt,At[Ht++]=tn&2?$t:zt,At[Ht++]=tn&1?$t:zt;for(;Wt<Gt;Wt++)Yt===0&&(tn=Vt[jt++],Yt=128),At[Ht++]=tn&Yt?$t:zt,Yt>>=1}for(;Ht<Mt;)At[Ht++]=0;kt.putImageData(Lt,0,_e*i)}}else if(st.kind===g.ImageKind.RGBA_32BPP){for(Xt=0,It=gt*i*4,_e=0;_e<yt;_e++)Qt.set(Vt.subarray(jt,jt+It)),jt+=It,kt.putImageData(Lt,0,Xt),Xt+=i;_e<vt&&(It=gt*Ft*4,Qt.set(Vt.subarray(jt,jt+It)),kt.putImageData(Lt,0,Xt))}else if(st.kind===g.ImageKind.RGB_24BPP)for(Dt=i,It=gt*Dt,_e=0;_e<vt;_e++){for(_e>=yt&&(Dt=Ft,It=gt*Dt),Ht=0,Xt=It;Xt--;)Qt[Ht++]=Vt[jt++],Qt[Ht++]=Vt[jt++],Qt[Ht++]=Vt[jt++],Qt[Ht++]=255;kt.putImageData(Lt,0,_e*i)}else throw new Error(`bad image kind: ${st.kind}`)}function lt(kt,st){if(st.bitmap){kt.drawImage(st.bitmap,0,0);return}const nt=st.height,gt=st.width,Ft=nt%i,yt=(nt-Ft)/i,vt=Ft===0?yt:yt+1,Lt=kt.createImageData(gt,i);let jt=0;const Ht=st.data,Vt=Lt.data;for(let Qt=0;Qt<vt;Qt++){const _e=Qt<yt?i:Ft;({srcPos:jt}=(0,Ut.convertBlackAndWhiteToRGBA)({src:Ht,srcPos:jt,dest:Vt,width:gt,height:_e,nonBlackColor:0})),kt.putImageData(Lt,0,Qt*i)}}function at(kt,st){const nt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const gt of nt)kt[gt]!==void 0&&(st[gt]=kt[gt]);kt.setLineDash!==void 0&&(st.setLineDash(kt.getLineDash()),st.lineDashOffset=kt.lineDashOffset)}function ct(kt){if(kt.strokeStyle=kt.fillStyle="#000000",kt.fillRule="nonzero",kt.globalAlpha=1,kt.lineWidth=1,kt.lineCap="butt",kt.lineJoin="miter",kt.miterLimit=10,kt.globalCompositeOperation="source-over",kt.font="10px sans-serif",kt.setLineDash!==void 0&&(kt.setLineDash([]),kt.lineDashOffset=0),!g.isNodeJS){const{filter:st}=kt;st!=="none"&&st!==""&&(kt.filter="none")}}function it(kt,st,nt,gt){const Ft=kt.length;for(let yt=3;yt<Ft;yt+=4){const vt=kt[yt];if(vt===0)kt[yt-3]=st,kt[yt-2]=nt,kt[yt-1]=gt;else if(vt<255){const Lt=255-vt;kt[yt-3]=kt[yt-3]*vt+st*Lt>>8,kt[yt-2]=kt[yt-2]*vt+nt*Lt>>8,kt[yt-1]=kt[yt-1]*vt+gt*Lt>>8}}}function tt(kt,st,nt){const gt=kt.length,Ft=1/255;for(let yt=3;yt<gt;yt+=4){const vt=nt?nt[kt[yt]]:kt[yt];st[yt]=st[yt]*vt*Ft|0}}function ot(kt,st,nt){const gt=kt.length;for(let Ft=3;Ft<gt;Ft+=4){const yt=kt[Ft-3]*77+kt[Ft-2]*152+kt[Ft-1]*28;st[Ft]=nt?st[Ft]*nt[yt>>8]>>8:st[Ft]*yt>>16}}function mt(kt,st,nt,gt,Ft,yt,vt,Lt,jt,Ht,Vt){const Qt=!!yt,_e=Qt?yt[0]:0,Xt=Qt?yt[1]:0,Dt=Qt?yt[2]:0,It=Ft==="Luminosity"?ot:tt,At=Math.min(gt,Math.ceil(1048576/nt));for(let Mt=0;Mt<gt;Mt+=At){const Rt=Math.min(At,gt-Mt),$t=kt.getImageData(Lt-Ht,Mt+(jt-Vt),nt,Rt),zt=st.getImageData(Lt,Mt+jt,nt,Rt);Qt&&it($t.data,_e,Xt,Dt),It($t.data,zt.data,vt),st.putImageData(zt,Lt,Mt+jt)}}function Ct(kt,st,nt,gt){const Ft=gt[0],yt=gt[1],vt=gt[2]-Ft,Lt=gt[3]-yt;vt===0||Lt===0||(mt(st.context,nt,vt,Lt,st.subtype,st.backdrop,st.transferMap,Ft,yt,st.offsetX,st.offsetY),kt.save(),kt.globalAlpha=1,kt.globalCompositeOperation="source-over",kt.setTransform(1,0,0,1,0,0),kt.drawImage(nt.canvas,0,0),kt.restore())}function Nt(kt,st){const nt=g.Util.singularValueDecompose2dScale(kt);nt[0]=Math.fround(nt[0]),nt[1]=Math.fround(nt[1]);const gt=Math.fround((globalThis.devicePixelRatio||1)*xt.PixelsPerInch.PDF_TO_CSS_UNITS);return st!==void 0?st:nt[0]<=gt||nt[1]<=gt}const Pt=["butt","round","square"],Tt=["miter","round","bevel"],Et={},rt={},Ot=class Ot{constructor(st,nt,gt,Ft,yt,{optionalContentConfig:vt,markedContentStack:Lt=null},jt,Ht){Fn(this,wt);this.ctx=st,this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=nt,this.objs=gt,this.canvasFactory=Ft,this.filterFactory=yt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Lt||[],this.optionalContentConfig=vt,this.cachedCanvases=new ut(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=jt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ht,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(st,nt=null){return typeof st=="string"?st.startsWith("g_")?this.commonObjs.get(st):this.objs.get(st):nt}beginDrawing({transform:st,viewport:nt,transparency:gt=!1,background:Ft=null}){const yt=this.ctx.canvas.width,vt=this.ctx.canvas.height,Lt=this.ctx.fillStyle;if(this.ctx.fillStyle=Ft||"#ffffff",this.ctx.fillRect(0,0,yt,vt),this.ctx.fillStyle=Lt,gt){const jt=this.cachedCanvases.getCanvas("transparent",yt,vt);this.compositeCtx=this.ctx,this.transparentCanvas=jt.canvas,this.ctx=jt.context,this.ctx.save(),this.ctx.transform(...(0,xt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ct(this.ctx),st&&(this.ctx.transform(...st),this.outputScaleX=st[0],this.outputScaleY=st[0]),this.ctx.transform(...nt.transform),this.viewportScale=nt.scale,this.baseTransform=(0,xt.getCurrentTransform)(this.ctx)}executeOperatorList(st,nt,gt,Ft){const yt=st.argsArray,vt=st.fnArray;let Lt=nt||0;const jt=yt.length;if(jt===Lt)return Lt;const Ht=jt-Lt>St&&typeof gt=="function",Vt=Ht?Date.now()+bt:0;let Qt=0;const _e=this.commonObjs,Xt=this.objs;let Dt;for(;;){if(Ft!==void 0&&Lt===Ft.nextBreakPoint)return Ft.breakIt(Lt,gt),Lt;if(Dt=vt[Lt],Dt!==g.OPS.dependency)this[Dt].apply(this,yt[Lt]);else for(const It of yt[Lt]){const j=It.startsWith("g_")?_e:Xt;if(!j.has(It))return j.get(It,gt),Lt}if(Lt++,Lt===jt)return Lt;if(Ht&&++Qt>St){if(Date.now()>Vt)return gt(),Lt;Qt=0}}}endDrawing(){xn(this,wt,ro).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const st of this._cachedBitmapsMap.values()){for(const nt of st.values())typeof HTMLCanvasElement<"u"&&nt instanceof HTMLCanvasElement&&(nt.width=nt.height=0);st.clear()}this._cachedBitmapsMap.clear(),xn(this,wt,io).call(this)}_scaleImage(st,nt){const gt=st.width,Ft=st.height;let yt=Math.max(Math.hypot(nt[0],nt[1]),1),vt=Math.max(Math.hypot(nt[2],nt[3]),1),Lt=gt,jt=Ft,Ht="prescale1",Vt,Qt;for(;yt>2&&Lt>1||vt>2&&jt>1;){let _e=Lt,Xt=jt;yt>2&&Lt>1&&(_e=Lt>=16384?Math.floor(Lt/2)-1||1:Math.ceil(Lt/2),yt/=Lt/_e),vt>2&&jt>1&&(Xt=jt>=16384?Math.floor(jt/2)-1||1:Math.ceil(jt)/2,vt/=jt/Xt),Vt=this.cachedCanvases.getCanvas(Ht,_e,Xt),Qt=Vt.context,Qt.clearRect(0,0,_e,Xt),Qt.drawImage(st,0,0,Lt,jt,0,0,_e,Xt),st=Vt.canvas,Lt=_e,jt=Xt,Ht=Ht==="prescale1"?"prescale2":"prescale1"}return{img:st,paintWidth:Lt,paintHeight:jt}}_createMaskCanvas(st){const nt=this.ctx,{width:gt,height:Ft}=st,yt=this.current.fillColor,vt=this.current.patternFill,Lt=(0,xt.getCurrentTransform)(nt);let jt,Ht,Vt,Qt;if((st.bitmap||st.data)&&st.count>1){const Wt=st.bitmap||st.data.buffer;Ht=JSON.stringify(vt?Lt:[Lt.slice(0,4),yt]),jt=this._cachedBitmapsMap.get(Wt),jt||(jt=new Map,this._cachedBitmapsMap.set(Wt,jt));const Gt=jt.get(Ht);if(Gt&&!vt){const Zt=Math.round(Math.min(Lt[0],Lt[2])+Lt[4]),Yt=Math.round(Math.min(Lt[1],Lt[3])+Lt[5]);return{canvas:Gt,offsetX:Zt,offsetY:Yt}}Vt=Gt}Vt||(Qt=this.cachedCanvases.getCanvas("maskCanvas",gt,Ft),lt(Qt.context,st));let _e=g.Util.transform(Lt,[1/gt,0,0,-1/Ft,0,0]);_e=g.Util.transform(_e,[1,0,0,1,0,-Ft]);const Xt=g.Util.applyTransform([0,0],_e),Dt=g.Util.applyTransform([gt,Ft],_e),It=g.Util.normalizeRect([Xt[0],Xt[1],Dt[0],Dt[1]]),j=Math.round(It[2]-It[0])||1,At=Math.round(It[3]-It[1])||1,Mt=this.cachedCanvases.getCanvas("fillCanvas",j,At),Rt=Mt.context,$t=Math.min(Xt[0],Dt[0]),zt=Math.min(Xt[1],Dt[1]);Rt.translate(-$t,-zt),Rt.transform(..._e),Vt||(Vt=this._scaleImage(Qt.canvas,(0,xt.getCurrentTransformInverse)(Rt)),Vt=Vt.img,jt&&vt&&jt.set(Ht,Vt)),Rt.imageSmoothingEnabled=Nt((0,xt.getCurrentTransform)(Rt),st.interpolate),dt(Rt,Vt,0,0,Vt.width,Vt.height,0,0,gt,Ft),Rt.globalCompositeOperation="source-in";const qt=g.Util.transform((0,xt.getCurrentTransformInverse)(Rt),[1,0,0,1,-$t,-zt]);return Rt.fillStyle=vt?yt.getPattern(nt,this,qt,Bt.PathType.FILL):yt,Rt.fillRect(0,0,gt,Ft),jt&&!vt&&(this.cachedCanvases.delete("fillCanvas"),jt.set(Ht,Mt.canvas)),{canvas:Mt.canvas,offsetX:Math.round($t),offsetY:Math.round(zt)}}setLineWidth(st){st!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=st,this.ctx.lineWidth=st}setLineCap(st){this.ctx.lineCap=Pt[st]}setLineJoin(st){this.ctx.lineJoin=Tt[st]}setMiterLimit(st){this.ctx.miterLimit=st}setDash(st,nt){const gt=this.ctx;gt.setLineDash!==void 0&&(gt.setLineDash(st),gt.lineDashOffset=nt)}setRenderingIntent(st){}setFlatness(st){}setGState(st){for(const[nt,gt]of st)switch(nt){case"LW":this.setLineWidth(gt);break;case"LC":this.setLineCap(gt);break;case"LJ":this.setLineJoin(gt);break;case"ML":this.setMiterLimit(gt);break;case"D":this.setDash(gt[0],gt[1]);break;case"RI":this.setRenderingIntent(gt);break;case"FL":this.setFlatness(gt);break;case"Font":this.setFont(gt[0],gt[1]);break;case"CA":this.current.strokeAlpha=gt;break;case"ca":this.current.fillAlpha=gt,this.ctx.globalAlpha=gt;break;case"BM":this.ctx.globalCompositeOperation=gt;break;case"SMask":this.current.activeSMask=gt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(gt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const st=this.inSMaskMode;this.current.activeSMask&&!st?this.beginSMaskMode():!this.current.activeSMask&&st&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const st=this.ctx.canvas.width,nt=this.ctx.canvas.height,gt="smaskGroupAt"+this.groupLevel,Ft=this.cachedCanvases.getCanvas(gt,st,nt);this.suspendedCtx=this.ctx,this.ctx=Ft.context;const yt=this.ctx;yt.setTransform(...(0,xt.getCurrentTransform)(this.suspendedCtx)),at(this.suspendedCtx,yt),d(yt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),at(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(st){if(!this.current.activeSMask)return;st?(st[0]=Math.floor(st[0]),st[1]=Math.floor(st[1]),st[2]=Math.ceil(st[2]),st[3]=Math.ceil(st[3])):st=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const nt=this.current.activeSMask,gt=this.suspendedCtx;Ct(gt,nt,this.ctx,st),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(at(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const st=this.current;this.stateStack.push(st),this.current=st.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),at(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(st,nt,gt,Ft,yt,vt){this.ctx.transform(st,nt,gt,Ft,yt,vt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(st,nt,gt){const Ft=this.ctx,yt=this.current;let vt=yt.x,Lt=yt.y,jt,Ht;const Vt=(0,xt.getCurrentTransform)(Ft),Qt=Vt[0]===0&&Vt[3]===0||Vt[1]===0&&Vt[2]===0,_e=Qt?gt.slice(0):null;for(let Xt=0,Dt=0,It=st.length;Xt<It;Xt++)switch(st[Xt]|0){case g.OPS.rectangle:vt=nt[Dt++],Lt=nt[Dt++];const j=nt[Dt++],At=nt[Dt++],Mt=vt+j,Rt=Lt+At;Ft.moveTo(vt,Lt),j===0||At===0?Ft.lineTo(Mt,Rt):(Ft.lineTo(Mt,Lt),Ft.lineTo(Mt,Rt),Ft.lineTo(vt,Rt)),Qt||yt.updateRectMinMax(Vt,[vt,Lt,Mt,Rt]),Ft.closePath();break;case g.OPS.moveTo:vt=nt[Dt++],Lt=nt[Dt++],Ft.moveTo(vt,Lt),Qt||yt.updatePathMinMax(Vt,vt,Lt);break;case g.OPS.lineTo:vt=nt[Dt++],Lt=nt[Dt++],Ft.lineTo(vt,Lt),Qt||yt.updatePathMinMax(Vt,vt,Lt);break;case g.OPS.curveTo:jt=vt,Ht=Lt,vt=nt[Dt+4],Lt=nt[Dt+5],Ft.bezierCurveTo(nt[Dt],nt[Dt+1],nt[Dt+2],nt[Dt+3],vt,Lt),yt.updateCurvePathMinMax(Vt,jt,Ht,nt[Dt],nt[Dt+1],nt[Dt+2],nt[Dt+3],vt,Lt,_e),Dt+=6;break;case g.OPS.curveTo2:jt=vt,Ht=Lt,Ft.bezierCurveTo(vt,Lt,nt[Dt],nt[Dt+1],nt[Dt+2],nt[Dt+3]),yt.updateCurvePathMinMax(Vt,jt,Ht,vt,Lt,nt[Dt],nt[Dt+1],nt[Dt+2],nt[Dt+3],_e),vt=nt[Dt+2],Lt=nt[Dt+3],Dt+=4;break;case g.OPS.curveTo3:jt=vt,Ht=Lt,vt=nt[Dt+2],Lt=nt[Dt+3],Ft.bezierCurveTo(nt[Dt],nt[Dt+1],vt,Lt,vt,Lt),yt.updateCurvePathMinMax(Vt,jt,Ht,nt[Dt],nt[Dt+1],vt,Lt,vt,Lt,_e),Dt+=4;break;case g.OPS.closePath:Ft.closePath();break}Qt&&yt.updateScalingPathMinMax(Vt,_e),yt.setCurrentPoint(vt,Lt)}closePath(){this.ctx.closePath()}stroke(st=!0){const nt=this.ctx,gt=this.current.strokeColor;nt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof gt=="object"&&(gt!=null&&gt.getPattern)?(nt.save(),nt.strokeStyle=gt.getPattern(nt,this,(0,xt.getCurrentTransformInverse)(nt),Bt.PathType.STROKE),this.rescaleAndStroke(!1),nt.restore()):this.rescaleAndStroke(!0)),st&&this.consumePath(this.current.getClippedPathBoundingBox()),nt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(st=!0){const nt=this.ctx,gt=this.current.fillColor,Ft=this.current.patternFill;let yt=!1;Ft&&(nt.save(),nt.fillStyle=gt.getPattern(nt,this,(0,xt.getCurrentTransformInverse)(nt),Bt.PathType.FILL),yt=!0);const vt=this.current.getClippedPathBoundingBox();this.contentVisible&&vt!==null&&(this.pendingEOFill?(nt.fill("evenodd"),this.pendingEOFill=!1):nt.fill()),yt&&nt.restore(),st&&this.consumePath(vt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Et}eoClip(){this.pendingClip=rt}beginText(){this.current.textMatrix=g.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const st=this.pendingTextPaths,nt=this.ctx;if(st===void 0){nt.beginPath();return}nt.save(),nt.beginPath();for(const gt of st)nt.setTransform(...gt.transform),nt.translate(gt.x,gt.y),gt.addToPath(nt,gt.fontSize);nt.restore(),nt.clip(),nt.beginPath(),delete this.pendingTextPaths}setCharSpacing(st){this.current.charSpacing=st}setWordSpacing(st){this.current.wordSpacing=st}setHScale(st){this.current.textHScale=st/100}setLeading(st){this.current.leading=-st}setFont(st,nt){var Vt;const gt=this.commonObjs.get(st),Ft=this.current;if(!gt)throw new Error(`Can't find font for ${st}`);if(Ft.fontMatrix=gt.fontMatrix||g.FONT_IDENTITY_MATRIX,(Ft.fontMatrix[0]===0||Ft.fontMatrix[3]===0)&&(0,g.warn)("Invalid font matrix for font "+st),nt<0?(nt=-nt,Ft.fontDirection=-1):Ft.fontDirection=1,this.current.font=gt,this.current.fontSize=nt,gt.isType3Font)return;const yt=gt.loadedName||"sans-serif",vt=((Vt=gt.systemFontInfo)==null?void 0:Vt.css)||`"${yt}", ${gt.fallbackName}`;let Lt="normal";gt.black?Lt="900":gt.bold&&(Lt="bold");const jt=gt.italic?"italic":"normal";let Ht=nt;nt<$?Ht=$:nt>_t&&(Ht=_t),this.current.fontSizeScale=nt/Ht,this.ctx.font=`${jt} ${Lt} ${Ht}px ${vt}`}setTextRenderingMode(st){this.current.textRenderingMode=st}setTextRise(st){this.current.textRise=st}moveText(st,nt){this.current.x=this.current.lineX+=st,this.current.y=this.current.lineY+=nt}setLeadingMoveText(st,nt){this.setLeading(-nt),this.moveText(st,nt)}setTextMatrix(st,nt,gt,Ft,yt,vt){this.current.textMatrix=[st,nt,gt,Ft,yt,vt],this.current.textMatrixScale=Math.hypot(st,nt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(st,nt,gt,Ft){const yt=this.ctx,vt=this.current,Lt=vt.font,jt=vt.textRenderingMode,Ht=vt.fontSize/vt.fontSizeScale,Vt=jt&g.TextRenderingMode.FILL_STROKE_MASK,Qt=!!(jt&g.TextRenderingMode.ADD_TO_PATH_FLAG),_e=vt.patternFill&&!Lt.missingFile;let Xt;(Lt.disableFontFace||Qt||_e)&&(Xt=Lt.getPathGenerator(this.commonObjs,st)),Lt.disableFontFace||_e?(yt.save(),yt.translate(nt,gt),yt.beginPath(),Xt(yt,Ht),Ft&&yt.setTransform(...Ft),(Vt===g.TextRenderingMode.FILL||Vt===g.TextRenderingMode.FILL_STROKE)&&yt.fill(),(Vt===g.TextRenderingMode.STROKE||Vt===g.TextRenderingMode.FILL_STROKE)&&yt.stroke(),yt.restore()):((Vt===g.TextRenderingMode.FILL||Vt===g.TextRenderingMode.FILL_STROKE)&&yt.fillText(st,nt,gt),(Vt===g.TextRenderingMode.STROKE||Vt===g.TextRenderingMode.FILL_STROKE)&&yt.strokeText(st,nt,gt)),Qt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,xt.getCurrentTransform)(yt),x:nt,y:gt,fontSize:Ht,addToPath:Xt})}get isFontSubpixelAAEnabled(){const{context:st}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);st.scale(1.5,1),st.fillText("I",0,10);const nt=st.getImageData(0,0,10,10).data;let gt=!1;for(let Ft=3;Ft<nt.length;Ft+=4)if(nt[Ft]>0&&nt[Ft]<255){gt=!0;break}return(0,g.shadow)(this,"isFontSubpixelAAEnabled",gt)}showText(st){const nt=this.current,gt=nt.font;if(gt.isType3Font)return this.showType3Text(st);const Ft=nt.fontSize;if(Ft===0)return;const yt=this.ctx,vt=nt.fontSizeScale,Lt=nt.charSpacing,jt=nt.wordSpacing,Ht=nt.fontDirection,Vt=nt.textHScale*Ht,Qt=st.length,_e=gt.vertical,Xt=_e?1:-1,Dt=gt.defaultVMetrics,It=Ft*nt.fontMatrix[0],j=nt.textRenderingMode===g.TextRenderingMode.FILL&&!gt.disableFontFace&&!nt.patternFill;yt.save(),yt.transform(...nt.textMatrix),yt.translate(nt.x,nt.y+nt.textRise),Ht>0?yt.scale(Vt,-1):yt.scale(Vt,1);let At;if(nt.patternFill){yt.save();const qt=nt.fillColor.getPattern(yt,this,(0,xt.getCurrentTransformInverse)(yt),Bt.PathType.FILL);At=(0,xt.getCurrentTransform)(yt),yt.restore(),yt.fillStyle=qt}let Mt=nt.lineWidth;const Rt=nt.textMatrixScale;if(Rt===0||Mt===0){const qt=nt.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;(qt===g.TextRenderingMode.STROKE||qt===g.TextRenderingMode.FILL_STROKE)&&(Mt=this.getSinglePixelWidth())}else Mt/=Rt;if(vt!==1&&(yt.scale(vt,vt),Mt/=vt),yt.lineWidth=Mt,gt.isInvalidPDFjsFont){const qt=[];let Wt=0;for(const Gt of st)qt.push(Gt.unicode),Wt+=Gt.width;yt.fillText(qt.join(""),0,0),nt.x+=Wt*It*Vt,yt.restore(),this.compose();return}let $t=0,zt;for(zt=0;zt<Qt;++zt){const qt=st[zt];if(typeof qt=="number"){$t+=Xt*qt*Ft/1e3;continue}let Wt=!1;const Gt=(qt.isSpace?jt:0)+Lt,Zt=qt.fontChar,Yt=qt.accent;let tn,nn,en=qt.width;if(_e){const vn=qt.vmetric||Dt,An=-(qt.vmetric?vn[1]:en*.5)*It,cn=vn[2]*It;en=vn?-vn[0]:en,tn=An/vt,nn=($t+cn)/vt}else tn=$t/vt,nn=0;if(gt.remeasure&&en>0){const vn=yt.measureText(Zt).width*1e3/Ft*vt;if(en<vn&&this.isFontSubpixelAAEnabled){const An=en/vn;Wt=!0,yt.save(),yt.scale(An,1),tn/=An}else en!==vn&&(tn+=(en-vn)/2e3*Ft/vt)}if(this.contentVisible&&(qt.isInFont||gt.missingFile)){if(j&&!Yt)yt.fillText(Zt,tn,nn);else if(this.paintChar(Zt,tn,nn,At),Yt){const vn=tn+Ft*Yt.offset.x/vt,An=nn-Ft*Yt.offset.y/vt;this.paintChar(Yt.fontChar,vn,An,At)}}const an=_e?en*It-Gt*Ht:en*It+Gt*Ht;$t+=an,Wt&&yt.restore()}_e?nt.y-=$t:nt.x+=$t*Vt,yt.restore(),this.compose()}showType3Text(st){const nt=this.ctx,gt=this.current,Ft=gt.font,yt=gt.fontSize,vt=gt.fontDirection,Lt=Ft.vertical?1:-1,jt=gt.charSpacing,Ht=gt.wordSpacing,Vt=gt.textHScale*vt,Qt=gt.fontMatrix||g.FONT_IDENTITY_MATRIX,_e=st.length,Xt=gt.textRenderingMode===g.TextRenderingMode.INVISIBLE;let Dt,It,j,At;if(!(Xt||yt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,nt.save(),nt.transform(...gt.textMatrix),nt.translate(gt.x,gt.y),nt.scale(Vt,vt),Dt=0;Dt<_e;++Dt){if(It=st[Dt],typeof It=="number"){At=Lt*It*yt/1e3,this.ctx.translate(At,0),gt.x+=At*Vt;continue}const Mt=(It.isSpace?Ht:0)+jt,Rt=Ft.charProcOperatorList[It.operatorListId];if(!Rt){(0,g.warn)(`Type3 character "${It.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=It,this.save(),nt.scale(yt,yt),nt.transform(...Qt),this.executeOperatorList(Rt),this.restore()),j=g.Util.applyTransform([It.width,0],Qt)[0]*yt+Mt,nt.translate(j,0),gt.x+=j*Vt}nt.restore(),this.processingType3=null}}setCharWidth(st,nt){}setCharWidthAndBounds(st,nt,gt,Ft,yt,vt){this.ctx.rect(gt,Ft,yt-gt,vt-Ft),this.ctx.clip(),this.endPath()}getColorN_Pattern(st){let nt;if(st[0]==="TilingPattern"){const gt=st[1],Ft=this.baseTransform||(0,xt.getCurrentTransform)(this.ctx),yt={createCanvasGraphics:vt=>new Ot(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};nt=new Bt.TilingPattern(st,gt,this.ctx,yt,Ft)}else nt=this._getPattern(st[1],st[2]);return nt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(st,nt,gt){const Ft=g.Util.makeHexColor(st,nt,gt);this.ctx.strokeStyle=Ft,this.current.strokeColor=Ft}setFillRGBColor(st,nt,gt){const Ft=g.Util.makeHexColor(st,nt,gt);this.ctx.fillStyle=Ft,this.current.fillColor=Ft,this.current.patternFill=!1}_getPattern(st,nt=null){let gt;return this.cachedPatterns.has(st)?gt=this.cachedPatterns.get(st):(gt=(0,Bt.getShadingPattern)(this.getObject(st)),this.cachedPatterns.set(st,gt)),nt&&(gt.matrix=nt),gt}shadingFill(st){if(!this.contentVisible)return;const nt=this.ctx;this.save();const gt=this._getPattern(st);nt.fillStyle=gt.getPattern(nt,this,(0,xt.getCurrentTransformInverse)(nt),Bt.PathType.SHADING);const Ft=(0,xt.getCurrentTransformInverse)(nt);if(Ft){const{width:yt,height:vt}=nt.canvas,[Lt,jt,Ht,Vt]=g.Util.getAxialAlignedBoundingBox([0,0,yt,vt],Ft);this.ctx.fillRect(Lt,jt,Ht-Lt,Vt-jt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,g.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,g.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(st,nt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(st)&&st.length===6&&this.transform(...st),this.baseTransform=(0,xt.getCurrentTransform)(this.ctx),nt)){const gt=nt[2]-nt[0],Ft=nt[3]-nt[1];this.ctx.rect(nt[0],nt[1],gt,Ft),this.current.updateRectMinMax((0,xt.getCurrentTransform)(this.ctx),nt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(st){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const nt=this.ctx;st.isolated||(0,g.info)("TODO: Support non-isolated groups."),st.knockout&&(0,g.warn)("Knockout groups not supported.");const gt=(0,xt.getCurrentTransform)(nt);if(st.matrix&&nt.transform(...st.matrix),!st.bbox)throw new Error("Bounding box is required.");let Ft=g.Util.getAxialAlignedBoundingBox(st.bbox,(0,xt.getCurrentTransform)(nt));const yt=[0,0,nt.canvas.width,nt.canvas.height];Ft=g.Util.intersect(Ft,yt)||[0,0,0,0];const vt=Math.floor(Ft[0]),Lt=Math.floor(Ft[1]);let jt=Math.max(Math.ceil(Ft[2])-vt,1),Ht=Math.max(Math.ceil(Ft[3])-Lt,1),Vt=1,Qt=1;jt>s&&(Vt=jt/s,jt=s),Ht>s&&(Qt=Ht/s,Ht=s),this.current.startNewPathAndClipBox([0,0,jt,Ht]);let _e="groupAt"+this.groupLevel;st.smask&&(_e+="_smask_"+this.smaskCounter++%2);const Xt=this.cachedCanvases.getCanvas(_e,jt,Ht),Dt=Xt.context;Dt.scale(1/Vt,1/Qt),Dt.translate(-vt,-Lt),Dt.transform(...gt),st.smask?this.smaskStack.push({canvas:Xt.canvas,context:Dt,offsetX:vt,offsetY:Lt,scaleX:Vt,scaleY:Qt,subtype:st.smask.subtype,backdrop:st.smask.backdrop,transferMap:st.smask.transferMap||null,startTransformInverse:null}):(nt.setTransform(1,0,0,1,0,0),nt.translate(vt,Lt),nt.scale(Vt,Qt),nt.save()),at(nt,Dt),this.ctx=Dt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(nt),this.groupLevel++}endGroup(st){if(!this.contentVisible)return;this.groupLevel--;const nt=this.ctx,gt=this.groupStack.pop();if(this.ctx=gt,this.ctx.imageSmoothingEnabled=!1,st.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ft=(0,xt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ft);const yt=g.Util.getAxialAlignedBoundingBox([0,0,nt.canvas.width,nt.canvas.height],Ft);this.ctx.drawImage(nt.canvas,0,0),this.ctx.restore(),this.compose(yt)}}beginAnnotation(st,nt,gt,Ft,yt){if(xn(this,wt,ro).call(this),ct(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(nt)&&nt.length===4){const vt=nt[2]-nt[0],Lt=nt[3]-nt[1];if(yt&&this.annotationCanvasMap){gt=gt.slice(),gt[4]-=nt[0],gt[5]-=nt[1],nt=nt.slice(),nt[0]=nt[1]=0,nt[2]=vt,nt[3]=Lt;const[jt,Ht]=g.Util.singularValueDecompose2dScale((0,xt.getCurrentTransform)(this.ctx)),{viewportScale:Vt}=this,Qt=Math.ceil(vt*this.outputScaleX*Vt),_e=Math.ceil(Lt*this.outputScaleY*Vt);this.annotationCanvas=this.canvasFactory.create(Qt,_e);const{canvas:Xt,context:Dt}=this.annotationCanvas;this.annotationCanvasMap.set(st,Xt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Dt,this.ctx.save(),this.ctx.setTransform(jt,0,0,-Ht,0,Lt*Ht),ct(this.ctx)}else ct(this.ctx),this.ctx.rect(nt[0],nt[1],vt,Lt),this.ctx.clip(),this.endPath()}this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...gt),this.transform(...Ft)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),xn(this,wt,io).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(st){if(!this.contentVisible)return;const nt=st.count;st=this.getObject(st.data,st),st.count=nt;const gt=this.ctx,Ft=this.processingType3;if(Ft&&(Ft.compiled===void 0&&(Ft.compiled=et(st)),Ft.compiled)){Ft.compiled(gt);return}const yt=this._createMaskCanvas(st),vt=yt.canvas;gt.save(),gt.setTransform(1,0,0,1,0,0),gt.drawImage(vt,yt.offsetX,yt.offsetY),gt.restore(),this.compose()}paintImageMaskXObjectRepeat(st,nt,gt=0,Ft=0,yt,vt){if(!this.contentVisible)return;st=this.getObject(st.data,st);const Lt=this.ctx;Lt.save();const jt=(0,xt.getCurrentTransform)(Lt);Lt.transform(nt,gt,Ft,yt,0,0);const Ht=this._createMaskCanvas(st);Lt.setTransform(1,0,0,1,Ht.offsetX-jt[4],Ht.offsetY-jt[5]);for(let Vt=0,Qt=vt.length;Vt<Qt;Vt+=2){const _e=g.Util.transform(jt,[nt,gt,Ft,yt,vt[Vt],vt[Vt+1]]),[Xt,Dt]=g.Util.applyTransform([0,0],_e);Lt.drawImage(Ht.canvas,Xt,Dt)}Lt.restore(),this.compose()}paintImageMaskXObjectGroup(st){if(!this.contentVisible)return;const nt=this.ctx,gt=this.current.fillColor,Ft=this.current.patternFill;for(const yt of st){const{data:vt,width:Lt,height:jt,transform:Ht}=yt,Vt=this.cachedCanvases.getCanvas("maskCanvas",Lt,jt),Qt=Vt.context;Qt.save();const _e=this.getObject(vt,yt);lt(Qt,_e),Qt.globalCompositeOperation="source-in",Qt.fillStyle=Ft?gt.getPattern(Qt,this,(0,xt.getCurrentTransformInverse)(nt),Bt.PathType.FILL):gt,Qt.fillRect(0,0,Lt,jt),Qt.restore(),nt.save(),nt.transform(...Ht),nt.scale(1,-1),dt(nt,Vt.canvas,0,0,Lt,jt,0,-1,1,1),nt.restore()}this.compose()}paintImageXObject(st){if(!this.contentVisible)return;const nt=this.getObject(st);if(!nt){(0,g.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(nt)}paintImageXObjectRepeat(st,nt,gt,Ft){if(!this.contentVisible)return;const yt=this.getObject(st);if(!yt){(0,g.warn)("Dependent image isn't ready yet");return}const vt=yt.width,Lt=yt.height,jt=[];for(let Ht=0,Vt=Ft.length;Ht<Vt;Ht+=2)jt.push({transform:[nt,0,0,gt,Ft[Ht],Ft[Ht+1]],x:0,y:0,w:vt,h:Lt});this.paintInlineImageXObjectGroup(yt,jt)}applyTransferMapsToCanvas(st){return this.current.transferMaps!=="none"&&(st.filter=this.current.transferMaps,st.drawImage(st.canvas,0,0),st.filter="none"),st.canvas}applyTransferMapsToBitmap(st){if(this.current.transferMaps==="none")return st.bitmap;const{bitmap:nt,width:gt,height:Ft}=st,yt=this.cachedCanvases.getCanvas("inlineImage",gt,Ft),vt=yt.context;return vt.filter=this.current.transferMaps,vt.drawImage(nt,0,0),vt.filter="none",yt.canvas}paintInlineImageXObject(st){if(!this.contentVisible)return;const nt=st.width,gt=st.height,Ft=this.ctx;if(this.save(),!g.isNodeJS){const{filter:Lt}=Ft;Lt!=="none"&&Lt!==""&&(Ft.filter="none")}Ft.scale(1/nt,-1/gt);let yt;if(st.bitmap)yt=this.applyTransferMapsToBitmap(st);else if(typeof HTMLElement=="function"&&st instanceof HTMLElement||!st.data)yt=st;else{const jt=this.cachedCanvases.getCanvas("inlineImage",nt,gt).context;c(jt,st),yt=this.applyTransferMapsToCanvas(jt)}const vt=this._scaleImage(yt,(0,xt.getCurrentTransformInverse)(Ft));Ft.imageSmoothingEnabled=Nt((0,xt.getCurrentTransform)(Ft),st.interpolate),dt(Ft,vt.img,0,0,vt.paintWidth,vt.paintHeight,0,-gt,nt,gt),this.compose(),this.restore()}paintInlineImageXObjectGroup(st,nt){if(!this.contentVisible)return;const gt=this.ctx;let Ft;if(st.bitmap)Ft=st.bitmap;else{const yt=st.width,vt=st.height,jt=this.cachedCanvases.getCanvas("inlineImage",yt,vt).context;c(jt,st),Ft=this.applyTransferMapsToCanvas(jt)}for(const yt of nt)gt.save(),gt.transform(...yt.transform),gt.scale(1,-1),dt(gt,Ft,yt.x,yt.y,yt.w,yt.h,0,-1,1,1),gt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(st){}markPointProps(st,nt){}beginMarkedContent(st){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(st,nt){st==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(nt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(st){const nt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(st);const gt=this.ctx;this.pendingClip&&(nt||(this.pendingClip===rt?gt.clip("evenodd"):gt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),gt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const st=(0,xt.getCurrentTransform)(this.ctx);if(st[1]===0&&st[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(st[0]),Math.abs(st[3]));else{const nt=Math.abs(st[0]*st[3]-st[2]*st[1]),gt=Math.hypot(st[0],st[2]),Ft=Math.hypot(st[1],st[3]);this._cachedGetSinglePixelWidth=Math.max(gt,Ft)/nt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:st}=this.current,{a:nt,b:gt,c:Ft,d:yt}=this.ctx.getTransform();let vt,Lt;if(gt===0&&Ft===0){const jt=Math.abs(nt),Ht=Math.abs(yt);if(jt===Ht)if(st===0)vt=Lt=1/jt;else{const Vt=jt*st;vt=Lt=Vt<1?1/Vt:1}else if(st===0)vt=1/jt,Lt=1/Ht;else{const Vt=jt*st,Qt=Ht*st;vt=Vt<1?1/Vt:1,Lt=Qt<1?1/Qt:1}}else{const jt=Math.abs(nt*yt-gt*Ft),Ht=Math.hypot(nt,gt),Vt=Math.hypot(Ft,yt);if(st===0)vt=Vt/jt,Lt=Ht/jt;else{const Qt=st*jt;vt=Vt>Qt?Vt/Qt:1,Lt=Ht>Qt?Ht/Qt:1}}this._cachedScaleForStroking[0]=vt,this._cachedScaleForStroking[1]=Lt}return this._cachedScaleForStroking}rescaleAndStroke(st){const{ctx:nt}=this,{lineWidth:gt}=this.current,[Ft,yt]=this.getScaleForStroking();if(nt.lineWidth=gt||1,Ft===1&&yt===1){nt.stroke();return}const vt=nt.getLineDash();if(st&&nt.save(),nt.scale(Ft,yt),vt.length>0){const Lt=Math.max(Ft,yt);nt.setLineDash(vt.map(jt=>jt/Lt)),nt.lineDashOffset/=Lt}nt.stroke(),st&&nt.restore()}isContentVisible(){for(let st=this.markedContentStack.length-1;st>=0;st--)if(!this.markedContentStack[st].visible)return!1;return!0}};wt=new WeakSet,ro=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},io=function(){if(this.pageColors){const st=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(st!=="none"){const nt=this.ctx.filter;this.ctx.filter=st,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=nt}}};let ft=Ot;o.CanvasGraphics=ft;for(const kt in g.OPS)ft.prototype[kt]!==void 0&&(ft.prototype[g.OPS[kt]]=ft.prototype[kt])},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=i;var g=h(1),xt=h(6);const Bt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};o.PathType=Bt;function Ut(et,_){if(!_)return;const c=_[2]-_[0],lt=_[3]-_[1],at=new Path2D;at.rect(_[0],_[1],c,lt),et.clip(at)}class ${constructor(){this.constructor===$&&(0,g.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,g.unreachable)("Abstract method `getPattern` called.")}}class _t extends ${constructor(_){super(),this._type=_[1],this._bbox=_[2],this._colorStops=_[3],this._p0=_[4],this._p1=_[5],this._r0=_[6],this._r1=_[7],this.matrix=null}_createGradient(_){let c;this._type==="axial"?c=_.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(c=_.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const lt of this._colorStops)c.addColorStop(lt[0],lt[1]);return c}getPattern(_,c,lt,at){let ct;if(at===Bt.STROKE||at===Bt.FILL){const it=c.current.getClippedPathBoundingBox(at,(0,xt.getCurrentTransform)(_))||[0,0,0,0],tt=Math.ceil(it[2]-it[0])||1,ot=Math.ceil(it[3]-it[1])||1,mt=c.cachedCanvases.getCanvas("pattern",tt,ot,!0),Ct=mt.context;Ct.clearRect(0,0,Ct.canvas.width,Ct.canvas.height),Ct.beginPath(),Ct.rect(0,0,Ct.canvas.width,Ct.canvas.height),Ct.translate(-it[0],-it[1]),lt=g.Util.transform(lt,[1,0,0,1,it[0],it[1]]),Ct.transform(...c.baseTransform),this.matrix&&Ct.transform(...this.matrix),Ut(Ct,this._bbox),Ct.fillStyle=this._createGradient(Ct),Ct.fill(),ct=_.createPattern(mt.canvas,"no-repeat");const Nt=new DOMMatrix(lt);ct.setTransform(Nt)}else Ut(_,this._bbox),ct=this._createGradient(_);return ct}}function s(et,_,c,lt,at,ct,it,tt){const ot=_.coords,mt=_.colors,Ct=et.data,Nt=et.width*4;let Pt;ot[c+1]>ot[lt+1]&&(Pt=c,c=lt,lt=Pt,Pt=ct,ct=it,it=Pt),ot[lt+1]>ot[at+1]&&(Pt=lt,lt=at,at=Pt,Pt=it,it=tt,tt=Pt),ot[c+1]>ot[lt+1]&&(Pt=c,c=lt,lt=Pt,Pt=ct,ct=it,it=Pt);const Tt=(ot[c]+_.offsetX)*_.scaleX,Et=(ot[c+1]+_.offsetY)*_.scaleY,rt=(ot[lt]+_.offsetX)*_.scaleX,ft=(ot[lt+1]+_.offsetY)*_.scaleY,wt=(ot[at]+_.offsetX)*_.scaleX,b=(ot[at+1]+_.offsetY)*_.scaleY;if(Et>=b)return;const pt=mt[ct],Ot=mt[ct+1],kt=mt[ct+2],st=mt[it],nt=mt[it+1],gt=mt[it+2],Ft=mt[tt],yt=mt[tt+1],vt=mt[tt+2],Lt=Math.round(Et),jt=Math.round(b);let Ht,Vt,Qt,_e,Xt,Dt,It,j;for(let At=Lt;At<=jt;At++){if(At<ft){const qt=At<Et?0:(Et-At)/(Et-ft);Ht=Tt-(Tt-rt)*qt,Vt=pt-(pt-st)*qt,Qt=Ot-(Ot-nt)*qt,_e=kt-(kt-gt)*qt}else{let qt;At>b?qt=1:ft===b?qt=0:qt=(ft-At)/(ft-b),Ht=rt-(rt-wt)*qt,Vt=st-(st-Ft)*qt,Qt=nt-(nt-yt)*qt,_e=gt-(gt-vt)*qt}let Mt;At<Et?Mt=0:At>b?Mt=1:Mt=(Et-At)/(Et-b),Xt=Tt-(Tt-wt)*Mt,Dt=pt-(pt-Ft)*Mt,It=Ot-(Ot-yt)*Mt,j=kt-(kt-vt)*Mt;const Rt=Math.round(Math.min(Ht,Xt)),$t=Math.round(Math.max(Ht,Xt));let zt=Nt*At+Rt*4;for(let qt=Rt;qt<=$t;qt++)Mt=(Ht-qt)/(Ht-Xt),Mt<0?Mt=0:Mt>1&&(Mt=1),Ct[zt++]=Vt-(Vt-Dt)*Mt|0,Ct[zt++]=Qt-(Qt-It)*Mt|0,Ct[zt++]=_e-(_e-j)*Mt|0,Ct[zt++]=255}}function bt(et,_,c){const lt=_.coords,at=_.colors;let ct,it;switch(_.type){case"lattice":const tt=_.verticesPerRow,ot=Math.floor(lt.length/tt)-1,mt=tt-1;for(ct=0;ct<ot;ct++){let Ct=ct*tt;for(let Nt=0;Nt<mt;Nt++,Ct++)s(et,c,lt[Ct],lt[Ct+1],lt[Ct+tt],at[Ct],at[Ct+1],at[Ct+tt]),s(et,c,lt[Ct+tt+1],lt[Ct+1],lt[Ct+tt],at[Ct+tt+1],at[Ct+1],at[Ct+tt])}break;case"triangles":for(ct=0,it=lt.length;ct<it;ct+=3)s(et,c,lt[ct],lt[ct+1],lt[ct+2],at[ct],at[ct+1],at[ct+2]);break;default:throw new Error("illegal figure")}}class St extends ${constructor(_){super(),this._coords=_[2],this._colors=_[3],this._figures=_[4],this._bounds=_[5],this._bbox=_[7],this._background=_[8],this.matrix=null}_createMeshCanvas(_,c,lt){const tt=Math.floor(this._bounds[0]),ot=Math.floor(this._bounds[1]),mt=Math.ceil(this._bounds[2])-tt,Ct=Math.ceil(this._bounds[3])-ot,Nt=Math.min(Math.ceil(Math.abs(mt*_[0]*1.1)),3e3),Pt=Math.min(Math.ceil(Math.abs(Ct*_[1]*1.1)),3e3),Tt=mt/Nt,Et=Ct/Pt,rt={coords:this._coords,colors:this._colors,offsetX:-tt,offsetY:-ot,scaleX:1/Tt,scaleY:1/Et},ft=Nt+2*2,wt=Pt+2*2,b=lt.getCanvas("mesh",ft,wt,!1),pt=b.context,Ot=pt.createImageData(Nt,Pt);if(c){const st=Ot.data;for(let nt=0,gt=st.length;nt<gt;nt+=4)st[nt]=c[0],st[nt+1]=c[1],st[nt+2]=c[2],st[nt+3]=255}for(const st of this._figures)bt(Ot,st,rt);return pt.putImageData(Ot,2,2),{canvas:b.canvas,offsetX:tt-2*Tt,offsetY:ot-2*Et,scaleX:Tt,scaleY:Et}}getPattern(_,c,lt,at){Ut(_,this._bbox);let ct;if(at===Bt.SHADING)ct=g.Util.singularValueDecompose2dScale((0,xt.getCurrentTransform)(_));else if(ct=g.Util.singularValueDecompose2dScale(c.baseTransform),this.matrix){const tt=g.Util.singularValueDecompose2dScale(this.matrix);ct=[ct[0]*tt[0],ct[1]*tt[1]]}const it=this._createMeshCanvas(ct,at===Bt.SHADING?null:this._background,c.cachedCanvases);return at!==Bt.SHADING&&(_.setTransform(...c.baseTransform),this.matrix&&_.transform(...this.matrix)),_.translate(it.offsetX,it.offsetY),_.scale(it.scaleX,it.scaleY),_.createPattern(it.canvas,"no-repeat")}}class e extends ${getPattern(){return"hotpink"}}function i(et){switch(et[0]){case"RadialAxial":return new _t(et);case"Mesh":return new St(et);case"Dummy":return new e}throw new Error(`Unknown IR type: ${et[0]}`)}const d={COLORED:1,UNCOLORED:2},dt=class dt{constructor(_,c,lt,at,ct){this.operatorList=_[2],this.matrix=_[3]||[1,0,0,1,0,0],this.bbox=_[4],this.xstep=_[5],this.ystep=_[6],this.paintType=_[7],this.tilingType=_[8],this.color=c,this.ctx=lt,this.canvasGraphicsFactory=at,this.baseTransform=ct}createPatternCanvas(_){const c=this.operatorList,lt=this.bbox,at=this.xstep,ct=this.ystep,it=this.paintType,tt=this.tilingType,ot=this.color,mt=this.canvasGraphicsFactory;(0,g.info)("TilingType: "+tt);const Ct=lt[0],Nt=lt[1],Pt=lt[2],Tt=lt[3],Et=g.Util.singularValueDecompose2dScale(this.matrix),rt=g.Util.singularValueDecompose2dScale(this.baseTransform),ft=[Et[0]*rt[0],Et[1]*rt[1]],wt=this.getSizeAndScale(at,this.ctx.canvas.width,ft[0]),b=this.getSizeAndScale(ct,this.ctx.canvas.height,ft[1]),pt=_.cachedCanvases.getCanvas("pattern",wt.size,b.size,!0),Ot=pt.context,kt=mt.createCanvasGraphics(Ot);kt.groupLevel=_.groupLevel,this.setFillAndStrokeStyleToContext(kt,it,ot);let st=Ct,nt=Nt,gt=Pt,Ft=Tt;return Ct<0&&(st=0,gt+=Math.abs(Ct)),Nt<0&&(nt=0,Ft+=Math.abs(Nt)),Ot.translate(-(wt.scale*st),-(b.scale*nt)),kt.transform(wt.scale,0,0,b.scale,0,0),Ot.save(),this.clipBbox(kt,st,nt,gt,Ft),kt.baseTransform=(0,xt.getCurrentTransform)(kt.ctx),kt.executeOperatorList(c),kt.endDrawing(),{canvas:pt.canvas,scaleX:wt.scale,scaleY:b.scale,offsetX:st,offsetY:nt}}getSizeAndScale(_,c,lt){_=Math.abs(_);const at=Math.max(dt.MAX_PATTERN_SIZE,c);let ct=Math.ceil(_*lt);return ct>=at?ct=at:lt=ct/_,{scale:lt,size:ct}}clipBbox(_,c,lt,at,ct){const it=at-c,tt=ct-lt;_.ctx.rect(c,lt,it,tt),_.current.updateRectMinMax((0,xt.getCurrentTransform)(_.ctx),[c,lt,at,ct]),_.clip(),_.endPath()}setFillAndStrokeStyleToContext(_,c,lt){const at=_.ctx,ct=_.current;switch(c){case d.COLORED:const it=this.ctx;at.fillStyle=it.fillStyle,at.strokeStyle=it.strokeStyle,ct.fillColor=it.fillStyle,ct.strokeColor=it.strokeStyle;break;case d.UNCOLORED:const tt=g.Util.makeHexColor(lt[0],lt[1],lt[2]);at.fillStyle=tt,at.strokeStyle=tt,ct.fillColor=tt,ct.strokeColor=tt;break;default:throw new g.FormatError(`Unsupported paint type: ${c}`)}}getPattern(_,c,lt,at){let ct=lt;at!==Bt.SHADING&&(ct=g.Util.transform(ct,c.baseTransform),this.matrix&&(ct=g.Util.transform(ct,this.matrix)));const it=this.createPatternCanvas(c);let tt=new DOMMatrix(ct);tt=tt.translate(it.offsetX,it.offsetY),tt=tt.scale(1/it.scaleX,1/it.scaleY);const ot=_.createPattern(it.canvas,"repeat");return ot.setTransform(tt),ot}};ir(dt,"MAX_PATTERN_SIZE",3e3);let ut=dt;o.TilingPattern=ut},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertBlackAndWhiteToRGBA=Bt,o.convertToRGBA=xt,o.grayToRGBA=$;var g=h(1);function xt(_t){switch(_t.kind){case g.ImageKind.GRAYSCALE_1BPP:return Bt(_t);case g.ImageKind.RGB_24BPP:return Ut(_t)}return null}function Bt({src:_t,srcPos:s=0,dest:bt,width:St,height:e,nonBlackColor:i=4294967295,inverseDecode:d=!1}){const ut=g.FeatureTest.isLittleEndian?4278190080:255,[dt,et]=d?[i,ut]:[ut,i],_=St>>3,c=St&7,lt=_t.length;bt=new Uint32Array(bt.buffer);let at=0;for(let ct=0;ct<e;ct++){for(const tt=s+_;s<tt;s++){const ot=s<lt?_t[s]:255;bt[at++]=ot&128?et:dt,bt[at++]=ot&64?et:dt,bt[at++]=ot&32?et:dt,bt[at++]=ot&16?et:dt,bt[at++]=ot&8?et:dt,bt[at++]=ot&4?et:dt,bt[at++]=ot&2?et:dt,bt[at++]=ot&1?et:dt}if(c===0)continue;const it=s<lt?_t[s++]:255;for(let tt=0;tt<c;tt++)bt[at++]=it&1<<7-tt?et:dt}return{srcPos:s,destPos:at}}function Ut({src:_t,srcPos:s=0,dest:bt,destPos:St=0,width:e,height:i}){let d=0;const ut=_t.length>>2,dt=new Uint32Array(_t.buffer,s,ut);if(g.FeatureTest.isLittleEndian){for(;d<ut-2;d+=3,St+=4){const et=dt[d],_=dt[d+1],c=dt[d+2];bt[St]=et|4278190080,bt[St+1]=et>>>24|_<<8|4278190080,bt[St+2]=_>>>16|c<<16|4278190080,bt[St+3]=c>>>8|4278190080}for(let et=d*4,_=_t.length;et<_;et+=3)bt[St++]=_t[et]|_t[et+1]<<8|_t[et+2]<<16|4278190080}else{for(;d<ut-2;d+=3,St+=4){const et=dt[d],_=dt[d+1],c=dt[d+2];bt[St]=et|255,bt[St+1]=et<<24|_>>>8|255,bt[St+2]=_<<16|c>>>16|255,bt[St+3]=c<<8|255}for(let et=d*4,_=_t.length;et<_;et+=3)bt[St++]=_t[et]<<24|_t[et+1]<<16|_t[et+2]<<8|255}return{srcPos:s,destPos:St}}function $(_t,s){if(g.FeatureTest.isLittleEndian)for(let bt=0,St=_t.length;bt<St;bt++)s[bt]=_t[bt]*65793|4278190080;else for(let bt=0,St=_t.length;bt<St;bt++)s[bt]=_t[bt]*16843008|255}},(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const h=Object.create(null);o.GlobalWorkerOptions=h,h.workerPort=null,h.workerSrc=""},(a,o,h)=>{var _t,Xo,zo,ns;Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var g=h(1);const xt={DATA:1,ERROR:2},Bt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ut(e){switch(e instanceof Error||typeof e=="object"&&e!==null||(0,g.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new g.AbortException(e.message);case"MissingPDFException":return new g.MissingPDFException(e.message);case"PasswordException":return new g.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new g.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new g.UnknownErrorException(e.message,e.details);default:return new g.UnknownErrorException(e.message,e.toString())}}class ${constructor(i,d,ut){Fn(this,_t);this.sourceName=i,this.targetName=d,this.comObj=ut,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=dt=>{const et=dt.data;if(et.targetName!==this.sourceName)return;if(et.stream){xn(this,_t,zo).call(this,et);return}if(et.callback){const c=et.callbackId,lt=this.callbackCapabilities[c];if(!lt)throw new Error(`Cannot resolve callback ${c}`);if(delete this.callbackCapabilities[c],et.callback===xt.DATA)lt.resolve(et.data);else if(et.callback===xt.ERROR)lt.reject(Ut(et.reason));else throw new Error("Unexpected callback case");return}const _=this.actionHandler[et.action];if(!_)throw new Error(`Unknown action from worker: ${et.action}`);if(et.callbackId){const c=this.sourceName,lt=et.sourceName;new Promise(function(at){at(_(et.data))}).then(function(at){ut.postMessage({sourceName:c,targetName:lt,callback:xt.DATA,callbackId:et.callbackId,data:at})},function(at){ut.postMessage({sourceName:c,targetName:lt,callback:xt.ERROR,callbackId:et.callbackId,reason:Ut(at)})});return}if(et.streamId){xn(this,_t,Xo).call(this,et);return}_(et.data)},ut.addEventListener("message",this._onComObjOnMessage)}on(i,d){const ut=this.actionHandler;if(ut[i])throw new Error(`There is already an actionName called "${i}"`);ut[i]=d}send(i,d,ut){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,data:d},ut)}sendWithPromise(i,d,ut){const dt=this.callbackId++,et=new g.PromiseCapability;this.callbackCapabilities[dt]=et;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,callbackId:dt,data:d},ut)}catch(_){et.reject(_)}return et.promise}sendWithStream(i,d,ut,dt){const et=this.streamId++,_=this.sourceName,c=this.targetName,lt=this.comObj;return new ReadableStream({start:at=>{const ct=new g.PromiseCapability;return this.streamControllers[et]={controller:at,startCall:ct,pullCall:null,cancelCall:null,isClosed:!1},lt.postMessage({sourceName:_,targetName:c,action:i,streamId:et,data:d,desiredSize:at.desiredSize},dt),ct.promise},pull:at=>{const ct=new g.PromiseCapability;return this.streamControllers[et].pullCall=ct,lt.postMessage({sourceName:_,targetName:c,stream:Bt.PULL,streamId:et,desiredSize:at.desiredSize}),ct.promise},cancel:at=>{(0,g.assert)(at instanceof Error,"cancel must have a valid reason");const ct=new g.PromiseCapability;return this.streamControllers[et].cancelCall=ct,this.streamControllers[et].isClosed=!0,lt.postMessage({sourceName:_,targetName:c,stream:Bt.CANCEL,streamId:et,reason:Ut(at)}),ct.promise}},ut)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}_t=new WeakSet,Xo=function(i){const d=i.streamId,ut=this.sourceName,dt=i.sourceName,et=this.comObj,_=this,c=this.actionHandler[i.action],lt={enqueue(at,ct=1,it){if(this.isCancelled)return;const tt=this.desiredSize;this.desiredSize-=ct,tt>0&&this.desiredSize<=0&&(this.sinkCapability=new g.PromiseCapability,this.ready=this.sinkCapability.promise),et.postMessage({sourceName:ut,targetName:dt,stream:Bt.ENQUEUE,streamId:d,chunk:at},it)},close(){this.isCancelled||(this.isCancelled=!0,et.postMessage({sourceName:ut,targetName:dt,stream:Bt.CLOSE,streamId:d}),delete _.streamSinks[d])},error(at){(0,g.assert)(at instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,et.postMessage({sourceName:ut,targetName:dt,stream:Bt.ERROR,streamId:d,reason:Ut(at)}))},sinkCapability:new g.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};lt.sinkCapability.resolve(),lt.ready=lt.sinkCapability.promise,this.streamSinks[d]=lt,new Promise(function(at){at(c(i.data,lt))}).then(function(){et.postMessage({sourceName:ut,targetName:dt,stream:Bt.START_COMPLETE,streamId:d,success:!0})},function(at){et.postMessage({sourceName:ut,targetName:dt,stream:Bt.START_COMPLETE,streamId:d,reason:Ut(at)})})},zo=function(i){const d=i.streamId,ut=this.sourceName,dt=i.sourceName,et=this.comObj,_=this.streamControllers[d],c=this.streamSinks[d];switch(i.stream){case Bt.START_COMPLETE:i.success?_.startCall.resolve():_.startCall.reject(Ut(i.reason));break;case Bt.PULL_COMPLETE:i.success?_.pullCall.resolve():_.pullCall.reject(Ut(i.reason));break;case Bt.PULL:if(!c){et.postMessage({sourceName:ut,targetName:dt,stream:Bt.PULL_COMPLETE,streamId:d,success:!0});break}c.desiredSize<=0&&i.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=i.desiredSize,new Promise(function(lt){var at;lt((at=c.onPull)==null?void 0:at.call(c))}).then(function(){et.postMessage({sourceName:ut,targetName:dt,stream:Bt.PULL_COMPLETE,streamId:d,success:!0})},function(lt){et.postMessage({sourceName:ut,targetName:dt,stream:Bt.PULL_COMPLETE,streamId:d,reason:Ut(lt)})});break;case Bt.ENQUEUE:if((0,g.assert)(_,"enqueue should have stream controller"),_.isClosed)break;_.controller.enqueue(i.chunk);break;case Bt.CLOSE:if((0,g.assert)(_,"close should have stream controller"),_.isClosed)break;_.isClosed=!0,_.controller.close(),xn(this,_t,ns).call(this,_,d);break;case Bt.ERROR:(0,g.assert)(_,"error should have stream controller"),_.controller.error(Ut(i.reason)),xn(this,_t,ns).call(this,_,d);break;case Bt.CANCEL_COMPLETE:i.success?_.cancelCall.resolve():_.cancelCall.reject(Ut(i.reason)),xn(this,_t,ns).call(this,_,d);break;case Bt.CANCEL:if(!c)break;new Promise(function(lt){var at;lt((at=c.onCancel)==null?void 0:at.call(c,Ut(i.reason)))}).then(function(){et.postMessage({sourceName:ut,targetName:dt,stream:Bt.CANCEL_COMPLETE,streamId:d,success:!0})},function(lt){et.postMessage({sourceName:ut,targetName:dt,stream:Bt.CANCEL_COMPLETE,streamId:d,reason:Ut(lt)})}),c.sinkCapability.reject(Ut(i.reason)),c.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}},ns=async function(i,d){var ut,dt,et;await Promise.allSettled([(ut=i.startCall)==null?void 0:ut.promise,(dt=i.pullCall)==null?void 0:dt.promise,(et=i.cancelCall)==null?void 0:et.promise]),delete this.streamControllers[d]},o.MessageHandler=$},(a,o,h)=>{var Bt,Ut;Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var g=h(1);class xt{constructor({parsedData:_t,rawData:s}){Fn(this,Bt);Fn(this,Ut);On(this,Bt,_t),On(this,Ut,s)}getRaw(){return Kt(this,Ut)}get(_t){return Kt(this,Bt).get(_t)??null}getAll(){return(0,g.objectFromMap)(Kt(this,Bt))}has(_t){return Kt(this,Bt).has(_t)}}Bt=new WeakMap,Ut=new WeakMap,o.Metadata=xt},(a,o,h)=>{var _t,s,bt,St,e,i,ao;Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var g=h(1),xt=h(8);const Bt=Symbol("INTERNAL");class Ut{constructor(dt,et){Fn(this,_t,!0);this.name=dt,this.intent=et}get visible(){return Kt(this,_t)}_setVisible(dt,et){dt!==Bt&&(0,g.unreachable)("Internal method `_setVisible` called."),On(this,_t,et)}}_t=new WeakMap;class ${constructor(dt){Fn(this,i);Fn(this,s,null);Fn(this,bt,new Map);Fn(this,St,null);Fn(this,e,null);if(this.name=null,this.creator=null,dt!==null){this.name=dt.name,this.creator=dt.creator,On(this,e,dt.order);for(const et of dt.groups)Kt(this,bt).set(et.id,new Ut(et.name,et.intent));if(dt.baseState==="OFF")for(const et of Kt(this,bt).values())et._setVisible(Bt,!1);for(const et of dt.on)Kt(this,bt).get(et)._setVisible(Bt,!0);for(const et of dt.off)Kt(this,bt).get(et)._setVisible(Bt,!1);On(this,St,this.getHash())}}isVisible(dt){if(Kt(this,bt).size===0)return!0;if(!dt)return(0,g.warn)("Optional content group not defined."),!0;if(dt.type==="OCG")return Kt(this,bt).has(dt.id)?Kt(this,bt).get(dt.id).visible:((0,g.warn)(`Optional content group not found: ${dt.id}`),!0);if(dt.type==="OCMD"){if(dt.expression)return xn(this,i,ao).call(this,dt.expression);if(!dt.policy||dt.policy==="AnyOn"){for(const et of dt.ids){if(!Kt(this,bt).has(et))return(0,g.warn)(`Optional content group not found: ${et}`),!0;if(Kt(this,bt).get(et).visible)return!0}return!1}else if(dt.policy==="AllOn"){for(const et of dt.ids){if(!Kt(this,bt).has(et))return(0,g.warn)(`Optional content group not found: ${et}`),!0;if(!Kt(this,bt).get(et).visible)return!1}return!0}else if(dt.policy==="AnyOff"){for(const et of dt.ids){if(!Kt(this,bt).has(et))return(0,g.warn)(`Optional content group not found: ${et}`),!0;if(!Kt(this,bt).get(et).visible)return!0}return!1}else if(dt.policy==="AllOff"){for(const et of dt.ids){if(!Kt(this,bt).has(et))return(0,g.warn)(`Optional content group not found: ${et}`),!0;if(Kt(this,bt).get(et).visible)return!1}return!0}return(0,g.warn)(`Unknown optional content policy ${dt.policy}.`),!0}return(0,g.warn)(`Unknown group type ${dt.type}.`),!0}setVisibility(dt,et=!0){if(!Kt(this,bt).has(dt)){(0,g.warn)(`Optional content group not found: ${dt}`);return}Kt(this,bt).get(dt)._setVisible(Bt,!!et),On(this,s,null)}get hasInitialVisibility(){return Kt(this,St)===null||this.getHash()===Kt(this,St)}getOrder(){return Kt(this,bt).size?Kt(this,e)?Kt(this,e).slice():[...Kt(this,bt).keys()]:null}getGroups(){return Kt(this,bt).size>0?(0,g.objectFromMap)(Kt(this,bt)):null}getGroup(dt){return Kt(this,bt).get(dt)||null}getHash(){if(Kt(this,s)!==null)return Kt(this,s);const dt=new xt.MurmurHash3_64;for(const[et,_]of Kt(this,bt))dt.update(`${et}:${_.visible}`);return On(this,s,dt.hexdigest())}}s=new WeakMap,bt=new WeakMap,St=new WeakMap,e=new WeakMap,i=new WeakSet,ao=function(dt){const et=dt.length;if(et<2)return!0;const _=dt[0];for(let c=1;c<et;c++){const lt=dt[c];let at;if(Array.isArray(lt))at=xn(this,i,ao).call(this,lt);else if(Kt(this,bt).has(lt))at=Kt(this,bt).get(lt).visible;else return(0,g.warn)(`Optional content group not found: ${lt}`),!0;switch(_){case"And":if(!at)return!1;break;case"Or":if(at)return!0;break;case"Not":return!at;default:return!0}}return _==="And"},o.OptionalContentConfig=$},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var g=h(1),xt=h(6);class Bt{constructor({length:s,initialData:bt,progressiveDone:St=!1,contentDispositionFilename:e=null,disableRange:i=!1,disableStream:d=!1},ut){if((0,g.assert)(ut,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=St,this._contentDispositionFilename=e,(bt==null?void 0:bt.length)>0){const dt=bt instanceof Uint8Array&&bt.byteLength===bt.buffer.byteLength?bt.buffer:new Uint8Array(bt).buffer;this._queuedChunks.push(dt)}this._pdfDataRangeTransport=ut,this._isStreamingSupported=!d,this._isRangeSupported=!i,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((dt,et)=>{this._onReceiveData({begin:dt,chunk:et})}),this._pdfDataRangeTransport.addProgressListener((dt,et)=>{this._onProgress({loaded:dt,total:et})}),this._pdfDataRangeTransport.addProgressiveReadListener(dt=>{this._onReceiveData({chunk:dt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:s,chunk:bt}){const St=bt instanceof Uint8Array&&bt.byteLength===bt.buffer.byteLength?bt.buffer:new Uint8Array(bt).buffer;if(s===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(St):this._queuedChunks.push(St);else{const e=this._rangeReaders.some(function(i){return i._begin!==s?!1:(i._enqueue(St),!0)});(0,g.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var s;return((s=this._fullRequestReader)==null?void 0:s._loaded)??0}_onProgress(s){var bt,St,e,i;s.total===void 0?(St=(bt=this._rangeReaders[0])==null?void 0:bt.onProgress)==null||St.call(bt,{loaded:s.loaded}):(i=(e=this._fullRequestReader)==null?void 0:e.onProgress)==null||i.call(e,{loaded:s.loaded,total:s.total})}_onProgressiveDone(){var s;(s=this._fullRequestReader)==null||s.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(s){const bt=this._rangeReaders.indexOf(s);bt>=0&&this._rangeReaders.splice(bt,1)}getFullReader(){(0,g.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const s=this._queuedChunks;return this._queuedChunks=null,new Ut(this,s,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(s,bt){if(bt<=this._progressiveDataLength)return null;const St=new $(this,s,bt);return this._pdfDataRangeTransport.requestDataRange(s,bt),this._rangeReaders.push(St),St}cancelAllRequests(s){var bt;(bt=this._fullRequestReader)==null||bt.cancel(s);for(const St of this._rangeReaders.slice(0))St.cancel(s);this._pdfDataRangeTransport.abort()}}o.PDFDataTransportStream=Bt;class Ut{constructor(s,bt,St=!1,e=null){this._stream=s,this._done=St||!1,this._filename=(0,xt.isPdfFile)(e)?e:null,this._queuedChunks=bt||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),s._fullRequestReader=this,this.onProgress=null}_enqueue(s){this._done||(this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunks.push(s),this._loaded+=s.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const s=new g.PromiseCapability;return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ${constructor(s,bt,St){this._stream=s,this._begin=bt,this._end=St,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(s){if(!this._done){if(this._requests.length===0)this._queuedChunk=s;else{this._requests.shift().resolve({value:s,done:!1});for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const bt=this._queuedChunk;return this._queuedChunk=null,{value:bt,done:!1}}if(this._done)return{value:void 0,done:!0};const s=new g.PromiseCapability;return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var g=h(1),xt=h(20);function Bt(St,e,i){return{method:"GET",headers:St,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Ut(St){const e=new Headers;for(const i in St){const d=St[i];d!==void 0&&e.append(i,d)}return e}function $(St){return St instanceof Uint8Array?St.buffer:St instanceof ArrayBuffer?St:((0,g.warn)(`getArrayBuffer - unexpected data format: ${St}`),new Uint8Array(St).buffer)}class _t{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const d=new bt(this,e,i);return this._rangeRequestReaders.push(d),d}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const d of this._rangeRequestReaders.slice(0))d.cancel(e)}}o.PDFFetchStream=_t;class s{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=new g.PromiseCapability,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._headers=Ut(this._stream.httpHeaders);const d=i.url;fetch(d,Bt(this._headers,this._withCredentials,this._abortController)).then(ut=>{if(!(0,xt.validateResponseStatus)(ut.status))throw(0,xt.createResponseStatusError)(ut.status,d);this._reader=ut.body.getReader(),this._headersCapability.resolve();const dt=c=>ut.headers.get(c),{allowRangeRequests:et,suggestedLength:_}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=et,this._contentLength=_||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(dt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new g.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var d;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(d=this.onProgress)==null||d.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class bt{constructor(e,i,d){this._stream=e,this._reader=null,this._loaded=0;const ut=e.source;this._withCredentials=ut.withCredentials||!1,this._readCapability=new g.PromiseCapability,this._isStreamingSupported=!ut.disableStream,this._abortController=new AbortController,this._headers=Ut(this._stream.httpHeaders),this._headers.append("Range",`bytes=${i}-${d-1}`);const dt=ut.url;fetch(dt,Bt(this._headers,this._withCredentials,this._abortController)).then(et=>{if(!(0,xt.validateResponseStatus)(et.status))throw(0,xt.createResponseStatusError)(et.status,dt);this._readCapability.resolve(),this._reader=et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var d;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(d=this.onProgress)==null||d.call(this,{loaded:this._loaded}),{value:$(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=_t,o.extractFilenameFromHeader=$,o.validateRangeRequestCapabilities=Ut,o.validateResponseStatus=s;var g=h(1),xt=h(21),Bt=h(6);function Ut({getResponseHeader:bt,isHttp:St,rangeChunkSize:e,disableRange:i}){const d={allowRangeRequests:!1,suggestedLength:void 0},ut=parseInt(bt("Content-Length"),10);return!Number.isInteger(ut)||(d.suggestedLength=ut,ut<=2*e)||i||!St||bt("Accept-Ranges")!=="bytes"||(bt("Content-Encoding")||"identity")!=="identity"||(d.allowRangeRequests=!0),d}function $(bt){const St=bt("Content-Disposition");if(St){let e=(0,xt.getFilenameFromContentDispositionHeader)(St);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,Bt.isPdfFile)(e))return e}return null}function _t(bt,St){return bt===404||bt===0&&St.startsWith("file:")?new g.MissingPDFException('Missing PDF "'+St+'".'):new g.UnexpectedResponseException(`Unexpected server response (${bt}) while retrieving PDF "${St}".`,bt)}function s(bt){return bt===200||bt===206}},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=xt;var g=h(1);function xt(Bt){let Ut=!0,$=_t("filename\\*","i").exec(Bt);if($){$=$[1];let ut=e($);return ut=unescape(ut),ut=i(ut),ut=d(ut),bt(ut)}if($=St(Bt),$){const ut=d($);return bt(ut)}if($=_t("filename","i").exec(Bt),$){$=$[1];let ut=e($);return ut=d(ut),bt(ut)}function _t(ut,dt){return new RegExp("(?:^|;)\\s*"+ut+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',dt)}function s(ut,dt){if(ut){if(!/^[\x00-\xFF]+$/.test(dt))return dt;try{const et=new TextDecoder(ut,{fatal:!0}),_=(0,g.stringToBytes)(dt);dt=et.decode(_),Ut=!1}catch{}}return dt}function bt(ut){return Ut&&/[\x80-\xff]/.test(ut)&&(ut=s("utf-8",ut),Ut&&(ut=s("iso-8859-1",ut))),ut}function St(ut){const dt=[];let et;const _=_t("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(et=_.exec(ut))!==null;){let[,lt,at,ct]=et;if(lt=parseInt(lt,10),lt in dt){if(lt===0)break;continue}dt[lt]=[at,ct]}const c=[];for(let lt=0;lt<dt.length&&lt in dt;++lt){let[at,ct]=dt[lt];ct=e(ct),at&&(ct=unescape(ct),lt===0&&(ct=i(ct))),c.push(ct)}return c.join("")}function e(ut){if(ut.startsWith('"')){const dt=ut.slice(1).split('\\"');for(let et=0;et<dt.length;++et){const _=dt[et].indexOf('"');_!==-1&&(dt[et]=dt[et].slice(0,_),dt.length=et+1),dt[et]=dt[et].replaceAll(/\\(.)/g,"$1")}ut=dt.join('"')}return ut}function i(ut){const dt=ut.indexOf("'");if(dt===-1)return ut;const et=ut.slice(0,dt),c=ut.slice(dt+1).replace(/^[^']*'/,"");return s(et,c)}function d(ut){return!ut.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ut)?ut:ut.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(dt,et,_,c){if(_==="q"||_==="Q")return c=c.replaceAll("_"," "),c=c.replaceAll(/=([0-9a-fA-F]{2})/g,function(lt,at){return String.fromCharCode(parseInt(at,16))}),s(et,c);try{c=atob(c)}catch{}return s(et,c)})}return""}},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var g=h(1),xt=h(20);const Bt=200,Ut=206;function $(e){const i=e.response;return typeof i!="string"?i:(0,g.stringToBytes)(i).buffer}class _t{constructor(i,d={}){this.url=i,this.isHttp=/^https?:/i.test(i),this.httpHeaders=this.isHttp&&d.httpHeaders||Object.create(null),this.withCredentials=d.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(i,d,ut){const dt={begin:i,end:d};for(const et in ut)dt[et]=ut[et];return this.request(dt)}requestFull(i){return this.request(i)}request(i){const d=new XMLHttpRequest,ut=this.currXhrId++,dt=this.pendingRequests[ut]={xhr:d};d.open("GET",this.url),d.withCredentials=this.withCredentials;for(const et in this.httpHeaders){const _=this.httpHeaders[et];_!==void 0&&d.setRequestHeader(et,_)}return this.isHttp&&"begin"in i&&"end"in i?(d.setRequestHeader("Range",`bytes=${i.begin}-${i.end-1}`),dt.expectedStatus=Ut):dt.expectedStatus=Bt,d.responseType="arraybuffer",i.onError&&(d.onerror=function(et){i.onError(d.status)}),d.onreadystatechange=this.onStateChange.bind(this,ut),d.onprogress=this.onProgress.bind(this,ut),dt.onHeadersReceived=i.onHeadersReceived,dt.onDone=i.onDone,dt.onError=i.onError,dt.onProgress=i.onProgress,d.send(null),ut}onProgress(i,d){var dt;const ut=this.pendingRequests[i];ut&&((dt=ut.onProgress)==null||dt.call(ut,d))}onStateChange(i,d){var lt,at,ct;const ut=this.pendingRequests[i];if(!ut)return;const dt=ut.xhr;if(dt.readyState>=2&&ut.onHeadersReceived&&(ut.onHeadersReceived(),delete ut.onHeadersReceived),dt.readyState!==4||!(i in this.pendingRequests))return;if(delete this.pendingRequests[i],dt.status===0&&this.isHttp){(lt=ut.onError)==null||lt.call(ut,dt.status);return}const et=dt.status||Bt;if(!(et===Bt&&ut.expectedStatus===Ut)&&et!==ut.expectedStatus){(at=ut.onError)==null||at.call(ut,dt.status);return}const c=$(dt);if(et===Ut){const it=dt.getResponseHeader("Content-Range"),tt=/bytes (\d+)-(\d+)\/(\d+)/.exec(it);ut.onDone({begin:parseInt(tt[1],10),chunk:c})}else c?ut.onDone({begin:0,chunk:c}):(ct=ut.onError)==null||ct.call(ut,dt.status)}getRequestXhr(i){return this.pendingRequests[i].xhr}isPendingRequest(i){return i in this.pendingRequests}abortRequest(i){const d=this.pendingRequests[i].xhr;delete this.pendingRequests[i],d.abort()}}class s{constructor(i){this._source=i,this._manager=new _t(i.url,{httpHeaders:i.httpHeaders,withCredentials:i.withCredentials}),this._rangeChunkSize=i.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(i){const d=this._rangeRequestReaders.indexOf(i);d>=0&&this._rangeRequestReaders.splice(d,1)}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bt(this._manager,this._source),this._fullRequestReader}getRangeReader(i,d){const ut=new St(this._manager,i,d);return ut.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ut),ut}cancelAllRequests(i){var d;(d=this._fullRequestReader)==null||d.cancel(i);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(i)}}o.PDFNetworkStream=s;class bt{constructor(i,d){this._manager=i;const ut={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=d.url,this._fullRequestId=i.requestFull(ut),this._headersReceivedCapability=new g.PromiseCapability,this._disableRange=d.disableRange||!1,this._contentLength=d.length,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const i=this._fullRequestId,d=this._manager.getRequestXhr(i),ut=_=>d.getResponseHeader(_),{allowRangeRequests:dt,suggestedLength:et}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:ut,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});dt&&(this._isRangeSupported=!0),this._contentLength=et||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(ut),this._isRangeSupported&&this._manager.abortRequest(i),this._headersReceivedCapability.resolve()}_onDone(i){if(i&&(this._requests.length>0?this._requests.shift().resolve({value:i.chunk,done:!1}):this._cachedChunks.push(i.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(i){this._storedError=(0,xt.createResponseStatusError)(i,this._url),this._headersReceivedCapability.reject(this._storedError);for(const d of this._requests)d.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(i){var d;(d=this.onProgress)==null||d.call(this,{loaded:i.loaded,total:i.lengthComputable?i.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const i=new g.PromiseCapability;return this._requests.push(i),i.promise}cancel(i){this._done=!0,this._headersReceivedCapability.reject(i);for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class St{constructor(i,d,ut){this._manager=i;const dt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._requestId=i.requestRange(d,ut,dt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var i;(i=this.onClosed)==null||i.call(this,this)}_onDone(i){const d=i.chunk;this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunk=d,this._done=!0;for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(i){this._storedError=(0,xt.createResponseStatusError)(i,this._url);for(const d of this._requests)d.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(i){var d;this.isStreamingSupported||(d=this.onProgress)==null||d.call(this,{loaded:i.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const i=new g.PromiseCapability;return this._requests.push(i),i.promise}cancel(i){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var g=h(1),xt=h(20);const Bt=/^file:\/\/\/[a-zA-Z]:\//;function Ut(ut){const dt=require$$5,et=dt.parse(ut);return et.protocol==="file:"||et.host?et:/^[a-z]:[/\\]/i.test(ut)?dt.parse(`file:///${ut}`):(et.host||(et.protocol="file:"),et)}class ${constructor(dt){this.source=dt,this.url=Ut(dt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&dt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var dt;return((dt=this._fullRequestReader)==null?void 0:dt._loaded)??0}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new i(this):new St(this),this._fullRequestReader}getRangeReader(dt,et){if(et<=this._progressiveDataLength)return null;const _=this.isFsUrl?new d(this,dt,et):new e(this,dt,et);return this._rangeRequestReaders.push(_),_}cancelAllRequests(dt){var et;(et=this._fullRequestReader)==null||et.cancel(dt);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(dt)}}o.PDFNodeStream=$;class _t{constructor(dt){this._url=dt.url,this._done=!1,this._storedError=null,this.onProgress=null;const et=dt.source;this._contentLength=et.length,this._loaded=0,this._filename=null,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._readableStream=null,this._readCapability=new g.PromiseCapability,this._headersCapability=new g.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const dt=this._readableStream.read();return dt===null?(this._readCapability=new g.PromiseCapability,this.read()):(this._loaded+=dt.length,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(dt).buffer,done:!1})}cancel(dt){if(!this._readableStream){this._error(dt);return}this._readableStream.destroy(dt)}_error(dt){this._storedError=dt,this._readCapability.resolve()}_setReadableStream(dt){this._readableStream=dt,dt.on("readable",()=>{this._readCapability.resolve()}),dt.on("end",()=>{dt.destroy(),this._done=!0,this._readCapability.resolve()}),dt.on("error",et=>{this._error(et)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new g.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class s{constructor(dt){this._url=dt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new g.PromiseCapability;const et=dt.source;this._isStreamingSupported=!et.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const dt=this._readableStream.read();return dt===null?(this._readCapability=new g.PromiseCapability,this.read()):(this._loaded+=dt.length,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded}),{value:new Uint8Array(dt).buffer,done:!1})}cancel(dt){if(!this._readableStream){this._error(dt);return}this._readableStream.destroy(dt)}_error(dt){this._storedError=dt,this._readCapability.resolve()}_setReadableStream(dt){this._readableStream=dt,dt.on("readable",()=>{this._readCapability.resolve()}),dt.on("end",()=>{dt.destroy(),this._done=!0,this._readCapability.resolve()}),dt.on("error",et=>{this._error(et)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function bt(ut,dt){return{protocol:ut.protocol,auth:ut.auth,host:ut.hostname,port:ut.port,path:ut.path,method:"GET",headers:dt}}class St extends _t{constructor(dt){super(dt);const et=_=>{if(_.statusCode===404){const ct=new g.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ct,this._headersCapability.reject(ct);return}this._headersCapability.resolve(),this._setReadableStream(_);const c=ct=>this._readableStream.headers[ct.toLowerCase()],{allowRangeRequests:lt,suggestedLength:at}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:dt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=lt,this._contentLength=at||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(c)};if(this._request=null,this._url.protocol==="http:"){const _=require$$5;this._request=_.request(bt(this._url,dt.httpHeaders),et)}else{const _=require$$5;this._request=_.request(bt(this._url,dt.httpHeaders),et)}this._request.on("error",_=>{this._storedError=_,this._headersCapability.reject(_)}),this._request.end()}}class e extends s{constructor(dt,et,_){super(dt),this._httpHeaders={};for(const lt in dt.httpHeaders){const at=dt.httpHeaders[lt];at!==void 0&&(this._httpHeaders[lt]=at)}this._httpHeaders.Range=`bytes=${et}-${_-1}`;const c=lt=>{if(lt.statusCode===404){const at=new g.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=at;return}this._setReadableStream(lt)};if(this._request=null,this._url.protocol==="http:"){const lt=require$$5;this._request=lt.request(bt(this._url,this._httpHeaders),c)}else{const lt=require$$5;this._request=lt.request(bt(this._url,this._httpHeaders),c)}this._request.on("error",lt=>{this._storedError=lt}),this._request.end()}}class i extends _t{constructor(dt){super(dt);let et=decodeURIComponent(this._url.path);Bt.test(this._url.href)&&(et=et.replace(/^\//,""));const _=require$$5;_.lstat(et,(c,lt)=>{if(c){c.code==="ENOENT"&&(c=new g.MissingPDFException(`Missing PDF "${et}".`)),this._storedError=c,this._headersCapability.reject(c);return}this._contentLength=lt.size,this._setReadableStream(_.createReadStream(et)),this._headersCapability.resolve()})}}class d extends s{constructor(dt,et,_){super(dt);let c=decodeURIComponent(this._url.path);Bt.test(this._url.href)&&(c=c.replace(/^\//,""));const lt=require$$5;this._setReadableStream(lt.createReadStream(c,{start:et,end:_-1}))}}},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var g=h(6),xt=h(1);const Bt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ut="http://www.w3.org/XML/1998/namespace",$="http://www.w3.org/1999/xlink",_t=["butt","round","square"],s=["miter","round","bevel"],bt=function(lt,at="",ct=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ct)return URL.createObjectURL(new Blob([lt],{type:at}));const it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let tt=`data:${at};base64,`;for(let ot=0,mt=lt.length;ot<mt;ot+=3){const Ct=lt[ot]&255,Nt=lt[ot+1]&255,Pt=lt[ot+2]&255,Tt=Ct>>2,Et=(Ct&3)<<4|Nt>>4,rt=ot+1<mt?(Nt&15)<<2|Pt>>6:64,ft=ot+2<mt?Pt&63:64;tt+=it[Tt]+it[Et]+it[rt]+it[ft]}return tt},St=function(){const lt=new Uint8Array([137,80,78,71,13,10,26,10]),at=12,ct=new Int32Array(256);for(let Pt=0;Pt<256;Pt++){let Tt=Pt;for(let Et=0;Et<8;Et++)Tt=Tt&1?3988292384^Tt>>1&2147483647:Tt>>1&2147483647;ct[Pt]=Tt}function it(Pt,Tt,Et){let rt=-1;for(let ft=Tt;ft<Et;ft++){const wt=(rt^Pt[ft])&255,b=ct[wt];rt=rt>>>8^b}return rt^-1}function tt(Pt,Tt,Et,rt){let ft=rt;const wt=Tt.length;Et[ft]=wt>>24&255,Et[ft+1]=wt>>16&255,Et[ft+2]=wt>>8&255,Et[ft+3]=wt&255,ft+=4,Et[ft]=Pt.charCodeAt(0)&255,Et[ft+1]=Pt.charCodeAt(1)&255,Et[ft+2]=Pt.charCodeAt(2)&255,Et[ft+3]=Pt.charCodeAt(3)&255,ft+=4,Et.set(Tt,ft),ft+=Tt.length;const b=it(Et,rt+4,ft);Et[ft]=b>>24&255,Et[ft+1]=b>>16&255,Et[ft+2]=b>>8&255,Et[ft+3]=b&255}function ot(Pt,Tt,Et){let rt=1,ft=0;for(let wt=Tt;wt<Et;++wt)rt=(rt+(Pt[wt]&255))%65521,ft=(ft+rt)%65521;return ft<<16|rt}function mt(Pt){if(!xt.isNodeJS)return Ct(Pt);try{const Tt=parseInt(process.versions.node)>=8?Pt:Buffer.from(Pt),Et=require$$5.deflateSync(Tt,{level:9});return Et instanceof Uint8Array?Et:new Uint8Array(Et)}catch(Tt){(0,xt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Tt)}return Ct(Pt)}function Ct(Pt){let Tt=Pt.length;const Et=65535,rt=Math.ceil(Tt/Et),ft=new Uint8Array(2+Tt+rt*5+4);let wt=0;ft[wt++]=120,ft[wt++]=156;let b=0;for(;Tt>Et;)ft[wt++]=0,ft[wt++]=255,ft[wt++]=255,ft[wt++]=0,ft[wt++]=0,ft.set(Pt.subarray(b,b+Et),wt),wt+=Et,b+=Et,Tt-=Et;ft[wt++]=1,ft[wt++]=Tt&255,ft[wt++]=Tt>>8&255,ft[wt++]=~Tt&65535&255,ft[wt++]=(~Tt&65535)>>8&255,ft.set(Pt.subarray(b),wt),wt+=Pt.length-b;const pt=ot(Pt,0,Pt.length);return ft[wt++]=pt>>24&255,ft[wt++]=pt>>16&255,ft[wt++]=pt>>8&255,ft[wt++]=pt&255,ft}function Nt(Pt,Tt,Et,rt){const ft=Pt.width,wt=Pt.height;let b,pt,Ot;const kt=Pt.data;switch(Tt){case xt.ImageKind.GRAYSCALE_1BPP:pt=0,b=1,Ot=ft+7>>3;break;case xt.ImageKind.RGB_24BPP:pt=2,b=8,Ot=ft*3;break;case xt.ImageKind.RGBA_32BPP:pt=6,b=8,Ot=ft*4;break;default:throw new Error("invalid format")}const st=new Uint8Array((1+Ot)*wt);let nt=0,gt=0;for(let Ht=0;Ht<wt;++Ht)st[nt++]=0,st.set(kt.subarray(gt,gt+Ot),nt),gt+=Ot,nt+=Ot;if(Tt===xt.ImageKind.GRAYSCALE_1BPP&&rt){nt=0;for(let Ht=0;Ht<wt;Ht++){nt++;for(let Vt=0;Vt<Ot;Vt++)st[nt++]^=255}}const Ft=new Uint8Array([ft>>24&255,ft>>16&255,ft>>8&255,ft&255,wt>>24&255,wt>>16&255,wt>>8&255,wt&255,b,pt,0,0,0]),yt=mt(st),vt=lt.length+at*3+Ft.length+yt.length,Lt=new Uint8Array(vt);let jt=0;return Lt.set(lt,jt),jt+=lt.length,tt("IHDR",Ft,Lt,jt),jt+=at+Ft.length,tt("IDATA",yt,Lt,jt),jt+=at+yt.length,tt("IEND",new Uint8Array(0),Lt,jt),bt(Lt,"image/png",Et)}return function(Tt,Et,rt){const ft=Tt.kind===void 0?xt.ImageKind.GRAYSCALE_1BPP:Tt.kind;return Nt(Tt,ft,Et,rt)}}();class e{constructor(){this.fontSizeScale=1,this.fontWeight=Bt.fontWeight,this.fontSize=0,this.textMatrix=xt.IDENTITY_MATRIX,this.fontMatrix=xt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=xt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Bt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(at,ct){this.x=at,this.y=ct}}function i(lt){let at=[];const ct=[];for(const it of lt){if(it.fn==="save"){at.push({fnId:92,fn:"group",items:[]}),ct.push(at),at=at.at(-1).items;continue}it.fn==="restore"?at=ct.pop():at.push(it)}return at}function d(lt){if(Number.isInteger(lt))return lt.toString();const at=lt.toFixed(10);let ct=at.length-1;if(at[ct]!=="0")return at;do ct--;while(at[ct]==="0");return at.substring(0,at[ct]==="."?ct:ct+1)}function ut(lt){if(lt[4]===0&&lt[5]===0){if(lt[1]===0&&lt[2]===0)return lt[0]===1&&lt[3]===1?"":`scale(${d(lt[0])} ${d(lt[3])})`;if(lt[0]===lt[3]&&lt[1]===-lt[2]){const at=Math.acos(lt[0])*180/Math.PI;return`rotate(${d(at)})`}}else if(lt[0]===1&&lt[1]===0&&lt[2]===0&&lt[3]===1)return`translate(${d(lt[4])} ${d(lt[5])})`;return`matrix(${d(lt[0])} ${d(lt[1])} ${d(lt[2])} ${d(lt[3])} ${d(lt[4])} ${d(lt[5])})`}let dt=0,et=0,_=0;class c{constructor(at,ct,it=!1){(0,g.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new g.DOMSVGFactory,this.current=new e,this.transformMatrix=xt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=at,this.objs=ct,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!it,this._operatorIdMapping=[];for(const tt in xt.OPS)this._operatorIdMapping[xt.OPS[tt]]=tt}getObject(at,ct=null){return typeof at=="string"?at.startsWith("g_")?this.commonObjs.get(at):this.objs.get(at):ct}save(){this.transformStack.push(this.transformMatrix);const at=this.current;this.extraStack.push(at),this.current=at.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(at){this.save(),this.executeOpTree(at),this.restore()}loadDependencies(at){const ct=at.fnArray,it=at.argsArray;for(let tt=0,ot=ct.length;tt<ot;tt++)if(ct[tt]===xt.OPS.dependency)for(const mt of it[tt]){const Ct=mt.startsWith("g_")?this.commonObjs:this.objs,Nt=new Promise(Pt=>{Ct.get(mt,Pt)});this.current.dependencies.push(Nt)}return Promise.all(this.current.dependencies)}transform(at,ct,it,tt,ot,mt){const Ct=[at,ct,it,tt,ot,mt];this.transformMatrix=xt.Util.transform(this.transformMatrix,Ct),this.tgrp=null}getSVG(at,ct){this.viewport=ct;const it=this._initialize(ct);return this.loadDependencies(at).then(()=>(this.transformMatrix=xt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(at)),it))}convertOpList(at){const ct=this._operatorIdMapping,it=at.argsArray,tt=at.fnArray,ot=[];for(let mt=0,Ct=tt.length;mt<Ct;mt++){const Nt=tt[mt];ot.push({fnId:Nt,fn:ct[Nt],args:it[mt]})}return i(ot)}executeOpTree(at){for(const ct of at){const it=ct.fn,tt=ct.fnId,ot=ct.args;switch(tt|0){case xt.OPS.beginText:this.beginText();break;case xt.OPS.dependency:break;case xt.OPS.setLeading:this.setLeading(ot);break;case xt.OPS.setLeadingMoveText:this.setLeadingMoveText(ot[0],ot[1]);break;case xt.OPS.setFont:this.setFont(ot);break;case xt.OPS.showText:this.showText(ot[0]);break;case xt.OPS.showSpacedText:this.showText(ot[0]);break;case xt.OPS.endText:this.endText();break;case xt.OPS.moveText:this.moveText(ot[0],ot[1]);break;case xt.OPS.setCharSpacing:this.setCharSpacing(ot[0]);break;case xt.OPS.setWordSpacing:this.setWordSpacing(ot[0]);break;case xt.OPS.setHScale:this.setHScale(ot[0]);break;case xt.OPS.setTextMatrix:this.setTextMatrix(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]);break;case xt.OPS.setTextRise:this.setTextRise(ot[0]);break;case xt.OPS.setTextRenderingMode:this.setTextRenderingMode(ot[0]);break;case xt.OPS.setLineWidth:this.setLineWidth(ot[0]);break;case xt.OPS.setLineJoin:this.setLineJoin(ot[0]);break;case xt.OPS.setLineCap:this.setLineCap(ot[0]);break;case xt.OPS.setMiterLimit:this.setMiterLimit(ot[0]);break;case xt.OPS.setFillRGBColor:this.setFillRGBColor(ot[0],ot[1],ot[2]);break;case xt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ot[0],ot[1],ot[2]);break;case xt.OPS.setStrokeColorN:this.setStrokeColorN(ot);break;case xt.OPS.setFillColorN:this.setFillColorN(ot);break;case xt.OPS.shadingFill:this.shadingFill(ot[0]);break;case xt.OPS.setDash:this.setDash(ot[0],ot[1]);break;case xt.OPS.setRenderingIntent:this.setRenderingIntent(ot[0]);break;case xt.OPS.setFlatness:this.setFlatness(ot[0]);break;case xt.OPS.setGState:this.setGState(ot[0]);break;case xt.OPS.fill:this.fill();break;case xt.OPS.eoFill:this.eoFill();break;case xt.OPS.stroke:this.stroke();break;case xt.OPS.fillStroke:this.fillStroke();break;case xt.OPS.eoFillStroke:this.eoFillStroke();break;case xt.OPS.clip:this.clip("nonzero");break;case xt.OPS.eoClip:this.clip("evenodd");break;case xt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case xt.OPS.paintImageXObject:this.paintImageXObject(ot[0]);break;case xt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ot[0]);break;case xt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ot[0]);break;case xt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ot[0],ot[1]);break;case xt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case xt.OPS.closePath:this.closePath();break;case xt.OPS.closeStroke:this.closeStroke();break;case xt.OPS.closeFillStroke:this.closeFillStroke();break;case xt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case xt.OPS.nextLine:this.nextLine();break;case xt.OPS.transform:this.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]);break;case xt.OPS.constructPath:this.constructPath(ot[0],ot[1]);break;case xt.OPS.endPath:this.endPath();break;case 92:this.group(ct.items);break;default:(0,xt.warn)(`Unimplemented operator ${it}`);break}}}setWordSpacing(at){this.current.wordSpacing=at}setCharSpacing(at){this.current.charSpacing=at}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(at,ct,it,tt,ot,mt){const Ct=this.current;Ct.textMatrix=Ct.lineMatrix=[at,ct,it,tt,ot,mt],Ct.textMatrixScale=Math.hypot(at,ct),Ct.x=Ct.lineX=0,Ct.y=Ct.lineY=0,Ct.xcoords=[],Ct.ycoords=[],Ct.tspan=this.svgFactory.createElement("svg:tspan"),Ct.tspan.setAttributeNS(null,"font-family",Ct.fontFamily),Ct.tspan.setAttributeNS(null,"font-size",`${d(Ct.fontSize)}px`),Ct.tspan.setAttributeNS(null,"y",d(-Ct.y)),Ct.txtElement=this.svgFactory.createElement("svg:text"),Ct.txtElement.append(Ct.tspan)}beginText(){const at=this.current;at.x=at.lineX=0,at.y=at.lineY=0,at.textMatrix=xt.IDENTITY_MATRIX,at.lineMatrix=xt.IDENTITY_MATRIX,at.textMatrixScale=1,at.tspan=this.svgFactory.createElement("svg:tspan"),at.txtElement=this.svgFactory.createElement("svg:text"),at.txtgrp=this.svgFactory.createElement("svg:g"),at.xcoords=[],at.ycoords=[]}moveText(at,ct){const it=this.current;it.x=it.lineX+=at,it.y=it.lineY+=ct,it.xcoords=[],it.ycoords=[],it.tspan=this.svgFactory.createElement("svg:tspan"),it.tspan.setAttributeNS(null,"font-family",it.fontFamily),it.tspan.setAttributeNS(null,"font-size",`${d(it.fontSize)}px`),it.tspan.setAttributeNS(null,"y",d(-it.y))}showText(at){const ct=this.current,it=ct.font,tt=ct.fontSize;if(tt===0)return;const ot=ct.fontSizeScale,mt=ct.charSpacing,Ct=ct.wordSpacing,Nt=ct.fontDirection,Pt=ct.textHScale*Nt,Tt=it.vertical,Et=Tt?1:-1,rt=it.defaultVMetrics,ft=tt*ct.fontMatrix[0];let wt=0;for(const Ot of at){if(Ot===null){wt+=Nt*Ct;continue}else if(typeof Ot=="number"){wt+=Et*Ot*tt/1e3;continue}const kt=(Ot.isSpace?Ct:0)+mt,st=Ot.fontChar;let nt,gt,Ft=Ot.width;if(Tt){let vt;const Lt=Ot.vmetric||rt;vt=Ot.vmetric?Lt[1]:Ft*.5,vt=-vt*ft;const jt=Lt[2]*ft;Ft=Lt?-Lt[0]:Ft,nt=vt/ot,gt=(wt+jt)/ot}else nt=wt/ot,gt=0;(Ot.isInFont||it.missingFile)&&(ct.xcoords.push(ct.x+nt),Tt&&ct.ycoords.push(-ct.y+gt),ct.tspan.textContent+=st);const yt=Tt?Ft*ft-kt*Nt:Ft*ft+kt*Nt;wt+=yt}ct.tspan.setAttributeNS(null,"x",ct.xcoords.map(d).join(" ")),Tt?ct.tspan.setAttributeNS(null,"y",ct.ycoords.map(d).join(" ")):ct.tspan.setAttributeNS(null,"y",d(-ct.y)),Tt?ct.y-=wt:ct.x+=wt*Pt,ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${d(ct.fontSize)}px`),ct.fontStyle!==Bt.fontStyle&&ct.tspan.setAttributeNS(null,"font-style",ct.fontStyle),ct.fontWeight!==Bt.fontWeight&&ct.tspan.setAttributeNS(null,"font-weight",ct.fontWeight);const b=ct.textRenderingMode&xt.TextRenderingMode.FILL_STROKE_MASK;if(b===xt.TextRenderingMode.FILL||b===xt.TextRenderingMode.FILL_STROKE?(ct.fillColor!==Bt.fillColor&&ct.tspan.setAttributeNS(null,"fill",ct.fillColor),ct.fillAlpha<1&&ct.tspan.setAttributeNS(null,"fill-opacity",ct.fillAlpha)):ct.textRenderingMode===xt.TextRenderingMode.ADD_TO_PATH?ct.tspan.setAttributeNS(null,"fill","transparent"):ct.tspan.setAttributeNS(null,"fill","none"),b===xt.TextRenderingMode.STROKE||b===xt.TextRenderingMode.FILL_STROKE){const Ot=1/(ct.textMatrixScale||1);this._setStrokeAttributes(ct.tspan,Ot)}let pt=ct.textMatrix;ct.textRise!==0&&(pt=pt.slice(),pt[5]+=ct.textRise),ct.txtElement.setAttributeNS(null,"transform",`${ut(pt)} scale(${d(Pt)}, -1)`),ct.txtElement.setAttributeNS(Ut,"xml:space","preserve"),ct.txtElement.append(ct.tspan),ct.txtgrp.append(ct.txtElement),this._ensureTransformGroup().append(ct.txtElement)}setLeadingMoveText(at,ct){this.setLeading(-ct),this.moveText(at,ct)}addFontStyle(at){if(!at.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ct=bt(at.data,at.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${at.loadedName}"; src: url(${ct}); }
`}setFont(at){const ct=this.current,it=this.commonObjs.get(at[0]);let tt=at[1];ct.font=it,this.embedFonts&&!it.missingFile&&!this.embeddedFonts[it.loadedName]&&(this.addFontStyle(it),this.embeddedFonts[it.loadedName]=it),ct.fontMatrix=it.fontMatrix||xt.FONT_IDENTITY_MATRIX;let ot="normal";it.black?ot="900":it.bold&&(ot="bold");const mt=it.italic?"italic":"normal";tt<0?(tt=-tt,ct.fontDirection=-1):ct.fontDirection=1,ct.fontSize=tt,ct.fontFamily=it.loadedName,ct.fontWeight=ot,ct.fontStyle=mt,ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"y",d(-ct.y)),ct.xcoords=[],ct.ycoords=[]}endText(){var ct;const at=this.current;at.textRenderingMode&xt.TextRenderingMode.ADD_TO_PATH_FLAG&&((ct=at.txtElement)!=null&&ct.hasChildNodes())&&(at.element=at.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(at){at>0&&(this.current.lineWidth=at)}setLineCap(at){this.current.lineCap=_t[at]}setLineJoin(at){this.current.lineJoin=s[at]}setMiterLimit(at){this.current.miterLimit=at}setStrokeAlpha(at){this.current.strokeAlpha=at}setStrokeRGBColor(at,ct,it){this.current.strokeColor=xt.Util.makeHexColor(at,ct,it)}setFillAlpha(at){this.current.fillAlpha=at}setFillRGBColor(at,ct,it){this.current.fillColor=xt.Util.makeHexColor(at,ct,it),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(at){this.current.strokeColor=this._makeColorN_Pattern(at)}setFillColorN(at){this.current.fillColor=this._makeColorN_Pattern(at)}shadingFill(at){const{width:ct,height:it}=this.viewport,tt=xt.Util.inverseTransform(this.transformMatrix),[ot,mt,Ct,Nt]=xt.Util.getAxialAlignedBoundingBox([0,0,ct,it],tt),Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x",ot),Pt.setAttributeNS(null,"y",mt),Pt.setAttributeNS(null,"width",Ct-ot),Pt.setAttributeNS(null,"height",Nt-mt),Pt.setAttributeNS(null,"fill",this._makeShadingPattern(at)),this.current.fillAlpha<1&&Pt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Pt)}_makeColorN_Pattern(at){return at[0]==="TilingPattern"?this._makeTilingPattern(at):this._makeShadingPattern(at)}_makeTilingPattern(at){const ct=at[1],it=at[2],tt=at[3]||xt.IDENTITY_MATRIX,[ot,mt,Ct,Nt]=at[4],Pt=at[5],Tt=at[6],Et=at[7],rt=`shading${_++}`,[ft,wt,b,pt]=xt.Util.normalizeRect([...xt.Util.applyTransform([ot,mt],tt),...xt.Util.applyTransform([Ct,Nt],tt)]),[Ot,kt]=xt.Util.singularValueDecompose2dScale(tt),st=Pt*Ot,nt=Tt*kt,gt=this.svgFactory.createElement("svg:pattern");gt.setAttributeNS(null,"id",rt),gt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),gt.setAttributeNS(null,"width",st),gt.setAttributeNS(null,"height",nt),gt.setAttributeNS(null,"x",`${ft}`),gt.setAttributeNS(null,"y",`${wt}`);const Ft=this.svg,yt=this.transformMatrix,vt=this.current.fillColor,Lt=this.current.strokeColor,jt=this.svgFactory.create(b-ft,pt-wt);if(this.svg=jt,this.transformMatrix=tt,Et===2){const Ht=xt.Util.makeHexColor(...ct);this.current.fillColor=Ht,this.current.strokeColor=Ht}return this.executeOpTree(this.convertOpList(it)),this.svg=Ft,this.transformMatrix=yt,this.current.fillColor=vt,this.current.strokeColor=Lt,gt.append(jt.childNodes[0]),this.defs.append(gt),`url(#${rt})`}_makeShadingPattern(at){switch(typeof at=="string"&&(at=this.objs.get(at)),at[0]){case"RadialAxial":const ct=`shading${_++}`,it=at[3];let tt;switch(at[1]){case"axial":const ot=at[4],mt=at[5];tt=this.svgFactory.createElement("svg:linearGradient"),tt.setAttributeNS(null,"id",ct),tt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),tt.setAttributeNS(null,"x1",ot[0]),tt.setAttributeNS(null,"y1",ot[1]),tt.setAttributeNS(null,"x2",mt[0]),tt.setAttributeNS(null,"y2",mt[1]);break;case"radial":const Ct=at[4],Nt=at[5],Pt=at[6],Tt=at[7];tt=this.svgFactory.createElement("svg:radialGradient"),tt.setAttributeNS(null,"id",ct),tt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),tt.setAttributeNS(null,"cx",Nt[0]),tt.setAttributeNS(null,"cy",Nt[1]),tt.setAttributeNS(null,"r",Tt),tt.setAttributeNS(null,"fx",Ct[0]),tt.setAttributeNS(null,"fy",Ct[1]),tt.setAttributeNS(null,"fr",Pt);break;default:throw new Error(`Unknown RadialAxial type: ${at[1]}`)}for(const ot of it){const mt=this.svgFactory.createElement("svg:stop");mt.setAttributeNS(null,"offset",ot[0]),mt.setAttributeNS(null,"stop-color",ot[1]),tt.append(mt)}return this.defs.append(tt),`url(#${ct})`;case"Mesh":return(0,xt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${at[0]}`)}}setDash(at,ct){this.current.dashArray=at,this.current.dashPhase=ct}constructPath(at,ct){const it=this.current;let tt=it.x,ot=it.y,mt=[],Ct=0;for(const Nt of at)switch(Nt|0){case xt.OPS.rectangle:tt=ct[Ct++],ot=ct[Ct++];const Pt=ct[Ct++],Tt=ct[Ct++],Et=tt+Pt,rt=ot+Tt;mt.push("M",d(tt),d(ot),"L",d(Et),d(ot),"L",d(Et),d(rt),"L",d(tt),d(rt),"Z");break;case xt.OPS.moveTo:tt=ct[Ct++],ot=ct[Ct++],mt.push("M",d(tt),d(ot));break;case xt.OPS.lineTo:tt=ct[Ct++],ot=ct[Ct++],mt.push("L",d(tt),d(ot));break;case xt.OPS.curveTo:tt=ct[Ct+4],ot=ct[Ct+5],mt.push("C",d(ct[Ct]),d(ct[Ct+1]),d(ct[Ct+2]),d(ct[Ct+3]),d(tt),d(ot)),Ct+=6;break;case xt.OPS.curveTo2:mt.push("C",d(tt),d(ot),d(ct[Ct]),d(ct[Ct+1]),d(ct[Ct+2]),d(ct[Ct+3])),tt=ct[Ct+2],ot=ct[Ct+3],Ct+=4;break;case xt.OPS.curveTo3:tt=ct[Ct+2],ot=ct[Ct+3],mt.push("C",d(ct[Ct]),d(ct[Ct+1]),d(tt),d(ot),d(tt),d(ot)),Ct+=4;break;case xt.OPS.closePath:mt.push("Z");break}mt=mt.join(" "),it.path&&at.length>0&&at[0]!==xt.OPS.rectangle&&at[0]!==xt.OPS.moveTo?mt=it.path.getAttributeNS(null,"d")+mt:(it.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(it.path)),it.path.setAttributeNS(null,"d",mt),it.path.setAttributeNS(null,"fill","none"),it.element=it.path,it.setCurrentPoint(tt,ot)}endPath(){const at=this.current;if(at.path=null,!this.pendingClip)return;if(!at.element){this.pendingClip=null;return}const ct=`clippath${dt++}`,it=this.svgFactory.createElement("svg:clipPath");it.setAttributeNS(null,"id",ct),it.setAttributeNS(null,"transform",ut(this.transformMatrix));const tt=at.element.cloneNode(!0);if(this.pendingClip==="evenodd"?tt.setAttributeNS(null,"clip-rule","evenodd"):tt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,it.append(tt),this.defs.append(it),at.activeClipUrl){at.clipGroup=null;for(const ot of this.extraStack)ot.clipGroup=null;it.setAttributeNS(null,"clip-path",at.activeClipUrl)}at.activeClipUrl=`url(#${ct})`,this.tgrp=null}clip(at){this.pendingClip=at}closePath(){const at=this.current;if(at.path){const ct=`${at.path.getAttributeNS(null,"d")}Z`;at.path.setAttributeNS(null,"d",ct)}}setLeading(at){this.current.leading=-at}setTextRise(at){this.current.textRise=at}setTextRenderingMode(at){this.current.textRenderingMode=at}setHScale(at){this.current.textHScale=at/100}setRenderingIntent(at){}setFlatness(at){}setGState(at){for(const[ct,it]of at)switch(ct){case"LW":this.setLineWidth(it);break;case"LC":this.setLineCap(it);break;case"LJ":this.setLineJoin(it);break;case"ML":this.setMiterLimit(it);break;case"D":this.setDash(it[0],it[1]);break;case"RI":this.setRenderingIntent(it);break;case"FL":this.setFlatness(it);break;case"Font":this.setFont(it);break;case"CA":this.setStrokeAlpha(it);break;case"ca":this.setFillAlpha(it);break;default:(0,xt.warn)(`Unimplemented graphic state operator ${ct}`);break}}fill(){const at=this.current;at.element&&(at.element.setAttributeNS(null,"fill",at.fillColor),at.element.setAttributeNS(null,"fill-opacity",at.fillAlpha),this.endPath())}stroke(){const at=this.current;at.element&&(this._setStrokeAttributes(at.element),at.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(at,ct=1){const it=this.current;let tt=it.dashArray;ct!==1&&tt.length>0&&(tt=tt.map(function(ot){return ct*ot})),at.setAttributeNS(null,"stroke",it.strokeColor),at.setAttributeNS(null,"stroke-opacity",it.strokeAlpha),at.setAttributeNS(null,"stroke-miterlimit",d(it.miterLimit)),at.setAttributeNS(null,"stroke-linecap",it.lineCap),at.setAttributeNS(null,"stroke-linejoin",it.lineJoin),at.setAttributeNS(null,"stroke-width",d(ct*it.lineWidth)+"px"),at.setAttributeNS(null,"stroke-dasharray",tt.map(d).join(" ")),at.setAttributeNS(null,"stroke-dashoffset",d(ct*it.dashPhase)+"px")}eoFill(){var at;(at=this.current.element)==null||at.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var at;(at=this.current.element)==null||at.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const at=this.svgFactory.createElement("svg:rect");at.setAttributeNS(null,"x","0"),at.setAttributeNS(null,"y","0"),at.setAttributeNS(null,"width","1px"),at.setAttributeNS(null,"height","1px"),at.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(at)}paintImageXObject(at){const ct=this.getObject(at);if(!ct){(0,xt.warn)(`Dependent image with object ID ${at} is not ready yet`);return}this.paintInlineImageXObject(ct)}paintInlineImageXObject(at,ct){const it=at.width,tt=at.height,ot=St(at,this.forceDataSchema,!!ct),mt=this.svgFactory.createElement("svg:rect");mt.setAttributeNS(null,"x","0"),mt.setAttributeNS(null,"y","0"),mt.setAttributeNS(null,"width",d(it)),mt.setAttributeNS(null,"height",d(tt)),this.current.element=mt,this.clip("nonzero");const Ct=this.svgFactory.createElement("svg:image");Ct.setAttributeNS($,"xlink:href",ot),Ct.setAttributeNS(null,"x","0"),Ct.setAttributeNS(null,"y",d(-tt)),Ct.setAttributeNS(null,"width",d(it)+"px"),Ct.setAttributeNS(null,"height",d(tt)+"px"),Ct.setAttributeNS(null,"transform",`scale(${d(1/it)} ${d(-1/tt)})`),ct?ct.append(Ct):this._ensureTransformGroup().append(Ct)}paintImageMaskXObject(at){const ct=this.getObject(at.data,at);if(ct.bitmap){(0,xt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const it=this.current,tt=ct.width,ot=ct.height,mt=it.fillColor;it.maskId=`mask${et++}`;const Ct=this.svgFactory.createElement("svg:mask");Ct.setAttributeNS(null,"id",it.maskId);const Nt=this.svgFactory.createElement("svg:rect");Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y","0"),Nt.setAttributeNS(null,"width",d(tt)),Nt.setAttributeNS(null,"height",d(ot)),Nt.setAttributeNS(null,"fill",mt),Nt.setAttributeNS(null,"mask",`url(#${it.maskId})`),this.defs.append(Ct),this._ensureTransformGroup().append(Nt),this.paintInlineImageXObject(ct,Ct)}paintFormXObjectBegin(at,ct){if(Array.isArray(at)&&at.length===6&&this.transform(at[0],at[1],at[2],at[3],at[4],at[5]),ct){const it=ct[2]-ct[0],tt=ct[3]-ct[1],ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x",ct[0]),ot.setAttributeNS(null,"y",ct[1]),ot.setAttributeNS(null,"width",d(it)),ot.setAttributeNS(null,"height",d(tt)),this.current.element=ot,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(at){const ct=this.svgFactory.create(at.width,at.height),it=this.svgFactory.createElement("svg:defs");ct.append(it),this.defs=it;const tt=this.svgFactory.createElement("svg:g");return tt.setAttributeNS(null,"transform",ut(at.transform)),ct.append(tt),this.svg=tt,ct}_ensureClipGroup(){if(!this.current.clipGroup){const at=this.svgFactory.createElement("svg:g");at.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(at),this.current.clipGroup=at}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ut(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}o.SVGGraphics=c},(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class h{static textContent(xt){const Bt=[],Ut={items:Bt,styles:Object.create(null)};function $(_t){var St;if(!_t)return;let s=null;const bt=_t.name;if(bt==="#text")s=_t.value;else if(h.shouldBuildText(bt))(St=_t==null?void 0:_t.attributes)!=null&&St.textContent?s=_t.attributes.textContent:_t.value&&(s=_t.value);else return;if(s!==null&&Bt.push({str:s}),!!_t.children)for(const e of _t.children)$(e)}return $(xt),Ut}static shouldBuildText(xt){return!(xt==="textarea"||xt==="input"||xt==="option"||xt==="select")}}o.XfaText=h},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerRenderTask=void 0,o.renderTextLayer=ut,o.updateTextLayer=dt;var g=h(1),xt=h(6);const Bt=1e5,Ut=30,$=.8,_t=new Map;function s(et,_){let c;if(_&&g.FeatureTest.isOffscreenCanvasSupported)c=new OffscreenCanvas(et,et).getContext("2d",{alpha:!1});else{const lt=document.createElement("canvas");lt.width=lt.height=et,c=lt.getContext("2d",{alpha:!1})}return c}function bt(et,_){const c=_t.get(et);if(c)return c;const lt=s(Ut,_);lt.font=`${Ut}px ${et}`;const at=lt.measureText("");let ct=at.fontBoundingBoxAscent,it=Math.abs(at.fontBoundingBoxDescent);if(ct){const ot=ct/(ct+it);return _t.set(et,ot),lt.canvas.width=lt.canvas.height=0,ot}lt.strokeStyle="red",lt.clearRect(0,0,Ut,Ut),lt.strokeText("g",0,0);let tt=lt.getImageData(0,0,Ut,Ut).data;it=0;for(let ot=tt.length-1-3;ot>=0;ot-=4)if(tt[ot]>0){it=Math.ceil(ot/4/Ut);break}lt.clearRect(0,0,Ut,Ut),lt.strokeText("A",0,Ut),tt=lt.getImageData(0,0,Ut,Ut).data,ct=0;for(let ot=0,mt=tt.length;ot<mt;ot+=4)if(tt[ot]>0){ct=Ut-Math.floor(ot/4/Ut);break}if(lt.canvas.width=lt.canvas.height=0,ct){const ot=ct/(ct+it);return _t.set(et,ot),ot}return _t.set(et,$),$}function St(et,_,c){const lt=document.createElement("span"),at={angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,fontSize:0};et._textDivs.push(lt);const ct=g.Util.transform(et._transform,_.transform);let it=Math.atan2(ct[1],ct[0]);const tt=c[_.fontName];tt.vertical&&(it+=Math.PI/2);const ot=Math.hypot(ct[2],ct[3]),mt=ot*bt(tt.fontFamily,et._isOffscreenCanvasSupported);let Ct,Nt;it===0?(Ct=ct[4],Nt=ct[5]-mt):(Ct=ct[4]+mt*Math.sin(it),Nt=ct[5]-mt*Math.cos(it));const Pt="calc(var(--scale-factor)*",Tt=lt.style;et._container===et._rootContainer?(Tt.left=`${(100*Ct/et._pageWidth).toFixed(2)}%`,Tt.top=`${(100*Nt/et._pageHeight).toFixed(2)}%`):(Tt.left=`${Pt}${Ct.toFixed(2)}px)`,Tt.top=`${Pt}${Nt.toFixed(2)}px)`),Tt.fontSize=`${Pt}${ot.toFixed(2)}px)`,Tt.fontFamily=tt.fontFamily,at.fontSize=ot,lt.setAttribute("role","presentation"),lt.textContent=_.str,lt.dir=_.dir,et._fontInspectorEnabled&&(lt.dataset.fontName=_.fontName),it!==0&&(at.angle=it*(180/Math.PI));let Et=!1;if(_.str.length>1)Et=!0;else if(_.str!==" "&&_.transform[0]!==_.transform[3]){const rt=Math.abs(_.transform[0]),ft=Math.abs(_.transform[3]);rt!==ft&&Math.max(rt,ft)/Math.min(rt,ft)>1.5&&(Et=!0)}Et&&(at.canvasWidth=tt.vertical?_.height:_.width),et._textDivProperties.set(lt,at),et._isReadableStream&&et._layoutText(lt)}function e(et){const{div:_,scale:c,properties:lt,ctx:at,prevFontSize:ct,prevFontFamily:it}=et,{style:tt}=_;let ot="";if(lt.canvasWidth!==0&&lt.hasText){const{fontFamily:mt}=tt,{canvasWidth:Ct,fontSize:Nt}=lt;(ct!==Nt||it!==mt)&&(at.font=`${Nt*c}px ${mt}`,et.prevFontSize=Nt,et.prevFontFamily=mt);const{width:Pt}=at.measureText(_.textContent);Pt>0&&(ot=`scaleX(${Ct*c/Pt})`)}lt.angle!==0&&(ot=`rotate(${lt.angle}deg) ${ot}`),ot.length>0&&(tt.transform=ot)}function i(et){if(et._canceled)return;const _=et._textDivs,c=et._capability;if(_.length>Bt){c.resolve();return}if(!et._isReadableStream)for(const at of _)et._layoutText(at);c.resolve()}class d{constructor({textContentSource:_,container:c,viewport:lt,textDivs:at,textDivProperties:ct,textContentItemsStr:it,isOffscreenCanvasSupported:tt}){var Pt;this._textContentSource=_,this._isReadableStream=_ instanceof ReadableStream,this._container=this._rootContainer=c,this._textDivs=at||[],this._textContentItemsStr=it||[],this._isOffscreenCanvasSupported=tt,this._fontInspectorEnabled=!!((Pt=globalThis.FontInspector)!=null&&Pt.enabled),this._reader=null,this._textDivProperties=ct||new WeakMap,this._canceled=!1,this._capability=new g.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:lt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:s(0,tt)};const{pageWidth:ot,pageHeight:mt,pageX:Ct,pageY:Nt}=lt.rawDims;this._transform=[1,0,0,-1,-Ct,Nt+mt],this._pageWidth=ot,this._pageHeight=mt,(0,xt.setLayerDimensions)(c,lt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new g.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new g.AbortException("TextLayer task cancelled."))}_processItems(_,c){for(const lt of _){if(lt.str===void 0){if(lt.type==="beginMarkedContentProps"||lt.type==="beginMarkedContent"){const at=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),lt.id!==null&&this._container.setAttribute("id",`${lt.id}`),at.append(this._container)}else lt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(lt.str),St(this,lt,c)}}_layoutText(_){const c=this._layoutTextParams.properties=this._textDivProperties.get(_);if(this._layoutTextParams.div=_,e(this._layoutTextParams),c.hasText&&this._container.append(_),c.hasEOL){const lt=document.createElement("br");lt.setAttribute("role","presentation"),this._container.append(lt)}}_render(){const _=new g.PromiseCapability;let c=Object.create(null);if(this._isReadableStream){const lt=()=>{this._reader.read().then(({value:at,done:ct})=>{if(ct){_.resolve();return}Object.assign(c,at.styles),this._processItems(at.items,c),lt()},_.reject)};this._reader=this._textContentSource.getReader(),lt()}else if(this._textContentSource){const{items:lt,styles:at}=this._textContentSource;this._processItems(lt,at),_.resolve()}else throw new Error('No "textContentSource" parameter specified.');_.promise.then(()=>{c=null,i(this)},this._capability.reject)}}o.TextLayerRenderTask=d;function ut(et){!et.textContentSource&&(et.textContent||et.textContentStream)&&((0,xt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),et.textContentSource=et.textContent||et.textContentStream);const{container:_,viewport:c}=et,lt=getComputedStyle(_),at=lt.getPropertyValue("visibility"),ct=parseFloat(lt.getPropertyValue("--scale-factor"));at==="visible"&&(!ct||Math.abs(ct-c.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const it=new d(et);return it._render(),it}function dt({container:et,viewport:_,textDivs:c,textDivProperties:lt,isOffscreenCanvasSupported:at,mustRotate:ct=!0,mustRescale:it=!0}){if(ct&&(0,xt.setLayerDimensions)(et,{rotation:_.rotation}),it){const tt=s(0,at),mt={prevFontSize:null,prevFontFamily:null,div:null,scale:_.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:tt};for(const Ct of c)mt.properties=lt.get(Ct),mt.div=Ct,e(mt)}}},(a,o,h)=>{var bt,St,e,i,d,ut,dt,et,_,c,lt,so,rs,oo,lo;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayer=void 0;var g=h(1),xt=h(4),Bt=h(28),Ut=h(33),$=h(6),_t=h(34);const ot=class ot{constructor({uiManager:Ct,pageIndex:Nt,div:Pt,accessibilityManager:Tt,annotationLayer:Et,viewport:rt,l10n:ft}){Fn(this,lt);Fn(this,bt);Fn(this,St,!1);Fn(this,e,null);Fn(this,i,this.pointerup.bind(this));Fn(this,d,this.pointerdown.bind(this));Fn(this,ut,new Map);Fn(this,dt,!1);Fn(this,et,!1);Fn(this,_,!1);Fn(this,c);const wt=[Bt.FreeTextEditor,Ut.InkEditor,_t.StampEditor];if(!ot._initialized){ot._initialized=!0;for(const b of wt)b.initialize(ft)}Ct.registerEditorTypes(wt),On(this,c,Ct),this.pageIndex=Nt,this.div=Pt,On(this,bt,Tt),On(this,e,Et),this.viewport=rt,Kt(this,c).addLayer(this)}get isEmpty(){return Kt(this,ut).size===0}updateToolbar(Ct){Kt(this,c).updateToolbar(Ct)}updateMode(Ct=Kt(this,c).getMode()){xn(this,lt,lo).call(this),Ct===g.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Ct!==g.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Ct===g.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Ct===g.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Ct===g.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Ct){if(!Ct&&Kt(this,c).getMode()!==g.AnnotationEditorType.INK)return;if(!Ct){for(const Pt of Kt(this,ut).values())if(Pt.isEmpty()){Pt.setInBackground();return}}xn(this,lt,rs).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Ct){Kt(this,c).setEditingState(Ct)}addCommands(Ct){Kt(this,c).addCommands(Ct)}enable(){this.div.style.pointerEvents="auto";const Ct=new Set;for(const Pt of Kt(this,ut).values())Pt.enableEditing(),Pt.annotationElementId&&Ct.add(Pt.annotationElementId);if(!Kt(this,e))return;const Nt=Kt(this,e).getEditableAnnotations();for(const Pt of Nt){if(Pt.hide(),Kt(this,c).isDeletedAnnotationElement(Pt.data.id)||Ct.has(Pt.data.id))continue;const Tt=this.deserialize(Pt);Tt&&(this.addOrRebuild(Tt),Tt.enableEditing())}}disable(){var Nt;On(this,_,!0),this.div.style.pointerEvents="none";const Ct=new Set;for(const Pt of Kt(this,ut).values()){if(Pt.disableEditing(),!Pt.annotationElementId||Pt.serialize()!==null){Ct.add(Pt.annotationElementId);continue}(Nt=this.getEditableAnnotation(Pt.annotationElementId))==null||Nt.show(),Pt.remove()}if(Kt(this,e)){const Pt=Kt(this,e).getEditableAnnotations();for(const Tt of Pt){const{id:Et}=Tt.data;Ct.has(Et)||Kt(this,c).isDeletedAnnotationElement(Et)||Tt.show()}}xn(this,lt,lo).call(this),this.isEmpty&&(this.div.hidden=!0),On(this,_,!1)}getEditableAnnotation(Ct){var Nt;return((Nt=Kt(this,e))==null?void 0:Nt.getEditableAnnotation(Ct))||null}setActiveEditor(Ct){Kt(this,c).getActive()!==Ct&&Kt(this,c).setActiveEditor(Ct)}enableClick(){this.div.addEventListener("pointerdown",Kt(this,d)),this.div.addEventListener("pointerup",Kt(this,i))}disableClick(){this.div.removeEventListener("pointerdown",Kt(this,d)),this.div.removeEventListener("pointerup",Kt(this,i))}attach(Ct){Kt(this,ut).set(Ct.id,Ct);const{annotationElementId:Nt}=Ct;Nt&&Kt(this,c).isDeletedAnnotationElement(Nt)&&Kt(this,c).removeDeletedAnnotationElement(Ct)}detach(Ct){var Nt;Kt(this,ut).delete(Ct.id),(Nt=Kt(this,bt))==null||Nt.removePointerInTextLayer(Ct.contentDiv),!Kt(this,_)&&Ct.annotationElementId&&Kt(this,c).addDeletedAnnotationElement(Ct)}remove(Ct){this.detach(Ct),Kt(this,c).removeEditor(Ct),Ct.div.contains(document.activeElement)&&setTimeout(()=>{Kt(this,c).focusMainContainer()},0),Ct.div.remove(),Ct.isAttachedToDOM=!1,Kt(this,et)||this.addInkEditorIfNeeded(!1)}changeParent(Ct){var Nt;Ct.parent!==this&&(Ct.annotationElementId&&(Kt(this,c).addDeletedAnnotationElement(Ct.annotationElementId),xt.AnnotationEditor.deleteAnnotationElement(Ct),Ct.annotationElementId=null),this.attach(Ct),(Nt=Ct.parent)==null||Nt.detach(Ct),Ct.setParent(this),Ct.div&&Ct.isAttachedToDOM&&(Ct.div.remove(),this.div.append(Ct.div)))}add(Ct){if(this.changeParent(Ct),Kt(this,c).addEditor(Ct),this.attach(Ct),!Ct.isAttachedToDOM){const Nt=Ct.render();this.div.append(Nt),Ct.isAttachedToDOM=!0}Ct.fixAndSetPosition(),Ct.onceAdded(),Kt(this,c).addToAnnotationStorage(Ct)}moveEditorInDOM(Ct){var Pt;if(!Ct.isAttachedToDOM)return;const{activeElement:Nt}=document;Ct.div.contains(Nt)&&(Ct._focusEventsAllowed=!1,setTimeout(()=>{Ct.div.contains(document.activeElement)?Ct._focusEventsAllowed=!0:(Ct.div.addEventListener("focusin",()=>{Ct._focusEventsAllowed=!0},{once:!0}),Nt.focus())},0)),Ct._structTreeParentId=(Pt=Kt(this,bt))==null?void 0:Pt.moveElementInDOM(this.div,Ct.div,Ct.contentDiv,!0)}addOrRebuild(Ct){Ct.needsToBeRebuilt()?Ct.rebuild():this.add(Ct)}addUndoableEditor(Ct){const Nt=()=>Ct._uiManager.rebuild(Ct),Pt=()=>{Ct.remove()};this.addCommands({cmd:Nt,undo:Pt,mustExec:!1})}getNextId(){return Kt(this,c).getId()}pasteEditor(Ct,Nt){Kt(this,c).updateToolbar(Ct),Kt(this,c).updateMode(Ct);const{offsetX:Pt,offsetY:Tt}=xn(this,lt,oo).call(this),Et=this.getNextId(),rt=xn(this,lt,so).call(this,{parent:this,id:Et,x:Pt,y:Tt,uiManager:Kt(this,c),isCentered:!0,...Nt});rt&&this.add(rt)}deserialize(Ct){switch(Ct.annotationType??Ct.annotationEditorType){case g.AnnotationEditorType.FREETEXT:return Bt.FreeTextEditor.deserialize(Ct,this,Kt(this,c));case g.AnnotationEditorType.INK:return Ut.InkEditor.deserialize(Ct,this,Kt(this,c));case g.AnnotationEditorType.STAMP:return _t.StampEditor.deserialize(Ct,this,Kt(this,c))}return null}addNewEditor(){xn(this,lt,rs).call(this,xn(this,lt,oo).call(this),!0)}setSelected(Ct){Kt(this,c).setSelected(Ct)}toggleSelected(Ct){Kt(this,c).toggleSelected(Ct)}isSelected(Ct){return Kt(this,c).isSelected(Ct)}unselect(Ct){Kt(this,c).unselect(Ct)}pointerup(Ct){const{isMac:Nt}=g.FeatureTest.platform;if(!(Ct.button!==0||Ct.ctrlKey&&Nt)&&Ct.target===this.div&&Kt(this,dt)){if(On(this,dt,!1),!Kt(this,St)){On(this,St,!0);return}if(Kt(this,c).getMode()===g.AnnotationEditorType.STAMP){Kt(this,c).unselectAll();return}xn(this,lt,rs).call(this,Ct,!1)}}pointerdown(Ct){if(Kt(this,dt)){On(this,dt,!1);return}const{isMac:Nt}=g.FeatureTest.platform;if(Ct.button!==0||Ct.ctrlKey&&Nt||Ct.target!==this.div)return;On(this,dt,!0);const Pt=Kt(this,c).getActive();On(this,St,!Pt||Pt.isEmpty())}findNewParent(Ct,Nt,Pt){const Tt=Kt(this,c).findParent(Nt,Pt);return Tt===null||Tt===this?!1:(Tt.changeParent(Ct),!0)}destroy(){var Ct,Nt;((Ct=Kt(this,c).getActive())==null?void 0:Ct.parent)===this&&(Kt(this,c).commitOrRemove(),Kt(this,c).setActiveEditor(null));for(const Pt of Kt(this,ut).values())(Nt=Kt(this,bt))==null||Nt.removePointerInTextLayer(Pt.contentDiv),Pt.setParent(null),Pt.isAttachedToDOM=!1,Pt.div.remove();this.div=null,Kt(this,ut).clear(),Kt(this,c).removeLayer(this)}render({viewport:Ct}){this.viewport=Ct,(0,$.setLayerDimensions)(this.div,Ct);for(const Nt of Kt(this,c).getEditors(this.pageIndex))this.add(Nt);this.updateMode()}update({viewport:Ct}){Kt(this,c).commitOrRemove(),this.viewport=Ct,(0,$.setLayerDimensions)(this.div,{rotation:Ct.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Ct,pageHeight:Nt}=this.viewport.rawDims;return[Ct,Nt]}};bt=new WeakMap,St=new WeakMap,e=new WeakMap,i=new WeakMap,d=new WeakMap,ut=new WeakMap,dt=new WeakMap,et=new WeakMap,_=new WeakMap,c=new WeakMap,lt=new WeakSet,so=function(Ct){switch(Kt(this,c).getMode()){case g.AnnotationEditorType.FREETEXT:return new Bt.FreeTextEditor(Ct);case g.AnnotationEditorType.INK:return new Ut.InkEditor(Ct);case g.AnnotationEditorType.STAMP:return new _t.StampEditor(Ct)}return null},rs=function(Ct,Nt){const Pt=this.getNextId(),Tt=xn(this,lt,so).call(this,{parent:this,id:Pt,x:Ct.offsetX,y:Ct.offsetY,uiManager:Kt(this,c),isCentered:Nt});return Tt&&this.add(Tt),Tt},oo=function(){const{x:Ct,y:Nt,width:Pt,height:Tt}=this.div.getBoundingClientRect(),Et=Math.max(0,Ct),rt=Math.max(0,Nt),ft=Math.min(window.innerWidth,Ct+Pt),wt=Math.min(window.innerHeight,Nt+Tt),b=(Et+ft)/2-Ct,pt=(rt+wt)/2-Nt,[Ot,kt]=this.viewport.rotation%180===0?[b,pt]:[pt,b];return{offsetX:Ot,offsetY:kt}},lo=function(){On(this,et,!0);for(const Ct of Kt(this,ut).values())Ct.isEmpty()&&Ct.remove();On(this,et,!1)},ir(ot,"_initialized",!1);let s=ot;o.AnnotationEditorLayer=s},(a,o,h)=>{var _t,s,bt,St,e,i,d,ut,dt,et,qo,Wo,Go,Kr,co,Vo,uo;Object.defineProperty(o,"__esModule",{value:!0}),o.FreeTextEditor=void 0;var g=h(1),xt=h(5),Bt=h(4),Ut=h(29);const ot=class ot extends Bt.AnnotationEditor{constructor(Nt){super({...Nt,name:"freeTextEditor"});Fn(this,et);Fn(this,_t,this.editorDivBlur.bind(this));Fn(this,s,this.editorDivFocus.bind(this));Fn(this,bt,this.editorDivInput.bind(this));Fn(this,St,this.editorDivKeydown.bind(this));Fn(this,e);Fn(this,i,"");Fn(this,d,`${this.id}-editor`);Fn(this,ut);Fn(this,dt,null);On(this,e,Nt.color||ot._defaultColor||Bt.AnnotationEditor._defaultLineColor),On(this,ut,Nt.fontSize||ot._defaultFontSize)}static get _keyboardManager(){const Nt=ot.prototype,Pt=rt=>rt.isEmpty(),Tt=xt.AnnotationEditorUIManager.TRANSLATE_SMALL,Et=xt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,g.shadow)(this,"_keyboardManager",new xt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Nt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Nt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Nt._translateEmpty,{args:[-Tt,0],checker:Pt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Nt._translateEmpty,{args:[-Et,0],checker:Pt}],[["ArrowRight","mac+ArrowRight"],Nt._translateEmpty,{args:[Tt,0],checker:Pt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Nt._translateEmpty,{args:[Et,0],checker:Pt}],[["ArrowUp","mac+ArrowUp"],Nt._translateEmpty,{args:[0,-Tt],checker:Pt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Nt._translateEmpty,{args:[0,-Et],checker:Pt}],[["ArrowDown","mac+ArrowDown"],Nt._translateEmpty,{args:[0,Tt],checker:Pt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Nt._translateEmpty,{args:[0,Et],checker:Pt}]]))}static initialize(Nt){Bt.AnnotationEditor.initialize(Nt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Pt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Pt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Nt,Pt){switch(Nt){case g.AnnotationEditorParamsType.FREETEXT_SIZE:ot._defaultFontSize=Pt;break;case g.AnnotationEditorParamsType.FREETEXT_COLOR:ot._defaultColor=Pt;break}}updateParams(Nt,Pt){switch(Nt){case g.AnnotationEditorParamsType.FREETEXT_SIZE:xn(this,et,qo).call(this,Pt);break;case g.AnnotationEditorParamsType.FREETEXT_COLOR:xn(this,et,Wo).call(this,Pt);break}}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.FREETEXT_SIZE,ot._defaultFontSize],[g.AnnotationEditorParamsType.FREETEXT_COLOR,ot._defaultColor||Bt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[g.AnnotationEditorParamsType.FREETEXT_SIZE,Kt(this,ut)],[g.AnnotationEditorParamsType.FREETEXT_COLOR,Kt(this,e)]]}_translateEmpty(Nt,Pt){this._uiManager.translateSelectedEditors(Nt,Pt,!0)}getInitialTranslation(){const Nt=this.parentScale;return[-ot._internalPadding*Nt,-(ot._internalPadding+Kt(this,ut))*Nt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(g.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Kt(this,St)),this.editorDiv.addEventListener("focus",Kt(this,s)),this.editorDiv.addEventListener("blur",Kt(this,_t)),this.editorDiv.addEventListener("input",Kt(this,bt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Kt(this,d)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Kt(this,St)),this.editorDiv.removeEventListener("focus",Kt(this,s)),this.editorDiv.removeEventListener("blur",Kt(this,_t)),this.editorDiv.removeEventListener("input",Kt(this,bt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Nt){this._focusEventsAllowed&&(super.focusin(Nt),Nt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Nt;if(this.width){xn(this,et,uo).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Nt=this._initialOptions)!=null&&Nt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Nt=Kt(this,i),Pt=On(this,i,xn(this,et,Go).call(this).trimEnd());if(Nt===Pt)return;const Tt=Et=>{if(On(this,i,Et),!Et){this.remove();return}xn(this,et,co).call(this),this._uiManager.rebuild(this),xn(this,et,Kr).call(this)};this.addCommands({cmd:()=>{Tt(Pt)},undo:()=>{Tt(Nt)},mustExec:!1}),xn(this,et,Kr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Nt){this.enterInEditMode()}keydown(Nt){Nt.target===this.div&&Nt.key==="Enter"&&(this.enterInEditMode(),Nt.preventDefault())}editorDivKeydown(Nt){ot._keyboardManager.exec(this,Nt)}editorDivFocus(Nt){this.isEditing=!0}editorDivBlur(Nt){this.isEditing=!1}editorDivInput(Nt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Nt,Pt;this.width&&(Nt=this.x,Pt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Kt(this,d)),this.enableEditing(),Bt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Et=>{var rt;return(rt=this.editorDiv)==null?void 0:rt.setAttribute("aria-label",Et)}),Bt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Et=>{var rt;return(rt=this.editorDiv)==null?void 0:rt.setAttribute("default-content",Et)}),this.editorDiv.contentEditable=!0;const{style:Tt}=this.editorDiv;if(Tt.fontSize=`calc(${Kt(this,ut)}px * var(--scale-factor))`,Tt.color=Kt(this,e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,xt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Et,rt]=this.parentDimensions;if(this.annotationElementId){const{position:ft}=Kt(this,dt);let[wt,b]=this.getInitialTranslation();[wt,b]=this.pageTranslationToScreen(wt,b);const[pt,Ot]=this.pageDimensions,[kt,st]=this.pageTranslation;let nt,gt;switch(this.rotation){case 0:nt=Nt+(ft[0]-kt)/pt,gt=Pt+this.height-(ft[1]-st)/Ot;break;case 90:nt=Nt+(ft[0]-kt)/pt,gt=Pt-(ft[1]-st)/Ot,[wt,b]=[b,-wt];break;case 180:nt=Nt-this.width+(ft[0]-kt)/pt,gt=Pt-(ft[1]-st)/Ot,[wt,b]=[-wt,-b];break;case 270:nt=Nt+(ft[0]-kt-this.height*Ot)/pt,gt=Pt+(ft[1]-st-this.width*pt)/Ot,[wt,b]=[-b,wt];break}this.setAt(nt*Et,gt*rt,wt,b)}else this.setAt(Nt*Et,Pt*rt,this.width*Et,this.height*rt);xn(this,et,co).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Nt,Pt,Tt){let Et=null;if(Nt instanceof Ut.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:ft,fontColor:wt},rect:b,rotation:pt,id:Ot},textContent:kt,textPosition:st,parent:{page:{pageNumber:nt}}}=Nt;if(!kt||kt.length===0)return null;Et=Nt={annotationType:g.AnnotationEditorType.FREETEXT,color:Array.from(wt),fontSize:ft,value:kt.join(`
`),position:st,pageIndex:nt-1,rect:b,rotation:pt,id:Ot,deleted:!1}}const rt=super.deserialize(Nt,Pt,Tt);return On(rt,ut,Nt.fontSize),On(rt,e,g.Util.makeHexColor(...Nt.color)),On(rt,i,Nt.value),rt.annotationElementId=Nt.id||null,On(rt,dt,Et),rt}serialize(Nt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Pt=ot._internalPadding*this.parentScale,Tt=this.getRect(Pt,Pt),Et=Bt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Kt(this,e)),rt={annotationType:g.AnnotationEditorType.FREETEXT,color:Et,fontSize:Kt(this,ut),value:Kt(this,i),pageIndex:this.pageIndex,rect:Tt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Nt?rt:this.annotationElementId&&!xn(this,et,Vo).call(this,rt)?null:(rt.id=this.annotationElementId,rt)}};_t=new WeakMap,s=new WeakMap,bt=new WeakMap,St=new WeakMap,e=new WeakMap,i=new WeakMap,d=new WeakMap,ut=new WeakMap,dt=new WeakMap,et=new WeakSet,qo=function(Nt){const Pt=Et=>{this.editorDiv.style.fontSize=`calc(${Et}px * var(--scale-factor))`,this.translate(0,-(Et-Kt(this,ut))*this.parentScale),On(this,ut,Et),xn(this,et,Kr).call(this)},Tt=Kt(this,ut);this.addCommands({cmd:()=>{Pt(Nt)},undo:()=>{Pt(Tt)},mustExec:!0,type:g.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Wo=function(Nt){const Pt=Kt(this,e);this.addCommands({cmd:()=>{On(this,e,this.editorDiv.style.color=Nt)},undo:()=>{On(this,e,this.editorDiv.style.color=Pt)},mustExec:!0,type:g.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Go=function(){const Nt=this.editorDiv.getElementsByTagName("div");if(Nt.length===0)return this.editorDiv.innerText;const Pt=[];for(const Tt of Nt)Pt.push(Tt.innerText.replace(/\r\n?|\n/,""));return Pt.join(`
`)},Kr=function(){const[Nt,Pt]=this.parentDimensions;let Tt;if(this.isAttachedToDOM)Tt=this.div.getBoundingClientRect();else{const{currentLayer:Et,div:rt}=this,ft=rt.style.display;rt.style.display="hidden",Et.div.append(this.div),Tt=rt.getBoundingClientRect(),rt.remove(),rt.style.display=ft}this.rotation%180===this.parentRotation%180?(this.width=Tt.width/Nt,this.height=Tt.height/Pt):(this.width=Tt.height/Nt,this.height=Tt.width/Pt),this.fixAndSetPosition()},co=function(){if(this.editorDiv.replaceChildren(),!!Kt(this,i))for(const Nt of Kt(this,i).split(`
`)){const Pt=document.createElement("div");Pt.append(Nt?document.createTextNode(Nt):document.createElement("br")),this.editorDiv.append(Pt)}},Vo=function(Nt){const{value:Pt,fontSize:Tt,color:Et,rect:rt,pageIndex:ft}=Kt(this,dt);return Nt.value!==Pt||Nt.fontSize!==Tt||Nt.rect.some((wt,b)=>Math.abs(wt-rt[b])>=1)||Nt.color.some((wt,b)=>wt!==Et[b])||Nt.pageIndex!==ft},uo=function(Nt=!1){if(!this.annotationElementId)return;if(xn(this,et,Kr).call(this),!Nt&&(this.width===0||this.height===0)){setTimeout(()=>xn(this,et,uo).call(this,!0),0);return}const Pt=ot._internalPadding*this.parentScale;Kt(this,dt).rect=this.getRect(Pt,Pt)},ir(ot,"_freeTextDefaultContent",""),ir(ot,"_internalPadding",0),ir(ot,"_defaultColor",null),ir(ot,"_defaultFontSize",10),ir(ot,"_type","freetext");let $=ot;o.FreeTextEditor=$},(a,o,h)=>{var gt,yt,Tr,Ko,jt,Ht,Vt,Qt,_e,Xt,Dt,It,j,At,Mt,Rt,$t,zt,qt,Wt,Gt,Zt,Yo,is,ho,fo,an,vn,An,cn,hn,fn,Cn,po,Rn,sn,En,Pn,Jo,go;Object.defineProperty(o,"__esModule",{value:!0}),o.StampAnnotationElement=o.InkAnnotationElement=o.FreeTextAnnotationElement=o.AnnotationLayer=void 0;var g=h(1),xt=h(6),Bt=h(3),Ut=h(30),$=h(31),_t=h(32);const s=1e3,bt=9,St=new WeakSet;function e(Nn){return{width:Nn[2]-Nn[0],height:Nn[3]-Nn[1]}}class i{static create(ln){switch(ln.data.annotationType){case g.AnnotationType.LINK:return new ut(ln);case g.AnnotationType.TEXT:return new dt(ln);case g.AnnotationType.WIDGET:switch(ln.data.fieldType){case"Tx":return new _(ln);case"Btn":return ln.data.radioButton?new at(ln):ln.data.checkBox?new lt(ln):new ct(ln);case"Ch":return new it(ln);case"Sig":return new c(ln)}return new et(ln);case g.AnnotationType.POPUP:return new tt(ln);case g.AnnotationType.FREETEXT:return new mt(ln);case g.AnnotationType.LINE:return new Ct(ln);case g.AnnotationType.SQUARE:return new Nt(ln);case g.AnnotationType.CIRCLE:return new Pt(ln);case g.AnnotationType.POLYLINE:return new Tt(ln);case g.AnnotationType.CARET:return new rt(ln);case g.AnnotationType.INK:return new ft(ln);case g.AnnotationType.POLYGON:return new Et(ln);case g.AnnotationType.HIGHLIGHT:return new wt(ln);case g.AnnotationType.UNDERLINE:return new b(ln);case g.AnnotationType.SQUIGGLY:return new pt(ln);case g.AnnotationType.STRIKEOUT:return new Ot(ln);case g.AnnotationType.STAMP:return new kt(ln);case g.AnnotationType.FILEATTACHMENT:return new st(ln);default:return new d(ln)}}}const Ft=class Ft{constructor(ln,{isRenderable:rn=!1,ignoreBorder:on=!1,createQuadrilaterals:mn=!1}={}){Fn(this,gt,!1);this.isRenderable=rn,this.data=ln.data,this.layer=ln.layer,this.linkService=ln.linkService,this.downloadManager=ln.downloadManager,this.imageResourcesPath=ln.imageResourcesPath,this.renderForms=ln.renderForms,this.svgFactory=ln.svgFactory,this.annotationStorage=ln.annotationStorage,this.enableScripting=ln.enableScripting,this.hasJSActions=ln.hasJSActions,this._fieldObjects=ln.fieldObjects,this.parent=ln.parent,rn&&(this.container=this._createContainer(on)),mn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ln,contentsObj:rn,richText:on}){return!!(ln!=null&&ln.str||rn!=null&&rn.str||on!=null&&on.str)}get hasPopupData(){return Ft._hasPopupData(this.data)}_createContainer(ln){const{data:rn,parent:{page:on,viewport:mn}}=this,gn=document.createElement("section");gn.setAttribute("data-annotation-id",rn.id),this instanceof et||(gn.tabIndex=s),gn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&gn.setAttribute("aria-haspopup","dialog"),rn.noRotate&&gn.classList.add("norotate");const{pageWidth:dn,pageHeight:Sn,pageX:bn,pageY:yn}=mn.rawDims;if(!rn.rect||this instanceof tt){const{rotation:$n}=rn;return!rn.hasOwnCanvas&&$n!==0&&this.setRotation($n,gn),gn}const{width:pn,height:Dn}=e(rn.rect),Tn=g.Util.normalizeRect([rn.rect[0],on.view[3]-rn.rect[1]+on.view[1],rn.rect[2],on.view[3]-rn.rect[3]+on.view[1]]);if(!ln&&rn.borderStyle.width>0){gn.style.borderWidth=`${rn.borderStyle.width}px`;const $n=rn.borderStyle.horizontalCornerRadius,Xn=rn.borderStyle.verticalCornerRadius;if($n>0||Xn>0){const zn=`calc(${$n}px * var(--scale-factor)) / calc(${Xn}px * var(--scale-factor))`;gn.style.borderRadius=zn}else if(this instanceof at){const zn=`calc(${pn}px * var(--scale-factor)) / calc(${Dn}px * var(--scale-factor))`;gn.style.borderRadius=zn}switch(rn.borderStyle.style){case g.AnnotationBorderStyleType.SOLID:gn.style.borderStyle="solid";break;case g.AnnotationBorderStyleType.DASHED:gn.style.borderStyle="dashed";break;case g.AnnotationBorderStyleType.BEVELED:(0,g.warn)("Unimplemented border style: beveled");break;case g.AnnotationBorderStyleType.INSET:(0,g.warn)("Unimplemented border style: inset");break;case g.AnnotationBorderStyleType.UNDERLINE:gn.style.borderBottomStyle="solid";break}const Un=rn.borderColor||null;Un?(On(this,gt,!0),gn.style.borderColor=g.Util.makeHexColor(Un[0]|0,Un[1]|0,Un[2]|0)):gn.style.borderWidth=0}gn.style.left=`${100*(Tn[0]-bn)/dn}%`,gn.style.top=`${100*(Tn[1]-yn)/Sn}%`;const{rotation:_n}=rn;return rn.hasOwnCanvas||_n===0?(gn.style.width=`${100*pn/dn}%`,gn.style.height=`${100*Dn/Sn}%`):this.setRotation(_n,gn),gn}setRotation(ln,rn=this.container){if(!this.data.rect)return;const{pageWidth:on,pageHeight:mn}=this.parent.viewport.rawDims,{width:gn,height:dn}=e(this.data.rect);let Sn,bn;ln%180===0?(Sn=100*gn/on,bn=100*dn/mn):(Sn=100*dn/on,bn=100*gn/mn),rn.style.width=`${Sn}%`,rn.style.height=`${bn}%`,rn.setAttribute("data-main-rotation",(360-ln)%360)}get _commonActions(){const ln=(rn,on,mn)=>{const gn=mn.detail[rn],dn=gn[0],Sn=gn.slice(1);mn.target.style[on]=Ut.ColorConverters[`${dn}_HTML`](Sn),this.annotationStorage.setValue(this.data.id,{[on]:Ut.ColorConverters[`${dn}_rgb`](Sn)})};return(0,g.shadow)(this,"_commonActions",{display:rn=>{const{display:on}=rn.detail,mn=on%2===1;this.container.style.visibility=mn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:mn,noPrint:on===1||on===2})},print:rn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!rn.detail.print})},hidden:rn=>{const{hidden:on}=rn.detail;this.container.style.visibility=on?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:on,noView:on})},focus:rn=>{setTimeout(()=>rn.target.focus({preventScroll:!1}),0)},userName:rn=>{rn.target.title=rn.detail.userName},readonly:rn=>{rn.target.disabled=rn.detail.readonly},required:rn=>{this._setRequired(rn.target,rn.detail.required)},bgColor:rn=>{ln("bgColor","backgroundColor",rn)},fillColor:rn=>{ln("fillColor","backgroundColor",rn)},fgColor:rn=>{ln("fgColor","color",rn)},textColor:rn=>{ln("textColor","color",rn)},borderColor:rn=>{ln("borderColor","borderColor",rn)},strokeColor:rn=>{ln("strokeColor","borderColor",rn)},rotation:rn=>{const on=rn.detail.rotation;this.setRotation(on),this.annotationStorage.setValue(this.data.id,{rotation:on})}})}_dispatchEventFromSandbox(ln,rn){const on=this._commonActions;for(const mn of Object.keys(rn.detail)){const gn=ln[mn]||on[mn];gn==null||gn(rn)}}_setDefaultPropertiesFromJS(ln){if(!this.enableScripting)return;const rn=this.annotationStorage.getRawValue(this.data.id);if(!rn)return;const on=this._commonActions;for(const[mn,gn]of Object.entries(rn)){const dn=on[mn];if(dn){const Sn={detail:{[mn]:gn},target:ln};dn(Sn),delete rn[mn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ln}=this.data;if(!ln)return;const[rn,on,mn,gn]=this.data.rect;if(ln.length===1){const[,{x:Xn,y:Un},{x:zn,y:Wn}]=ln[0];if(mn===Xn&&gn===Un&&rn===zn&&on===Wn)return}const{style:dn}=this.container;let Sn;if(Kt(this,gt)){const{borderColor:Xn,borderWidth:Un}=dn;dn.borderWidth=0,Sn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xn}" stroke-width="${Un}">`],this.container.classList.add("hasBorder")}const bn=mn-rn,yn=gn-on,{svgFactory:pn}=this,Dn=pn.createElement("svg");Dn.classList.add("quadrilateralsContainer"),Dn.setAttribute("width",0),Dn.setAttribute("height",0);const Tn=pn.createElement("defs");Dn.append(Tn);const _n=pn.createElement("clipPath"),$n=`clippath_${this.data.id}`;_n.setAttribute("id",$n),_n.setAttribute("clipPathUnits","objectBoundingBox"),Tn.append(_n);for(const[,{x:Xn,y:Un},{x:zn,y:Wn}]of ln){const Kn=pn.createElement("rect"),rr=(zn-rn)/bn,Vn=(gn-Un)/yn,Hn=(Xn-zn)/bn,qn=(Un-Wn)/yn;Kn.setAttribute("x",rr),Kn.setAttribute("y",Vn),Kn.setAttribute("width",Hn),Kn.setAttribute("height",qn),_n.append(Kn),Sn==null||Sn.push(`<rect vector-effect="non-scaling-stroke" x="${rr}" y="${Vn}" width="${Hn}" height="${qn}"/>`)}Kt(this,gt)&&(Sn.push("</g></svg>')"),dn.backgroundImage=Sn.join("")),this.container.append(Dn),this.container.style.clipPath=`url(#${$n})`}_createPopup(){const{container:ln,data:rn}=this;ln.setAttribute("aria-haspopup","dialog");const on=new tt({data:{color:rn.color,titleObj:rn.titleObj,modificationDate:rn.modificationDate,contentsObj:rn.contentsObj,richText:rn.richText,parentRect:rn.rect,borderStyle:0,id:`popup_${rn.id}`,rotation:rn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(on.render())}render(){(0,g.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ln,rn=null){const on=[];if(this._fieldObjects){const mn=this._fieldObjects[ln];if(mn)for(const{page:gn,id:dn,exportValues:Sn}of mn){if(gn===-1||dn===rn)continue;const bn=typeof Sn=="string"?Sn:null,yn=document.querySelector(`[data-element-id="${dn}"]`);if(yn&&!St.has(yn)){(0,g.warn)(`_getElementsByName - element not allowed: ${dn}`);continue}on.push({id:dn,exportValue:bn,domElement:yn})}return on}for(const mn of document.getElementsByName(ln)){const{exportValue:gn}=mn,dn=mn.getAttribute("data-element-id");dn!==rn&&St.has(mn)&&on.push({id:dn,exportValue:gn,domElement:mn})}return on}show(){var ln;this.container&&(this.container.hidden=!1),(ln=this.popup)==null||ln.maybeShow()}hide(){var ln;this.container&&(this.container.hidden=!0),(ln=this.popup)==null||ln.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ln=this.getElementsToTriggerPopup();if(Array.isArray(ln))for(const rn of ln)rn.classList.add("highlightArea");else ln.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:ln,data:{id:rn}}=this;this.container.addEventListener("dblclick",()=>{var on;(on=this.linkService.eventBus)==null||on.dispatch("switchannotationeditormode",{source:this,mode:ln,editId:rn})})}};gt=new WeakMap;let d=Ft;class ut extends d{constructor(rn,on=null){super(rn,{isRenderable:!0,ignoreBorder:!!(on!=null&&on.ignoreBorder),createQuadrilaterals:!0});Fn(this,yt);this.isTooltipOnly=rn.data.isTooltipOnly}render(){const{data:rn,linkService:on}=this,mn=document.createElement("a");mn.setAttribute("data-element-id",rn.id);let gn=!1;return rn.url?(on.addLinkAttributes(mn,rn.url,rn.newWindow),gn=!0):rn.action?(this._bindNamedAction(mn,rn.action),gn=!0):rn.attachment?(this._bindAttachment(mn,rn.attachment),gn=!0):rn.setOCGState?(xn(this,yt,Ko).call(this,mn,rn.setOCGState),gn=!0):rn.dest?(this._bindLink(mn,rn.dest),gn=!0):(rn.actions&&(rn.actions.Action||rn.actions["Mouse Up"]||rn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(mn,rn),gn=!0),rn.resetForm?(this._bindResetFormAction(mn,rn.resetForm),gn=!0):this.isTooltipOnly&&!gn&&(this._bindLink(mn,""),gn=!0)),this.container.classList.add("linkAnnotation"),gn&&this.container.append(mn),this.container}_bindLink(rn,on){rn.href=this.linkService.getDestinationHash(on),rn.onclick=()=>(on&&this.linkService.goToDestination(on),!1),(on||on==="")&&xn(this,yt,Tr).call(this)}_bindNamedAction(rn,on){rn.href=this.linkService.getAnchorUrl(""),rn.onclick=()=>(this.linkService.executeNamedAction(on),!1),xn(this,yt,Tr).call(this)}_bindAttachment(rn,on){rn.href=this.linkService.getAnchorUrl(""),rn.onclick=()=>{var mn;return(mn=this.downloadManager)==null||mn.openOrDownloadData(this.container,on.content,on.filename),!1},xn(this,yt,Tr).call(this)}_bindJSAction(rn,on){rn.href=this.linkService.getAnchorUrl("");const mn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const gn of Object.keys(on.actions)){const dn=mn.get(gn);dn&&(rn[dn]=()=>{var Sn;return(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:on.id,name:gn}}),!1})}rn.onclick||(rn.onclick=()=>!1),xn(this,yt,Tr).call(this)}_bindResetFormAction(rn,on){const mn=rn.onclick;if(mn||(rn.href=this.linkService.getAnchorUrl("")),xn(this,yt,Tr).call(this),!this._fieldObjects){(0,g.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),mn||(rn.onclick=()=>!1);return}rn.onclick=()=>{var Dn;mn==null||mn();const{fields:gn,refs:dn,include:Sn}=on,bn=[];if(gn.length!==0||dn.length!==0){const Tn=new Set(dn);for(const _n of gn){const $n=this._fieldObjects[_n]||[];for(const{id:Xn}of $n)Tn.add(Xn)}for(const _n of Object.values(this._fieldObjects))for(const $n of _n)Tn.has($n.id)===Sn&&bn.push($n)}else for(const Tn of Object.values(this._fieldObjects))bn.push(...Tn);const yn=this.annotationStorage,pn=[];for(const Tn of bn){const{id:_n}=Tn;switch(pn.push(_n),Tn.type){case"text":{const Xn=Tn.defaultValue||"";yn.setValue(_n,{value:Xn});break}case"checkbox":case"radiobutton":{const Xn=Tn.defaultValue===Tn.exportValues;yn.setValue(_n,{value:Xn});break}case"combobox":case"listbox":{const Xn=Tn.defaultValue||"";yn.setValue(_n,{value:Xn});break}default:continue}const $n=document.querySelector(`[data-element-id="${_n}"]`);if($n){if(!St.has($n)){(0,g.warn)(`_bindResetFormAction - element not allowed: ${_n}`);continue}}else continue;$n.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:pn,name:"ResetForm"}})),!1}}}yt=new WeakSet,Tr=function(){this.container.setAttribute("data-internal-link","")},Ko=function(rn,on){rn.href=this.linkService.getAnchorUrl(""),rn.onclick=()=>(this.linkService.executeSetOCGState(on),!1),xn(this,yt,Tr).call(this)};class dt extends d{constructor(ln){super(ln,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ln=document.createElement("img");return ln.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ln.alt="[{{type}} Annotation]",ln.dataset.l10nId="text_annotation_type",ln.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ln),this.container}}class et extends d{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ln){var rn;this.data.hasOwnCanvas&&(((rn=ln.previousSibling)==null?void 0:rn.nodeName)==="CANVAS"&&(ln.previousSibling.hidden=!0),ln.hidden=!1)}_getKeyModifier(ln){const{isWin:rn,isMac:on}=g.FeatureTest.platform;return rn&&ln.ctrlKey||on&&ln.metaKey}_setEventListener(ln,rn,on,mn,gn){on.includes("mouse")?ln.addEventListener(on,dn=>{var Sn;(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mn,value:gn(dn),shift:dn.shiftKey,modifier:this._getKeyModifier(dn)}})}):ln.addEventListener(on,dn=>{var Sn;if(on==="blur"){if(!rn.focused||!dn.relatedTarget)return;rn.focused=!1}else if(on==="focus"){if(rn.focused)return;rn.focused=!0}gn&&((Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mn,value:gn(dn)}}))})}_setEventListeners(ln,rn,on,mn){var gn,dn,Sn;for(const[bn,yn]of on)(yn==="Action"||(gn=this.data.actions)!=null&&gn[yn])&&((yn==="Focus"||yn==="Blur")&&(rn||(rn={focused:!1})),this._setEventListener(ln,rn,bn,yn,mn),yn==="Focus"&&!((dn=this.data.actions)!=null&&dn.Blur)?this._setEventListener(ln,rn,"blur","Blur",null):yn==="Blur"&&!((Sn=this.data.actions)!=null&&Sn.Focus)&&this._setEventListener(ln,rn,"focus","Focus",null))}_setBackgroundColor(ln){const rn=this.data.backgroundColor||null;ln.style.backgroundColor=rn===null?"transparent":g.Util.makeHexColor(rn[0],rn[1],rn[2])}_setTextStyle(ln){const rn=["left","center","right"],{fontColor:on}=this.data.defaultAppearanceData,mn=this.data.defaultAppearanceData.fontSize||bt,gn=ln.style;let dn;const Sn=2,bn=yn=>Math.round(10*yn)/10;if(this.data.multiLine){const yn=Math.abs(this.data.rect[3]-this.data.rect[1]-Sn),pn=Math.round(yn/(g.LINE_FACTOR*mn))||1,Dn=yn/pn;dn=Math.min(mn,bn(Dn/g.LINE_FACTOR))}else{const yn=Math.abs(this.data.rect[3]-this.data.rect[1]-Sn);dn=Math.min(mn,bn(yn/g.LINE_FACTOR))}gn.fontSize=`calc(${dn}px * var(--scale-factor))`,gn.color=g.Util.makeHexColor(on[0],on[1],on[2]),this.data.textAlignment!==null&&(gn.textAlign=rn[this.data.textAlignment])}_setRequired(ln,rn){rn?ln.setAttribute("required",!0):ln.removeAttribute("required"),ln.setAttribute("aria-required",rn)}}class _ extends et{constructor(ln){const rn=ln.renderForms||!ln.data.hasAppearance&&!!ln.data.fieldValue;super(ln,{isRenderable:rn})}setPropertyOnSiblings(ln,rn,on,mn){const gn=this.annotationStorage;for(const dn of this._getElementsByName(ln.name,ln.id))dn.domElement&&(dn.domElement[rn]=on),gn.setValue(dn.id,{[mn]:on})}render(){var mn,gn;const ln=this.annotationStorage,rn=this.data.id;this.container.classList.add("textWidgetAnnotation");let on=null;if(this.renderForms){const dn=ln.getValue(rn,{value:this.data.fieldValue});let Sn=dn.value||"";const bn=ln.getValue(rn,{charLimit:this.data.maxLen}).charLimit;bn&&Sn.length>bn&&(Sn=Sn.slice(0,bn));let yn=dn.formattedValue||((mn=this.data.textContent)==null?void 0:mn.join(`
`))||null;yn&&this.data.comb&&(yn=yn.replaceAll(/\s+/g,""));const pn={userValue:Sn,formattedValue:yn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(on=document.createElement("textarea"),on.textContent=yn??Sn,this.data.doNotScroll&&(on.style.overflowY="hidden")):(on=document.createElement("input"),on.type="text",on.setAttribute("value",yn??Sn),this.data.doNotScroll&&(on.style.overflowX="hidden")),this.data.hasOwnCanvas&&(on.hidden=!0),St.add(on),on.setAttribute("data-element-id",rn),on.disabled=this.data.readOnly,on.name=this.data.fieldName,on.tabIndex=s,this._setRequired(on,this.data.required),bn&&(on.maxLength=bn),on.addEventListener("input",Tn=>{ln.setValue(rn,{value:Tn.target.value}),this.setPropertyOnSiblings(on,"value",Tn.target.value,"value"),pn.formattedValue=null}),on.addEventListener("resetform",Tn=>{const _n=this.data.defaultFieldValue??"";on.value=pn.userValue=_n,pn.formattedValue=null});let Dn=Tn=>{const{formattedValue:_n}=pn;_n!=null&&(Tn.target.value=_n),Tn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){on.addEventListener("focus",_n=>{if(pn.focused)return;const{target:$n}=_n;pn.userValue&&($n.value=pn.userValue),pn.lastCommittedValue=$n.value,pn.commitKey=1,pn.focused=!0}),on.addEventListener("updatefromsandbox",_n=>{this.showElementAndHideCanvas(_n.target);const $n={value(Xn){pn.userValue=Xn.detail.value??"",ln.setValue(rn,{value:pn.userValue.toString()}),Xn.target.value=pn.userValue},formattedValue(Xn){const{formattedValue:Un}=Xn.detail;pn.formattedValue=Un,Un!=null&&Xn.target!==document.activeElement&&(Xn.target.value=Un),ln.setValue(rn,{formattedValue:Un})},selRange(Xn){Xn.target.setSelectionRange(...Xn.detail.selRange)},charLimit:Xn=>{var Kn;const{charLimit:Un}=Xn.detail,{target:zn}=Xn;if(Un===0){zn.removeAttribute("maxLength");return}zn.setAttribute("maxLength",Un);let Wn=pn.userValue;!Wn||Wn.length<=Un||(Wn=Wn.slice(0,Un),zn.value=pn.userValue=Wn,ln.setValue(rn,{value:Wn}),(Kn=this.linkService.eventBus)==null||Kn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rn,name:"Keystroke",value:Wn,willCommit:!0,commitKey:1,selStart:zn.selectionStart,selEnd:zn.selectionEnd}}))}};this._dispatchEventFromSandbox($n,_n)}),on.addEventListener("keydown",_n=>{var Un;pn.commitKey=1;let $n=-1;if(_n.key==="Escape"?$n=0:_n.key==="Enter"&&!this.data.multiLine?$n=2:_n.key==="Tab"&&(pn.commitKey=3),$n===-1)return;const{value:Xn}=_n.target;pn.lastCommittedValue!==Xn&&(pn.lastCommittedValue=Xn,pn.userValue=Xn,(Un=this.linkService.eventBus)==null||Un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rn,name:"Keystroke",value:Xn,willCommit:!0,commitKey:$n,selStart:_n.target.selectionStart,selEnd:_n.target.selectionEnd}}))});const Tn=Dn;Dn=null,on.addEventListener("blur",_n=>{var Xn;if(!pn.focused||!_n.relatedTarget)return;pn.focused=!1;const{value:$n}=_n.target;pn.userValue=$n,pn.lastCommittedValue!==$n&&((Xn=this.linkService.eventBus)==null||Xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rn,name:"Keystroke",value:$n,willCommit:!0,commitKey:pn.commitKey,selStart:_n.target.selectionStart,selEnd:_n.target.selectionEnd}})),Tn(_n)}),(gn=this.data.actions)!=null&&gn.Keystroke&&on.addEventListener("beforeinput",_n=>{var Vn;pn.lastCommittedValue=null;const{data:$n,target:Xn}=_n,{value:Un,selectionStart:zn,selectionEnd:Wn}=Xn;let Kn=zn,rr=Wn;switch(_n.inputType){case"deleteWordBackward":{const Hn=Un.substring(0,zn).match(/\w*[^\w]*$/);Hn&&(Kn-=Hn[0].length);break}case"deleteWordForward":{const Hn=Un.substring(zn).match(/^[^\w]*\w*/);Hn&&(rr+=Hn[0].length);break}case"deleteContentBackward":zn===Wn&&(Kn-=1);break;case"deleteContentForward":zn===Wn&&(rr+=1);break}_n.preventDefault(),(Vn=this.linkService.eventBus)==null||Vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rn,name:"Keystroke",value:Un,change:$n||"",willCommit:!1,selStart:Kn,selEnd:rr}})}),this._setEventListeners(on,pn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_n=>_n.target.value)}if(Dn&&on.addEventListener("blur",Dn),this.data.comb){const _n=(this.data.rect[2]-this.data.rect[0])/bn;on.classList.add("comb"),on.style.letterSpacing=`calc(${_n}px * var(--scale-factor) - 1ch)`}}else on=document.createElement("div"),on.textContent=this.data.fieldValue,on.style.verticalAlign="middle",on.style.display="table-cell";return this._setTextStyle(on),this._setBackgroundColor(on),this._setDefaultPropertiesFromJS(on),this.container.append(on),this.container}}class c extends et{constructor(ln){super(ln,{isRenderable:!!ln.data.hasOwnCanvas})}}class lt extends et{constructor(ln){super(ln,{isRenderable:ln.renderForms})}render(){const ln=this.annotationStorage,rn=this.data,on=rn.id;let mn=ln.getValue(on,{value:rn.exportValue===rn.fieldValue}).value;typeof mn=="string"&&(mn=mn!=="Off",ln.setValue(on,{value:mn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const gn=document.createElement("input");return St.add(gn),gn.setAttribute("data-element-id",on),gn.disabled=rn.readOnly,this._setRequired(gn,this.data.required),gn.type="checkbox",gn.name=rn.fieldName,mn&&gn.setAttribute("checked",!0),gn.setAttribute("exportValue",rn.exportValue),gn.tabIndex=s,gn.addEventListener("change",dn=>{const{name:Sn,checked:bn}=dn.target;for(const yn of this._getElementsByName(Sn,on)){const pn=bn&&yn.exportValue===rn.exportValue;yn.domElement&&(yn.domElement.checked=pn),ln.setValue(yn.id,{value:pn})}ln.setValue(on,{value:bn})}),gn.addEventListener("resetform",dn=>{const Sn=rn.defaultFieldValue||"Off";dn.target.checked=Sn===rn.exportValue}),this.enableScripting&&this.hasJSActions&&(gn.addEventListener("updatefromsandbox",dn=>{const Sn={value(bn){bn.target.checked=bn.detail.value!=="Off",ln.setValue(on,{value:bn.target.checked})}};this._dispatchEventFromSandbox(Sn,dn)}),this._setEventListeners(gn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],dn=>dn.target.checked)),this._setBackgroundColor(gn),this._setDefaultPropertiesFromJS(gn),this.container.append(gn),this.container}}class at extends et{constructor(ln){super(ln,{isRenderable:ln.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ln=this.annotationStorage,rn=this.data,on=rn.id;let mn=ln.getValue(on,{value:rn.fieldValue===rn.buttonValue}).value;typeof mn=="string"&&(mn=mn!==rn.buttonValue,ln.setValue(on,{value:mn}));const gn=document.createElement("input");if(St.add(gn),gn.setAttribute("data-element-id",on),gn.disabled=rn.readOnly,this._setRequired(gn,this.data.required),gn.type="radio",gn.name=rn.fieldName,mn&&gn.setAttribute("checked",!0),gn.tabIndex=s,gn.addEventListener("change",dn=>{const{name:Sn,checked:bn}=dn.target;for(const yn of this._getElementsByName(Sn,on))ln.setValue(yn.id,{value:!1});ln.setValue(on,{value:bn})}),gn.addEventListener("resetform",dn=>{const Sn=rn.defaultFieldValue;dn.target.checked=Sn!=null&&Sn===rn.buttonValue}),this.enableScripting&&this.hasJSActions){const dn=rn.buttonValue;gn.addEventListener("updatefromsandbox",Sn=>{const bn={value:yn=>{const pn=dn===yn.detail.value;for(const Dn of this._getElementsByName(yn.target.name)){const Tn=pn&&Dn.id===on;Dn.domElement&&(Dn.domElement.checked=Tn),ln.setValue(Dn.id,{value:Tn})}}};this._dispatchEventFromSandbox(bn,Sn)}),this._setEventListeners(gn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sn=>Sn.target.checked)}return this._setBackgroundColor(gn),this._setDefaultPropertiesFromJS(gn),this.container.append(gn),this.container}}class ct extends ut{constructor(ln){super(ln,{ignoreBorder:ln.data.hasAppearance})}render(){const ln=super.render();ln.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ln.title=this.data.alternativeText);const rn=ln.lastChild;return this.enableScripting&&this.hasJSActions&&rn&&(this._setDefaultPropertiesFromJS(rn),rn.addEventListener("updatefromsandbox",on=>{this._dispatchEventFromSandbox({},on)})),ln}}class it extends et{constructor(ln){super(ln,{isRenderable:ln.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ln=this.annotationStorage,rn=this.data.id,on=ln.getValue(rn,{value:this.data.fieldValue}),mn=document.createElement("select");St.add(mn),mn.setAttribute("data-element-id",rn),mn.disabled=this.data.readOnly,this._setRequired(mn,this.data.required),mn.name=this.data.fieldName,mn.tabIndex=s;let gn=this.data.combo&&this.data.options.length>0;this.data.combo||(mn.size=this.data.options.length,this.data.multiSelect&&(mn.multiple=!0)),mn.addEventListener("resetform",pn=>{const Dn=this.data.defaultFieldValue;for(const Tn of mn.options)Tn.selected=Tn.value===Dn});for(const pn of this.data.options){const Dn=document.createElement("option");Dn.textContent=pn.displayValue,Dn.value=pn.exportValue,on.value.includes(pn.exportValue)&&(Dn.setAttribute("selected",!0),gn=!1),mn.append(Dn)}let dn=null;if(gn){const pn=document.createElement("option");pn.value=" ",pn.setAttribute("hidden",!0),pn.setAttribute("selected",!0),mn.prepend(pn),dn=()=>{pn.remove(),mn.removeEventListener("input",dn),dn=null},mn.addEventListener("input",dn)}const Sn=pn=>{const Dn=pn?"value":"textContent",{options:Tn,multiple:_n}=mn;return _n?Array.prototype.filter.call(Tn,$n=>$n.selected).map($n=>$n[Dn]):Tn.selectedIndex===-1?null:Tn[Tn.selectedIndex][Dn]};let bn=Sn(!1);const yn=pn=>{const Dn=pn.target.options;return Array.prototype.map.call(Dn,Tn=>({displayValue:Tn.textContent,exportValue:Tn.value}))};return this.enableScripting&&this.hasJSActions?(mn.addEventListener("updatefromsandbox",pn=>{const Dn={value(Tn){dn==null||dn();const _n=Tn.detail.value,$n=new Set(Array.isArray(_n)?_n:[_n]);for(const Xn of mn.options)Xn.selected=$n.has(Xn.value);ln.setValue(rn,{value:Sn(!0)}),bn=Sn(!1)},multipleSelection(Tn){mn.multiple=!0},remove(Tn){const _n=mn.options,$n=Tn.detail.remove;_n[$n].selected=!1,mn.remove($n),_n.length>0&&Array.prototype.findIndex.call(_n,Un=>Un.selected)===-1&&(_n[0].selected=!0),ln.setValue(rn,{value:Sn(!0),items:yn(Tn)}),bn=Sn(!1)},clear(Tn){for(;mn.length!==0;)mn.remove(0);ln.setValue(rn,{value:null,items:[]}),bn=Sn(!1)},insert(Tn){const{index:_n,displayValue:$n,exportValue:Xn}=Tn.detail.insert,Un=mn.children[_n],zn=document.createElement("option");zn.textContent=$n,zn.value=Xn,Un?Un.before(zn):mn.append(zn),ln.setValue(rn,{value:Sn(!0),items:yn(Tn)}),bn=Sn(!1)},items(Tn){const{items:_n}=Tn.detail;for(;mn.length!==0;)mn.remove(0);for(const $n of _n){const{displayValue:Xn,exportValue:Un}=$n,zn=document.createElement("option");zn.textContent=Xn,zn.value=Un,mn.append(zn)}mn.options.length>0&&(mn.options[0].selected=!0),ln.setValue(rn,{value:Sn(!0),items:yn(Tn)}),bn=Sn(!1)},indices(Tn){const _n=new Set(Tn.detail.indices);for(const $n of Tn.target.options)$n.selected=_n.has($n.index);ln.setValue(rn,{value:Sn(!0)}),bn=Sn(!1)},editable(Tn){Tn.target.disabled=!Tn.detail.editable}};this._dispatchEventFromSandbox(Dn,pn)}),mn.addEventListener("input",pn=>{var Tn;const Dn=Sn(!0);ln.setValue(rn,{value:Dn}),pn.preventDefault(),(Tn=this.linkService.eventBus)==null||Tn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rn,name:"Keystroke",value:bn,changeEx:Dn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(mn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],pn=>pn.target.value)):mn.addEventListener("input",function(pn){ln.setValue(rn,{value:Sn(!0)})}),this.data.combo&&this._setTextStyle(mn),this._setBackgroundColor(mn),this._setDefaultPropertiesFromJS(mn),this.container.append(mn),this.container}}class tt extends d{constructor(ln){const{data:rn,elements:on}=ln;super(ln,{isRenderable:d._hasPopupData(rn)}),this.elements=on}render(){this.container.classList.add("popupAnnotation");const ln=new ot({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),rn=[];for(const on of this.elements)on.popup=ln,rn.push(on.data.id),on.addHighlightArea();return this.container.setAttribute("aria-controls",rn.map(on=>`${g.AnnotationPrefix}${on}`).join(",")),this.container}}class ot{constructor({container:ln,color:rn,elements:on,titleObj:mn,modificationDate:gn,contentsObj:dn,richText:Sn,parent:bn,rect:yn,parentRect:pn,open:Dn}){Fn(this,Zt);Fn(this,jt,null);Fn(this,Ht,xn(this,Zt,Yo).bind(this));Fn(this,Vt,xn(this,Zt,fo).bind(this));Fn(this,Qt,xn(this,Zt,ho).bind(this));Fn(this,_e,xn(this,Zt,is).bind(this));Fn(this,Xt,null);Fn(this,Dt,null);Fn(this,It,null);Fn(this,j,null);Fn(this,At,null);Fn(this,Mt,null);Fn(this,Rt,!1);Fn(this,$t,null);Fn(this,zt,null);Fn(this,qt,null);Fn(this,Wt,null);Fn(this,Gt,!1);var _n;On(this,Dt,ln),On(this,Wt,mn),On(this,It,dn),On(this,qt,Sn),On(this,At,bn),On(this,Xt,rn),On(this,zt,yn),On(this,Mt,pn),On(this,j,on);const Tn=xt.PDFDateString.toDateObject(gn);Tn&&On(this,jt,bn.l10n.get("annotation_date_string",{date:Tn.toLocaleDateString(),time:Tn.toLocaleTimeString()})),this.trigger=on.flatMap($n=>$n.getElementsToTriggerPopup());for(const $n of this.trigger)$n.addEventListener("click",Kt(this,_e)),$n.addEventListener("mouseenter",Kt(this,Qt)),$n.addEventListener("mouseleave",Kt(this,Vt)),$n.classList.add("popupTriggerArea");for(const $n of on)(_n=$n.container)==null||_n.addEventListener("keydown",Kt(this,Ht));Kt(this,Dt).hidden=!0,Dn&&xn(this,Zt,is).call(this)}render(){if(Kt(this,$t))return;const{page:{view:ln},viewport:{rawDims:{pageWidth:rn,pageHeight:on,pageX:mn,pageY:gn}}}=Kt(this,At),dn=On(this,$t,document.createElement("div"));if(dn.className="popup",Kt(this,Xt)){const Kn=dn.style.outlineColor=g.Util.makeHexColor(...Kt(this,Xt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?dn.style.backgroundColor=`color-mix(in srgb, ${Kn} 30%, white)`:dn.style.backgroundColor=g.Util.makeHexColor(...Kt(this,Xt).map(Vn=>Math.floor(.7*(255-Vn)+Vn)))}const Sn=document.createElement("span");Sn.className="header";const bn=document.createElement("h1");if(Sn.append(bn),{dir:bn.dir,str:bn.textContent}=Kt(this,Wt),dn.append(Sn),Kt(this,jt)){const Kn=document.createElement("span");Kn.classList.add("popupDate"),Kt(this,jt).then(rr=>{Kn.textContent=rr}),Sn.append(Kn)}const yn=Kt(this,It),pn=Kt(this,qt);if(pn!=null&&pn.str&&(!(yn!=null&&yn.str)||yn.str===pn.str))_t.XfaLayer.render({xfaHtml:pn.html,intent:"richText",div:dn}),dn.lastChild.classList.add("richText","popupContent");else{const Kn=this._formatContents(yn);dn.append(Kn)}let Dn=!!Kt(this,Mt),Tn=Dn?Kt(this,Mt):Kt(this,zt);for(const Kn of Kt(this,j))if(!Tn||g.Util.intersect(Kn.data.rect,Tn)!==null){Tn=Kn.data.rect,Dn=!0;break}const _n=g.Util.normalizeRect([Tn[0],ln[3]-Tn[1]+ln[1],Tn[2],ln[3]-Tn[3]+ln[1]]),Xn=Dn?Tn[2]-Tn[0]+5:0,Un=_n[0]+Xn,zn=_n[1],{style:Wn}=Kt(this,Dt);Wn.left=`${100*(Un-mn)/rn}%`,Wn.top=`${100*(zn-gn)/on}%`,Kt(this,Dt).append(dn)}_formatContents({str:ln,dir:rn}){const on=document.createElement("p");on.classList.add("popupContent"),on.dir=rn;const mn=ln.split(/(?:\r\n?|\n)/);for(let gn=0,dn=mn.length;gn<dn;++gn){const Sn=mn[gn];on.append(document.createTextNode(Sn)),gn<dn-1&&on.append(document.createElement("br"))}return on}forceHide(){On(this,Gt,this.isVisible),Kt(this,Gt)&&(Kt(this,Dt).hidden=!0)}maybeShow(){Kt(this,Gt)&&(On(this,Gt,!1),Kt(this,Dt).hidden=!1)}get isVisible(){return Kt(this,Dt).hidden===!1}}jt=new WeakMap,Ht=new WeakMap,Vt=new WeakMap,Qt=new WeakMap,_e=new WeakMap,Xt=new WeakMap,Dt=new WeakMap,It=new WeakMap,j=new WeakMap,At=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,$t=new WeakMap,zt=new WeakMap,qt=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Zt=new WeakSet,Yo=function(ln){ln.altKey||ln.shiftKey||ln.ctrlKey||ln.metaKey||(ln.key==="Enter"||ln.key==="Escape"&&Kt(this,Rt))&&xn(this,Zt,is).call(this)},is=function(){On(this,Rt,!Kt(this,Rt)),Kt(this,Rt)?(xn(this,Zt,ho).call(this),Kt(this,Dt).addEventListener("click",Kt(this,_e)),Kt(this,Dt).addEventListener("keydown",Kt(this,Ht))):(xn(this,Zt,fo).call(this),Kt(this,Dt).removeEventListener("click",Kt(this,_e)),Kt(this,Dt).removeEventListener("keydown",Kt(this,Ht)))},ho=function(){Kt(this,$t)||this.render(),this.isVisible?Kt(this,Rt)&&Kt(this,Dt).classList.add("focused"):(Kt(this,Dt).hidden=!1,Kt(this,Dt).style.zIndex=parseInt(Kt(this,Dt).style.zIndex)+1e3)},fo=function(){Kt(this,Dt).classList.remove("focused"),!(Kt(this,Rt)||!this.isVisible)&&(Kt(this,Dt).hidden=!0,Kt(this,Dt).style.zIndex=parseInt(Kt(this,Dt).style.zIndex)-1e3)};class mt extends d{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ln.data.textContent,this.textPosition=ln.data.textPosition,this.annotationEditorType=g.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ln=document.createElement("div");ln.classList.add("annotationTextContent"),ln.setAttribute("role","comment");for(const rn of this.textContent){const on=document.createElement("span");on.textContent=rn,ln.append(on)}this.container.append(ln)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}o.FreeTextAnnotationElement=mt;class Ct extends d{constructor(rn){super(rn,{isRenderable:!0,ignoreBorder:!0});Fn(this,an,null)}render(){this.container.classList.add("lineAnnotation");const rn=this.data,{width:on,height:mn}=e(rn.rect),gn=this.svgFactory.create(on,mn,!0),dn=On(this,an,this.svgFactory.createElement("svg:line"));return dn.setAttribute("x1",rn.rect[2]-rn.lineCoordinates[0]),dn.setAttribute("y1",rn.rect[3]-rn.lineCoordinates[1]),dn.setAttribute("x2",rn.rect[2]-rn.lineCoordinates[2]),dn.setAttribute("y2",rn.rect[3]-rn.lineCoordinates[3]),dn.setAttribute("stroke-width",rn.borderStyle.width||1),dn.setAttribute("stroke","transparent"),dn.setAttribute("fill","transparent"),gn.append(dn),this.container.append(gn),!rn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Kt(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap;class Nt extends d{constructor(rn){super(rn,{isRenderable:!0,ignoreBorder:!0});Fn(this,vn,null)}render(){this.container.classList.add("squareAnnotation");const rn=this.data,{width:on,height:mn}=e(rn.rect),gn=this.svgFactory.create(on,mn,!0),dn=rn.borderStyle.width,Sn=On(this,vn,this.svgFactory.createElement("svg:rect"));return Sn.setAttribute("x",dn/2),Sn.setAttribute("y",dn/2),Sn.setAttribute("width",on-dn),Sn.setAttribute("height",mn-dn),Sn.setAttribute("stroke-width",dn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),gn.append(Sn),this.container.append(gn),!rn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Kt(this,vn)}addHighlightArea(){this.container.classList.add("highlightArea")}}vn=new WeakMap;class Pt extends d{constructor(rn){super(rn,{isRenderable:!0,ignoreBorder:!0});Fn(this,An,null)}render(){this.container.classList.add("circleAnnotation");const rn=this.data,{width:on,height:mn}=e(rn.rect),gn=this.svgFactory.create(on,mn,!0),dn=rn.borderStyle.width,Sn=On(this,An,this.svgFactory.createElement("svg:ellipse"));return Sn.setAttribute("cx",on/2),Sn.setAttribute("cy",mn/2),Sn.setAttribute("rx",on/2-dn/2),Sn.setAttribute("ry",mn/2-dn/2),Sn.setAttribute("stroke-width",dn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),gn.append(Sn),this.container.append(gn),!rn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Kt(this,An)}addHighlightArea(){this.container.classList.add("highlightArea")}}An=new WeakMap;class Tt extends d{constructor(rn){super(rn,{isRenderable:!0,ignoreBorder:!0});Fn(this,cn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const rn=this.data,{width:on,height:mn}=e(rn.rect),gn=this.svgFactory.create(on,mn,!0);let dn=[];for(const bn of rn.vertices){const yn=bn.x-rn.rect[0],pn=rn.rect[3]-bn.y;dn.push(yn+","+pn)}dn=dn.join(" ");const Sn=On(this,cn,this.svgFactory.createElement(this.svgElementName));return Sn.setAttribute("points",dn),Sn.setAttribute("stroke-width",rn.borderStyle.width||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),gn.append(Sn),this.container.append(gn),!rn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Kt(this,cn)}addHighlightArea(){this.container.classList.add("highlightArea")}}cn=new WeakMap;class Et extends Tt{constructor(ln){super(ln),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rt extends d{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ft extends d{constructor(rn){super(rn,{isRenderable:!0,ignoreBorder:!0});Fn(this,hn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=g.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const rn=this.data,{width:on,height:mn}=e(rn.rect),gn=this.svgFactory.create(on,mn,!0);for(const dn of rn.inkLists){let Sn=[];for(const yn of dn){const pn=yn.x-rn.rect[0],Dn=rn.rect[3]-yn.y;Sn.push(`${pn},${Dn}`)}Sn=Sn.join(" ");const bn=this.svgFactory.createElement(this.svgElementName);Kt(this,hn).push(bn),bn.setAttribute("points",Sn),bn.setAttribute("stroke-width",rn.borderStyle.width||1),bn.setAttribute("stroke","transparent"),bn.setAttribute("fill","transparent"),!rn.popupRef&&this.hasPopupData&&this._createPopup(),gn.append(bn)}return this.container.append(gn),this.container}getElementsToTriggerPopup(){return Kt(this,hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}hn=new WeakMap,o.InkAnnotationElement=ft;class wt extends d{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class b extends d{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class pt extends d{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ot extends d{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class kt extends d{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}o.StampAnnotationElement=kt;class st extends d{constructor(rn){var gn;super(rn,{isRenderable:!0});Fn(this,Cn);Fn(this,fn,null);const{filename:on,content:mn}=this.data.file;this.filename=(0,xt.getFilenameFromUrl)(on,!0),this.content=mn,(gn=this.linkService.eventBus)==null||gn.dispatch("fileattachmentannotation",{source:this,filename:on,content:mn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:rn,data:on}=this;let mn;on.hasAppearance||on.fillAlpha===0?mn=document.createElement("div"):(mn=document.createElement("img"),mn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(on.name)?"paperclip":"pushpin"}.svg`,on.fillAlpha&&on.fillAlpha<1&&(mn.style=`filter: opacity(${Math.round(on.fillAlpha*100)}%);`)),mn.addEventListener("dblclick",xn(this,Cn,po).bind(this)),On(this,fn,mn);const{isMac:gn}=g.FeatureTest.platform;return rn.addEventListener("keydown",dn=>{dn.key==="Enter"&&(gn?dn.metaKey:dn.ctrlKey)&&xn(this,Cn,po).call(this)}),!on.popupRef&&this.hasPopupData?this._createPopup():mn.classList.add("popupTriggerArea"),rn.append(mn),rn}getElementsToTriggerPopup(){return Kt(this,fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}fn=new WeakMap,Cn=new WeakSet,po=function(){var rn;(rn=this.downloadManager)==null||rn.openOrDownloadData(this.container,this.content,this.filename)};class nt{constructor({div:ln,accessibilityManager:rn,annotationCanvasMap:on,l10n:mn,page:gn,viewport:dn}){Fn(this,Pn);Fn(this,Rn,null);Fn(this,sn,null);Fn(this,En,new Map);this.div=ln,On(this,Rn,rn),On(this,sn,on),this.l10n=mn,this.page=gn,this.viewport=dn,this.zIndex=0,this.l10n||(this.l10n=$.NullL10n)}async render(ln){const{annotations:rn}=ln,on=this.div;(0,xt.setLayerDimensions)(on,this.viewport);const mn=new Map,gn={data:null,layer:on,linkService:ln.linkService,downloadManager:ln.downloadManager,imageResourcesPath:ln.imageResourcesPath||"",renderForms:ln.renderForms!==!1,svgFactory:new xt.DOMSVGFactory,annotationStorage:ln.annotationStorage||new Bt.AnnotationStorage,enableScripting:ln.enableScripting===!0,hasJSActions:ln.hasJSActions,fieldObjects:ln.fieldObjects,parent:this,elements:null};for(const dn of rn){if(dn.noHTML)continue;const Sn=dn.annotationType===g.AnnotationType.POPUP;if(Sn){const pn=mn.get(dn.id);if(!pn)continue;gn.elements=pn}else{const{width:pn,height:Dn}=e(dn.rect);if(pn<=0||Dn<=0)continue}gn.data=dn;const bn=i.create(gn);if(!bn.isRenderable)continue;if(!Sn&&dn.popupRef){const pn=mn.get(dn.popupRef);pn?pn.push(bn):mn.set(dn.popupRef,[bn])}bn.annotationEditorType>0&&Kt(this,En).set(bn.data.id,bn);const yn=bn.render();dn.hidden&&(yn.style.visibility="hidden"),xn(this,Pn,Jo).call(this,yn,dn.id)}xn(this,Pn,go).call(this),await this.l10n.translate(on)}update({viewport:ln}){const rn=this.div;this.viewport=ln,(0,xt.setLayerDimensions)(rn,{rotation:ln.rotation}),xn(this,Pn,go).call(this),rn.hidden=!1}getEditableAnnotations(){return Array.from(Kt(this,En).values())}getEditableAnnotation(ln){return Kt(this,En).get(ln)}}Rn=new WeakMap,sn=new WeakMap,En=new WeakMap,Pn=new WeakSet,Jo=function(ln,rn){var mn;const on=ln.firstChild||ln;on.id=`${g.AnnotationPrefix}${rn}`,this.div.append(ln),(mn=Kt(this,Rn))==null||mn.moveElementInDOM(this.div,ln,on,!1)},go=function(){if(!Kt(this,sn))return;const ln=this.div;for(const[rn,on]of Kt(this,sn)){const mn=ln.querySelector(`[data-annotation-id="${rn}"]`);if(!mn)continue;const{firstChild:gn}=mn;gn?gn.nodeName==="CANVAS"?gn.replaceWith(on):gn.before(on):mn.append(on)}Kt(this,sn).clear()},o.AnnotationLayer=nt},(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0;function h(Bt){return Math.floor(Math.max(0,Math.min(1,Bt))*255).toString(16).padStart(2,"0")}function g(Bt){return Math.max(0,Math.min(255,255*Bt))}class xt{static CMYK_G([Ut,$,_t,s]){return["G",1-Math.min(1,.3*Ut+.59*_t+.11*$+s)]}static G_CMYK([Ut]){return["CMYK",0,0,0,1-Ut]}static G_RGB([Ut]){return["RGB",Ut,Ut,Ut]}static G_rgb([Ut]){return Ut=g(Ut),[Ut,Ut,Ut]}static G_HTML([Ut]){const $=h(Ut);return`#${$}${$}${$}`}static RGB_G([Ut,$,_t]){return["G",.3*Ut+.59*$+.11*_t]}static RGB_rgb(Ut){return Ut.map(g)}static RGB_HTML(Ut){return`#${Ut.map(h).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Ut,$,_t,s]){return["RGB",1-Math.min(1,Ut+s),1-Math.min(1,_t+s),1-Math.min(1,$+s)]}static CMYK_rgb([Ut,$,_t,s]){return[g(1-Math.min(1,Ut+s)),g(1-Math.min(1,_t+s)),g(1-Math.min(1,$+s))]}static CMYK_HTML(Ut){const $=this.CMYK_RGB(Ut).slice(1);return this.RGB_HTML($)}static RGB_CMYK([Ut,$,_t]){const s=1-Ut,bt=1-$,St=1-_t,e=Math.min(s,bt,St);return["CMYK",s,bt,St,e]}}o.ColorConverters=xt},(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=g;const h={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};h.print_progress_percent="{{progress}}%";function g(Ut,$){switch(Ut){case"find_match_count":Ut=`find_match_count[${$.total===1?"one":"other"}]`;break;case"find_match_count_limit":Ut=`find_match_count_limit[${$.limit===1?"one":"other"}]`;break}return h[Ut]||""}function xt(Ut,$){return $?Ut.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(_t,s)=>s in $?$[s]:"{{"+s+"}}"):Ut}const Bt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Ut,$=null,_t=g(Ut,$)){return xt(_t,$)},async translate(Ut){}};o.NullL10n=Bt},(a,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var g=h(25);class xt{static setupStorage(Ut,$,_t,s,bt){const St=s.getValue($,{value:null});switch(_t.name){case"textarea":if(St.value!==null&&(Ut.textContent=St.value),bt==="print")break;Ut.addEventListener("input",e=>{s.setValue($,{value:e.target.value})});break;case"input":if(_t.attributes.type==="radio"||_t.attributes.type==="checkbox"){if(St.value===_t.attributes.xfaOn?Ut.setAttribute("checked",!0):St.value===_t.attributes.xfaOff&&Ut.removeAttribute("checked"),bt==="print")break;Ut.addEventListener("change",e=>{s.setValue($,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(St.value!==null&&Ut.setAttribute("value",St.value),bt==="print")break;Ut.addEventListener("input",e=>{s.setValue($,{value:e.target.value})})}break;case"select":if(St.value!==null){Ut.setAttribute("value",St.value);for(const e of _t.children)e.attributes.value===St.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}Ut.addEventListener("input",e=>{const i=e.target.options,d=i.selectedIndex===-1?"":i[i.selectedIndex].value;s.setValue($,{value:d})});break}}static setAttributes({html:Ut,element:$,storage:_t=null,intent:s,linkService:bt}){const{attributes:St}=$,e=Ut instanceof HTMLAnchorElement;St.type==="radio"&&(St.name=`${St.name}-${s}`);for(const[i,d]of Object.entries(St))if(d!=null)switch(i){case"class":d.length&&Ut.setAttribute(i,d.join(" "));break;case"dataId":break;case"id":Ut.setAttribute("data-element-id",d);break;case"style":Object.assign(Ut.style,d);break;case"textContent":Ut.textContent=d;break;default:(!e||i!=="href"&&i!=="newWindow")&&Ut.setAttribute(i,d)}e&&bt.addLinkAttributes(Ut,St.href,St.newWindow),_t&&St.dataId&&this.setupStorage(Ut,St.dataId,$,_t)}static render(Ut){var ut;const $=Ut.annotationStorage,_t=Ut.linkService,s=Ut.xfaHtml,bt=Ut.intent||"display",St=document.createElement(s.name);s.attributes&&this.setAttributes({html:St,element:s,intent:bt,linkService:_t});const e=[[s,-1,St]],i=Ut.div;if(i.append(St),Ut.viewport){const dt=`matrix(${Ut.viewport.transform.join(",")})`;i.style.transform=dt}bt!=="richText"&&i.setAttribute("class","xfaLayer xfaFont");const d=[];for(;e.length>0;){const[dt,et,_]=e.at(-1);if(et+1===dt.children.length){e.pop();continue}const c=dt.children[++e.at(-1)[1]];if(c===null)continue;const{name:lt}=c;if(lt==="#text"){const ct=document.createTextNode(c.value);d.push(ct),_.append(ct);continue}const at=(ut=c==null?void 0:c.attributes)!=null&&ut.xmlns?document.createElementNS(c.attributes.xmlns,lt):document.createElement(lt);if(_.append(at),c.attributes&&this.setAttributes({html:at,element:c,storage:$,intent:bt,linkService:_t}),c.children&&c.children.length>0)e.push([c,-1,at]);else if(c.value){const ct=document.createTextNode(c.value);g.XfaText.shouldBuildText(lt)&&d.push(ct),at.append(ct)}}for(const dt of i.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))dt.setAttribute("readOnly",!0);return{textDivs:d}}static update(Ut){const $=`matrix(${Ut.viewport.transform.join(",")})`;Ut.div.style.transform=$,Ut.div.hidden=!1}}o.XfaLayer=xt},(a,o,h)=>{var s,bt,St,e,i,d,ut,dt,et,_,c,lt,at,ct,it,Zo,Qo,yl,wl,mo,xl,bo,Sl,Al,Cl,El,Fl,kr,yo,as,ss,Dr,wo,os,yt,Tl,xo,_l,Pl,vo,ls,Nr;Object.defineProperty(o,"__esModule",{value:!0}),o.InkEditor=void 0;var g=h(1),xt=h(4),Bt=h(29),Ut=h(6),$=h(5);const Xt=class Xt extends xt.AnnotationEditor{constructor(j){super({...j,name:"inkEditor"});Fn(this,it);Fn(this,s,0);Fn(this,bt,0);Fn(this,St,this.canvasPointermove.bind(this));Fn(this,e,this.canvasPointerleave.bind(this));Fn(this,i,this.canvasPointerup.bind(this));Fn(this,d,this.canvasPointerdown.bind(this));Fn(this,ut,new Path2D);Fn(this,dt,!1);Fn(this,et,!1);Fn(this,_,!1);Fn(this,c,null);Fn(this,lt,0);Fn(this,at,0);Fn(this,ct,null);this.color=j.color||null,this.thickness=j.thickness||null,this.opacity=j.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(j){xt.AnnotationEditor.initialize(j,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(j,At){switch(j){case g.AnnotationEditorParamsType.INK_THICKNESS:Xt._defaultThickness=At;break;case g.AnnotationEditorParamsType.INK_COLOR:Xt._defaultColor=At;break;case g.AnnotationEditorParamsType.INK_OPACITY:Xt._defaultOpacity=At/100;break}}updateParams(j,At){switch(j){case g.AnnotationEditorParamsType.INK_THICKNESS:xn(this,it,Zo).call(this,At);break;case g.AnnotationEditorParamsType.INK_COLOR:xn(this,it,Qo).call(this,At);break;case g.AnnotationEditorParamsType.INK_OPACITY:xn(this,it,yl).call(this,At);break}}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.INK_THICKNESS,Xt._defaultThickness],[g.AnnotationEditorParamsType.INK_COLOR,Xt._defaultColor||xt.AnnotationEditor._defaultLineColor],[g.AnnotationEditorParamsType.INK_OPACITY,Math.round(Xt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[g.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Xt._defaultThickness],[g.AnnotationEditorParamsType.INK_COLOR,this.color||Xt._defaultColor||xt.AnnotationEditor._defaultLineColor],[g.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Xt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(xn(this,it,as).call(this),xn(this,it,ss).call(this)),this.isAttachedToDOM||(this.parent.add(this),xn(this,it,Dr).call(this)),xn(this,it,Nr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Kt(this,c).disconnect(),On(this,c,null),super.remove())}setParent(j){!this.parent&&j?this._uiManager.removeShouldRescale(this):this.parent&&j===null&&this._uiManager.addShouldRescale(this),super.setParent(j)}onScaleChanging(){const[j,At]=this.parentDimensions,Mt=this.width*j,Rt=this.height*At;this.setDimensions(Mt,Rt)}enableEditMode(){Kt(this,dt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Kt(this,d)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Kt(this,d)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Kt(this,dt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),On(this,dt,!0),this.div.classList.add("disabled"),xn(this,it,Nr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(j){this._focusEventsAllowed&&(super.focusin(j),this.enableEditMode())}canvasPointerdown(j){j.button!==0||!this.isInEditMode()||Kt(this,dt)||(this.setInForeground(),j.preventDefault(),j.type!=="mouse"&&this.div.focus(),xn(this,it,xl).call(this,j.offsetX,j.offsetY))}canvasPointermove(j){j.preventDefault(),xn(this,it,bo).call(this,j.offsetX,j.offsetY)}canvasPointerup(j){j.preventDefault(),xn(this,it,yo).call(this,j)}canvasPointerleave(j){xn(this,it,yo).call(this,j)}get isResizable(){return!this.isEmpty()&&Kt(this,dt)}render(){if(this.div)return this.div;let j,At;this.width&&(j=this.x,At=this.y),super.render(),xt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(qt=>{var Wt;return(Wt=this.div)==null?void 0:Wt.setAttribute("aria-label",qt)});const[Mt,Rt,$t,zt]=xn(this,it,wl).call(this);if(this.setAt(Mt,Rt,0,0),this.setDims($t,zt),xn(this,it,as).call(this),this.width){const[qt,Wt]=this.parentDimensions;this.setAspectRatio(this.width*qt,this.height*Wt),this.setAt(j*qt,At*Wt,this.width*qt,this.height*Wt),On(this,_,!0),xn(this,it,Dr).call(this),this.setDims(this.width*qt,this.height*Wt),xn(this,it,kr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return xn(this,it,ss).call(this),this.div}setDimensions(j,At){const Mt=Math.round(j),Rt=Math.round(At);if(Kt(this,lt)===Mt&&Kt(this,at)===Rt)return;On(this,lt,Mt),On(this,at,Rt),this.canvas.style.visibility="hidden";const[$t,zt]=this.parentDimensions;this.width=j/$t,this.height=At/zt,this.fixAndSetPosition(),Kt(this,dt)&&xn(this,it,wo).call(this,j,At),xn(this,it,Dr).call(this),xn(this,it,kr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(j,At,Mt){var an,vn,An;if(j instanceof Bt.InkAnnotationElement)return null;const Rt=super.deserialize(j,At,Mt);Rt.thickness=j.thickness,Rt.color=g.Util.makeHexColor(...j.color),Rt.opacity=j.opacity;const[$t,zt]=Rt.pageDimensions,qt=Rt.width*$t,Wt=Rt.height*zt,Gt=Rt.parentScale,Zt=j.thickness/2;On(Rt,dt,!0),On(Rt,lt,Math.round(qt)),On(Rt,at,Math.round(Wt));const{paths:Yt,rect:tn,rotation:nn}=j;for(let{bezier:cn}of Yt){cn=xn(an=Xt,yt,_l).call(an,cn,tn,nn);const hn=[];Rt.paths.push(hn);let fn=Gt*(cn[0]-Zt),Cn=Gt*(cn[1]-Zt);for(let Rn=2,sn=cn.length;Rn<sn;Rn+=6){const En=Gt*(cn[Rn]-Zt),Pn=Gt*(cn[Rn+1]-Zt),Ln=Gt*(cn[Rn+2]-Zt),jn=Gt*(cn[Rn+3]-Zt),Nn=Gt*(cn[Rn+4]-Zt),ln=Gt*(cn[Rn+5]-Zt);hn.push([[fn,Cn],[En,Pn],[Ln,jn],[Nn,ln]]),fn=Nn,Cn=ln}const kn=xn(this,yt,Tl).call(this,hn);Rt.bezierPath2D.push(kn)}const en=xn(vn=Rt,it,vo).call(vn);return On(Rt,bt,Math.max(xt.AnnotationEditor.MIN_SIZE,en[2]-en[0])),On(Rt,s,Math.max(xt.AnnotationEditor.MIN_SIZE,en[3]-en[1])),xn(An=Rt,it,wo).call(An,qt,Wt),Rt}serialize(){if(this.isEmpty())return null;const j=this.getRect(0,0),At=xt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:g.AnnotationEditorType.INK,color:At,thickness:this.thickness,opacity:this.opacity,paths:xn(this,it,Pl).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,j),pageIndex:this.pageIndex,rect:j,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};s=new WeakMap,bt=new WeakMap,St=new WeakMap,e=new WeakMap,i=new WeakMap,d=new WeakMap,ut=new WeakMap,dt=new WeakMap,et=new WeakMap,_=new WeakMap,c=new WeakMap,lt=new WeakMap,at=new WeakMap,ct=new WeakMap,it=new WeakSet,Zo=function(j){const At=this.thickness;this.addCommands({cmd:()=>{this.thickness=j,xn(this,it,Nr).call(this)},undo:()=>{this.thickness=At,xn(this,it,Nr).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Qo=function(j){const At=this.color;this.addCommands({cmd:()=>{this.color=j,xn(this,it,kr).call(this)},undo:()=>{this.color=At,xn(this,it,kr).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yl=function(j){j/=100;const At=this.opacity;this.addCommands({cmd:()=>{this.opacity=j,xn(this,it,kr).call(this)},undo:()=>{this.opacity=At,xn(this,it,kr).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},wl=function(){const{parentRotation:j,parentDimensions:[At,Mt]}=this;switch(j){case 90:return[0,Mt,Mt,At];case 180:return[At,Mt,At,Mt];case 270:return[At,0,Mt,At];default:return[0,0,At,Mt]}},mo=function(){const{ctx:j,color:At,opacity:Mt,thickness:Rt,parentScale:$t,scaleFactor:zt}=this;j.lineWidth=Rt*$t/zt,j.lineCap="round",j.lineJoin="round",j.miterLimit=10,j.strokeStyle=`${At}${(0,$.opacityToHex)(Mt)}`},xl=function(j,At){this.canvas.addEventListener("contextmenu",Ut.noContextMenu),this.canvas.addEventListener("pointerleave",Kt(this,e)),this.canvas.addEventListener("pointermove",Kt(this,St)),this.canvas.addEventListener("pointerup",Kt(this,i)),this.canvas.removeEventListener("pointerdown",Kt(this,d)),this.isEditing=!0,Kt(this,_)||(On(this,_,!0),xn(this,it,Dr).call(this),this.thickness||(this.thickness=Xt._defaultThickness),this.color||(this.color=Xt._defaultColor||xt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Xt._defaultOpacity)),this.currentPath.push([j,At]),On(this,et,!1),xn(this,it,mo).call(this),On(this,ct,()=>{xn(this,it,Cl).call(this),Kt(this,ct)&&window.requestAnimationFrame(Kt(this,ct))}),window.requestAnimationFrame(Kt(this,ct))},bo=function(j,At){const[Mt,Rt]=this.currentPath.at(-1);if(this.currentPath.length>1&&j===Mt&&At===Rt)return;const $t=this.currentPath;let zt=Kt(this,ut);if($t.push([j,At]),On(this,et,!0),$t.length<=2){zt.moveTo(...$t[0]),zt.lineTo(j,At);return}$t.length===3&&(On(this,ut,zt=new Path2D),zt.moveTo(...$t[0])),xn(this,it,El).call(this,zt,...$t.at(-3),...$t.at(-2),j,At)},Sl=function(){if(this.currentPath.length===0)return;const j=this.currentPath.at(-1);Kt(this,ut).lineTo(...j)},Al=function(j,At){On(this,ct,null),j=Math.min(Math.max(j,0),this.canvas.width),At=Math.min(Math.max(At,0),this.canvas.height),xn(this,it,bo).call(this,j,At),xn(this,it,Sl).call(this);let Mt;if(this.currentPath.length!==1)Mt=xn(this,it,Fl).call(this);else{const Wt=[j,At];Mt=[[Wt,Wt.slice(),Wt.slice(),Wt]]}const Rt=Kt(this,ut),$t=this.currentPath;this.currentPath=[],On(this,ut,new Path2D);const zt=()=>{this.allRawPaths.push($t),this.paths.push(Mt),this.bezierPath2D.push(Rt),this.rebuild()},qt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(xn(this,it,as).call(this),xn(this,it,ss).call(this)),xn(this,it,Nr).call(this))};this.addCommands({cmd:zt,undo:qt,mustExec:!0})},Cl=function(){if(!Kt(this,et))return;On(this,et,!1);const j=Math.ceil(this.thickness*this.parentScale),At=this.currentPath.slice(-3),Mt=At.map(zt=>zt[0]),Rt=At.map(zt=>zt[1]);Math.min(...Mt)-j,Math.max(...Mt)+j,Math.min(...Rt)-j,Math.max(...Rt)+j;const{ctx:$t}=this;$t.save(),$t.clearRect(0,0,this.canvas.width,this.canvas.height);for(const zt of this.bezierPath2D)$t.stroke(zt);$t.stroke(Kt(this,ut)),$t.restore()},El=function(j,At,Mt,Rt,$t,zt,qt){const Wt=(At+Rt)/2,Gt=(Mt+$t)/2,Zt=(Rt+zt)/2,Yt=($t+qt)/2;j.bezierCurveTo(Wt+2*(Rt-Wt)/3,Gt+2*($t-Gt)/3,Zt+2*(Rt-Zt)/3,Yt+2*($t-Yt)/3,Zt,Yt)},Fl=function(){const j=this.currentPath;if(j.length<=2)return[[j[0],j[0],j.at(-1),j.at(-1)]];const At=[];let Mt,[Rt,$t]=j[0];for(Mt=1;Mt<j.length-2;Mt++){const[tn,nn]=j[Mt],[en,an]=j[Mt+1],vn=(tn+en)/2,An=(nn+an)/2,cn=[Rt+2*(tn-Rt)/3,$t+2*(nn-$t)/3],hn=[vn+2*(tn-vn)/3,An+2*(nn-An)/3];At.push([[Rt,$t],cn,hn,[vn,An]]),[Rt,$t]=[vn,An]}const[zt,qt]=j[Mt],[Wt,Gt]=j[Mt+1],Zt=[Rt+2*(zt-Rt)/3,$t+2*(qt-$t)/3],Yt=[Wt+2*(zt-Wt)/3,Gt+2*(qt-Gt)/3];return At.push([[Rt,$t],Zt,Yt,[Wt,Gt]]),At},kr=function(){if(this.isEmpty()){xn(this,it,os).call(this);return}xn(this,it,mo).call(this);const{canvas:j,ctx:At}=this;At.setTransform(1,0,0,1,0,0),At.clearRect(0,0,j.width,j.height),xn(this,it,os).call(this);for(const Mt of this.bezierPath2D)At.stroke(Mt)},yo=function(j){this.canvas.removeEventListener("pointerleave",Kt(this,e)),this.canvas.removeEventListener("pointermove",Kt(this,St)),this.canvas.removeEventListener("pointerup",Kt(this,i)),this.canvas.addEventListener("pointerdown",Kt(this,d)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Ut.noContextMenu)},10),xn(this,it,Al).call(this,j.offsetX,j.offsetY),this.addToAnnotationStorage(),this.setInBackground()},as=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",xt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(j=>{var At;return(At=this.canvas)==null?void 0:At.setAttribute("aria-label",j)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ss=function(){On(this,c,new ResizeObserver(j=>{const At=j[0].contentRect;At.width&&At.height&&this.setDimensions(At.width,At.height)})),Kt(this,c).observe(this.div)},Dr=function(){if(!Kt(this,_))return;const[j,At]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*j),this.canvas.height=Math.ceil(this.height*At),xn(this,it,os).call(this)},wo=function(j,At){const Mt=xn(this,it,ls).call(this),Rt=(j-Mt)/Kt(this,bt),$t=(At-Mt)/Kt(this,s);this.scaleFactor=Math.min(Rt,$t)},os=function(){const j=xn(this,it,ls).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+j,this.translationY*this.scaleFactor+j)},yt=new WeakSet,Tl=function(j){const At=new Path2D;for(let Mt=0,Rt=j.length;Mt<Rt;Mt++){const[$t,zt,qt,Wt]=j[Mt];Mt===0&&At.moveTo(...$t),At.bezierCurveTo(zt[0],zt[1],qt[0],qt[1],Wt[0],Wt[1])}return At},xo=function(j,At,Mt){const[Rt,$t,zt,qt]=At;switch(Mt){case 0:for(let Wt=0,Gt=j.length;Wt<Gt;Wt+=2)j[Wt]+=Rt,j[Wt+1]=qt-j[Wt+1];break;case 90:for(let Wt=0,Gt=j.length;Wt<Gt;Wt+=2){const Zt=j[Wt];j[Wt]=j[Wt+1]+Rt,j[Wt+1]=Zt+$t}break;case 180:for(let Wt=0,Gt=j.length;Wt<Gt;Wt+=2)j[Wt]=zt-j[Wt],j[Wt+1]+=$t;break;case 270:for(let Wt=0,Gt=j.length;Wt<Gt;Wt+=2){const Zt=j[Wt];j[Wt]=zt-j[Wt+1],j[Wt+1]=qt-Zt}break;default:throw new Error("Invalid rotation")}return j},_l=function(j,At,Mt){const[Rt,$t,zt,qt]=At;switch(Mt){case 0:for(let Wt=0,Gt=j.length;Wt<Gt;Wt+=2)j[Wt]-=Rt,j[Wt+1]=qt-j[Wt+1];break;case 90:for(let Wt=0,Gt=j.length;Wt<Gt;Wt+=2){const Zt=j[Wt];j[Wt]=j[Wt+1]-$t,j[Wt+1]=Zt-Rt}break;case 180:for(let Wt=0,Gt=j.length;Wt<Gt;Wt+=2)j[Wt]=zt-j[Wt],j[Wt+1]-=$t;break;case 270:for(let Wt=0,Gt=j.length;Wt<Gt;Wt+=2){const Zt=j[Wt];j[Wt]=qt-j[Wt+1],j[Wt+1]=zt-Zt}break;default:throw new Error("Invalid rotation")}return j},Pl=function(j,At,Mt,Rt){var Gt,Zt;const $t=[],zt=this.thickness/2,qt=j*At+zt,Wt=j*Mt+zt;for(const Yt of this.paths){const tn=[],nn=[];for(let en=0,an=Yt.length;en<an;en++){const[vn,An,cn,hn]=Yt[en],fn=j*vn[0]+qt,Cn=j*vn[1]+Wt,kn=j*An[0]+qt,Rn=j*An[1]+Wt,sn=j*cn[0]+qt,En=j*cn[1]+Wt,Pn=j*hn[0]+qt,Ln=j*hn[1]+Wt;en===0&&(tn.push(fn,Cn),nn.push(fn,Cn)),tn.push(kn,Rn,sn,En,Pn,Ln),nn.push(kn,Rn),en===an-1&&nn.push(Pn,Ln)}$t.push({bezier:xn(Gt=Xt,yt,xo).call(Gt,tn,Rt,this.rotation),points:xn(Zt=Xt,yt,xo).call(Zt,nn,Rt,this.rotation)})}return $t},vo=function(){let j=1/0,At=-1/0,Mt=1/0,Rt=-1/0;for(const $t of this.paths)for(const[zt,qt,Wt,Gt]of $t){const Zt=g.Util.bezierBoundingBox(...zt,...qt,...Wt,...Gt);j=Math.min(j,Zt[0]),Mt=Math.min(Mt,Zt[1]),At=Math.max(At,Zt[2]),Rt=Math.max(Rt,Zt[3])}return[j,Mt,At,Rt]},ls=function(){return Kt(this,dt)?Math.ceil(this.thickness*this.parentScale):0},Nr=function(j=!1){if(this.isEmpty())return;if(!Kt(this,dt)){xn(this,it,kr).call(this);return}const At=xn(this,it,vo).call(this),Mt=xn(this,it,ls).call(this);On(this,bt,Math.max(xt.AnnotationEditor.MIN_SIZE,At[2]-At[0])),On(this,s,Math.max(xt.AnnotationEditor.MIN_SIZE,At[3]-At[1]));const Rt=Math.ceil(Mt+Kt(this,bt)*this.scaleFactor),$t=Math.ceil(Mt+Kt(this,s)*this.scaleFactor),[zt,qt]=this.parentDimensions;this.width=Rt/zt,this.height=$t/qt,this.setAspectRatio(Rt,$t);const Wt=this.translationX,Gt=this.translationY;this.translationX=-At[0],this.translationY=-At[1],xn(this,it,Dr).call(this),xn(this,it,kr).call(this),On(this,lt,Rt),On(this,at,$t),this.setDims(Rt,$t);const Zt=j?Mt/this.scaleFactor/2:0;this.translate(Wt-this.translationX-Zt,Gt-this.translationY-Zt)},Fn(Xt,yt),ir(Xt,"_defaultColor",null),ir(Xt,"_defaultOpacity",1),ir(Xt,"_defaultThickness",1),ir(Xt,"_type","ink");let _t=Xt;o.InkEditor=_t},(a,o,h)=>{var _t,s,bt,St,e,i,d,ut,dt,et,_,Yr,Jr,cs,So,Ol,Il,Ao,us,Ml;Object.defineProperty(o,"__esModule",{value:!0}),o.StampEditor=void 0;var g=h(1),xt=h(4),Bt=h(6),Ut=h(29);const Nt=class Nt extends xt.AnnotationEditor{constructor(Et){super({...Et,name:"stampEditor"});Fn(this,_);Fn(this,_t,null);Fn(this,s,null);Fn(this,bt,null);Fn(this,St,null);Fn(this,e,null);Fn(this,i,null);Fn(this,d,null);Fn(this,ut,null);Fn(this,dt,!1);Fn(this,et,!1);On(this,St,Et.bitmapUrl),On(this,e,Et.bitmapFile)}static initialize(Et){xt.AnnotationEditor.initialize(Et)}static get supportedTypes(){const Et=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,g.shadow)(this,"supportedTypes",Et.map(rt=>`image/${rt}`))}static get supportedTypesStr(){return(0,g.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Et){return this.supportedTypes.includes(Et)}static paste(Et,rt){rt.pasteEditor(g.AnnotationEditorType.STAMP,{bitmapFile:Et.getAsFile()})}remove(){var Et,rt;Kt(this,s)&&(On(this,_t,null),this._uiManager.imageManager.deleteId(Kt(this,s)),(Et=Kt(this,i))==null||Et.remove(),On(this,i,null),(rt=Kt(this,d))==null||rt.disconnect(),On(this,d,null)),super.remove()}rebuild(){if(!this.parent){Kt(this,s)&&xn(this,_,cs).call(this);return}super.rebuild(),this.div!==null&&(Kt(this,s)&&xn(this,_,cs).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Kt(this,bt)||Kt(this,_t)||Kt(this,St)||Kt(this,e))}get isResizable(){return!0}render(){if(this.div)return this.div;let Et,rt;if(this.width&&(Et=this.x,rt=this.y),super.render(),this.div.hidden=!0,Kt(this,_t)?xn(this,_,So).call(this):xn(this,_,cs).call(this),this.width){const[ft,wt]=this.parentDimensions;this.setAt(Et*ft,rt*wt,this.width*ft,this.height*wt)}return this.div}static deserialize(Et,rt,ft){if(Et instanceof Ut.StampAnnotationElement)return null;const wt=super.deserialize(Et,rt,ft),{rect:b,bitmapUrl:pt,bitmapId:Ot,isSvg:kt,accessibilityData:st}=Et;Ot&&ft.imageManager.isValidId(Ot)?On(wt,s,Ot):On(wt,St,pt),On(wt,dt,kt);const[nt,gt]=wt.pageDimensions;return wt.width=(b[2]-b[0])/nt,wt.height=(b[3]-b[1])/gt,st&&(wt.altTextData=st),wt}serialize(Et=!1,rt=null){if(this.isEmpty())return null;const ft={annotationType:g.AnnotationEditorType.STAMP,bitmapId:Kt(this,s),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Kt(this,dt),structTreeParentId:this._structTreeParentId};if(Et)return ft.bitmapUrl=xn(this,_,us).call(this,!0),ft.accessibilityData=this.altTextData,ft;const{decorative:wt,altText:b}=this.altTextData;if(!wt&&b&&(ft.accessibilityData={type:"Figure",alt:b}),rt===null)return ft;rt.stamps||(rt.stamps=new Map);const pt=Kt(this,dt)?(ft.rect[2]-ft.rect[0])*(ft.rect[3]-ft.rect[1]):null;if(!rt.stamps.has(Kt(this,s)))rt.stamps.set(Kt(this,s),{area:pt,serialized:ft}),ft.bitmap=xn(this,_,us).call(this,!1);else if(Kt(this,dt)){const Ot=rt.stamps.get(Kt(this,s));pt>Ot.area&&(Ot.area=pt,Ot.serialized.bitmap.close(),Ot.serialized.bitmap=xn(this,_,us).call(this,!1))}return ft}};_t=new WeakMap,s=new WeakMap,bt=new WeakMap,St=new WeakMap,e=new WeakMap,i=new WeakMap,d=new WeakMap,ut=new WeakMap,dt=new WeakMap,et=new WeakMap,_=new WeakSet,Yr=function(Et,rt=!1){if(!Et){this.remove();return}On(this,_t,Et.bitmap),rt||(On(this,s,Et.id),On(this,dt,Et.isSvg)),xn(this,_,So).call(this)},Jr=function(){On(this,bt,null),this._uiManager.enableWaiting(!1),Kt(this,i)&&this.div.focus()},cs=function(){if(Kt(this,s)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Kt(this,s)).then(rt=>xn(this,_,Yr).call(this,rt,!0)).finally(()=>xn(this,_,Jr).call(this));return}if(Kt(this,St)){const rt=Kt(this,St);On(this,St,null),this._uiManager.enableWaiting(!0),On(this,bt,this._uiManager.imageManager.getFromUrl(rt).then(ft=>xn(this,_,Yr).call(this,ft)).finally(()=>xn(this,_,Jr).call(this)));return}if(Kt(this,e)){const rt=Kt(this,e);On(this,e,null),this._uiManager.enableWaiting(!0),On(this,bt,this._uiManager.imageManager.getFromFile(rt).then(ft=>xn(this,_,Yr).call(this,ft)).finally(()=>xn(this,_,Jr).call(this)));return}const Et=document.createElement("input");Et.type="file",Et.accept=Nt.supportedTypesStr,On(this,bt,new Promise(rt=>{Et.addEventListener("change",async()=>{if(!Et.files||Et.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ft=await this._uiManager.imageManager.getFromFile(Et.files[0]);xn(this,_,Yr).call(this,ft)}rt()}),Et.addEventListener("cancel",()=>{this.remove(),rt()})}).finally(()=>xn(this,_,Jr).call(this))),Et.click()},So=function(){const{div:Et}=this;let{width:rt,height:ft}=Kt(this,_t);const[wt,b]=this.pageDimensions,pt=.75;if(this.width)rt=this.width*wt,ft=this.height*b;else if(rt>pt*wt||ft>pt*b){const nt=Math.min(pt*wt/rt,pt*b/ft);rt*=nt,ft*=nt}const[Ot,kt]=this.parentDimensions;this.setDims(rt*Ot/wt,ft*kt/b),this._uiManager.enableWaiting(!1);const st=On(this,i,document.createElement("canvas"));Et.append(st),Et.hidden=!1,xn(this,_,Ao).call(this,rt,ft),xn(this,_,Ml).call(this),Kt(this,et)||(this.parent.addUndoableEditor(this),On(this,et,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Ol=function(Et,rt){var pt;const[ft,wt]=this.parentDimensions;this.width=Et/ft,this.height=rt/wt,this.setDims(Et,rt),(pt=this._initialOptions)!=null&&pt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Kt(this,ut)!==null&&clearTimeout(Kt(this,ut)),On(this,ut,setTimeout(()=>{On(this,ut,null),xn(this,_,Ao).call(this,Et,rt)},200))},Il=function(Et,rt){const{width:ft,height:wt}=Kt(this,_t);let b=ft,pt=wt,Ot=Kt(this,_t);for(;b>2*Et||pt>2*rt;){const kt=b,st=pt;b>2*Et&&(b=b>=16384?Math.floor(b/2)-1:Math.ceil(b/2)),pt>2*rt&&(pt=pt>=16384?Math.floor(pt/2)-1:Math.ceil(pt/2));const nt=new OffscreenCanvas(b,pt);nt.getContext("2d").drawImage(Ot,0,0,kt,st,0,0,b,pt),Ot=nt.transferToImageBitmap()}return Ot},Ao=function(Et,rt){Et=Math.ceil(Et),rt=Math.ceil(rt);const ft=Kt(this,i);if(!ft||ft.width===Et&&ft.height===rt)return;ft.width=Et,ft.height=rt;const wt=Kt(this,dt)?Kt(this,_t):xn(this,_,Il).call(this,Et,rt),b=ft.getContext("2d");b.filter=this._uiManager.hcmFilter,b.drawImage(wt,0,0,wt.width,wt.height,0,0,Et,rt)},us=function(Et){if(Et){if(Kt(this,dt)){const wt=this._uiManager.imageManager.getSvgUrl(Kt(this,s));if(wt)return wt}const rt=document.createElement("canvas");return{width:rt.width,height:rt.height}=Kt(this,_t),rt.getContext("2d").drawImage(Kt(this,_t),0,0),rt.toDataURL()}if(Kt(this,dt)){const[rt,ft]=this.pageDimensions,wt=Math.round(this.width*rt*Bt.PixelsPerInch.PDF_TO_CSS_UNITS),b=Math.round(this.height*ft*Bt.PixelsPerInch.PDF_TO_CSS_UNITS),pt=new OffscreenCanvas(wt,b);return pt.getContext("2d").drawImage(Kt(this,_t),0,0,Kt(this,_t).width,Kt(this,_t).height,0,0,wt,b),pt.transferToImageBitmap()}return structuredClone(Kt(this,_t))},Ml=function(){On(this,d,new ResizeObserver(Et=>{const rt=Et[0].contentRect;rt.width&&rt.height&&xn(this,_,Ol).call(this,rt.width,rt.height)})),Kt(this,d).observe(this.div)},ir(Nt,"_type","stamp");let $=Nt;o.StampEditor=$}],__webpack_module_cache__={};function __w_pdfjs_require__(a){var o=__webpack_module_cache__[a];if(o!==void 0)return o.exports;var h=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a](h,h.exports,__w_pdfjs_require__),h.exports}var __webpack_exports__={};return(()=>{var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AbortException",{enumerable:!0,get:function(){return o.AbortException}}),Object.defineProperty(a,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Bt.AnnotationEditorLayer}}),Object.defineProperty(a,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return o.AnnotationEditorParamsType}}),Object.defineProperty(a,"AnnotationEditorType",{enumerable:!0,get:function(){return o.AnnotationEditorType}}),Object.defineProperty(a,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Ut.AnnotationEditorUIManager}}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return $.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(a,"DOMSVGFactory",{enumerable:!0,get:function(){return g.DOMSVGFactory}}),Object.defineProperty(a,"FeatureTest",{enumerable:!0,get:function(){return o.FeatureTest}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return _t.GlobalWorkerOptions}}),Object.defineProperty(a,"ImageKind",{enumerable:!0,get:function(){return o.ImageKind}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return h.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return g.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return h.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return g.PixelsPerInch}}),Object.defineProperty(a,"PromiseCapability",{enumerable:!0,get:function(){return o.PromiseCapability}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return g.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return h.SVGGraphics}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return s.XfaLayer}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return h.build}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return h.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return g.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return g.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return g.getXfaPageViewport}}),Object.defineProperty(a,"isDataScheme",{enumerable:!0,get:function(){return g.isDataScheme}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return g.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return g.loadScript}}),Object.defineProperty(a,"noContextMenu",{enumerable:!0,get:function(){return g.noContextMenu}}),Object.defineProperty(a,"normalizeUnicode",{enumerable:!0,get:function(){return o.normalizeUnicode}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return xt.renderTextLayer}}),Object.defineProperty(a,"setLayerDimensions",{enumerable:!0,get:function(){return g.setLayerDimensions}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(a,"updateTextLayer",{enumerable:!0,get:function(){return xt.updateTextLayer}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return h.version}});var o=__w_pdfjs_require__(1),h=__w_pdfjs_require__(2),g=__w_pdfjs_require__(6),xt=__w_pdfjs_require__(26),Bt=__w_pdfjs_require__(27),Ut=__w_pdfjs_require__(5),$=__w_pdfjs_require__(29),_t=__w_pdfjs_require__(14),s=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,pdf_worker_min={exports:{}};(function(a,o){(function(g,xt){a.exports=g.pdfjsWorker=xt()})(globalThis,()=>(()=>{var h=[,(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.WorkerTask=$.WorkerMessageHandler=void 0;var s=_t(2),bt=_t(3),St=_t(4),e=_t(6),i=_t(10),d=_t(68),ut=_t(73),dt=_t(104),et=_t(105),_=_t(72);class c{constructor(ct){this.name=ct,this.terminated=!1,this._capability=new s.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}$.WorkerTask=c;class lt{static setup(ct,it){let tt=!1;ct.on("test",function(ot){tt||(tt=!0,ct.send("test",ot instanceof Uint8Array))}),ct.on("configure",function(ot){(0,s.setVerbosityLevel)(ot.verbosity)}),ct.on("GetDocRequest",function(ot){return lt.createDocumentHandler(ot,it)})}static createDocumentHandler(ct,it){let tt,ot=!1,mt=null;const Ct=new Set,Nt=(0,s.getVerbosityLevel)(),{docId:Pt,apiVersion:Tt}=ct,Et="3.11.174";if(Tt!==Et)throw new Error(`The API version "${Tt}" does not match the Worker version "${Et}".`);const rt=[];for(const nt in[])rt.push(nt);if(rt.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+rt.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const ft=Pt+"_worker";let wt=new dt.MessageHandler(ft,Pt,it);function b(){if(ot)throw new Error("Worker was terminated")}function pt(nt){Ct.add(nt)}function Ot(nt){nt.finish(),Ct.delete(nt)}async function kt(nt){await tt.ensureDoc("checkHeader"),await tt.ensureDoc("parseStartXRef"),await tt.ensureDoc("parse",[nt]),await tt.ensureDoc("checkFirstPage",[nt]),await tt.ensureDoc("checkLastPage",[nt]);const gt=await tt.ensureDoc("isPureXfa");if(gt){const vt=new c("loadXfaFonts");pt(vt),await Promise.all([tt.loadXfaFonts(wt,vt).catch(Lt=>{}).then(()=>Ot(vt)),tt.loadXfaImages()])}const[Ft,yt]=await Promise.all([tt.ensureDoc("numPages"),tt.ensureDoc("fingerprints")]);return{numPages:Ft,fingerprints:yt,htmlForXfa:gt?await tt.ensureDoc("htmlForXfa"):null}}function st({data:nt,password:gt,disableAutoFetch:Ft,rangeChunkSize:yt,length:vt,docBaseUrl:Lt,enableXfa:jt,evaluatorOptions:Ht}){const Vt={source:null,disableAutoFetch:Ft,docBaseUrl:Lt,docId:Pt,enableXfa:jt,evaluatorOptions:Ht,handler:wt,length:vt,password:gt,rangeChunkSize:yt},Qt=new s.PromiseCapability;let _e;if(nt){try{Vt.source=nt,_e=new e.LocalPdfManager(Vt),Qt.resolve(_e)}catch(At){Qt.reject(At)}return Qt.promise}let Xt,Dt=[];try{Xt=new et.PDFWorkerStream(wt)}catch(At){return Qt.reject(At),Qt.promise}const It=Xt.getFullReader();It.headersReady.then(function(){if(It.isRangeSupported){Vt.source=Xt,Vt.length=It.contentLength,Vt.disableAutoFetch||(Vt.disableAutoFetch=It.isStreamingSupported),_e=new e.NetworkPdfManager(Vt);for(const At of Dt)_e.sendProgressiveData(At);Dt=[],Qt.resolve(_e),mt=null}}).catch(function(At){Qt.reject(At),mt=null});let j=0;return new Promise(function(At,Mt){const Rt=function({value:$t,done:zt}){try{if(b(),zt){_e||function(){const qt=(0,bt.arrayBuffersToBytes)(Dt);vt&&qt.length!==vt&&(0,s.warn)("reported HTTP length is different from actual");try{Vt.source=qt,_e=new e.LocalPdfManager(Vt),Qt.resolve(_e)}catch(Wt){Qt.reject(Wt)}Dt=[]}(),mt=null;return}j+=$t.byteLength,It.isStreamingSupported||wt.send("DocProgress",{loaded:j,total:Math.max(j,It.contentLength||0)}),_e?_e.sendProgressiveData($t):Dt.push($t),It.read().then(Rt,Mt)}catch(qt){Mt(qt)}};It.read().then(Rt,Mt)}).catch(function(At){Qt.reject(At),mt=null}),mt=function(At){Xt.cancelAllRequests(At)},Qt.promise}return wt.on("GetPage",function(nt){return tt.getPage(nt.pageIndex).then(function(gt){return Promise.all([tt.ensure(gt,"rotate"),tt.ensure(gt,"ref"),tt.ensure(gt,"userUnit"),tt.ensure(gt,"view")]).then(function([Ft,yt,vt,Lt]){return{rotate:Ft,ref:yt,userUnit:vt,view:Lt}})})}),wt.on("GetPageIndex",function(nt){const gt=St.Ref.get(nt.num,nt.gen);return tt.ensureCatalog("getPageIndex",[gt])}),wt.on("GetDestinations",function(nt){return tt.ensureCatalog("destinations")}),wt.on("GetDestination",function(nt){return tt.ensureCatalog("getDestination",[nt.id])}),wt.on("GetPageLabels",function(nt){return tt.ensureCatalog("pageLabels")}),wt.on("GetPageLayout",function(nt){return tt.ensureCatalog("pageLayout")}),wt.on("GetPageMode",function(nt){return tt.ensureCatalog("pageMode")}),wt.on("GetViewerPreferences",function(nt){return tt.ensureCatalog("viewerPreferences")}),wt.on("GetOpenAction",function(nt){return tt.ensureCatalog("openAction")}),wt.on("GetAttachments",function(nt){return tt.ensureCatalog("attachments")}),wt.on("GetDocJSActions",function(nt){return tt.ensureCatalog("jsActions")}),wt.on("GetPageJSActions",function({pageIndex:nt}){return tt.getPage(nt).then(function(gt){return tt.ensure(gt,"jsActions")})}),wt.on("GetOutline",function(nt){return tt.ensureCatalog("documentOutline")}),wt.on("GetOptionalContentConfig",function(nt){return tt.ensureCatalog("optionalContentConfig")}),wt.on("GetPermissions",function(nt){return tt.ensureCatalog("permissions")}),wt.on("GetMetadata",function(nt){return Promise.all([tt.ensureDoc("documentInfo"),tt.ensureCatalog("metadata")])}),wt.on("GetMarkInfo",function(nt){return tt.ensureCatalog("markInfo")}),wt.on("GetData",function(nt){return tt.requestLoadedStream().then(function(gt){return gt.bytes})}),wt.on("GetAnnotations",function({pageIndex:nt,intent:gt}){return tt.getPage(nt).then(function(Ft){const yt=new c(`GetAnnotations: page ${nt}`);return pt(yt),Ft.getAnnotationsData(wt,yt,gt).then(vt=>(Ot(yt),vt),vt=>{throw Ot(yt),vt})})}),wt.on("GetFieldObjects",function(nt){return tt.ensureDoc("fieldObjects")}),wt.on("HasJSActions",function(nt){return tt.ensureDoc("hasJSActions")}),wt.on("GetCalculationOrderIds",function(nt){return tt.ensureDoc("calculationOrderIds")}),wt.on("SaveDocument",async function({isPureXfa:nt,numPages:gt,annotationStorage:Ft,filename:yt}){const vt=[tt.requestLoadedStream(),tt.ensureCatalog("acroForm"),tt.ensureCatalog("acroFormRef"),tt.ensureDoc("startXRef"),tt.ensureDoc("xref"),tt.ensureDoc("linearization"),tt.ensureCatalog("structTreeRoot")],Lt=[],jt=nt?null:(0,bt.getNewAnnotationsMap)(Ft),[Ht,Vt,Qt,_e,Xt,Dt,It]=await Promise.all(vt),j=Xt.trailer.getRaw("Root")||null;let At;if(jt){It?await It.canUpdateStructTree({pdfManager:tt,newAnnotationsByPage:jt})&&(At=It):await _.StructTreeRoot.canCreateStructureTree({catalogRef:j,pdfManager:tt,newAnnotationsByPage:jt})&&(At=null);const Yt=i.AnnotationFactory.generateImages(Ft.values(),Xt,tt.evaluatorOptions.isOffscreenCanvasSupported),tn=At===void 0?Lt:[];for(const[nn,en]of jt)tn.push(tt.getPage(nn).then(an=>{const vn=new c(`Save (editor): page ${nn}`);return an.saveNewAnnotations(wt,vn,en,Yt).finally(function(){Ot(vn)})}));At===null?Lt.push(Promise.all(tn).then(async nn=>(await _.StructTreeRoot.createStructureTree({newAnnotationsByPage:jt,xref:Xt,catalogRef:j,pdfManager:tt,newRefs:nn}),nn))):At&&Lt.push(Promise.all(tn).then(async nn=>(await At.updateStructureTree({newAnnotationsByPage:jt,pdfManager:tt,newRefs:nn}),nn)))}if(nt)Lt.push(tt.serializeXfaData(Ft));else for(let Yt=0;Yt<gt;Yt++)Lt.push(tt.getPage(Yt).then(function(tn){const nn=new c(`Save: page ${Yt}`);return tn.save(wt,nn,Ft).finally(function(){Ot(nn)})}));const Mt=await Promise.all(Lt);let Rt=[],$t=null;if(nt){if($t=Mt[0],!$t)return Ht.bytes}else if(Rt=Mt.flat(2),Rt.length===0)return Ht.bytes;const zt=Qt&&Vt instanceof St.Dict&&Rt.some(Yt=>Yt.needAppearances),qt=Vt instanceof St.Dict&&Vt.get("XFA")||null;let Wt=null,Gt=!1;if(Array.isArray(qt)){for(let Yt=0,tn=qt.length;Yt<tn;Yt+=2)qt[Yt]==="datasets"&&(Wt=qt[Yt+1],Gt=!0);Wt===null&&(Wt=Xt.getNewTemporaryRef())}else qt&&(0,s.warn)("Unsupported XFA type.");let Zt=Object.create(null);if(Xt.trailer){const Yt=Object.create(null),tn=Xt.trailer.get("Info")||null;tn instanceof St.Dict&&tn.forEach((nn,en)=>{typeof en=="string"&&(Yt[nn]=(0,s.stringToPDFString)(en))}),Zt={rootRef:j,encryptRef:Xt.trailer.getRaw("Encrypt")||null,newRef:Xt.getNewTemporaryRef(),infoRef:Xt.trailer.getRaw("Info")||null,info:Yt,fileIds:Xt.trailer.get("ID")||null,startXRef:Dt?_e:Xt.lastXRefStreamPos??_e,filename:yt}}return(0,ut.incrementalUpdate)({originalData:Ht.bytes,xrefInfo:Zt,newRefs:Rt,xref:Xt,hasXfa:!!qt,xfaDatasetsRef:Wt,hasXfaDatasetsEntry:Gt,needAppearances:zt,acroFormRef:Qt,acroForm:Vt,xfaData:$t}).finally(()=>{Xt.resetNewTemporaryRef()})}),wt.on("GetOperatorList",function(nt,gt){const Ft=nt.pageIndex;tt.getPage(Ft).then(function(yt){const vt=new c(`GetOperatorList: page ${Ft}`);pt(vt);const Lt=Nt>=s.VerbosityLevel.INFOS?Date.now():0;yt.getOperatorList({handler:wt,sink:gt,task:vt,intent:nt.intent,cacheKey:nt.cacheKey,annotationStorage:nt.annotationStorage}).then(function(jt){Ot(vt),Lt&&(0,s.info)(`page=${Ft+1} - getOperatorList: time=${Date.now()-Lt}ms, len=${jt.length}`),gt.close()},function(jt){Ot(vt),vt.terminated||gt.error(jt)})})}),wt.on("GetTextContent",function(nt,gt){const{pageIndex:Ft,includeMarkedContent:yt,disableNormalization:vt}=nt;tt.getPage(Ft).then(function(Lt){const jt=new c("GetTextContent: page "+Ft);pt(jt);const Ht=Nt>=s.VerbosityLevel.INFOS?Date.now():0;Lt.extractTextContent({handler:wt,task:jt,sink:gt,includeMarkedContent:yt,disableNormalization:vt}).then(function(){Ot(jt),Ht&&(0,s.info)(`page=${Ft+1} - getTextContent: time=`+(Date.now()-Ht)+"ms"),gt.close()},function(Vt){Ot(jt),jt.terminated||gt.error(Vt)})})}),wt.on("GetStructTree",function(nt){return tt.getPage(nt.pageIndex).then(function(gt){return tt.ensure(gt,"getStructTree")})}),wt.on("FontFallback",function(nt){return tt.fontFallback(nt.id,wt)}),wt.on("Cleanup",function(nt){return tt.cleanup(!0)}),wt.on("Terminate",function(nt){ot=!0;const gt=[];if(tt){tt.terminate(new s.AbortException("Worker was terminated."));const Ft=tt.cleanup();gt.push(Ft),tt=null}else(0,d.clearGlobalCaches)();mt&&mt(new s.AbortException("Worker was terminated."));for(const Ft of Ct)gt.push(Ft.finished),Ft.terminate();return Promise.all(gt).then(function(){wt.destroy(),wt=null})}),wt.on("Ready",function(nt){(function(Ft){function yt(jt){b(),wt.send("GetDoc",{pdfInfo:jt})}function vt(jt){if(b(),jt instanceof s.PasswordException){const Ht=new c(`PasswordException: response ${jt.code}`);pt(Ht),wt.sendWithPromise("PasswordRequest",jt).then(function({password:Vt}){Ot(Ht),tt.updatePassword(Vt),Lt()}).catch(function(){Ot(Ht),wt.send("DocException",jt)})}else jt instanceof s.InvalidPDFException||jt instanceof s.MissingPDFException||jt instanceof s.UnexpectedResponseException||jt instanceof s.UnknownErrorException?wt.send("DocException",jt):wt.send("DocException",new s.UnknownErrorException(jt.message,jt.toString()))}function Lt(){b(),kt(!1).then(yt,function(jt){b(),jt instanceof bt.XRefParseException?tt.requestLoadedStream().then(function(){b(),kt(!0).then(yt,vt)}):vt(jt)})}b(),st(Ft).then(function(jt){if(ot)throw jt.terminate(new s.AbortException("Worker was terminated.")),new Error("Worker was terminated");tt=jt,tt.requestLoadedStream(!0).then(Ht=>{wt.send("DataLoaded",{length:Ht.bytes.byteLength})})}).then(Lt,vt)})(ct),ct=null}),ft}static initializeFromPort(ct){const it=new dt.MessageHandler("worker","main",ct);lt.setup(it,ct),it.send("ready",null)}}$.WorkerMessageHandler=lt,typeof window>"u"&&!s.isNodeJS&&typeof self<"u"&&function(ct){return typeof ct.postMessage=="function"&&"onmessage"in ct}(self)&&lt.initializeFromPort(self)},(Ut,$)=>{var ct,it;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=function(ot,mt){ot||e(mt)},$.bytesToString=ut,$.createValidAbsoluteUrl=function(ot,mt=null,Ct=null){if(!ot)return null;try{if(Ct&&typeof ot=="string"){if(Ct.addDefaultProtocol&&ot.startsWith("www.")){const Pt=ot.match(/\./g);(Pt==null?void 0:Pt.length)>=2&&(ot=`http://${ot}`)}if(Ct.tryConvertEncoding)try{ot=c(ot)}catch{}}const Nt=mt?new URL(ot,mt):new URL(ot);if(function(Tt){switch(Tt==null?void 0:Tt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Nt))return Nt}catch{}return null},$.getModificationDate=function(ot=new Date){return[ot.getUTCFullYear().toString(),(ot.getUTCMonth()+1).toString().padStart(2,"0"),ot.getUTCDate().toString().padStart(2,"0"),ot.getUTCHours().toString().padStart(2,"0"),ot.getUTCMinutes().toString().padStart(2,"0"),ot.getUTCSeconds().toString().padStart(2,"0")].join("")},$.getUuid=function(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const ot=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(ot);else for(let mt=0;mt<32;mt++)ot[mt]=Math.floor(255*Math.random());return ut(ot)},$.getVerbosityLevel=function(){return bt},$.info=function(ot){bt>=s.INFOS&&console.log(`Info: ${ot}`)},$.isArrayBuffer=function(ot){return typeof ot=="object"&&(ot==null?void 0:ot.byteLength)!==void 0},$.isArrayEqual=function(ot,mt){if(ot.length!==mt.length)return!1;for(let Ct=0,Nt=ot.length;Ct<Nt;Ct++)if(ot[Ct]!==mt[Ct])return!1;return!0},$.isNodeJS=void 0,$.normalizeUnicode=function(ot){return lt||(lt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,at=new Map([["ﬅ","ſt"]])),ot.replaceAll(lt,(mt,Ct,Nt)=>Ct?Ct.normalize("NFKC"):at.get(Nt))},$.objectFromMap=function(ot){const mt=Object.create(null);for(const[Ct,Nt]of ot)mt[Ct]=Nt;return mt},$.objectSize=function(ot){return Object.keys(ot).length},$.setVerbosityLevel=function(ot){Number.isInteger(ot)&&(bt=ot)},$.shadow=i,$.string32=function(ot){return String.fromCharCode(ot>>24&255,ot>>16&255,ot>>8&255,255&ot)},$.stringToBytes=dt,$.stringToPDFString=function(ot){if(ot[0]>="ï"){let Ct;if(ot[0]==="þ"&&ot[1]==="ÿ"?Ct="utf-16be":ot[0]==="ÿ"&&ot[1]==="þ"?Ct="utf-16le":ot[0]==="ï"&&ot[1]==="»"&&ot[2]==="¿"&&(Ct="utf-8"),Ct)try{const Nt=new TextDecoder(Ct,{fatal:!0}),Pt=dt(ot);return Nt.decode(Pt)}catch(Nt){St(`stringToPDFString: "${Nt}".`)}}const mt=[];for(let Ct=0,Nt=ot.length;Ct<Nt;Ct++){const Pt=_[ot.charCodeAt(Ct)];mt.push(Pt?String.fromCharCode(Pt):ot.charAt(Ct))}return mt.join("")},$.stringToUTF8String=c,$.unreachable=e,$.utf8StringToString=function(ot){return unescape(encodeURIComponent(ot))},$.warn=St;const _t=!(typeof process!="object"||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=_t,$.IDENTITY_MATRIX=[1,0,0,1,0,0],$.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],$.MAX_IMAGE_SIZE_TO_CACHE=1e7,$.LINE_FACTOR=1.35,$.LINE_DESCENT_FACTOR=.35,$.BASELINE_FACTOR=.25925925925925924,$.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},$.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$.AnnotationEditorPrefix="pdfjs_internal_editor_",$.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},$.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},$.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},$.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},$.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},$.AnnotationReplyType={GROUP:"Group",REPLY:"R"},$.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},$.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},$.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},$.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},$.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},$.PageActionEventType={O:"PageOpen",C:"PageClose"};const s={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=s,$.CMapCompressionType={NONE:0,BINARY:1},$.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},$.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let bt=s.WARNINGS;function St(tt){bt>=s.WARNINGS&&console.log(`Warning: ${tt}`)}function e(tt){throw new Error(tt)}function i(tt,ot,mt,Ct=!1){return Object.defineProperty(tt,ot,{value:mt,enumerable:!Ct,configurable:!0,writable:!1}),mt}const d=function(){function ot(mt,Ct){this.constructor===ot&&e("Cannot initialize BaseException."),this.message=mt,this.name=Ct}return ot.prototype=new Error,ot.constructor=ot,ot}();$.BaseException=d,$.PasswordException=class extends d{constructor(ot,mt){super(ot,"PasswordException"),this.code=mt}},$.UnknownErrorException=class extends d{constructor(ot,mt){super(ot,"UnknownErrorException"),this.details=mt}},$.InvalidPDFException=class extends d{constructor(ot){super(ot,"InvalidPDFException")}},$.MissingPDFException=class extends d{constructor(ot){super(ot,"MissingPDFException")}},$.UnexpectedResponseException=class extends d{constructor(ot,mt){super(ot,"UnexpectedResponseException"),this.status=mt}},$.FormatError=class extends d{constructor(ot){super(ot,"FormatError")}},$.AbortException=class extends d{constructor(ot){super(ot,"AbortException")}};function ut(tt){typeof tt=="object"&&(tt==null?void 0:tt.length)!==void 0||e("Invalid argument for bytesToString");const ot=tt.length,mt=8192;if(ot<mt)return String.fromCharCode.apply(null,tt);const Ct=[];for(let Nt=0;Nt<ot;Nt+=mt){const Pt=Math.min(Nt+mt,ot),Tt=tt.subarray(Nt,Pt);Ct.push(String.fromCharCode.apply(null,Tt))}return Ct.join("")}function dt(tt){typeof tt!="string"&&e("Invalid argument for stringToBytes");const ot=tt.length,mt=new Uint8Array(ot);for(let Ct=0;Ct<ot;++Ct)mt[Ct]=255&tt.charCodeAt(Ct);return mt}$.FeatureTest=class{static get isLittleEndian(){return i(this,"isLittleEndian",function(){const mt=new Uint8Array(4);return mt[0]=1,new Uint32Array(mt.buffer,0,1)[0]===1}())}static get isEvalSupported(){return i(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return i(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?i(this,"platform",{isWin:!1,isMac:!1}):i(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ot,mt;return i(this,"isCSSRoundSupported",(mt=(ot=globalThis.CSS)==null?void 0:ot.supports)==null?void 0:mt.call(ot,"width: round(1.5px, 1px)"))}};const et=[...Array(256).keys()].map(tt=>tt.toString(16).padStart(2,"0"));$.Util=class{static makeHexColor(ot,mt,Ct){return`#${et[ot]}${et[mt]}${et[Ct]}`}static scaleMinMax(ot,mt){let Ct;ot[0]?(ot[0]<0&&(Ct=mt[0],mt[0]=mt[1],mt[1]=Ct),mt[0]*=ot[0],mt[1]*=ot[0],ot[3]<0&&(Ct=mt[2],mt[2]=mt[3],mt[3]=Ct),mt[2]*=ot[3],mt[3]*=ot[3]):(Ct=mt[0],mt[0]=mt[2],mt[2]=Ct,Ct=mt[1],mt[1]=mt[3],mt[3]=Ct,ot[1]<0&&(Ct=mt[2],mt[2]=mt[3],mt[3]=Ct),mt[2]*=ot[1],mt[3]*=ot[1],ot[2]<0&&(Ct=mt[0],mt[0]=mt[1],mt[1]=Ct),mt[0]*=ot[2],mt[1]*=ot[2]),mt[0]+=ot[4],mt[1]+=ot[4],mt[2]+=ot[5],mt[3]+=ot[5]}static transform(ot,mt){return[ot[0]*mt[0]+ot[2]*mt[1],ot[1]*mt[0]+ot[3]*mt[1],ot[0]*mt[2]+ot[2]*mt[3],ot[1]*mt[2]+ot[3]*mt[3],ot[0]*mt[4]+ot[2]*mt[5]+ot[4],ot[1]*mt[4]+ot[3]*mt[5]+ot[5]]}static applyTransform(ot,mt){return[ot[0]*mt[0]+ot[1]*mt[2]+mt[4],ot[0]*mt[1]+ot[1]*mt[3]+mt[5]]}static applyInverseTransform(ot,mt){const Ct=mt[0]*mt[3]-mt[1]*mt[2];return[(ot[0]*mt[3]-ot[1]*mt[2]+mt[2]*mt[5]-mt[4]*mt[3])/Ct,(-ot[0]*mt[1]+ot[1]*mt[0]+mt[4]*mt[1]-mt[5]*mt[0])/Ct]}static getAxialAlignedBoundingBox(ot,mt){const Ct=this.applyTransform(ot,mt),Nt=this.applyTransform(ot.slice(2,4),mt),Pt=this.applyTransform([ot[0],ot[3]],mt),Tt=this.applyTransform([ot[2],ot[1]],mt);return[Math.min(Ct[0],Nt[0],Pt[0],Tt[0]),Math.min(Ct[1],Nt[1],Pt[1],Tt[1]),Math.max(Ct[0],Nt[0],Pt[0],Tt[0]),Math.max(Ct[1],Nt[1],Pt[1],Tt[1])]}static inverseTransform(ot){const mt=ot[0]*ot[3]-ot[1]*ot[2];return[ot[3]/mt,-ot[1]/mt,-ot[2]/mt,ot[0]/mt,(ot[2]*ot[5]-ot[4]*ot[3])/mt,(ot[4]*ot[1]-ot[5]*ot[0])/mt]}static singularValueDecompose2dScale(ot){const mt=[ot[0],ot[2],ot[1],ot[3]],Ct=ot[0]*mt[0]+ot[1]*mt[2],Nt=ot[0]*mt[1]+ot[1]*mt[3],Pt=ot[2]*mt[0]+ot[3]*mt[2],Tt=ot[2]*mt[1]+ot[3]*mt[3],Et=(Ct+Tt)/2,rt=Math.sqrt((Ct+Tt)**2-4*(Ct*Tt-Pt*Nt))/2,ft=Et+rt||1,wt=Et-rt||1;return[Math.sqrt(ft),Math.sqrt(wt)]}static normalizeRect(ot){const mt=ot.slice(0);return ot[0]>ot[2]&&(mt[0]=ot[2],mt[2]=ot[0]),ot[1]>ot[3]&&(mt[1]=ot[3],mt[3]=ot[1]),mt}static intersect(ot,mt){const Ct=Math.max(Math.min(ot[0],ot[2]),Math.min(mt[0],mt[2])),Nt=Math.min(Math.max(ot[0],ot[2]),Math.max(mt[0],mt[2]));if(Ct>Nt)return null;const Pt=Math.max(Math.min(ot[1],ot[3]),Math.min(mt[1],mt[3])),Tt=Math.min(Math.max(ot[1],ot[3]),Math.max(mt[1],mt[3]));return Pt>Tt?null:[Ct,Pt,Nt,Tt]}static bezierBoundingBox(ot,mt,Ct,Nt,Pt,Tt,Et,rt){const ft=[],wt=[[],[]];let b,pt,Ot,kt,st,nt,gt,Ft;for(let jt=0;jt<2;++jt)if(jt===0?(pt=6*ot-12*Ct+6*Pt,b=-3*ot+9*Ct-9*Pt+3*Et,Ot=3*Ct-3*ot):(pt=6*mt-12*Nt+6*Tt,b=-3*mt+9*Nt-9*Tt+3*rt,Ot=3*Nt-3*mt),Math.abs(b)<1e-12){if(Math.abs(pt)<1e-12)continue;kt=-Ot/pt,0<kt&&kt<1&&ft.push(kt)}else gt=pt*pt-4*Ot*b,Ft=Math.sqrt(gt),gt<0||(st=(-pt+Ft)/(2*b),0<st&&st<1&&ft.push(st),nt=(-pt-Ft)/(2*b),0<nt&&nt<1&&ft.push(nt));let yt,vt=ft.length;const Lt=vt;for(;vt--;)kt=ft[vt],yt=1-kt,wt[0][vt]=yt*yt*yt*ot+3*yt*yt*kt*Ct+3*yt*kt*kt*Pt+kt*kt*kt*Et,wt[1][vt]=yt*yt*yt*mt+3*yt*yt*kt*Nt+3*yt*kt*kt*Tt+kt*kt*kt*rt;return wt[0][Lt]=ot,wt[1][Lt]=mt,wt[0][Lt+1]=Et,wt[1][Lt+1]=rt,wt[0].length=wt[1].length=Lt+2,[Math.min(...wt[0]),Math.min(...wt[1]),Math.max(...wt[0]),Math.max(...wt[1])]}};const _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function c(tt){return decodeURIComponent(escape(tt))}$.PromiseCapability=(it=class{constructor(){Fn(this,ct,!1);this.promise=new Promise((ot,mt)=>{this.resolve=Ct=>{On(this,ct,!0),ot(Ct)},this.reject=Ct=>{On(this,ct,!0),mt(Ct)}})}get settled(){return Kt(this,ct)}},ct=new WeakMap,it);let lt=null,at=null;$.AnnotationPrefix="pdfjs_internal_id_"},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XRefParseException=$.XRefEntryException=$.ParserEOFException=$.PDF_VERSION_REGEXP=$.MissingDataException=void 0,$.arrayBuffersToBytes=function(ct){const it=ct.length;if(it===0)return new Uint8Array(0);if(it===1)return new Uint8Array(ct[0]);let tt=0;for(let Ct=0;Ct<it;Ct++)tt+=ct[Ct].byteLength;const ot=new Uint8Array(tt);let mt=0;for(let Ct=0;Ct<it;Ct++){const Nt=new Uint8Array(ct[Ct]);ot.set(Nt,mt),mt+=Nt.byteLength}return ot},$.collectActions=function(ct,it,tt){const ot=Object.create(null),mt=dt({dict:it,key:"AA",stopWhenFound:!1});if(mt)for(let Ct=mt.length-1;Ct>=0;Ct--){const Nt=mt[Ct];if(Nt instanceof bt.Dict)for(const Pt of Nt.getKeys()){const Tt=tt[Pt];if(!Tt)continue;const Et=[];_(Nt.getRaw(Pt),ct,Et,new bt.RefSet),Et.length>0&&(ot[Tt]=Et)}}if(it.has("A")){const Ct=[];_(it.get("A"),ct,Ct,new bt.RefSet),Ct.length>0&&(ot.Action=Ct)}return(0,s.objectSize)(ot)>0?ot:null},$.encodeToXmlString=function(ct){const it=[];let tt=0;for(let ot=0,mt=ct.length;ot<mt;ot++){const Ct=ct.codePointAt(ot);if(32<=Ct&&Ct<=126){const Nt=c[Ct];Nt&&(tt<ot&&it.push(ct.substring(tt,ot)),it.push(Nt),tt=ot+1)}else tt<ot&&it.push(ct.substring(tt,ot)),it.push(`&#x${Ct.toString(16).toUpperCase()};`),Ct>55295&&(Ct<57344||Ct>65533)&&ot++,tt=ot+1}return it.length===0?ct:(tt<ct.length&&it.push(ct.substring(tt,ct.length)),it.join(""))},$.escapePDFName=function(ct){const it=[];let tt=0;for(let ot=0,mt=ct.length;ot<mt;ot++){const Ct=ct.charCodeAt(ot);(Ct<33||Ct>126||Ct===35||Ct===40||Ct===41||Ct===60||Ct===62||Ct===91||Ct===93||Ct===123||Ct===125||Ct===47||Ct===37)&&(tt<ot&&it.push(ct.substring(tt,ot)),it.push(`#${Ct.toString(16)}`),tt=ot+1)}return it.length===0?ct:(tt<ct.length&&it.push(ct.substring(tt,ct.length)),it.join(""))},$.escapeString=function(ct){return ct.replaceAll(/([()\\\n\r])/g,it=>it===`
`?"\\n":it==="\r"?"\\r":`\\${it}`)},$.getInheritableProperty=dt,$.getLookupTableFactory=function(ct){let it;return function(){return ct&&(it=Object.create(null),ct(it),ct=null),it}},$.getNewAnnotationsMap=function(ct){if(!ct)return null;const it=new Map;for(const[tt,ot]of ct){if(!tt.startsWith(s.AnnotationEditorPrefix))continue;let mt=it.get(ot.pageIndex);mt||(mt=[],it.set(ot.pageIndex,mt)),mt.push(ot)}return it.size>0?it:null},$.getRotationMatrix=function(ct,it,tt){switch(ct){case 90:return[0,1,-1,0,it,0];case 180:return[-1,0,0,-1,it,tt];case 270:return[0,-1,1,0,0,tt];default:throw new Error("Invalid rotation")}},$.isAscii=function(ct){return/^[\x00-\x7F]*$/.test(ct)},$.isWhiteSpace=function(ct){return ct===32||ct===9||ct===13||ct===10},$.log2=function(ct){return ct<=0?0:Math.ceil(Math.log2(ct))},$.numberToString=function(ct){if(Number.isInteger(ct))return ct.toString();const it=Math.round(100*ct);return it%100==0?(it/100).toString():it%10==0?ct.toFixed(1):ct.toFixed(2)},$.parseXFAPath=function(ct){const it=/(.+)\[(\d+)\]$/;return ct.split(".").map(tt=>{const ot=tt.match(it);return ot?{name:ot[1],pos:parseInt(ot[2],10)}:{name:tt,pos:0}})},$.readInt8=function(ct,it){return ct[it]<<24>>24},$.readUint16=function(ct,it){return ct[it]<<8|ct[it+1]},$.readUint32=function(ct,it){return(ct[it]<<24|ct[it+1]<<16|ct[it+2]<<8|ct[it+3])>>>0},$.recoverJsURL=function(ct){const it=new RegExp("^\\s*("+["app.launchURL","window.open","xfa.host.gotoURL"].join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(ct);if(it!=null&&it[2]){const tt=it[2];let ot=!1;return it[3]==="true"&&it[1]==="app.launchURL"&&(ot=!0),{url:tt,newWindow:ot}}return null},$.stringToUTF16HexString=function(ct){const it=[];for(let tt=0,ot=ct.length;tt<ot;tt++){const mt=ct.charCodeAt(tt);it.push((mt>>8&255).toString(16).padStart(2,"0"),(255&mt).toString(16).padStart(2,"0"))}return it.join("")},$.stringToUTF16String=function(ct,it=!1){const tt=[];it&&tt.push("þÿ");for(let ot=0,mt=ct.length;ot<mt;ot++){const Ct=ct.charCodeAt(ot);tt.push(String.fromCharCode(Ct>>8&255),String.fromCharCode(255&Ct))}return tt.join("")},$.toRomanNumerals=function(ct,it=!1){(0,s.assert)(Number.isInteger(ct)&&ct>0,"The number should be a positive integer.");const tt=[];let ot;for(;ct>=1e3;)ct-=1e3,tt.push("M");ot=ct/100|0,ct%=100,tt.push(et[ot]),ot=ct/10|0,ct%=10,tt.push(et[10+ot]),tt.push(et[20+ct]);const mt=tt.join("");return it?mt.toLowerCase():mt},$.validateCSSFont=function(ct){const it=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:tt,fontWeight:ot,italicAngle:mt}=ct;if(!lt(tt,!0))return!1;const Ct=ot?ot.toString():"";ct.fontWeight=it.has(Ct)?Ct:"400";const Nt=parseFloat(mt);return ct.italicAngle=isNaN(Nt)||Nt<-90||Nt>90?"14":mt.toString(),!0},$.validateFontName=lt;var s=_t(2),bt=_t(4),St=_t(5);$.PDF_VERSION_REGEXP=/^[1-9]\.\d$/;class e extends s.BaseException{constructor(ct,it){super(`Missing data [${ct}, ${it})`,"MissingDataException"),this.begin=ct,this.end=it}}$.MissingDataException=e;class i extends s.BaseException{constructor(ct){super(ct,"ParserEOFException")}}$.ParserEOFException=i;class d extends s.BaseException{constructor(ct){super(ct,"XRefEntryException")}}$.XRefEntryException=d;class ut extends s.BaseException{constructor(ct){super(ct,"XRefParseException")}}$.XRefParseException=ut;function dt({dict:at,key:ct,getArray:it=!1,stopWhenFound:tt=!0}){let ot;const mt=new bt.RefSet;for(;at instanceof bt.Dict&&(!at.objId||!mt.has(at.objId));){at.objId&&mt.put(at.objId);const Ct=it?at.getArray(ct):at.get(ct);if(Ct!==void 0){if(tt)return Ct;(ot||(ot=[])).push(Ct)}at=at.get("Parent")}return ot}const et=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function _(at,ct,it,tt){if(!at)return;let ot=null;if(at instanceof bt.Ref){if(tt.has(at))return;ot=at,tt.put(ot),at=ct.fetch(at)}if(Array.isArray(at))for(const mt of at)_(mt,ct,it,tt);else if(at instanceof bt.Dict){if((0,bt.isName)(at.get("S"),"JavaScript")){const mt=at.get("JS");let Ct;mt instanceof St.BaseStream?Ct=mt.getString():typeof mt=="string"&&(Ct=mt),Ct&&(Ct=(0,s.stringToPDFString)(Ct).replaceAll("\0","")),Ct&&it.push(Ct)}_(at.getRaw("Next"),ct,it,tt)}ot&&tt.remove(ot)}const c={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function lt(at,ct=!1){const it=/^("|').*("|')$/.exec(at);if(it&&it[1]===it[2]){if(new RegExp(`[^\\\\]${it[1]}`).test(at.slice(1,-1)))return ct&&(0,s.warn)(`FontFamily contains unescaped ${it[1]}: ${at}.`),!1}else for(const tt of at.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(tt)||!/^[\w-\\]+$/.test(tt))return ct&&(0,s.warn)(`FontFamily contains invalid <custom-ident>: ${at}.`),!1;return!0}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.RefSetCache=$.RefSet=$.Ref=$.Name=$.EOF=$.Dict=$.Cmd=$.CIRCULAR_REF=void 0,$.clearPrimitiveCaches=function(){e=Object.create(null),i=Object.create(null),d=Object.create(null)},$.isCmd=function(tt,ot){return tt instanceof dt&&(ot===void 0||tt.cmd===ot)},$.isDict=function(tt,ot){return tt instanceof _&&(ot===void 0||ct(tt.get("Type"),ot))},$.isName=ct,$.isRefsEqual=function(tt,ot){return tt.num===ot.num&&tt.gen===ot.gen};var s=_t(2);const bt=Symbol("CIRCULAR_REF");$.CIRCULAR_REF=bt;const St=Symbol("EOF");$.EOF=St;let e=Object.create(null),i=Object.create(null),d=Object.create(null);class ut{constructor(tt){this.name=tt}static get(tt){return i[tt]||(i[tt]=new ut(tt))}}$.Name=ut;class dt{constructor(tt){this.cmd=tt}static get(tt){return e[tt]||(e[tt]=new dt(tt))}}$.Cmd=dt;const et=function(){return et};class _{constructor(tt=null){this._map=Object.create(null),this.xref=tt,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=et}assignXref(tt){this.xref=tt}get size(){return Object.keys(this._map).length}get(tt,ot,mt){let Ct=this._map[tt];return Ct===void 0&&ot!==void 0&&(Ct=this._map[ot],Ct===void 0&&mt!==void 0&&(Ct=this._map[mt])),Ct instanceof c&&this.xref?this.xref.fetch(Ct,this.suppressEncryption):Ct}async getAsync(tt,ot,mt){let Ct=this._map[tt];return Ct===void 0&&ot!==void 0&&(Ct=this._map[ot],Ct===void 0&&mt!==void 0&&(Ct=this._map[mt])),Ct instanceof c&&this.xref?this.xref.fetchAsync(Ct,this.suppressEncryption):Ct}getArray(tt,ot,mt){let Ct=this._map[tt];if(Ct===void 0&&ot!==void 0&&(Ct=this._map[ot],Ct===void 0&&mt!==void 0&&(Ct=this._map[mt])),Ct instanceof c&&this.xref&&(Ct=this.xref.fetch(Ct,this.suppressEncryption)),Array.isArray(Ct)){Ct=Ct.slice();for(let Nt=0,Pt=Ct.length;Nt<Pt;Nt++)Ct[Nt]instanceof c&&this.xref&&(Ct[Nt]=this.xref.fetch(Ct[Nt],this.suppressEncryption))}return Ct}getRaw(tt){return this._map[tt]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(tt,ot){this._map[tt]=ot}has(tt){return this._map[tt]!==void 0}forEach(tt){for(const ot in this._map)tt(ot,this.get(ot))}static get empty(){const tt=new _(null);return tt.set=(ot,mt)=>{(0,s.unreachable)("Should not call `set` on the empty dictionary.")},(0,s.shadow)(this,"empty",tt)}static merge({xref:tt,dictArray:ot,mergeSubDicts:mt=!1}){const Ct=new _(tt),Nt=new Map;for(const Pt of ot)if(Pt instanceof _)for(const[Tt,Et]of Object.entries(Pt._map)){let rt=Nt.get(Tt);if(rt===void 0)rt=[],Nt.set(Tt,rt);else if(!(mt&&Et instanceof _))continue;rt.push(Et)}for(const[Pt,Tt]of Nt){if(Tt.length===1||!(Tt[0]instanceof _)){Ct._map[Pt]=Tt[0];continue}const Et=new _(tt);for(const rt of Tt)for(const[ft,wt]of Object.entries(rt._map))Et._map[ft]===void 0&&(Et._map[ft]=wt);Et.size>0&&(Ct._map[Pt]=Et)}return Nt.clear(),Ct.size>0?Ct:_.empty}clone(){const tt=new _(this.xref);for(const ot of this.getKeys())tt.set(ot,this.getRaw(ot));return tt}}$.Dict=_;class c{constructor(tt,ot){this.num=tt,this.gen=ot}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(tt){const ot=d[tt];if(ot)return ot;const mt=/^(\d+)R(\d*)$/.exec(tt);return mt&&mt[1]!=="0"?d[tt]=new c(parseInt(mt[1]),mt[2]?parseInt(mt[2]):0):null}static get(tt,ot){const mt=ot===0?`${tt}R`:`${tt}R${ot}`;return d[mt]||(d[mt]=new c(tt,ot))}}$.Ref=c;class lt{constructor(tt=null){this._set=new Set(tt==null?void 0:tt._set)}has(tt){return this._set.has(tt.toString())}put(tt){this._set.add(tt.toString())}remove(tt){this._set.delete(tt.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}$.RefSet=lt;class at{constructor(){this._map=new Map}get size(){return this._map.size}get(tt){return this._map.get(tt.toString())}has(tt){return this._map.has(tt.toString())}put(tt,ot){this._map.set(tt.toString(),ot)}putAlias(tt,ot){this._map.set(tt.toString(),this.get(ot))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}$.RefSetCache=at;function ct(it,tt){return it instanceof ut&&(tt===void 0||it.name===tt)}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStream=void 0;var s=_t(2);class bt{constructor(){this.constructor===bt&&(0,s.unreachable)("Cannot initialize BaseStream.")}get length(){(0,s.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,s.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,s.shadow)(this,"isDataLoaded",!0)}getByte(){(0,s.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,s.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const i=this.getBytes(e);return this.pos-=i.length,i}getUint16(){const e=this.getByte(),i=this.getByte();return e===-1||i===-1?-1:(e<<8)+i}getInt32(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}getByteRange(e,i){(0,s.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,s.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,s.unreachable)("Abstract method `reset` called")}moveStart(){(0,s.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,i,d=null){(0,s.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}$.BaseStream=bt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NetworkPdfManager=$.LocalPdfManager=void 0;var s=_t(2),bt=_t(7),St=_t(3),e=_t(9),i=_t(8);class d{constructor(dt){var et;this.constructor===d&&(0,s.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=function(c){if(c){const lt=(0,s.createValidAbsoluteUrl)(c);if(lt)return lt.href;(0,s.warn)(`Invalid absolute docBaseUrl: "${c}".`)}return null}(dt.docBaseUrl),this._docId=dt.docId,this._password=dt.password,this.enableXfa=dt.enableXfa,(et=dt.evaluatorOptions).isOffscreenCanvasSupported&&(et.isOffscreenCanvasSupported=s.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=dt.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(dt,et){return this.ensure(this.pdfDocument,dt,et)}ensureXRef(dt,et){return this.ensure(this.pdfDocument.xref,dt,et)}ensureCatalog(dt,et){return this.ensure(this.pdfDocument.catalog,dt,et)}getPage(dt){return this.pdfDocument.getPage(dt)}fontFallback(dt,et){return this.pdfDocument.fontFallback(dt,et)}loadXfaFonts(dt,et){return this.pdfDocument.loadXfaFonts(dt,et)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(dt){return this.pdfDocument.serializeXfaData(dt)}cleanup(dt=!1){return this.pdfDocument.cleanup(dt)}async ensure(dt,et,_){(0,s.unreachable)("Abstract method `ensure` called")}requestRange(dt,et){(0,s.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(dt=!1){(0,s.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(dt){(0,s.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(dt){this._password=dt}terminate(dt){(0,s.unreachable)("Abstract method `terminate` called")}}$.LocalPdfManager=class extends d{constructor(dt){super(dt);const et=new i.Stream(dt.source);this.pdfDocument=new e.PDFDocument(this,et),this._loadedStreamPromise=Promise.resolve(et)}async ensure(dt,et,_){const c=dt[et];return typeof c=="function"?c.apply(dt,_):c}requestRange(dt,et){return Promise.resolve()}requestLoadedStream(dt=!1){return this._loadedStreamPromise}terminate(dt){}},$.NetworkPdfManager=class extends d{constructor(dt){super(dt),this.streamManager=new bt.ChunkedStreamManager(dt.source,{msgHandler:dt.handler,length:dt.length,disableAutoFetch:dt.disableAutoFetch,rangeChunkSize:dt.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(dt,et,_){try{const c=dt[et];return typeof c=="function"?c.apply(dt,_):c}catch(c){if(!(c instanceof St.MissingDataException))throw c;return await this.requestRange(c.begin,c.end),this.ensure(dt,et,_)}}requestRange(dt,et){return this.streamManager.requestRange(dt,et)}requestLoadedStream(dt=!1){return this.streamManager.requestAllChunks(dt)}sendProgressiveData(dt){this.streamManager.onReceiveData({chunk:dt})}terminate(dt){this.streamManager.abort(dt)}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ChunkedStreamManager=$.ChunkedStream=void 0;var s=_t(3),bt=_t(2),St=_t(8);class e extends St.Stream{constructor(d,ut,dt){super(new Uint8Array(d),0,d,null),this.chunkSize=ut,this._loadedChunks=new Set,this.numChunks=Math.ceil(d/ut),this.manager=dt,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const d=[];for(let ut=0,dt=this.numChunks;ut<dt;++ut)this._loadedChunks.has(ut)||d.push(ut);return d}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(d,ut){const dt=this.chunkSize;if(d%dt!=0)throw new Error(`Bad begin offset: ${d}`);const et=d+ut.byteLength;if(et%dt!=0&&et!==this.bytes.length)throw new Error(`Bad end offset: ${et}`);this.bytes.set(new Uint8Array(ut),d);const _=Math.floor(d/dt),c=Math.floor((et-1)/dt)+1;for(let lt=_;lt<c;++lt)this._loadedChunks.add(lt)}onReceiveProgressiveData(d){let ut=this.progressiveDataLength;const dt=Math.floor(ut/this.chunkSize);this.bytes.set(new Uint8Array(d),ut),ut+=d.byteLength,this.progressiveDataLength=ut;const et=ut>=this.end?this.numChunks:Math.floor(ut/this.chunkSize);for(let _=dt;_<et;++_)this._loadedChunks.add(_)}ensureByte(d){if(d<this.progressiveDataLength)return;const ut=Math.floor(d/this.chunkSize);if(!(ut>this.numChunks)&&ut!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(ut))throw new s.MissingDataException(d,d+1);this.lastSuccessfulEnsureByteChunk=ut}}ensureRange(d,ut){if(d>=ut||ut<=this.progressiveDataLength)return;const dt=Math.floor(d/this.chunkSize);if(dt>this.numChunks)return;const et=Math.min(Math.floor((ut-1)/this.chunkSize)+1,this.numChunks);for(let _=dt;_<et;++_)if(!this._loadedChunks.has(_))throw new s.MissingDataException(d,ut)}nextEmptyChunk(d){const ut=this.numChunks;for(let dt=0;dt<ut;++dt){const et=(d+dt)%ut;if(!this._loadedChunks.has(et))return et}return null}hasChunk(d){return this._loadedChunks.has(d)}getByte(){const d=this.pos;return d>=this.end?-1:(d>=this.progressiveDataLength&&this.ensureByte(d),this.bytes[this.pos++])}getBytes(d){const ut=this.bytes,dt=this.pos,et=this.end;if(!d)return et>this.progressiveDataLength&&this.ensureRange(dt,et),ut.subarray(dt,et);let _=dt+d;return _>et&&(_=et),_>this.progressiveDataLength&&this.ensureRange(dt,_),this.pos=_,ut.subarray(dt,_)}getByteRange(d,ut){return d<0&&(d=0),ut>this.end&&(ut=this.end),ut>this.progressiveDataLength&&this.ensureRange(d,ut),this.bytes.subarray(d,ut)}makeSubStream(d,ut,dt=null){ut?d+ut>this.progressiveDataLength&&this.ensureRange(d,d+ut):d>=this.progressiveDataLength&&this.ensureByte(d);function et(){}et.prototype=Object.create(this),et.prototype.getMissingChunks=function(){const c=this.chunkSize,lt=Math.floor(this.start/c),at=Math.floor((this.end-1)/c)+1,ct=[];for(let it=lt;it<at;++it)this._loadedChunks.has(it)||ct.push(it);return ct},Object.defineProperty(et.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks||this.getMissingChunks().length===0},configurable:!0});const _=new et;return _.pos=_.start=d,_.end=d+ut||this.end,_.dict=dt,_}getBaseStreams(){return[this]}}$.ChunkedStream=e,$.ChunkedStreamManager=class{constructor(d,ut){this.length=ut.length,this.chunkSize=ut.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=d,this.disableAutoFetch=ut.disableAutoFetch,this.msgHandler=ut.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new bt.PromiseCapability}sendRequest(d,ut){const dt=this.pdfNetworkStream.getRangeReader(d,ut);dt.isStreamingSupported||(dt.onProgress=this.onProgress.bind(this));let et=[],_=0;return new Promise((c,lt)=>{const at=({value:ct,done:it})=>{try{if(it){const tt=(0,s.arrayBuffersToBytes)(et);et=null,c(tt);return}_+=ct.byteLength,dt.isStreamingSupported&&this.onProgress({loaded:_}),et.push(ct),dt.read().then(at,lt)}catch(tt){lt(tt)}};dt.read().then(at,lt)}).then(c=>{this.aborted||this.onReceiveData({chunk:c,begin:d})})}requestAllChunks(d=!1){if(!d){const ut=this.stream.getMissingChunks();this._requestChunks(ut)}return this._loadedStreamCapability.promise}_requestChunks(d){const ut=this.currRequestId++,dt=new Set;this._chunksNeededByRequest.set(ut,dt);for(const c of d)this.stream.hasChunk(c)||dt.add(c);if(dt.size===0)return Promise.resolve();const et=new bt.PromiseCapability;this._promisesByRequest.set(ut,et);const _=[];for(const c of dt){let lt=this._requestsByChunk.get(c);lt||(lt=[],this._requestsByChunk.set(c,lt),_.push(c)),lt.push(ut)}if(_.length>0){const c=this.groupChunks(_);for(const lt of c){const at=lt.beginChunk*this.chunkSize,ct=Math.min(lt.endChunk*this.chunkSize,this.length);this.sendRequest(at,ct).catch(et.reject)}}return et.promise.catch(c=>{if(!this.aborted)throw c})}getStream(){return this.stream}requestRange(d,ut){ut=Math.min(ut,this.length);const dt=this.getBeginChunk(d),et=this.getEndChunk(ut),_=[];for(let c=dt;c<et;++c)_.push(c);return this._requestChunks(_)}requestRanges(d=[]){const ut=[];for(const dt of d){const et=this.getBeginChunk(dt.begin),_=this.getEndChunk(dt.end);for(let c=et;c<_;++c)ut.includes(c)||ut.push(c)}return ut.sort(function(dt,et){return dt-et}),this._requestChunks(ut)}groupChunks(d){const ut=[];let dt=-1,et=-1;for(let _=0,c=d.length;_<c;++_){const lt=d[_];dt<0&&(dt=lt),et>=0&&et+1!==lt&&(ut.push({beginChunk:dt,endChunk:et+1}),dt=lt),_+1===d.length&&ut.push({beginChunk:dt,endChunk:lt+1}),et=lt}return ut}onProgress(d){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+d.loaded,total:this.length})}onReceiveData(d){const ut=d.chunk,dt=d.begin===void 0,et=dt?this.progressiveDataLength:d.begin,_=et+ut.byteLength,c=Math.floor(et/this.chunkSize),lt=_<this.length?Math.floor(_/this.chunkSize):Math.ceil(_/this.chunkSize);dt?(this.stream.onReceiveProgressiveData(ut),this.progressiveDataLength=_):this.stream.onReceiveData(et,ut),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const at=[];for(let ct=c;ct<lt;++ct){const it=this._requestsByChunk.get(ct);if(it){this._requestsByChunk.delete(ct);for(const tt of it){const ot=this._chunksNeededByRequest.get(tt);ot.has(ct)&&ot.delete(ct),ot.size>0||at.push(tt)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let ct;if(this.stream.numChunksLoaded===1){const it=this.stream.numChunks-1;this.stream.hasChunk(it)||(ct=it)}else ct=this.stream.nextEmptyChunk(lt);Number.isInteger(ct)&&this._requestChunks([ct])}for(const ct of at){const it=this._promisesByRequest.get(ct);this._promisesByRequest.delete(ct),it.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(d){this._loadedStreamCapability.reject(d)}getBeginChunk(d){return Math.floor(d/this.chunkSize)}getEndChunk(d){return Math.floor((d-1)/this.chunkSize)+1}abort(d){var ut;this.aborted=!0,(ut=this.pdfNetworkStream)==null||ut.cancelAllRequests(d);for(const dt of this._promisesByRequest.values())dt.reject(d)}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StringStream=$.Stream=$.NullStream=void 0;var s=_t(5),bt=_t(2);class St extends s.BaseStream{constructor(i,d,ut,dt){super(),this.bytes=i instanceof Uint8Array?i:new Uint8Array(i),this.start=d||0,this.pos=this.start,this.end=d+ut||this.bytes.length,this.dict=dt}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(i){const d=this.bytes,ut=this.pos,dt=this.end;if(!i)return d.subarray(ut,dt);let et=ut+i;return et>dt&&(et=dt),this.pos=et,d.subarray(ut,et)}getByteRange(i,d){return i<0&&(i=0),d>this.end&&(d=this.end),this.bytes.subarray(i,d)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(i,d,ut=null){return new St(this.bytes.buffer,i,d,ut)}}$.Stream=St,$.StringStream=class extends St{constructor(i){super((0,bt.stringToBytes)(i))}},$.NullStream=class extends St{constructor(){super(new Uint8Array(0))}}},(Ut,$,_t)=>{var b,ko,Ot,Co,st;Object.defineProperty($,"__esModule",{value:!0}),$.Page=$.PDFDocument=void 0;var s=_t(2),bt=_t(10),St=_t(3),e=_t(4),i=_t(51),d=_t(5),ut=_t(74),dt=_t(66),et=_t(68),_=_t(102),c=_t(16),lt=_t(8),at=_t(76),ct=_t(64),it=_t(13),tt=_t(18),ot=_t(72),mt=_t(73),Ct=_t(77),Nt=_t(103);const Pt=[0,0,612,792];class Tt{constructor({pdfManager:gt,xref:Ft,pageIndex:yt,pageDict:vt,ref:Lt,globalIdFactory:jt,fontCache:Ht,builtInCMapCache:Vt,standardFontDataCache:Qt,globalImageCache:_e,systemFontCache:Xt,nonBlendModesSet:Dt,xfaFactory:It}){Fn(this,b);this.pdfManager=gt,this.pageIndex=yt,this.pageDict=vt,this.xref=Ft,this.ref=Lt,this.fontCache=Ht,this.builtInCMapCache=Vt,this.standardFontDataCache=Qt,this.globalImageCache=_e,this.systemFontCache=Xt,this.nonBlendModesSet=Dt,this.evaluatorOptions=gt.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=It;const j={obj:0};this._localIdFactory=class extends jt{static createObjId(){return`p${yt}_${++j.obj}`}static getPageObjId(){return`p${Lt.toString()}`}}}_getInheritableProperty(gt,Ft=!1){const yt=(0,St.getInheritableProperty)({dict:this.pageDict,key:gt,getArray:Ft,stopWhenFound:!1});return Array.isArray(yt)?yt.length!==1&&yt[0]instanceof e.Dict?e.Dict.merge({xref:this.xref,dictArray:yt}):yt[0]:yt}get content(){return this.pageDict.getArray("Contents")}get resources(){const gt=this._getInheritableProperty("Resources");return(0,s.shadow)(this,"resources",gt instanceof e.Dict?gt:e.Dict.empty)}_getBoundingBox(gt){if(this.xfaData)return this.xfaData.bbox;let Ft=this._getInheritableProperty(gt,!0);if(Array.isArray(Ft)&&Ft.length===4){if(Ft=s.Util.normalizeRect(Ft),Ft[2]-Ft[0]>0&&Ft[3]-Ft[1]>0)return Ft;(0,s.warn)(`Empty, or invalid, /${gt} entry.`)}return null}get mediaBox(){return(0,s.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||Pt)}get cropBox(){return(0,s.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let gt=this.pageDict.get("UserUnit");return(typeof gt!="number"||gt<=0)&&(gt=1),(0,s.shadow)(this,"userUnit",gt)}get view(){const{cropBox:gt,mediaBox:Ft}=this;if(gt!==Ft&&!(0,s.isArrayEqual)(gt,Ft)){const yt=s.Util.intersect(gt,Ft);if(yt&&yt[2]-yt[0]>0&&yt[3]-yt[1]>0)return(0,s.shadow)(this,"view",yt);(0,s.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,s.shadow)(this,"view",Ft)}get rotate(){let gt=this._getInheritableProperty("Rotate")||0;return gt%90!=0?gt=0:gt>=360?gt%=360:gt<0&&(gt=(gt%360+360)%360),(0,s.shadow)(this,"rotate",gt)}_onSubStreamError(gt,Ft){if(!this.evaluatorOptions.ignoreErrors)throw gt;(0,s.warn)(`getContentStream - ignoring sub-stream (${Ft}): "${gt}".`)}getContentStream(){return this.pdfManager.ensure(this,"content").then(gt=>gt instanceof d.BaseStream?gt:Array.isArray(gt)?new tt.StreamsSequenceStream(gt,this._onSubStreamError.bind(this)):new lt.NullStream)}get xfaData(){return(0,s.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(gt,Ft,yt,vt){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const Lt=new it.PartialEvaluator({xref:this.xref,handler:gt,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),jt=new e.RefSet,Ht=new e.RefSet;xn(this,b,ko).call(this,yt,jt,Ht);const Vt=this.pageDict,Qt=this.annotations.filter(j=>!(j instanceof e.Ref&&jt.has(j))),_e=await bt.AnnotationFactory.saveNewAnnotations(Lt,Ft,yt,vt);for(const{ref:j}of _e.annotations)j instanceof e.Ref&&!Ht.has(j)&&Qt.push(j);const Xt=Vt.get("Annots");Vt.set("Annots",Qt);const Dt=[];await(0,mt.writeObject)(this.ref,Vt,Dt,this.xref),Xt&&Vt.set("Annots",Xt);const It=_e.dependencies;return It.push({ref:this.ref,data:Dt.join("")},..._e.annotations),It}save(gt,Ft,yt){const vt=new it.PartialEvaluator({xref:this.xref,handler:gt,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(Lt){const jt=[];for(const Ht of Lt)Ht.mustBePrinted(yt)&&jt.push(Ht.save(vt,Ft,yt).catch(function(Vt){return(0,s.warn)(`save - ignoring annotation data during "${Ft.name}" task: "${Vt}".`),null}));return Promise.all(jt).then(function(Ht){return Ht.filter(Vt=>!!Vt)})})}loadResources(gt){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new at.ObjectLoader(this.resources,gt,this.xref).load())}getOperatorList({handler:gt,sink:Ft,task:yt,intent:vt,cacheKey:Lt,annotationStorage:jt=null}){const Ht=this.getContentStream(),Vt=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Qt=new it.PartialEvaluator({xref:this.xref,handler:gt,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),_e=this.xfaFactory?null:(0,St.getNewAnnotationsMap)(jt);let Xt=null,Dt=Promise.resolve(null);if(_e){const j=_e.get(this.pageIndex);if(j){const At=this.pdfManager.ensureDoc("annotationGlobals");let Mt;const Rt=new Set;for(const{bitmapId:zt,bitmap:qt}of j)!zt||qt||Rt.has(zt)||Rt.add(zt);const{isOffscreenCanvasSupported:$t}=this.evaluatorOptions;if(Rt.size>0){const zt=j.slice();for(const[qt,Wt]of jt)qt.startsWith(s.AnnotationEditorPrefix)&&Wt.bitmap&&Rt.has(Wt.bitmapId)&&zt.push(Wt);Mt=bt.AnnotationFactory.generateImages(zt,this.xref,$t)}else Mt=bt.AnnotationFactory.generateImages(j,this.xref,$t);Xt=new e.RefSet,xn(this,b,ko).call(this,j,Xt,null),Dt=At.then(zt=>zt?bt.AnnotationFactory.printNewAnnotations(zt,Qt,yt,j,Mt):null)}}const It=Promise.all([Ht,Vt]).then(([j])=>{const At=new ct.OperatorList(vt,Ft);return gt.send("StartRenderPage",{transparency:Qt.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:Lt}),Qt.getOperatorList({stream:j,task:yt,resources:this.resources,operatorList:At}).then(function(){return At})});return Promise.all([It,this._parsedAnnotations,Dt]).then(function([j,At,Mt]){if(Mt){At=At.filter(Gt=>!(Gt.ref&&Xt.has(Gt.ref)));for(let Gt=0,Zt=Mt.length;Gt<Zt;Gt++){const Yt=Mt[Gt];if(Yt.refToReplace){const tn=At.findIndex(nn=>nn.ref&&(0,e.isRefsEqual)(nn.ref,Yt.refToReplace));tn>=0&&(At.splice(tn,1,Yt),Mt.splice(Gt--,1),Zt--)}}At=At.concat(Mt)}if(At.length===0||vt&s.RenderingIntentFlag.ANNOTATIONS_DISABLE)return j.flush(!0),{length:j.totalLength};const Rt=!!(vt&s.RenderingIntentFlag.ANNOTATIONS_FORMS),$t=!!(vt&s.RenderingIntentFlag.ANY),zt=!!(vt&s.RenderingIntentFlag.DISPLAY),qt=!!(vt&s.RenderingIntentFlag.PRINT),Wt=[];for(const Gt of At)($t||zt&&Gt.mustBeViewed(jt,Rt)||qt&&Gt.mustBePrinted(jt))&&Wt.push(Gt.getOperatorList(Qt,yt,vt,Rt,jt).catch(function(Zt){return(0,s.warn)(`getOperatorList - ignoring annotation data during "${yt.name}" task: "${Zt}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Wt).then(function(Gt){let Zt=!1,Yt=!1;for(const{opList:tn,separateForm:nn,separateCanvas:en}of Gt)j.addOpList(tn),Zt||(Zt=nn),Yt||(Yt=en);return j.flush(!0,{form:Zt,canvas:Yt}),{length:j.totalLength}})})}extractTextContent({handler:gt,task:Ft,includeMarkedContent:yt,disableNormalization:vt,sink:Lt}){const jt=this.getContentStream(),Ht=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([jt,Ht]).then(([Vt])=>new it.PartialEvaluator({xref:this.xref,handler:gt,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:Vt,task:Ft,resources:this.resources,includeMarkedContent:yt,disableNormalization:vt,sink:Lt,viewBox:this.view}))}async getStructTree(){const gt=await this.pdfManager.ensureCatalog("structTreeRoot");return gt?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[gt])).serializable):null}_parseStructTree(gt){const Ft=new ot.StructTreePage(gt,this.pageDict);return Ft.parse(this.ref),Ft}async getAnnotationsData(gt,Ft,yt){const vt=await this._parsedAnnotations;if(vt.length===0)return vt;const Lt=[],jt=[];let Ht;const Vt=!!(yt&s.RenderingIntentFlag.ANY),Qt=!!(yt&s.RenderingIntentFlag.DISPLAY),_e=!!(yt&s.RenderingIntentFlag.PRINT);for(const Xt of vt){const Dt=Vt||Qt&&Xt.viewable;(Dt||_e&&Xt.printable)&&Lt.push(Xt.data),Xt.hasTextContent&&Dt&&(Ht||(Ht=new it.PartialEvaluator({xref:this.xref,handler:gt,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),jt.push(Xt.extractTextContent(Ht,Ft,[-1/0,-1/0,1/0,1/0]).catch(function(It){(0,s.warn)(`getAnnotationsData - ignoring textContent during "${Ft.name}" task: "${It}".`)})))}return await Promise.all(jt),Lt}get annotations(){const gt=this._getInheritableProperty("Annots");return(0,s.shadow)(this,"annotations",Array.isArray(gt)?gt:[])}get _parsedAnnotations(){const gt=this.pdfManager.ensure(this,"annotations").then(async Ft=>{if(Ft.length===0)return Ft;const yt=await this.pdfManager.ensureDoc("annotationGlobals");if(!yt)return[];const vt=[];for(const Ht of Ft)vt.push(bt.AnnotationFactory.create(this.xref,Ht,yt,this._localIdFactory,!1,this.ref).catch(function(Vt){return(0,s.warn)(`_parsedAnnotations: "${Vt}".`),null}));const Lt=[];let jt;for(const Ht of await Promise.all(vt))Ht&&(Ht instanceof bt.PopupAnnotation?(jt||(jt=[])).push(Ht):Lt.push(Ht));return jt&&Lt.push(...jt),Lt});return(0,s.shadow)(this,"_parsedAnnotations",gt)}get jsActions(){const gt=(0,St.collectActions)(this.xref,this.pageDict,s.PageActionEventType);return(0,s.shadow)(this,"jsActions",gt)}}b=new WeakSet,ko=function(gt,Ft,yt){for(const vt of gt)if(vt.id){const Lt=e.Ref.fromString(vt.id);if(!Lt){(0,s.warn)(`A non-linked annotation cannot be modified: ${vt.id}`);continue}if(vt.deleted){Ft.put(Lt);continue}yt==null||yt.put(Lt),vt.ref=Lt,delete vt.id}},$.Page=Tt;const Et=new Uint8Array([37,80,68,70,45]),rt=new Uint8Array([115,116,97,114,116,120,114,101,102]),ft=new Uint8Array([101,110,100,111,98,106]);function wt(nt,gt,Ft=1024,yt=!1){const vt=gt.length,Lt=nt.peekBytes(Ft),jt=Lt.length-vt;if(jt<=0)return!1;if(yt){const Ht=vt-1;let Vt=Lt.length-1;for(;Vt>=Ht;){let Qt=0;for(;Qt<vt&&Lt[Vt-Qt]===gt[Ht-Qt];)Qt++;if(Qt>=vt)return nt.pos+=Vt-Ht,!0;Vt--}}else{let Ht=0;for(;Ht<=jt;){let Vt=0;for(;Vt<vt&&Lt[Ht+Vt]===gt[Vt];)Vt++;if(Vt>=vt)return nt.pos+=Ht,!0;Ht++}}return!1}$.PDFDocument=(st=class{constructor(gt,Ft){Fn(this,Ot);if(Ft.length<=0)throw new s.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=gt,this.stream=Ft,this.xref=new Nt.XRef(Ft,gt),this._pagePromises=new Map,this._version=null;const yt={font:0};this._globalIdFactory=class{static getDocId(){return`g_${gt.docId}`}static createFontId(){return"f"+ ++yt.font}static createObjId(){(0,s.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,s.unreachable)("Abstract method `getPageObjId` called.")}}}parse(gt){this.xref.parse(gt),this.catalog=new dt.Catalog(this.pdfManager,this.xref)}get linearization(){let gt=null;try{gt=c.Linearization.create(this.stream)}catch(Ft){if(Ft instanceof St.MissingDataException)throw Ft;(0,s.info)(Ft)}return(0,s.shadow)(this,"linearization",gt)}get startXRef(){const gt=this.stream;let Ft=0;if(this.linearization)gt.reset(),wt(gt,ft)&&(Ft=gt.pos+6-gt.start);else{const vt=rt.length;let Lt=!1,jt=gt.end;for(;!Lt&&jt>0;)jt-=1024-vt,jt<0&&(jt=0),gt.pos=jt,Lt=wt(gt,rt,1024,!0);if(Lt){gt.skip(9);let Ht;do Ht=gt.getByte();while((0,St.isWhiteSpace)(Ht));let Vt="";for(;Ht>=32&&Ht<=57;)Vt+=String.fromCharCode(Ht),Ht=gt.getByte();Ft=parseInt(Vt,10),isNaN(Ft)&&(Ft=0)}}return(0,s.shadow)(this,"startXRef",Ft)}checkHeader(){const gt=this.stream;if(gt.reset(),!wt(gt,Et))return;gt.moveStart(),gt.skip(Et.length);let Ft,yt="";for(;(Ft=gt.getByte())>32&&yt.length<7;)yt+=String.fromCharCode(Ft);St.PDF_VERSION_REGEXP.test(yt)?this._version=yt:(0,s.warn)(`Invalid PDF header version: ${yt}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let gt=0;return gt=this.catalog.hasActualNumPages?this.catalog.numPages:this.xfaFactory?this.xfaFactory.getNumPages():this.linearization?this.linearization.numPages:this.catalog.numPages,(0,s.shadow)(this,"numPages",gt)}_hasOnlyDocumentSignatures(gt,Ft=0){return!!Array.isArray(gt)&&gt.every(yt=>{if(!((yt=this.xref.fetchIfRef(yt))instanceof e.Dict))return!1;if(yt.has("Kids"))return++Ft>10?((0,s.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(yt.get("Kids"),Ft);const vt=(0,e.isName)(yt.get("FT"),"Sig"),Lt=yt.get("Rect"),jt=Array.isArray(Lt)&&Lt.every(Ht=>Ht===0);return vt&&jt})}get _xfaStreams(){const gt=this.catalog.acroForm;if(!gt)return null;const Ft=gt.get("XFA"),yt={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(Ft instanceof d.BaseStream&&!Ft.isEmpty)return yt["xdp:xdp"]=Ft,yt;if(!Array.isArray(Ft)||Ft.length===0)return null;for(let vt=0,Lt=Ft.length;vt<Lt;vt+=2){let jt;if(jt=vt===0?"xdp:xdp":vt===Lt-2?"/xdp:xdp":Ft[vt],!yt.hasOwnProperty(jt))continue;const Ht=this.xref.fetchIfRef(Ft[vt+1]);Ht instanceof d.BaseStream&&!Ht.isEmpty&&(yt[jt]=Ht)}return yt}get xfaDatasets(){const gt=this._xfaStreams;if(!gt)return(0,s.shadow)(this,"xfaDatasets",null);for(const Ft of["datasets","xdp:xdp"]){const yt=gt[Ft];if(yt)try{const vt={[Ft]:(0,s.stringToUTF8String)(yt.getString())};return(0,s.shadow)(this,"xfaDatasets",new _.DatasetReader(vt))}catch{(0,s.warn)("XFA - Invalid utf-8 string.");break}}return(0,s.shadow)(this,"xfaDatasets",null)}get xfaData(){const gt=this._xfaStreams;if(!gt)return null;const Ft=Object.create(null);for(const[yt,vt]of Object.entries(gt))if(vt)try{Ft[yt]=(0,s.stringToUTF8String)(vt.getString())}catch{return(0,s.warn)("XFA - Invalid utf-8 string."),null}return Ft}get xfaFactory(){let gt;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(gt=this.xfaData),(0,s.shadow)(this,"xfaFactory",gt?new Ct.XFAFactory(gt):null)}get isPureXfa(){return!!this.xfaFactory&&this.xfaFactory.isValid()}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const gt=await this.pdfManager.ensureCatalog("xfaImages");if(!gt)return;const Ft=gt.getKeys();await new at.ObjectLoader(gt,Ft,this.xref).load();const vt=new Map;for(const Lt of Ft){const jt=gt.get(Lt);jt instanceof d.BaseStream&&vt.set(Lt,jt.getBytes())}this.xfaFactory.setImages(vt)}async loadXfaFonts(gt,Ft){const yt=await this.pdfManager.ensureCatalog("acroForm");if(!yt)return;const vt=await yt.getAsync("DR");if(!(vt instanceof e.Dict))return;await new at.ObjectLoader(vt,["Font"],this.xref).load();const jt=vt.get("Font");if(!(jt instanceof e.Dict))return;const Ht=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);Ht.useSystemFonts=!1;const Vt=new it.PartialEvaluator({xref:this.xref,handler:gt,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:Ht}),Qt=new ct.OperatorList,_e=[],Xt={get font(){return _e.at(-1)},set font(Mt){_e.push(Mt)},clone(){return this}},Dt=new Map;jt.forEach((Mt,Rt)=>{Dt.set(Mt,Rt)});const It=[];for(const[Mt,Rt]of Dt){const $t=Rt.get("FontDescriptor");if(!($t instanceof e.Dict))continue;let zt=$t.get("FontFamily");zt=zt.replaceAll(/[ ]+(\d)/g,"$1");const qt={fontFamily:zt,fontWeight:$t.get("FontWeight"),italicAngle:-$t.get("ItalicAngle")};(0,St.validateCSSFont)(qt)&&It.push(Vt.handleSetFont(vt,[e.Name.get(Mt),1],null,Qt,Ft,Xt,null,qt).catch(function(Wt){return(0,s.warn)(`loadXfaFonts: "${Wt}".`),null}))}await Promise.all(It);const j=this.xfaFactory.setFonts(_e);if(!j)return;Ht.ignoreErrors=!0,It.length=0,_e.length=0;const At=new Set;for(const Mt of j)(0,i.getXfaFontName)(`${Mt}-Regular`)||At.add(Mt);At.size&&j.push("PdfJS-Fallback");for(const Mt of j)if(!At.has(Mt))for(const Rt of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const $t=`${Mt}-${Rt.name}`,zt=(0,i.getXfaFontDict)($t);It.push(Vt.handleSetFont(vt,[e.Name.get($t),1],null,Qt,Ft,Xt,zt,{fontFamily:Mt,fontWeight:Rt.fontWeight,italicAngle:Rt.italicAngle}).catch(function(qt){return(0,s.warn)(`loadXfaFonts: "${qt}".`),null}))}await Promise.all(It),this.xfaFactory.appendFonts(_e,At)}async serializeXfaData(gt){return this.xfaFactory?this.xfaFactory.serializeData(gt):null}get version(){return this.catalog.version||this._version}get formInfo(){const gt={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},Ft=this.catalog.acroForm;if(!Ft)return(0,s.shadow)(this,"formInfo",gt);try{const yt=Ft.get("Fields"),vt=Array.isArray(yt)&&yt.length>0;gt.hasFields=vt;const Lt=Ft.get("XFA");gt.hasXfa=Array.isArray(Lt)&&Lt.length>0||Lt instanceof d.BaseStream&&!Lt.isEmpty;const jt=!!(1&Ft.get("SigFlags")),Ht=jt&&this._hasOnlyDocumentSignatures(yt);gt.hasAcroForm=vt&&!Ht,gt.hasSignatures=jt}catch(yt){if(yt instanceof St.MissingDataException)throw yt;(0,s.warn)(`Cannot fetch form information: "${yt}".`)}return(0,s.shadow)(this,"formInfo",gt)}get documentInfo(){const gt={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let Ft;try{Ft=this.xref.trailer.get("Info")}catch(yt){if(yt instanceof St.MissingDataException)throw yt;(0,s.info)("The document information dictionary is invalid.")}if(!(Ft instanceof e.Dict))return(0,s.shadow)(this,"documentInfo",gt);for(const yt of Ft.getKeys()){const vt=Ft.get(yt);switch(yt){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof vt=="string"){gt[yt]=(0,s.stringToPDFString)(vt);continue}break;case"Trapped":if(vt instanceof e.Name){gt[yt]=vt;continue}break;default:let Lt;switch(typeof vt){case"string":Lt=(0,s.stringToPDFString)(vt);break;case"number":case"boolean":Lt=vt;break;default:vt instanceof e.Name&&(Lt=vt)}if(Lt===void 0){(0,s.warn)(`Bad value, for custom key "${yt}", in Info: ${vt}.`);continue}gt.Custom||(gt.Custom=Object.create(null)),gt.Custom[yt]=Lt;continue}(0,s.warn)(`Bad value, for key "${yt}", in Info: ${vt}.`)}return(0,s.shadow)(this,"documentInfo",gt)}get fingerprints(){function gt(jt){return typeof jt=="string"&&jt.length>0&&jt!=="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function Ft(jt){const Ht=[];for(const Vt of jt){const Qt=Vt.toString(16);Ht.push(Qt.padStart(2,"0"))}return Ht.join("")}const yt=this.xref.trailer.get("ID");let vt,Lt;return Array.isArray(yt)&&gt(yt[0])?(vt=(0,s.stringToBytes)(yt[0]),yt[1]!==yt[0]&&gt(yt[1])&&(Lt=(0,s.stringToBytes)(yt[1]))):vt=(0,ut.calculateMD5)(this.stream.getByteRange(0,1024),0,1024),(0,s.shadow)(this,"fingerprints",[Ft(vt),Lt?Ft(Lt):null])}async _getLinearizationPage(gt){const{catalog:Ft,linearization:yt,xref:vt}=this,Lt=e.Ref.get(yt.objectNumberFirst,0);try{const jt=await vt.fetchAsync(Lt);if(jt instanceof e.Dict){let Ht=jt.getRaw("Type");if(Ht instanceof e.Ref&&(Ht=await vt.fetchAsync(Ht)),(0,e.isName)(Ht,"Page")||!jt.has("Type")&&!jt.has("Kids"))return Ft.pageKidsCountCache.has(Lt)||Ft.pageKidsCountCache.put(Lt,1),Ft.pageIndexCache.has(Lt)||Ft.pageIndexCache.put(Lt,0),[jt,Lt]}throw new s.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(jt){return(0,s.warn)(`_getLinearizationPage: "${jt.message}".`),Ft.getPageDict(gt)}}getPage(gt){const Ft=this._pagePromises.get(gt);if(Ft)return Ft;const{catalog:yt,linearization:vt,xfaFactory:Lt}=this;let jt;return jt=Lt?Promise.resolve([e.Dict.empty,null]):(vt==null?void 0:vt.pageFirst)===gt?this._getLinearizationPage(gt):yt.getPageDict(gt),jt=jt.then(([Ht,Vt])=>new Tt({pdfManager:this.pdfManager,xref:this.xref,pageIndex:gt,pageDict:Ht,ref:Vt,globalIdFactory:this._globalIdFactory,fontCache:yt.fontCache,builtInCMapCache:yt.builtInCMapCache,standardFontDataCache:yt.standardFontDataCache,globalImageCache:yt.globalImageCache,systemFontCache:yt.systemFontCache,nonBlendModesSet:yt.nonBlendModesSet,xfaFactory:Lt})),this._pagePromises.set(gt,jt),jt}async checkFirstPage(gt=!1){if(!gt)try{await this.getPage(0)}catch(Ft){if(Ft instanceof St.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new St.XRefParseException}}async checkLastPage(gt=!1){const{catalog:Ft,pdfManager:yt}=this;Ft.setActualNumPages();let vt;try{if(await Promise.all([yt.ensureDoc("xfaFactory"),yt.ensureDoc("linearization"),yt.ensureCatalog("numPages")]),this.xfaFactory)return;if(vt=this.linearization?this.linearization.numPages:Ft.numPages,!Number.isInteger(vt))throw new s.FormatError("Page count is not an integer.");if(vt<=1)return;await this.getPage(vt-1)}catch(Lt){if(this._pagePromises.delete(vt-1),await this.cleanup(),Lt instanceof St.XRefEntryException&&!gt)throw new St.XRefParseException;(0,s.warn)(`checkLastPage - invalid /Pages tree /Count: ${vt}.`);let jt;try{jt=await Ft.getAllPageDicts(gt)}catch(Ht){if(Ht instanceof St.XRefEntryException&&!gt)throw new St.XRefParseException;Ft.setActualNumPages(1);return}for(const[Ht,[Vt,Qt]]of jt){let _e;Vt instanceof Error?(_e=Promise.reject(Vt),_e.catch(()=>{})):_e=Promise.resolve(new Tt({pdfManager:yt,xref:this.xref,pageIndex:Ht,pageDict:Vt,ref:Qt,globalIdFactory:this._globalIdFactory,fontCache:Ft.fontCache,builtInCMapCache:Ft.builtInCMapCache,standardFontDataCache:Ft.standardFontDataCache,globalImageCache:Ft.globalImageCache,systemFontCache:Ft.systemFontCache,nonBlendModesSet:Ft.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(Ht,_e)}Ft.setActualNumPages(jt.size)}}fontFallback(gt,Ft){return this.catalog.fontFallback(gt,Ft)}async cleanup(gt=!1){return this.catalog?this.catalog.cleanup(gt):(0,et.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,s.shadow)(this,"fieldObjects",Promise.resolve(null));const gt=this.pdfManager.ensureDoc("annotationGlobals").then(async Ft=>{if(!Ft)return null;const yt=Object.create(null),vt=new Map;for(const jt of this.catalog.acroForm.get("Fields"))xn(this,Ot,Co).call(this,"",jt,vt,Ft);const Lt=[];for(const[jt,Ht]of vt)Lt.push(Promise.all(Ht).then(Vt=>{(Vt=Vt.filter(Qt=>!!Qt)).length>0&&(yt[jt]=Vt)}));return await Promise.all(Lt),yt});return(0,s.shadow)(this,"fieldObjects",gt)}get hasJSActions(){const gt=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,s.shadow)(this,"hasJSActions",gt)}async _parseHasJSActions(){const[gt,Ft]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return!!gt||!!Ft&&Object.values(Ft).some(yt=>yt.some(vt=>vt.actions!==null))}get calculationOrderIds(){const gt=this.catalog.acroForm;if(!(gt!=null&&gt.has("CO")))return(0,s.shadow)(this,"calculationOrderIds",null);const Ft=gt.get("CO");if(!Array.isArray(Ft)||Ft.length===0)return(0,s.shadow)(this,"calculationOrderIds",null);const yt=[];for(const vt of Ft)vt instanceof e.Ref&&yt.push(vt.toString());return yt.length===0?(0,s.shadow)(this,"calculationOrderIds",null):(0,s.shadow)(this,"calculationOrderIds",yt)}get annotationGlobals(){return(0,s.shadow)(this,"annotationGlobals",bt.AnnotationFactory.createGlobals(this.pdfManager))}},Ot=new WeakSet,Co=function(gt,Ft,yt,vt){const Lt=this.xref.fetchIfRef(Ft);if(Lt.has("T")){const jt=(0,s.stringToPDFString)(Lt.get("T"));gt=gt===""?jt:`${gt}.${jt}`}if(yt.has(gt)||yt.set(gt,[]),yt.get(gt).push(bt.AnnotationFactory.create(this.xref,Ft,vt,this._localIdFactory,!0,null).then(jt=>jt==null?void 0:jt.getFieldObject()).catch(function(jt){return(0,s.warn)(`#collectFieldObjects: "${jt}".`),null})),Lt.has("Kids"))for(const jt of Lt.get("Kids"))xn(this,Ot,Co).call(this,gt,jt,yt,vt)},st)},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PopupAnnotation=$.MarkupAnnotation=$.AnnotationFactory=$.AnnotationBorderStyle=$.Annotation=void 0,$.getQuadPoints=mt;var s=_t(2),bt=_t(3),St=_t(11),e=_t(4),i=_t(8),d=_t(5),ut=_t(60),dt=_t(66),et=_t(12),_=_t(69),c=_t(26),lt=_t(76),at=_t(64),ct=_t(73),it=_t(77);$.AnnotationFactory=class{static createGlobals(j){return Promise.all([j.ensureCatalog("acroForm"),j.ensureDoc("xfaDatasets"),j.ensureCatalog("structTreeRoot"),j.ensureCatalog("baseUrl"),j.ensureCatalog("attachments")]).then(([At,Mt,Rt,$t,zt])=>({pdfManager:j,acroForm:At instanceof e.Dict?At:e.Dict.empty,xfaDatasets:Mt,structTreeRoot:Rt,baseUrl:$t,attachments:zt}),At=>((0,s.warn)(`createGlobals: "${At}".`),null))}static async create(j,At,Mt,Rt,$t,zt){const qt=$t?await this._getPageIndex(j,At,Mt.pdfManager):null;return Mt.pdfManager.ensure(this,"_create",[j,At,Mt,Rt,$t,qt,zt])}static _create(j,At,Mt,Rt,$t=!1,zt=null,qt=null){const Wt=j.fetchIfRef(At);if(!(Wt instanceof e.Dict))return;const{acroForm:Gt,pdfManager:Zt}=Mt,Yt=At instanceof e.Ref?At.toString():`annot_${Rt.createObjId()}`;let tn=Wt.get("Subtype");tn=tn instanceof e.Name?tn.name:null;const nn={xref:j,ref:At,dict:Wt,subtype:tn,id:Yt,annotationGlobals:Mt,collectFields:$t,needAppearances:!$t&&Gt.get("NeedAppearances")===!0,pageIndex:zt,evaluatorOptions:Zt.evaluatorOptions,pageRef:qt};switch(tn){case"Link":return new Ot(nn);case"Text":return new pt(nn);case"Widget":let en=(0,bt.getInheritableProperty)({dict:Wt,key:"FT"});switch(en=en instanceof e.Name?en.name:null,en){case"Tx":return new rt(nn);case"Btn":return new ft(nn);case"Ch":return new wt(nn);case"Sig":return new b(nn)}return(0,s.warn)(`Unimplemented widget field type "${en}", falling back to base field type.`),new Et(nn);case"Popup":return new kt(nn);case"FreeText":return new st(nn);case"Line":return new nt(nn);case"Square":return new gt(nn);case"Circle":return new Ft(nn);case"PolyLine":return new yt(nn);case"Polygon":return new vt(nn);case"Caret":return new Lt(nn);case"Ink":return new jt(nn);case"Highlight":return new Ht(nn);case"Underline":return new Vt(nn);case"Squiggly":return new Qt(nn);case"StrikeOut":return new _e(nn);case"Stamp":return new Xt(nn);case"FileAttachment":return new Dt(nn);default:return $t||(tn?(0,s.warn)(`Unimplemented annotation type "${tn}", falling back to base annotation.`):(0,s.warn)("Annotation is missing the required /Subtype.")),new Nt(nn)}}static async _getPageIndex(j,At,Mt){try{const Rt=await j.fetchIfRefAsync(At);if(!(Rt instanceof e.Dict))return-1;const $t=Rt.getRaw("P");if($t instanceof e.Ref)try{return await Mt.ensureCatalog("getPageIndex",[$t])}catch(qt){(0,s.info)(`_getPageIndex -- not a valid page reference: "${qt}".`)}if(Rt.has("Kids"))return-1;const zt=await Mt.ensureDoc("numPages");for(let qt=0;qt<zt;qt++){const Wt=await Mt.getPage(qt),Gt=await Mt.ensure(Wt,"annotations");for(const Zt of Gt)if(Zt instanceof e.Ref&&(0,e.isRefsEqual)(Zt,At))return qt}}catch(Rt){(0,s.warn)(`_getPageIndex: "${Rt}".`)}return-1}static generateImages(j,At,Mt){if(!Mt)return(0,s.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let Rt;for(const{bitmapId:$t,bitmap:zt}of j)zt&&(Rt||(Rt=new Map),Rt.set($t,Xt.createImage(zt,At)));return Rt}static async saveNewAnnotations(j,At,Mt,Rt){const $t=j.xref;let zt;const qt=[],Wt=[],{isOffscreenCanvasSupported:Gt}=j.options;for(const Zt of Mt)if(!Zt.deleted)switch(Zt.annotationType){case s.AnnotationEditorType.FREETEXT:if(!zt){const tn=new e.Dict($t);tn.set("BaseFont",e.Name.get("Helvetica")),tn.set("Type",e.Name.get("Font")),tn.set("Subtype",e.Name.get("Type1")),tn.set("Encoding",e.Name.get("WinAnsiEncoding"));const nn=[];zt=$t.getNewTemporaryRef(),await(0,ct.writeObject)(zt,tn,nn,$t),qt.push({ref:zt,data:nn.join("")})}Wt.push(st.createNewAnnotation($t,Zt,qt,{evaluator:j,task:At,baseFontRef:zt}));break;case s.AnnotationEditorType.INK:Wt.push(jt.createNewAnnotation($t,Zt,qt));break;case s.AnnotationEditorType.STAMP:if(!Gt)break;const Yt=await Rt.get(Zt.bitmapId);if(Yt.imageStream){const{imageStream:tn,smaskStream:nn}=Yt,en=[];if(nn){const vn=$t.getNewTemporaryRef();await(0,ct.writeObject)(vn,nn,en,$t),qt.push({ref:vn,data:en.join("")}),tn.dict.set("SMask",vn),en.length=0}const an=Yt.imageRef=$t.getNewTemporaryRef();await(0,ct.writeObject)(an,tn,en,$t),qt.push({ref:an,data:en.join("")}),Yt.imageStream=Yt.smaskStream=null}Wt.push(Xt.createNewAnnotation($t,Zt,qt,{image:Yt}))}return{annotations:await Promise.all(Wt),dependencies:qt}}static async printNewAnnotations(j,At,Mt,Rt,$t){if(!Rt)return null;const{options:zt,xref:qt}=At,Wt=[];for(const Gt of Rt)if(!Gt.deleted)switch(Gt.annotationType){case s.AnnotationEditorType.FREETEXT:Wt.push(st.createNewPrintAnnotation(j,qt,Gt,{evaluator:At,task:Mt,evaluatorOptions:zt}));break;case s.AnnotationEditorType.INK:Wt.push(jt.createNewPrintAnnotation(j,qt,Gt,{evaluatorOptions:zt}));break;case s.AnnotationEditorType.STAMP:if(!zt.isOffscreenCanvasSupported)break;const Zt=await $t.get(Gt.bitmapId);if(Zt.imageStream){const{imageStream:Yt,smaskStream:tn}=Zt;tn&&Yt.dict.set("SMask",tn),Zt.imageRef=new c.JpegStream(Yt,Yt.length),Zt.imageStream=Zt.smaskStream=null}Wt.push(Xt.createNewPrintAnnotation(j,qt,Gt,{image:Zt,evaluatorOptions:zt}))}return Promise.all(Wt)}};function tt(It,j=new Uint8ClampedArray(3)){if(!Array.isArray(It))return j;const At=j||new Uint8ClampedArray(3);switch(It.length){case 0:return null;case 1:return et.ColorSpace.singletons.gray.getRgbItem(It,0,At,0),At;case 3:return et.ColorSpace.singletons.rgb.getRgbItem(It,0,At,0),At;case 4:return et.ColorSpace.singletons.cmyk.getRgbItem(It,0,At,0),At;default:return j}}function ot(It){return Array.from(It,j=>j/255)}function mt(It,j){const At=It.getArray("QuadPoints");if(!Array.isArray(At)||At.length===0||At.length%8>0)return null;const Mt=[];for(let Rt=0,$t=At.length/8;Rt<$t;Rt++){let zt=1/0,qt=-1/0,Wt=1/0,Gt=-1/0;for(let Zt=8*Rt,Yt=8*Rt+8;Zt<Yt;Zt+=2){const tn=At[Zt],nn=At[Zt+1];zt=Math.min(tn,zt),qt=Math.max(tn,qt),Wt=Math.min(nn,Wt),Gt=Math.max(nn,Gt)}if(j!==null&&(zt<j[0]||qt>j[2]||Wt<j[1]||Gt>j[3]))return null;Mt.push([{x:zt,y:Gt},{x:qt,y:Gt},{x:zt,y:Wt},{x:qt,y:Wt}])}return Mt}function Ct(It,j,At){const[Mt,Rt,$t,zt]=s.Util.getAxialAlignedBoundingBox(j,At);if(Mt===$t||Rt===zt)return[1,0,0,1,It[0],It[1]];const qt=(It[2]-It[0])/($t-Mt),Wt=(It[3]-It[1])/(zt-Rt);return[qt,0,0,Wt,It[0]-Mt*qt,It[1]-Rt*Wt]}class Nt{constructor(j){const{dict:At,xref:Mt,annotationGlobals:Rt}=j;this.setTitle(At.get("T")),this.setContents(At.get("Contents")),this.setModificationDate(At.get("M")),this.setFlags(At.get("F")),this.setRectangle(At.getArray("Rect")),this.setColor(At.getArray("C")),this.setBorderStyle(At),this.setAppearance(At),this.setOptionalContent(At);const $t=At.get("MK");this.setBorderAndBackgroundColors($t),this.setRotation($t,At),this.ref=j.ref instanceof e.Ref?j.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const zt=!!(this.flags&s.AnnotationFlag.LOCKED),qt=!!(this.flags&s.AnnotationFlag.LOCKEDCONTENTS);if(Rt.structTreeRoot){let Wt=At.get("StructParent");Wt=Number.isInteger(Wt)&&Wt>=0?Wt:-1,Rt.structTreeRoot.addAnnotationIdToPage(j.pageRef,Wt)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:j.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:j.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&s.AnnotationFlag.NOROTATE),noHTML:zt&&qt},j.collectFields){const Wt=At.get("Kids");if(Array.isArray(Wt)){const Gt=[];for(const Zt of Wt)Zt instanceof e.Ref&&Gt.push(Zt.toString());Gt.length!==0&&(this.data.kidIds=Gt)}this.data.actions=(0,bt.collectActions)(Mt,At,s.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(At),this.data.pageIndex=j.pageIndex}this._isOffscreenCanvasSupported=j.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(j,At){return!!(j&At)}_isViewable(j){return!this._hasFlag(j,s.AnnotationFlag.INVISIBLE)&&!this._hasFlag(j,s.AnnotationFlag.NOVIEW)}_isPrintable(j){return this._hasFlag(j,s.AnnotationFlag.PRINT)&&!this._hasFlag(j,s.AnnotationFlag.HIDDEN)&&!this._hasFlag(j,s.AnnotationFlag.INVISIBLE)}mustBeViewed(j,At){var Rt;const Mt=(Rt=j==null?void 0:j.get(this.data.id))==null?void 0:Rt.noView;return Mt!==void 0?!Mt:this.viewable&&!this._hasFlag(this.flags,s.AnnotationFlag.HIDDEN)}mustBePrinted(j){var Mt;const At=(Mt=j==null?void 0:j.get(this.data.id))==null?void 0:Mt.noPrint;return At!==void 0?!At:this.printable}get viewable(){return this.data.quadPoints!==null&&(this.flags===0||this._isViewable(this.flags))}get printable(){return this.data.quadPoints!==null&&this.flags!==0&&this._isPrintable(this.flags)}_parseStringHelper(j){const At=typeof j=="string"?(0,s.stringToPDFString)(j):"";return{str:At,dir:At&&(0,ut.bidi)(At).dir==="rtl"?"rtl":"ltr"}}setDefaultAppearance(j){const{dict:At,annotationGlobals:Mt}=j,Rt=(0,bt.getInheritableProperty)({dict:At,key:"DA"})||Mt.acroForm.get("DA");this._defaultAppearance=typeof Rt=="string"?Rt:"",this.data.defaultAppearanceData=(0,St.parseDefaultAppearance)(this._defaultAppearance)}setTitle(j){this._title=this._parseStringHelper(j)}setContents(j){this._contents=this._parseStringHelper(j)}setModificationDate(j){this.modificationDate=typeof j=="string"?j:null}setFlags(j){this.flags=Number.isInteger(j)&&j>0?j:0}hasFlag(j){return this._hasFlag(this.flags,j)}setRectangle(j){this.rectangle=Array.isArray(j)&&j.length===4?s.Util.normalizeRect(j):[0,0,0,0]}setColor(j){this.color=tt(j)}setLineEndings(j){if(this.lineEndings=["None","None"],Array.isArray(j)&&j.length===2)for(let At=0;At<2;At++){const Mt=j[At];if(Mt instanceof e.Name)switch(Mt.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[At]=Mt.name;continue}(0,s.warn)(`Ignoring invalid lineEnding: ${Mt}`)}}setRotation(j,At){this.rotation=0;let Mt=j instanceof e.Dict?j.get("R")||0:At.get("Rotate")||0;Number.isInteger(Mt)&&Mt!==0&&(Mt%=360,Mt<0&&(Mt+=360),Mt%90==0&&(this.rotation=Mt))}setBorderAndBackgroundColors(j){j instanceof e.Dict?(this.borderColor=tt(j.getArray("BC"),null),this.backgroundColor=tt(j.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(j){if(this.borderStyle=new Pt,j instanceof e.Dict)if(j.has("BS")){const At=j.get("BS"),Mt=At.get("Type");(!Mt||(0,e.isName)(Mt,"Border"))&&(this.borderStyle.setWidth(At.get("W"),this.rectangle),this.borderStyle.setStyle(At.get("S")),this.borderStyle.setDashArray(At.getArray("D")))}else if(j.has("Border")){const At=j.getArray("Border");Array.isArray(At)&&At.length>=3&&(this.borderStyle.setHorizontalCornerRadius(At[0]),this.borderStyle.setVerticalCornerRadius(At[1]),this.borderStyle.setWidth(At[2],this.rectangle),At.length===4&&this.borderStyle.setDashArray(At[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(j){this.appearance=null;const At=j.get("AP");if(!(At instanceof e.Dict))return;const Mt=At.get("N");if(Mt instanceof d.BaseStream){this.appearance=Mt;return}if(!(Mt instanceof e.Dict))return;const Rt=j.get("AS");if(!(Rt instanceof e.Name&&Mt.has(Rt.name)))return;const $t=Mt.get(Rt.name);$t instanceof d.BaseStream&&(this.appearance=$t)}setOptionalContent(j){this.oc=null;const At=j.get("OC");At instanceof e.Name?(0,s.warn)("setOptionalContent: Support for /Name-entry is not implemented."):At instanceof e.Dict&&(this.oc=At)}loadResources(j,At){return At.dict.getAsync("Resources").then(Mt=>{if(Mt)return new lt.ObjectLoader(Mt,j,Mt.xref).load().then(function(){return Mt})})}async getOperatorList(j,At,Mt,Rt,$t){const zt=this.data;let qt=this.appearance;const Wt=!!(this.data.hasOwnCanvas&&Mt&s.RenderingIntentFlag.DISPLAY);if(!qt){if(!Wt)return{opList:new at.OperatorList,separateForm:!1,separateCanvas:!1};qt=new i.StringStream(""),qt.dict=new e.Dict}const Gt=qt.dict,Zt=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],qt),Yt=Gt.getArray("BBox")||[0,0,1,1],tn=Gt.getArray("Matrix")||[1,0,0,1,0,0],nn=Ct(zt.rect,Yt,tn),en=new at.OperatorList;let an;return this.oc&&(an=await j.parseMarkedContentProps(this.oc,null)),an!==void 0&&en.addOp(s.OPS.beginMarkedContentProps,["OC",an]),en.addOp(s.OPS.beginAnnotation,[zt.id,zt.rect,nn,tn,Wt]),await j.getOperatorList({stream:qt,task:At,resources:Zt,operatorList:en,fallbackFontDict:this._fallbackFontDict}),en.addOp(s.OPS.endAnnotation,[]),an!==void 0&&en.addOp(s.OPS.endMarkedContent,[]),this.reset(),{opList:en,separateForm:!1,separateCanvas:Wt}}async save(j,At,Mt){return null}get hasTextContent(){return!1}async extractTextContent(j,At,Mt){if(!this.appearance)return;const Rt=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),$t=[],zt=[];let qt=null;const Wt={desiredSize:Math.Infinity,ready:!0,enqueue(Gt,Zt){for(const Yt of Gt.items)Yt.str!==void 0&&(qt||(qt=Yt.transform.slice(-2)),zt.push(Yt.str),Yt.hasEOL&&($t.push(zt.join("")),zt.length=0))}};if(await j.getTextContent({stream:this.appearance,task:At,resources:Rt,includeMarkedContent:!0,sink:Wt,viewBox:Mt}),this.reset(),zt.length&&$t.push(zt.join("")),$t.length>1||$t[0]){const Gt=this.appearance.dict,Zt=Gt.getArray("BBox")||[0,0,1,1],Yt=Gt.getArray("Matrix")||[1,0,0,1,0,0],tn=this.data.rect,nn=Ct(tn,Zt,Yt);nn[4]-=tn[0],nn[5]-=tn[1],qt=s.Util.applyTransform(qt,nn),qt=s.Util.applyTransform(qt,Yt),this.data.textPosition=qt,this.data.textContent=$t}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const j of this._streams)j.reset()}_constructFieldName(j){if(!j.has("T")&&!j.has("Parent"))return(0,s.warn)("Unknown field name, falling back to empty field name."),"";if(!j.has("Parent"))return(0,s.stringToPDFString)(j.get("T"));const At=[];j.has("T")&&At.unshift((0,s.stringToPDFString)(j.get("T")));let Mt=j;const Rt=new e.RefSet;for(j.objId&&Rt.put(j.objId);Mt.has("Parent")&&(Mt=Mt.get("Parent"),!(!(Mt instanceof e.Dict)||Mt.objId&&Rt.has(Mt.objId)));)Mt.objId&&Rt.put(Mt.objId),Mt.has("T")&&At.unshift((0,s.stringToPDFString)(Mt.get("T")));return At.join(".")}}$.Annotation=Nt;class Pt{constructor(){this.width=1,this.style=s.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(j,At=[0,0,0,0]){if(j instanceof e.Name)this.width=0;else if(typeof j=="number"){if(j>0){const Mt=(At[2]-At[0])/2,Rt=(At[3]-At[1])/2;Mt>0&&Rt>0&&(j>Mt||j>Rt)&&((0,s.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${j}`),j=1)}this.width=j}}setStyle(j){if(j instanceof e.Name)switch(j.name){case"S":this.style=s.AnnotationBorderStyleType.SOLID;break;case"D":this.style=s.AnnotationBorderStyleType.DASHED;break;case"B":this.style=s.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=s.AnnotationBorderStyleType.INSET;break;case"U":this.style=s.AnnotationBorderStyleType.UNDERLINE}}setDashArray(j,At=!1){if(Array.isArray(j)&&j.length>0){let Mt=!0,Rt=!0;for(const $t of j){if(!(+$t>=0)){Mt=!1;break}$t>0&&(Rt=!1)}Mt&&!Rt?(this.dashArray=j,At&&this.setStyle(e.Name.get("D"))):this.width=0}else j&&(this.width=0)}setHorizontalCornerRadius(j){Number.isInteger(j)&&(this.horizontalCornerRadius=j)}setVerticalCornerRadius(j){Number.isInteger(j)&&(this.verticalCornerRadius=j)}}$.AnnotationBorderStyle=Pt;class Tt extends Nt{constructor(j){super(j);const{dict:At}=j;if(At.has("IRT")){const Rt=At.getRaw("IRT");this.data.inReplyTo=Rt instanceof e.Ref?Rt.toString():null;const $t=At.get("RT");this.data.replyType=$t instanceof e.Name?$t.name:s.AnnotationReplyType.REPLY}let Mt=null;if(this.data.replyType===s.AnnotationReplyType.GROUP){const Rt=At.get("IRT");this.setTitle(Rt.get("T")),this.data.titleObj=this._title,this.setContents(Rt.get("Contents")),this.data.contentsObj=this._contents,Rt.has("CreationDate")?(this.setCreationDate(Rt.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,Rt.has("M")?(this.setModificationDate(Rt.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,Mt=Rt.getRaw("Popup"),Rt.has("C")?(this.setColor(Rt.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(At.get("CreationDate")),this.data.creationDate=this.creationDate,Mt=At.getRaw("Popup"),At.has("C")||(this.data.color=null);this.data.popupRef=Mt instanceof e.Ref?Mt.toString():null,At.has("RC")&&(this.data.richText=it.XFAFactory.getRichTextAsHtml(At.get("RC")))}setCreationDate(j){this.creationDate=typeof j=="string"?j:null}_setDefaultAppearance({xref:j,extra:At,strokeColor:Mt,fillColor:Rt,blendMode:$t,strokeAlpha:zt,fillAlpha:qt,pointsCallback:Wt}){let Gt=Number.MAX_VALUE,Zt=Number.MAX_VALUE,Yt=Number.MIN_VALUE,tn=Number.MIN_VALUE;const nn=["q"];At&&nn.push(At),Mt&&nn.push(`${Mt[0]} ${Mt[1]} ${Mt[2]} RG`),Rt&&nn.push(`${Rt[0]} ${Rt[1]} ${Rt[2]} rg`);let en=this.data.quadPoints;en||(en=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Rn of en){const[sn,En,Pn,Ln]=Wt(nn,Rn);Gt=Math.min(Gt,sn),Yt=Math.max(Yt,En),Zt=Math.min(Zt,Pn),tn=Math.max(tn,Ln)}nn.push("Q");const an=new e.Dict(j),vn=new e.Dict(j);vn.set("Subtype",e.Name.get("Form"));const An=new i.StringStream(nn.join(" "));An.dict=vn,an.set("Fm0",An);const cn=new e.Dict(j);$t&&cn.set("BM",e.Name.get($t)),typeof zt=="number"&&cn.set("CA",zt),typeof qt=="number"&&cn.set("ca",qt);const hn=new e.Dict(j);hn.set("GS0",cn);const fn=new e.Dict(j);fn.set("ExtGState",hn),fn.set("XObject",an);const Cn=new e.Dict(j);Cn.set("Resources",fn);const kn=this.data.rect=[Gt,Zt,Yt,tn];Cn.set("BBox",kn),this.appearance=new i.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Cn,this._streams.push(this.appearance,An)}static async createNewAnnotation(j,At,Mt,Rt){const $t=At.ref||(At.ref=j.getNewTemporaryRef()),zt=await this.createNewAppearanceStream(At,j,Rt),qt=[];let Wt;if(zt){const Gt=j.getNewTemporaryRef();Wt=this.createNewDict(At,j,{apRef:Gt}),await(0,ct.writeObject)(Gt,zt,qt,j),Mt.push({ref:Gt,data:qt.join("")})}else Wt=this.createNewDict(At,j,{});return Number.isInteger(At.parentTreeId)&&Wt.set("StructParent",At.parentTreeId),qt.length=0,await(0,ct.writeObject)($t,Wt,qt,j),{ref:$t,data:qt.join("")}}static async createNewPrintAnnotation(j,At,Mt,Rt){const $t=await this.createNewAppearanceStream(Mt,At,Rt),zt=this.createNewDict(Mt,At,{ap:$t}),qt=new this.prototype.constructor({dict:zt,xref:At,annotationGlobals:j,evaluatorOptions:Rt.evaluatorOptions});return Mt.ref&&(qt.ref=qt.refToReplace=Mt.ref),qt}}$.MarkupAnnotation=Tt;class Et extends Nt{constructor(j){var tn;super(j);const{dict:At,xref:Mt,annotationGlobals:Rt}=j,$t=this.data;this._needAppearances=j.needAppearances,$t.annotationType=s.AnnotationType.WIDGET,$t.fieldName===void 0&&($t.fieldName=this._constructFieldName(At)),$t.actions===void 0&&($t.actions=(0,bt.collectActions)(Mt,At,s.AnnotationActionEventType));let zt=(0,bt.getInheritableProperty)({dict:At,key:"V",getArray:!0});$t.fieldValue=this._decodeFormValue(zt);const qt=(0,bt.getInheritableProperty)({dict:At,key:"DV",getArray:!0});if($t.defaultFieldValue=this._decodeFormValue(qt),zt===void 0&&Rt.xfaDatasets){const nn=this._title.str;nn&&(this._hasValueFromXFA=!0,$t.fieldValue=zt=Rt.xfaDatasets.getValue(nn))}zt===void 0&&$t.defaultFieldValue!==null&&($t.fieldValue=$t.defaultFieldValue),$t.alternativeText=(0,s.stringToPDFString)(At.get("TU")||""),this.setDefaultAppearance(j),$t.hasAppearance||($t.hasAppearance=this._needAppearances&&$t.fieldValue!==void 0&&$t.fieldValue!==null);const Wt=(0,bt.getInheritableProperty)({dict:At,key:"FT"});$t.fieldType=Wt instanceof e.Name?Wt.name:null;const Gt=(0,bt.getInheritableProperty)({dict:At,key:"DR"}),Zt=Rt.acroForm.get("DR"),Yt=(tn=this.appearance)==null?void 0:tn.dict.get("Resources");this._fieldResources={localResources:Gt,acroFormResources:Zt,appearanceResources:Yt,mergedResources:e.Dict.merge({xref:Mt,dictArray:[Gt,Yt,Zt],mergeSubDicts:!0})},$t.fieldFlags=(0,bt.getInheritableProperty)({dict:At,key:"Ff"}),(!Number.isInteger($t.fieldFlags)||$t.fieldFlags<0)&&($t.fieldFlags=0),$t.readOnly=this.hasFieldFlag(s.AnnotationFieldFlag.READONLY),$t.required=this.hasFieldFlag(s.AnnotationFieldFlag.REQUIRED),$t.hidden=this._hasFlag($t.annotationFlags,s.AnnotationFlag.HIDDEN)||this._hasFlag($t.annotationFlags,s.AnnotationFlag.NOVIEW)}_decodeFormValue(j){return Array.isArray(j)?j.filter(At=>typeof At=="string").map(At=>(0,s.stringToPDFString)(At)):j instanceof e.Name?(0,s.stringToPDFString)(j.name):typeof j=="string"?(0,s.stringToPDFString)(j):null}hasFieldFlag(j){return!!(this.data.fieldFlags&j)}_isViewable(j){return!this._hasFlag(j,s.AnnotationFlag.INVISIBLE)}mustBeViewed(j,At){return At?this.viewable:super.mustBeViewed(j,At)&&!this._hasFlag(this.flags,s.AnnotationFlag.NOVIEW)}getRotationMatrix(j){var $t;let At=($t=j==null?void 0:j.get(this.data.id))==null?void 0:$t.rotation;if(At===void 0&&(At=this.rotation),At===0)return s.IDENTITY_MATRIX;const Mt=this.data.rect[2]-this.data.rect[0],Rt=this.data.rect[3]-this.data.rect[1];return(0,bt.getRotationMatrix)(At,Mt,Rt)}getBorderAndBackgroundAppearances(j){var qt;let At=(qt=j==null?void 0:j.get(this.data.id))==null?void 0:qt.rotation;if(At===void 0&&(At=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const Mt=this.data.rect[2]-this.data.rect[0],Rt=this.data.rect[3]-this.data.rect[1],$t=At===0||At===180?`0 0 ${Mt} ${Rt} re`:`0 0 ${Rt} ${Mt} re`;let zt="";return this.backgroundColor&&(zt=`${(0,St.getPdfColor)(this.backgroundColor,!0)} ${$t} f `),this.borderColor&&(zt+=`${this.borderStyle.width||1} w ${(0,St.getPdfColor)(this.borderColor,!1)} ${$t} S `),zt}async getOperatorList(j,At,Mt,Rt,$t){if(Rt&&!(this instanceof b)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new at.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(j,At,Mt,Rt,$t);const zt=await this._getAppearance(j,At,Mt,$t);if(this.appearance&&zt===null)return super.getOperatorList(j,At,Mt,Rt,$t);const qt=new at.OperatorList;if(!this._defaultAppearance||zt===null)return{opList:qt,separateForm:!1,separateCanvas:!1};const Wt=!!(this.data.hasOwnCanvas&&Mt&s.RenderingIntentFlag.DISPLAY),Gt=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Zt=Ct(this.data.rect,Gt,[1,0,0,1,0,0]);let Yt;this.oc&&(Yt=await j.parseMarkedContentProps(this.oc,null)),Yt!==void 0&&qt.addOp(s.OPS.beginMarkedContentProps,["OC",Yt]),qt.addOp(s.OPS.beginAnnotation,[this.data.id,this.data.rect,Zt,this.getRotationMatrix($t),Wt]);const tn=new i.StringStream(zt);return await j.getOperatorList({stream:tn,task:At,resources:this._fieldResources.mergedResources,operatorList:qt}),qt.addOp(s.OPS.endAnnotation,[]),Yt!==void 0&&qt.addOp(s.OPS.endMarkedContent,[]),{opList:qt,separateForm:!1,separateCanvas:Wt}}_getMKDict(j){const At=new e.Dict(null);return j&&At.set("R",j),this.borderColor&&At.set("BC",ot(this.borderColor)),this.backgroundColor&&At.set("BG",ot(this.backgroundColor)),At.size>0?At:null}amendSavedDict(j,At){}async save(j,At,Mt){const Rt=Mt==null?void 0:Mt.get(this.data.id);let $t=Rt==null?void 0:Rt.value,zt=Rt==null?void 0:Rt.rotation;if($t===this.data.fieldValue||$t===void 0){if(!this._hasValueFromXFA&&zt===void 0)return null;$t||($t=this.data.fieldValue)}if(zt===void 0&&!this._hasValueFromXFA&&Array.isArray($t)&&Array.isArray(this.data.fieldValue)&&$t.length===this.data.fieldValue.length&&$t.every((An,cn)=>An===this.data.fieldValue[cn]))return null;zt===void 0&&(zt=this.rotation);let qt=null;if(!this._needAppearances&&(qt=await this._getAppearance(j,At,s.RenderingIntentFlag.SAVE,Mt),qt===null))return null;let Wt=!1;qt!=null&&qt.needAppearances&&(Wt=!0,qt=null);const{xref:Gt}=j,Zt=Gt.fetchIfRef(this.ref);if(!(Zt instanceof e.Dict))return null;const Yt=new e.Dict(Gt);for(const An of Zt.getKeys())An!=="AP"&&Yt.set(An,Zt.getRaw(An));const tn={path:this.data.fieldName,value:$t},nn=An=>(0,bt.isAscii)(An)?An:(0,bt.stringToUTF16String)(An,!0);Yt.set("V",Array.isArray($t)?$t.map(nn):nn($t)),this.amendSavedDict(Mt,Yt);const en=this._getMKDict(zt);en&&Yt.set("MK",en);const an=[],vn=[{ref:this.ref,data:"",xfa:tn,needAppearances:Wt}];if(qt!==null){const An=Gt.getNewTemporaryRef(),cn=new e.Dict(Gt);Yt.set("AP",cn),cn.set("N",An);const hn=this._getSaveFieldResources(Gt),fn=new i.StringStream(qt),Cn=fn.dict=new e.Dict(Gt);Cn.set("Subtype",e.Name.get("Form")),Cn.set("Resources",hn),Cn.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const kn=this.getRotationMatrix(Mt);kn!==s.IDENTITY_MATRIX&&Cn.set("Matrix",kn),await(0,ct.writeObject)(An,fn,an,Gt),vn.push({ref:An,data:an.join(""),xfa:null,needAppearances:!1}),an.length=0}return Yt.set("M",`D:${(0,s.getModificationDate)()}`),await(0,ct.writeObject)(this.ref,Yt,an,Gt),vn[0].data=an.join(""),vn}async _getAppearance(j,At,Mt,Rt){if(this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD))return null;const $t=Rt==null?void 0:Rt.get(this.data.id);let zt,qt;if($t&&(zt=$t.formattedValue||$t.value,qt=$t.rotation),qt===void 0&&zt===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const Wt=this.getBorderAndBackgroundAppearances(Rt);if(zt===void 0&&(zt=this.data.fieldValue,!zt))return`/Tx BMC q ${Wt}Q EMC`;if(Array.isArray(zt)&&zt.length===1&&(zt=zt[0]),(0,s.assert)(typeof zt=="string","Expected `value` to be a string."),zt=zt.trim(),this.data.combo){const Rn=this.data.options.find(({exportValue:sn})=>zt===sn);zt=(Rn==null?void 0:Rn.displayValue)||zt}if(zt==="")return`/Tx BMC q ${Wt}Q EMC`;qt===void 0&&(qt=this.rotation);let Gt,Zt=-1;this.data.multiLine?(Gt=zt.split(/\r\n?|\n/).map(Rn=>Rn.normalize("NFC")),Zt=Gt.length):Gt=[zt.replace(/\r\n?|\n/,"").normalize("NFC")];let Yt=this.data.rect[3]-this.data.rect[1],tn=this.data.rect[2]-this.data.rect[0];qt!==90&&qt!==270||([tn,Yt]=[Yt,tn]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,St.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let nn,en,an,vn=await Et._getFontData(j,At,this.data.defaultAppearanceData,this._fieldResources.mergedResources);const An=[];let cn=!1;for(const Rn of Gt){const sn=vn.encodeString(Rn);sn.length>1&&(cn=!0),An.push(sn.join(""))}if(cn&&Mt&s.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(cn&&this._isOffscreenCanvasSupported){const Rn=this.data.comb?"monospace":"sans-serif",sn=new St.FakeUnicodeFont(j.xref,Rn),En=sn.createFontResources(Gt.join("")),Pn=En.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Nn=this._fieldResources.mergedResources.get("Font");for(const ln of Pn.getKeys())Nn.set(ln,Pn.getRaw(ln))}else this._fieldResources.mergedResources.set("Font",Pn);const Ln=sn.fontName.name;vn=await Et._getFontData(j,At,{fontName:Ln,fontSize:0},En);for(let Nn=0,ln=An.length;Nn<ln;Nn++)An[Nn]=(0,bt.stringToUTF16String)(Gt[Nn]);const jn=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=Ln,[nn,en,an]=this._computeFontSize(Yt-2,tn-4,zt,vn,Zt),this.data.defaultAppearanceData=jn}else this._isOffscreenCanvasSupported||(0,s.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[nn,en,an]=this._computeFontSize(Yt-2,tn-4,zt,vn,Zt);let hn=vn.descent;hn=isNaN(hn)?s.BASELINE_FACTOR*an:Math.max(s.BASELINE_FACTOR*an,Math.abs(hn)*en);const fn=Math.min(Math.floor((Yt-en)/2),1),Cn=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(nn,An,vn,en,tn,Yt,Cn,2,fn,hn,an,Rt);if(this.data.comb)return this._getCombAppearance(nn,vn,An[0],en,tn,Yt,2,fn,hn,an,Rt);const kn=fn+hn;return Cn===0||Cn>2?`/Tx BMC q ${Wt}BT `+nn+` 1 0 0 1 ${(0,bt.numberToString)(2)} ${(0,bt.numberToString)(kn)} Tm (${(0,bt.escapeString)(An[0])}) Tj ET Q EMC`:`/Tx BMC q ${Wt}BT `+nn+` 1 0 0 1 0 0 Tm ${this._renderText(An[0],vn,en,tn,Cn,{shift:0},2,kn)} ET Q EMC`}static async _getFontData(j,At,Mt,Rt){const $t=new at.OperatorList,zt={font:null,clone(){return this}},{fontName:qt,fontSize:Wt}=Mt;return await j.handleSetFont(Rt,[qt&&e.Name.get(qt),Wt],null,$t,At,zt,null),zt.font}_getTextWidth(j,At){return At.charsToGlyphs(j).reduce((Mt,Rt)=>Mt+Rt.width,0)/1e3}_computeFontSize(j,At,Mt,Rt,$t){let{fontSize:zt}=this.data.defaultAppearanceData,qt=(zt||12)*s.LINE_FACTOR,Wt=Math.round(j/qt);if(!zt){const Gt=tn=>Math.floor(100*tn)/100;if($t===-1){const tn=this._getTextWidth(Mt,Rt);zt=Gt(Math.min(j/s.LINE_FACTOR,tn>At?At/tn:1/0)),Wt=1}else{const tn=Mt.split(/\r\n?|\n/),nn=[];for(const an of tn){const vn=Rt.encodeString(an).join(""),An=Rt.charsToGlyphs(vn),cn=Rt.getCharPositions(vn);nn.push({line:vn,glyphs:An,positions:cn})}const en=an=>{let vn=0;for(const An of nn)if(vn+=this._splitLine(null,Rt,an,At,An).length*an,vn>j)return!0;return!1};for(Wt=Math.max(Wt,$t);qt=j/Wt,zt=Gt(qt/s.LINE_FACTOR),!!en(zt);)Wt++}const{fontName:Zt,fontColor:Yt}=this.data.defaultAppearanceData;this._defaultAppearance=(0,St.createDefaultAppearance)({fontSize:zt,fontName:Zt,fontColor:Yt})}return[this._defaultAppearance,zt,j/Wt]}_renderText(j,At,Mt,Rt,$t,zt,qt,Wt){let Gt;$t===1?Gt=(Rt-this._getTextWidth(j,At)*Mt)/2:$t===2?Gt=Rt-this._getTextWidth(j,At)*Mt-qt:Gt=qt;const Zt=(0,bt.numberToString)(Gt-zt.shift);return zt.shift=Gt,`${Zt} ${Wt=(0,bt.numberToString)(Wt)} Td (${(0,bt.escapeString)(j)}) Tj`}_getSaveFieldResources(j){var zt;const{localResources:At,appearanceResources:Mt,acroFormResources:Rt}=this._fieldResources,$t=(zt=this.data.defaultAppearanceData)==null?void 0:zt.fontName;if(!$t)return At||e.Dict.empty;for(const qt of[At,Mt])if(qt instanceof e.Dict){const Wt=qt.get("Font");if(Wt instanceof e.Dict&&Wt.has($t))return qt}if(Rt instanceof e.Dict){const qt=Rt.get("Font");if(qt instanceof e.Dict&&qt.has($t)){const Wt=new e.Dict(j);Wt.set($t,qt.getRaw($t));const Gt=new e.Dict(j);return Gt.set("Font",Wt),e.Dict.merge({xref:j,dictArray:[Gt,At],mergeSubDicts:!0})}}return At||e.Dict.empty}getFieldObject(){return null}}class rt extends Et{constructor(j){super(j),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const At=j.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let Mt=(0,bt.getInheritableProperty)({dict:At,key:"Q"});(!Number.isInteger(Mt)||Mt<0||Mt>2)&&(Mt=null),this.data.textAlignment=Mt;let Rt=(0,bt.getInheritableProperty)({dict:At,key:"MaxLen"});(!Number.isInteger(Rt)||Rt<0)&&(Rt=0),this.data.maxLen=Rt,this.data.multiLine=this.hasFieldFlag(s.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(s.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(s.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(s.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(s.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(j,At,Mt,Rt,$t,zt,qt,Wt,Gt,Zt,Yt){const tn=$t/this.data.maxLen,nn=this.getBorderAndBackgroundAppearances(Yt),en=[],an=At.getCharPositions(Mt);for(const[An,cn]of an)en.push(`(${(0,bt.escapeString)(Mt.substring(An,cn))}) Tj`);const vn=en.join(` ${(0,bt.numberToString)(tn)} 0 Td `);return`/Tx BMC q ${nn}BT `+j+` 1 0 0 1 ${(0,bt.numberToString)(qt)} ${(0,bt.numberToString)(Wt+Gt)} Tm ${vn} ET Q EMC`}_getMultilineAppearance(j,At,Mt,Rt,$t,zt,qt,Wt,Gt,Zt,Yt,tn){const nn=[],en=$t-2*Wt,an={shift:0};for(let cn=0,hn=At.length;cn<hn;cn++){const fn=At[cn],Cn=this._splitLine(fn,Mt,Rt,en);for(let kn=0,Rn=Cn.length;kn<Rn;kn++){const sn=Cn[kn],En=cn===0&&kn===0?-Gt-(Yt-Zt):-Yt;nn.push(this._renderText(sn,Mt,Rt,$t,qt,an,Wt,En))}}const vn=this.getBorderAndBackgroundAppearances(tn),An=nn.join(`
`);return`/Tx BMC q ${vn}BT `+j+` 1 0 0 1 0 ${(0,bt.numberToString)(zt)} Tm ${An} ET Q EMC`}_splitLine(j,At,Mt,Rt,$t={}){j=$t.line||j;const zt=$t.glyphs||At.charsToGlyphs(j);if(zt.length<=1)return[j];const qt=$t.positions||At.getCharPositions(j),Wt=Mt/1e3,Gt=[];let Zt=-1,Yt=-1,tn=-1,nn=0,en=0;for(let an=0,vn=zt.length;an<vn;an++){const[An,cn]=qt[an],hn=zt[an],fn=hn.width*Wt;hn.unicode===" "?en+fn>Rt?(Gt.push(j.substring(nn,An)),nn=An,en=fn,Zt=-1,tn=-1):(en+=fn,Zt=An,Yt=cn,tn=an):en+fn>Rt?Zt!==-1?(Gt.push(j.substring(nn,Yt)),nn=Yt,an=tn+1,Zt=-1,en=0):(Gt.push(j.substring(nn,An)),nn=An,en=fn):en+=fn}return nn<j.length&&Gt.push(j.substring(nn,j.length)),Gt}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class ft extends Et{constructor(j){super(j),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(s.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(s.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(j):this.data.radioButton?this._processRadioButton(j):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(j)):(0,s.warn)("Invalid field flags for button widget annotation")}async getOperatorList(j,At,Mt,Rt,$t){if(this.data.pushButton)return super.getOperatorList(j,At,Mt,!1,$t);let zt=null,qt=null;if($t){const Gt=$t.get(this.data.id);zt=Gt?Gt.value:null,qt=Gt?Gt.rotation:null}if(zt===null&&this.appearance)return super.getOperatorList(j,At,Mt,Rt,$t);zt==null&&(zt=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const Wt=zt?this.checkedAppearance:this.uncheckedAppearance;if(Wt){const Gt=this.appearance,Zt=Wt.dict.getArray("Matrix")||s.IDENTITY_MATRIX;qt&&Wt.dict.set("Matrix",this.getRotationMatrix($t)),this.appearance=Wt;const Yt=super.getOperatorList(j,At,Mt,Rt,$t);return this.appearance=Gt,Wt.dict.set("Matrix",Zt),Yt}return{opList:new at.OperatorList,separateForm:!1,separateCanvas:!1}}async save(j,At,Mt){return this.data.checkBox?this._saveCheckbox(j,At,Mt):this.data.radioButton?this._saveRadioButton(j,At,Mt):null}async _saveCheckbox(j,At,Mt){if(!Mt)return null;const Rt=Mt.get(this.data.id);let $t=Rt==null?void 0:Rt.rotation,zt=Rt==null?void 0:Rt.value;if($t===void 0&&(zt===void 0||this.data.fieldValue===this.data.exportValue===zt))return null;const qt=j.xref.fetchIfRef(this.ref);if(!(qt instanceof e.Dict))return null;$t===void 0&&($t=this.rotation),zt===void 0&&(zt=this.data.fieldValue===this.data.exportValue);const Wt={path:this.data.fieldName,value:zt?this.data.exportValue:""},Gt=e.Name.get(zt?this.data.exportValue:"Off");qt.set("V",Gt),qt.set("AS",Gt),qt.set("M",`D:${(0,s.getModificationDate)()}`);const Zt=this._getMKDict($t);Zt&&qt.set("MK",Zt);const Yt=[];return await(0,ct.writeObject)(this.ref,qt,Yt,j.xref),[{ref:this.ref,data:Yt.join(""),xfa:Wt}]}async _saveRadioButton(j,At,Mt){if(!Mt)return null;const Rt=Mt.get(this.data.id);let $t=Rt==null?void 0:Rt.rotation,zt=Rt==null?void 0:Rt.value;if($t===void 0&&(zt===void 0||this.data.fieldValue===this.data.buttonValue===zt))return null;const qt=j.xref.fetchIfRef(this.ref);if(!(qt instanceof e.Dict))return null;zt===void 0&&(zt=this.data.fieldValue===this.data.buttonValue),$t===void 0&&($t=this.rotation);const Wt={path:this.data.fieldName,value:zt?this.data.buttonValue:""},Gt=e.Name.get(zt?this.data.buttonValue:"Off"),Zt=[];let Yt=null;if(zt)if(this.parent instanceof e.Ref){const en=j.xref.fetch(this.parent);en.set("V",Gt),await(0,ct.writeObject)(this.parent,en,Zt,j.xref),Yt=Zt.join(""),Zt.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",Gt);qt.set("AS",Gt),qt.set("M",`D:${(0,s.getModificationDate)()}`);const tn=this._getMKDict($t);tn&&qt.set("MK",tn),await(0,ct.writeObject)(this.ref,qt,Zt,j.xref);const nn=[{ref:this.ref,data:Zt.join(""),xfa:Wt}];return Yt&&nn.push({ref:this.parent,data:Yt,xfa:null}),nn}_getDefaultCheckedAppearance(j,At){const Mt=this.data.rect[2]-this.data.rect[0],Rt=this.data.rect[3]-this.data.rect[1],$t=[0,0,Mt,Rt],zt=.8*Math.min(Mt,Rt);let qt,Wt;At==="check"?(qt={width:.755*zt,height:.705*zt},Wt="3"):At==="disc"?(qt={width:.791*zt,height:.705*zt},Wt="l"):(0,s.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${At}`);const Gt=`q BT /PdfJsZaDb ${zt} Tf 0 g ${(0,bt.numberToString)((Mt-qt.width)/2)} ${(0,bt.numberToString)((Rt-qt.height)/2)} Td (${Wt}) Tj ET Q`,Zt=new e.Dict(j.xref);Zt.set("FormType",1),Zt.set("Subtype",e.Name.get("Form")),Zt.set("Type",e.Name.get("XObject")),Zt.set("BBox",$t),Zt.set("Matrix",[1,0,0,1,0,0]),Zt.set("Length",Gt.length);const Yt=new e.Dict(j.xref),tn=new e.Dict(j.xref);tn.set("PdfJsZaDb",this.fallbackFontDict),Yt.set("Font",tn),Zt.set("Resources",Yt),this.checkedAppearance=new i.StringStream(Gt),this.checkedAppearance.dict=Zt,this._streams.push(this.checkedAppearance)}_processCheckBox(j){const At=j.dict.get("AP");if(!(At instanceof e.Dict))return;const Mt=At.get("N");if(!(Mt instanceof e.Dict))return;const Rt=this._decodeFormValue(j.dict.get("AS"));typeof Rt=="string"&&(this.data.fieldValue=Rt);const $t=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",zt=Mt.getKeys();if(zt.length===0)zt.push("Off",$t);else if(zt.length===1)zt[0]==="Off"?zt.push($t):zt.unshift("Off");else if(zt.includes($t))zt.length=0,zt.push("Off",$t);else{const Gt=zt.find(Zt=>Zt!=="Off");zt.length=0,zt.push("Off",Gt)}zt.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=zt[1];const qt=Mt.get(this.data.exportValue);this.checkedAppearance=qt instanceof d.BaseStream?qt:null;const Wt=Mt.get("Off");this.uncheckedAppearance=Wt instanceof d.BaseStream?Wt:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(j,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(j){this.data.fieldValue=this.data.buttonValue=null;const At=j.dict.get("Parent");if(At instanceof e.Dict){this.parent=j.dict.getRaw("Parent");const qt=At.get("V");qt instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(qt))}const Mt=j.dict.get("AP");if(!(Mt instanceof e.Dict))return;const Rt=Mt.get("N");if(!(Rt instanceof e.Dict))return;for(const qt of Rt.getKeys())if(qt!=="Off"){this.data.buttonValue=this._decodeFormValue(qt);break}const $t=Rt.get(this.data.buttonValue);this.checkedAppearance=$t instanceof d.BaseStream?$t:null;const zt=Rt.get("Off");this.uncheckedAppearance=zt instanceof d.BaseStream?zt:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(j,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(j){const{dict:At,annotationGlobals:Mt}=j;At.has("A")||At.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!At.has("A")&&!At.has("AA"),dt.Catalog.parseDestDictionary({destDict:At,resultObj:this.data,docBaseUrl:Mt.baseUrl,docAttachments:Mt.attachments})):(0,s.warn)("Push buttons without action dictionaries are not supported")}getFieldObject(){let j,At="button";return this.data.checkBox?(At="checkbox",j=this.data.exportValue):this.data.radioButton&&(At="radiobutton",j=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:j,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:At}}get fallbackFontDict(){const j=new e.Dict;return j.set("BaseFont",e.Name.get("ZapfDingbats")),j.set("Type",e.Name.get("FallbackType")),j.set("Subtype",e.Name.get("FallbackType")),j.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,s.shadow)(this,"fallbackFontDict",j)}}class wt extends Et{constructor(j){super(j);const{dict:At,xref:Mt}=j;this.indices=At.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const Rt=(0,bt.getInheritableProperty)({dict:At,key:"Opt"});if(Array.isArray(Rt))for(let $t=0,zt=Rt.length;$t<zt;$t++){const qt=Mt.fetchIfRef(Rt[$t]),Wt=Array.isArray(qt);this.data.options[$t]={exportValue:this._decodeFormValue(Wt?Mt.fetchIfRef(qt[0]):qt),displayValue:this._decodeFormValue(Wt?Mt.fetchIfRef(qt[1]):qt)}}if(this.hasIndices){this.data.fieldValue=[];const $t=this.data.options.length;for(const zt of this.indices)Number.isInteger(zt)&&zt>=0&&zt<$t&&this.data.fieldValue.push(this.data.options[zt].exportValue)}else typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);this.data.combo=this.hasFieldFlag(s.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(s.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const j=this.data.combo?"combobox":"listbox",At=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:At,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:j}}amendSavedDict(j,At){var zt;if(!this.hasIndices)return;let Mt=(zt=j==null?void 0:j.get(this.data.id))==null?void 0:zt.value;Array.isArray(Mt)||(Mt=[Mt]);const Rt=[],{options:$t}=this.data;for(let qt=0,Wt=0,Gt=$t.length;qt<Gt;qt++)$t[qt].exportValue===Mt[Wt]&&(Rt.push(qt),Wt+=1);At.set("I",Rt)}async _getAppearance(j,At,Mt,Rt){if(this.data.combo)return super._getAppearance(j,At,Mt,Rt);let $t,zt;const qt=Rt==null?void 0:Rt.get(this.data.id);if(qt&&(zt=qt.rotation,$t=qt.value),zt===void 0&&$t===void 0&&!this._needAppearances)return null;$t===void 0?$t=this.data.fieldValue:Array.isArray($t)||($t=[$t]);let Wt=this.data.rect[3]-this.data.rect[1],Gt=this.data.rect[2]-this.data.rect[0];zt!==90&&zt!==270||([Gt,Wt]=[Wt,Gt]);const Zt=this.data.options.length,Yt=[];for(let kn=0;kn<Zt;kn++){const{exportValue:Rn}=this.data.options[kn];$t.includes(Rn)&&Yt.push(kn)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,St.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const tn=await Et._getFontData(j,At,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let nn,{fontSize:en}=this.data.defaultAppearanceData;if(en)nn=this._defaultAppearance;else{const kn=(Wt-1)/Zt;let Rn,sn=-1;for(const{displayValue:En}of this.data.options){const Pn=this._getTextWidth(En,tn);Pn>sn&&(sn=Pn,Rn=En)}[nn,en]=this._computeFontSize(kn,Gt-4,Rn,tn,-1)}const an=en*s.LINE_FACTOR,vn=(an-en)/2,An=Math.floor(Wt/an);let cn=0;if(Yt.length>0){const kn=Math.min(...Yt),Rn=Math.max(...Yt);cn=Math.max(0,Rn-An+1),cn>kn&&(cn=kn)}const hn=Math.min(cn+An+1,Zt),fn=["/Tx BMC q",`1 1 ${Gt} ${Wt} re W n`];if(Yt.length){fn.push("0.600006 0.756866 0.854904 rg");for(const kn of Yt)cn<=kn&&kn<hn&&fn.push(`1 ${Wt-(kn-cn+1)*an} ${Gt} ${an} re f`)}fn.push("BT",nn,`1 0 0 1 0 ${Wt} Tm`);const Cn={shift:0};for(let kn=cn;kn<hn;kn++){const{displayValue:Rn}=this.data.options[kn],sn=kn===cn?vn:0;fn.push(this._renderText(Rn,tn,en,Gt,0,Cn,2,-an+sn))}return fn.push("ET Q EMC"),fn.join(`
`)}}class b extends Et{constructor(j){super(j),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class pt extends Tt{constructor(j){super(j),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:At}=j;this.data.annotationType=s.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=At.has("Name")?At.get("Name").name:"Note"),At.has("State")?(this.data.state=At.get("State")||null,this.data.stateModel=At.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class Ot extends Nt{constructor(j){var $t;super(j);const{dict:At,annotationGlobals:Mt}=j;this.data.annotationType=s.AnnotationType.LINK;const Rt=mt(At,this.rectangle);Rt&&(this.data.quadPoints=Rt),($t=this.data).borderColor||($t.borderColor=this.data.color),dt.Catalog.parseDestDictionary({destDict:At,resultObj:this.data,docBaseUrl:Mt.baseUrl,docAttachments:Mt.attachments})}}class kt extends Nt{constructor(j){super(j);const{dict:At}=j;this.data.annotationType=s.AnnotationType.POPUP,this.data.rect[0]!==this.data.rect[2]&&this.data.rect[1]!==this.data.rect[3]||(this.data.rect=null);let Mt=At.get("Parent");if(!Mt){(0,s.warn)("Popup annotation has a missing or invalid parent annotation.");return}const Rt=Mt.getArray("Rect");this.data.parentRect=Array.isArray(Rt)&&Rt.length===4?s.Util.normalizeRect(Rt):null;const $t=Mt.get("RT");if((0,e.isName)($t,s.AnnotationReplyType.GROUP)&&(Mt=Mt.get("IRT")),Mt.has("M")?(this.setModificationDate(Mt.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,Mt.has("C")?(this.setColor(Mt.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const zt=Mt.get("F");this._isViewable(zt)&&this.setFlags(zt)}this.setTitle(Mt.get("T")),this.data.titleObj=this._title,this.setContents(Mt.get("Contents")),this.data.contentsObj=this._contents,Mt.has("RC")&&(this.data.richText=it.XFAFactory.getRichTextAsHtml(Mt.get("RC"))),this.data.open=!!At.get("Open")}}$.PopupAnnotation=kt;class st extends Tt{constructor(j){var Rt;super(j),this.data.hasOwnCanvas=!0;const{evaluatorOptions:At,xref:Mt}=j;if(this.data.annotationType=s.AnnotationType.FREETEXT,this.setDefaultAppearance(j),this.appearance){const{fontColor:$t,fontSize:zt}=(0,St.parseAppearanceStream)(this.appearance,At,Mt);this.data.defaultAppearanceData.fontColor=$t,this.data.defaultAppearanceData.fontSize=zt||10}else if(this._isOffscreenCanvasSupported){const $t=j.dict.get("CA"),zt=new St.FakeUnicodeFont(Mt,"sans-serif");(Rt=this.data.defaultAppearanceData).fontSize||(Rt.fontSize=10);const{fontColor:qt,fontSize:Wt}=this.data.defaultAppearanceData;this.appearance=zt.createAppearance(this._contents.str,this.rectangle,this.rotation,Wt,qt,$t),this._streams.push(this.appearance,St.FakeUnicodeFont.toUnicodeStream)}else(0,s.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(j,At,{apRef:Mt,ap:Rt}){const{color:$t,fontSize:zt,rect:qt,rotation:Wt,user:Gt,value:Zt}=j,Yt=new e.Dict(At);Yt.set("Type",e.Name.get("Annot")),Yt.set("Subtype",e.Name.get("FreeText")),Yt.set("CreationDate",`D:${(0,s.getModificationDate)()}`),Yt.set("Rect",qt);const tn=`/Helv ${zt} Tf ${(0,St.getPdfColor)($t,!0)}`;if(Yt.set("DA",tn),Yt.set("Contents",(0,bt.isAscii)(Zt)?Zt:(0,bt.stringToUTF16String)(Zt,!0)),Yt.set("F",4),Yt.set("Border",[0,0,0]),Yt.set("Rotate",Wt),Gt&&Yt.set("T",(0,bt.isAscii)(Gt)?Gt:(0,bt.stringToUTF16String)(Gt,!0)),Mt||Rt){const nn=new e.Dict(At);Yt.set("AP",nn),Mt?nn.set("N",Mt):nn.set("N",Rt)}return Yt}static async createNewAppearanceStream(j,At,Mt){const{baseFontRef:Rt,evaluator:$t,task:zt}=Mt,{color:qt,fontSize:Wt,rect:Gt,rotation:Zt,value:Yt}=j,tn=new e.Dict(At),nn=new e.Dict(At);if(Rt)nn.set("Helv",Rt);else{const pn=new e.Dict(At);pn.set("BaseFont",e.Name.get("Helvetica")),pn.set("Type",e.Name.get("Font")),pn.set("Subtype",e.Name.get("Type1")),pn.set("Encoding",e.Name.get("WinAnsiEncoding")),nn.set("Helv",pn)}tn.set("Font",nn);const en=await Et._getFontData($t,zt,{fontName:"Helv",fontSize:Wt},tn),[an,vn,An,cn]=Gt;let hn=An-an,fn=cn-vn;Zt%180!=0&&([hn,fn]=[fn,hn]);const Cn=Yt.split(`
`),kn=Wt/1e3;let Rn=-1/0;const sn=[];for(let pn of Cn){const Dn=en.encodeString(pn);if(Dn.length>1)return null;pn=Dn.join(""),sn.push(pn);let Tn=0;const _n=en.charsToGlyphs(pn);for(const $n of _n)Tn+=$n.width*kn;Rn=Math.max(Rn,Tn)}let En=1;Rn>hn&&(En=hn/Rn);let Pn=1;const Ln=s.LINE_FACTOR*Wt,jn=(s.LINE_FACTOR-s.LINE_DESCENT_FACTOR)*Wt,Nn=Ln*Cn.length;Nn>fn&&(Pn=fn/Nn);const ln=Wt*Math.min(En,Pn);let rn,on,mn;switch(Zt){case 0:mn=[1,0,0,1],on=[Gt[0],Gt[1],hn,fn],rn=[Gt[0],Gt[3]-jn];break;case 90:mn=[0,1,-1,0],on=[Gt[1],-Gt[2],hn,fn],rn=[Gt[1],-Gt[0]-jn];break;case 180:mn=[-1,0,0,-1],on=[-Gt[2],-Gt[3],hn,fn],rn=[-Gt[2],-Gt[1]-jn];break;case 270:mn=[0,-1,1,0],on=[-Gt[3],Gt[0],hn,fn],rn=[-Gt[3],Gt[2]-jn]}const gn=["q",`${mn.join(" ")} 0 0 cm`,`${on.join(" ")} re W n`,"BT",`${(0,St.getPdfColor)(qt,!0)}`,`0 Tc /Helv ${(0,bt.numberToString)(ln)} Tf`];gn.push(`${rn.join(" ")} Td (${(0,bt.escapeString)(sn[0])}) Tj`);const dn=(0,bt.numberToString)(Ln);for(let pn=1,Dn=sn.length;pn<Dn;pn++){const Tn=sn[pn];gn.push(`0 -${dn} Td (${(0,bt.escapeString)(Tn)}) Tj`)}gn.push("ET","Q");const Sn=gn.join(`
`),bn=new e.Dict(At);bn.set("FormType",1),bn.set("Subtype",e.Name.get("Form")),bn.set("Type",e.Name.get("XObject")),bn.set("BBox",Gt),bn.set("Resources",tn),bn.set("Matrix",[1,0,0,1,-Gt[0],-Gt[1]]);const yn=new i.StringStream(Sn);return yn.dict=bn,yn}}class nt extends Tt{constructor(j){super(j);const{dict:At,xref:Mt}=j;this.data.annotationType=s.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const Rt=At.getArray("L");if(this.data.lineCoordinates=s.Util.normalizeRect(Rt),this.setLineEndings(At.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const $t=this.color?ot(this.color):[0,0,0],zt=At.get("CA"),qt=tt(At.getArray("IC"),null),Wt=qt?ot(qt):null,Gt=Wt?zt:null,Zt=this.borderStyle.width||1,Yt=2*Zt,tn=[this.data.lineCoordinates[0]-Yt,this.data.lineCoordinates[1]-Yt,this.data.lineCoordinates[2]+Yt,this.data.lineCoordinates[3]+Yt];s.Util.intersect(this.rectangle,tn)||(this.rectangle=tn),this._setDefaultAppearance({xref:Mt,extra:`${Zt} w`,strokeColor:$t,fillColor:Wt,strokeAlpha:zt,fillAlpha:Gt,pointsCallback:(nn,en)=>(nn.push(`${Rt[0]} ${Rt[1]} m`,`${Rt[2]} ${Rt[3]} l`,"S"),[en[0].x-Zt,en[1].x+Zt,en[3].y-Zt,en[1].y+Zt])})}}}class gt extends Tt{constructor(j){super(j);const{dict:At,xref:Mt}=j;if(this.data.annotationType=s.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const Rt=this.color?ot(this.color):[0,0,0],$t=At.get("CA"),zt=tt(At.getArray("IC"),null),qt=zt?ot(zt):null,Wt=qt?$t:null;if(this.borderStyle.width===0&&!qt)return;this._setDefaultAppearance({xref:Mt,extra:`${this.borderStyle.width} w`,strokeColor:Rt,fillColor:qt,strokeAlpha:$t,fillAlpha:Wt,pointsCallback:(Gt,Zt)=>{const Yt=Zt[2].x+this.borderStyle.width/2,tn=Zt[2].y+this.borderStyle.width/2,nn=Zt[3].x-Zt[2].x-this.borderStyle.width,en=Zt[1].y-Zt[3].y-this.borderStyle.width;return Gt.push(`${Yt} ${tn} ${nn} ${en} re`),qt?Gt.push("B"):Gt.push("S"),[Zt[0].x,Zt[1].x,Zt[3].y,Zt[1].y]}})}}}class Ft extends Tt{constructor(j){super(j);const{dict:At,xref:Mt}=j;if(this.data.annotationType=s.AnnotationType.CIRCLE,!this.appearance){const Rt=this.color?ot(this.color):[0,0,0],$t=At.get("CA"),zt=tt(At.getArray("IC"),null),qt=zt?ot(zt):null,Wt=qt?$t:null;if(this.borderStyle.width===0&&!qt)return;const Gt=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:Mt,extra:`${this.borderStyle.width} w`,strokeColor:Rt,fillColor:qt,strokeAlpha:$t,fillAlpha:Wt,pointsCallback:(Zt,Yt)=>{const tn=Yt[0].x+this.borderStyle.width/2,nn=Yt[0].y-this.borderStyle.width/2,en=Yt[3].x-this.borderStyle.width/2,an=Yt[3].y+this.borderStyle.width/2,vn=tn+(en-tn)/2,An=nn+(an-nn)/2,cn=(en-tn)/2*Gt,hn=(an-nn)/2*Gt;return Zt.push(`${vn} ${an} m`,`${vn+cn} ${an} ${en} ${An+hn} ${en} ${An} c`,`${en} ${An-hn} ${vn+cn} ${nn} ${vn} ${nn} c`,`${vn-cn} ${nn} ${tn} ${An-hn} ${tn} ${An} c`,`${tn} ${An+hn} ${vn-cn} ${an} ${vn} ${an} c`,"h"),qt?Zt.push("B"):Zt.push("S"),[Yt[0].x,Yt[1].x,Yt[3].y,Yt[1].y]}})}}}class yt extends Tt{constructor(j){super(j);const{dict:At,xref:Mt}=j;this.data.annotationType=s.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof vt||(this.setLineEndings(At.getArray("LE")),this.data.lineEndings=this.lineEndings);const Rt=At.getArray("Vertices");if(Array.isArray(Rt)){for(let $t=0,zt=Rt.length;$t<zt;$t+=2)this.data.vertices.push({x:Rt[$t],y:Rt[$t+1]});if(!this.appearance){const $t=this.color?ot(this.color):[0,0,0],zt=At.get("CA"),qt=this.borderStyle.width||1,Wt=2*qt,Gt=[1/0,1/0,-1/0,-1/0];for(const Zt of this.data.vertices)Gt[0]=Math.min(Gt[0],Zt.x-Wt),Gt[1]=Math.min(Gt[1],Zt.y-Wt),Gt[2]=Math.max(Gt[2],Zt.x+Wt),Gt[3]=Math.max(Gt[3],Zt.y+Wt);s.Util.intersect(this.rectangle,Gt)||(this.rectangle=Gt),this._setDefaultAppearance({xref:Mt,extra:`${qt} w`,strokeColor:$t,strokeAlpha:zt,pointsCallback:(Zt,Yt)=>{const tn=this.data.vertices;for(let nn=0,en=tn.length;nn<en;nn++)Zt.push(`${tn[nn].x} ${tn[nn].y} ${nn===0?"m":"l"}`);return Zt.push("S"),[Yt[0].x,Yt[1].x,Yt[3].y,Yt[1].y]}})}}}}class vt extends yt{constructor(j){super(j),this.data.annotationType=s.AnnotationType.POLYGON}}class Lt extends Tt{constructor(j){super(j),this.data.annotationType=s.AnnotationType.CARET}}class jt extends Tt{constructor(j){super(j),this.data.hasOwnCanvas=this.data.noRotate;const{dict:At,xref:Mt}=j;this.data.annotationType=s.AnnotationType.INK,this.data.inkLists=[];const Rt=At.getArray("InkList");if(Array.isArray(Rt)){for(let $t=0,zt=Rt.length;$t<zt;++$t){this.data.inkLists.push([]);for(let qt=0,Wt=Rt[$t].length;qt<Wt;qt+=2)this.data.inkLists[$t].push({x:Mt.fetchIfRef(Rt[$t][qt]),y:Mt.fetchIfRef(Rt[$t][qt+1])})}if(!this.appearance){const $t=this.color?ot(this.color):[0,0,0],zt=At.get("CA"),qt=this.borderStyle.width||1,Wt=2*qt,Gt=[1/0,1/0,-1/0,-1/0];for(const Zt of this.data.inkLists)for(const Yt of Zt)Gt[0]=Math.min(Gt[0],Yt.x-Wt),Gt[1]=Math.min(Gt[1],Yt.y-Wt),Gt[2]=Math.max(Gt[2],Yt.x+Wt),Gt[3]=Math.max(Gt[3],Yt.y+Wt);s.Util.intersect(this.rectangle,Gt)||(this.rectangle=Gt),this._setDefaultAppearance({xref:Mt,extra:`${qt} w`,strokeColor:$t,strokeAlpha:zt,pointsCallback:(Zt,Yt)=>{for(const tn of this.data.inkLists){for(let nn=0,en=tn.length;nn<en;nn++)Zt.push(`${tn[nn].x} ${tn[nn].y} ${nn===0?"m":"l"}`);Zt.push("S")}return[Yt[0].x,Yt[1].x,Yt[3].y,Yt[1].y]}})}}}static createNewDict(j,At,{apRef:Mt,ap:Rt}){const{color:$t,opacity:zt,paths:qt,rect:Wt,rotation:Gt,thickness:Zt}=j,Yt=new e.Dict(At);Yt.set("Type",e.Name.get("Annot")),Yt.set("Subtype",e.Name.get("Ink")),Yt.set("CreationDate",`D:${(0,s.getModificationDate)()}`),Yt.set("Rect",Wt),Yt.set("InkList",qt.map(en=>en.points)),Yt.set("F",4),Yt.set("Rotate",Gt);const tn=new e.Dict(At);Yt.set("BS",tn),tn.set("W",Zt),Yt.set("C",Array.from($t,en=>en/255)),Yt.set("CA",zt);const nn=new e.Dict(At);return Yt.set("AP",nn),Mt?nn.set("N",Mt):nn.set("N",Rt),Yt}static async createNewAppearanceStream(j,At,Mt){const{color:Rt,rect:$t,paths:zt,thickness:qt,opacity:Wt}=j,Gt=[`${qt} w 1 J 1 j`,`${(0,St.getPdfColor)(Rt,!1)}`];Wt!==1&&Gt.push("/R0 gs");const Zt=[];for(const{bezier:en}of zt){Zt.length=0,Zt.push(`${(0,bt.numberToString)(en[0])} ${(0,bt.numberToString)(en[1])} m`);for(let an=2,vn=en.length;an<vn;an+=6){const An=en.slice(an,an+6).map(bt.numberToString).join(" ");Zt.push(`${An} c`)}Zt.push("S"),Gt.push(Zt.join(`
`))}const Yt=Gt.join(`
`),tn=new e.Dict(At);if(tn.set("FormType",1),tn.set("Subtype",e.Name.get("Form")),tn.set("Type",e.Name.get("XObject")),tn.set("BBox",$t),tn.set("Length",Yt.length),Wt!==1){const en=new e.Dict(At),an=new e.Dict(At),vn=new e.Dict(At);vn.set("CA",Wt),vn.set("Type",e.Name.get("ExtGState")),an.set("R0",vn),en.set("ExtGState",an),tn.set("Resources",en)}const nn=new i.StringStream(Yt);return nn.dict=tn,nn}}class Ht extends Tt{constructor(j){var Rt;super(j);const{dict:At,xref:Mt}=j;if(this.data.annotationType=s.AnnotationType.HIGHLIGHT,this.data.quadPoints=mt(At,null)){const $t=(Rt=this.appearance)==null?void 0:Rt.dict.get("Resources");if(!this.appearance||!($t!=null&&$t.has("ExtGState"))){this.appearance&&(0,s.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const zt=this.color?ot(this.color):[1,1,0],qt=At.get("CA");this._setDefaultAppearance({xref:Mt,fillColor:zt,blendMode:"Multiply",fillAlpha:qt,pointsCallback:(Wt,Gt)=>(Wt.push(`${Gt[0].x} ${Gt[0].y} m`,`${Gt[1].x} ${Gt[1].y} l`,`${Gt[3].x} ${Gt[3].y} l`,`${Gt[2].x} ${Gt[2].y} l`,"f"),[Gt[0].x,Gt[1].x,Gt[3].y,Gt[1].y])})}}else this.data.popupRef=null}}class Vt extends Tt{constructor(j){super(j);const{dict:At,xref:Mt}=j;if(this.data.annotationType=s.AnnotationType.UNDERLINE,this.data.quadPoints=mt(At,null)){if(!this.appearance){const Rt=this.color?ot(this.color):[0,0,0],$t=At.get("CA");this._setDefaultAppearance({xref:Mt,extra:"[] 0 d 0.571 w",strokeColor:Rt,strokeAlpha:$t,pointsCallback:(zt,qt)=>(zt.push(`${qt[2].x} ${qt[2].y+1.3} m`,`${qt[3].x} ${qt[3].y+1.3} l`,"S"),[qt[0].x,qt[1].x,qt[3].y,qt[1].y])})}}else this.data.popupRef=null}}class Qt extends Tt{constructor(j){super(j);const{dict:At,xref:Mt}=j;if(this.data.annotationType=s.AnnotationType.SQUIGGLY,this.data.quadPoints=mt(At,null)){if(!this.appearance){const Rt=this.color?ot(this.color):[0,0,0],$t=At.get("CA");this._setDefaultAppearance({xref:Mt,extra:"[] 0 d 1 w",strokeColor:Rt,strokeAlpha:$t,pointsCallback:(zt,qt)=>{const Wt=(qt[0].y-qt[2].y)/6;let Gt=Wt,Zt=qt[2].x;const Yt=qt[2].y,tn=qt[3].x;zt.push(`${Zt} ${Yt+Gt} m`);do Zt+=2,Gt=Gt===0?Wt:0,zt.push(`${Zt} ${Yt+Gt} l`);while(Zt<tn);return zt.push("S"),[qt[2].x,tn,Yt-2*Wt,Yt+2*Wt]}})}}else this.data.popupRef=null}}class _e extends Tt{constructor(j){super(j);const{dict:At,xref:Mt}=j;if(this.data.annotationType=s.AnnotationType.STRIKEOUT,this.data.quadPoints=mt(At,null)){if(!this.appearance){const Rt=this.color?ot(this.color):[0,0,0],$t=At.get("CA");this._setDefaultAppearance({xref:Mt,extra:"[] 0 d 1 w",strokeColor:Rt,strokeAlpha:$t,pointsCallback:(zt,qt)=>(zt.push((qt[0].x+qt[2].x)/2+" "+(qt[0].y+qt[2].y)/2+" m",(qt[1].x+qt[3].x)/2+" "+(qt[1].y+qt[3].y)/2+" l","S"),[qt[0].x,qt[1].x,qt[3].y,qt[1].y])})}}else this.data.popupRef=null}}class Xt extends Tt{constructor(j){super(j),this.data.annotationType=s.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(j,At){const{width:Mt,height:Rt}=j,$t=new OffscreenCanvas(Mt,Rt),zt=$t.getContext("2d",{alpha:!0});zt.drawImage(j,0,0);const qt=zt.getImageData(0,0,Mt,Rt).data,Wt=new Uint32Array(qt.buffer),Gt=Wt.some(s.FeatureTest.isLittleEndian?an=>an>>>24!=255:an=>(255&an)!=255);Gt&&(zt.fillStyle="white",zt.fillRect(0,0,Mt,Rt),zt.drawImage(j,0,0));const Zt=$t.convertToBlob({type:"image/jpeg",quality:1}).then(an=>an.arrayBuffer()),Yt=e.Name.get("XObject"),tn=e.Name.get("Image"),nn=new e.Dict(At);nn.set("Type",Yt),nn.set("Subtype",tn),nn.set("BitsPerComponent",8),nn.set("ColorSpace",e.Name.get("DeviceRGB")),nn.set("Filter",e.Name.get("DCTDecode")),nn.set("BBox",[0,0,Mt,Rt]),nn.set("Width",Mt),nn.set("Height",Rt);let en=null;if(Gt){const an=new Uint8Array(Wt.length);if(s.FeatureTest.isLittleEndian)for(let An=0,cn=Wt.length;An<cn;An++)an[An]=Wt[An]>>>24;else for(let An=0,cn=Wt.length;An<cn;An++)an[An]=255&Wt[An];const vn=new e.Dict(At);vn.set("Type",Yt),vn.set("Subtype",tn),vn.set("BitsPerComponent",8),vn.set("ColorSpace",e.Name.get("DeviceGray")),vn.set("Width",Mt),vn.set("Height",Rt),en=new i.Stream(an,0,0,vn)}return{imageStream:new i.Stream(await Zt,0,0,nn),smaskStream:en,width:Mt,height:Rt}}static createNewDict(j,At,{apRef:Mt,ap:Rt}){const{rect:$t,rotation:zt,user:qt}=j,Wt=new e.Dict(At);if(Wt.set("Type",e.Name.get("Annot")),Wt.set("Subtype",e.Name.get("Stamp")),Wt.set("CreationDate",`D:${(0,s.getModificationDate)()}`),Wt.set("Rect",$t),Wt.set("F",4),Wt.set("Border",[0,0,0]),Wt.set("Rotate",zt),qt&&Wt.set("T",(0,bt.isAscii)(qt)?qt:(0,bt.stringToUTF16String)(qt,!0)),Mt||Rt){const Gt=new e.Dict(At);Wt.set("AP",Gt),Mt?Gt.set("N",Mt):Gt.set("N",Rt)}return Wt}static async createNewAppearanceStream(j,At,Mt){const{rotation:Rt}=j,{imageRef:$t,width:zt,height:qt}=Mt.image,Wt=new e.Dict(At),Gt=new e.Dict(At);Wt.set("XObject",Gt),Gt.set("Im0",$t);const Zt=`q ${zt} 0 0 ${qt} 0 0 cm /Im0 Do Q`,Yt=new e.Dict(At);if(Yt.set("FormType",1),Yt.set("Subtype",e.Name.get("Form")),Yt.set("Type",e.Name.get("XObject")),Yt.set("BBox",[0,0,zt,qt]),Yt.set("Resources",Wt),Rt){const nn=(0,bt.getRotationMatrix)(Rt,zt,qt);Yt.set("Matrix",nn)}const tn=new i.StringStream(Zt);return tn.dict=Yt,tn}}class Dt extends Tt{constructor(j){super(j);const{dict:At,xref:Mt}=j,Rt=new _.FileSpec(At.get("FS"),Mt);this.data.annotationType=s.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=Rt.serializable;const $t=At.get("Name");this.data.name=$t instanceof e.Name?(0,s.stringToPDFString)($t.name):"PushPin";const zt=At.get("ca");this.data.fillAlpha=typeof zt=="number"&&zt>=0&&zt<=1?zt:null}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FakeUnicodeFont=void 0,$.createDefaultAppearance=function({fontSize:ct,fontName:it,fontColor:tt}){return`/${(0,bt.escapePDFName)(it)} ${ct} Tf ${c(tt,!0)}`},$.getPdfColor=c,$.parseAppearanceStream=function(ct,it,tt){return new _(ct,it,tt).parse()},$.parseDefaultAppearance=function(ct){return new et(ct).parse()};var s=_t(4),bt=_t(3),St=_t(2),e=_t(12),i=_t(13),d=_t(59),ut=_t(57),dt=_t(8);class et extends i.EvaluatorPreprocessor{constructor(ct){super(new dt.StringStream(ct))}parse(){const ct={fn:0,args:[]},it={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;ct.args.length=0,!!this.read(ct);){if(this.savedStatesDepth!==0)continue;const{fn:tt,args:ot}=ct;switch(0|tt){case St.OPS.setFont:const[mt,Ct]=ot;mt instanceof s.Name&&(it.fontName=mt.name),typeof Ct=="number"&&Ct>0&&(it.fontSize=Ct);break;case St.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(ot,0,it.fontColor,0);break;case St.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(ot,0,it.fontColor,0);break;case St.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(ot,0,it.fontColor,0)}}}catch(tt){(0,St.warn)(`parseDefaultAppearance - ignoring errors: "${tt}".`)}return it}}class _ extends i.EvaluatorPreprocessor{constructor(ct,it,tt){var ot;super(ct),this.stream=ct,this.evaluatorOptions=it,this.xref=tt,this.resources=(ot=ct.dict)==null?void 0:ot.get("Resources")}parse(){const ct={fn:0,args:[]};let it={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},tt=!1;const ot=[];try{for(;ct.args.length=0,!(tt||!this.read(ct));){const{fn:mt,args:Ct}=ct;switch(0|mt){case St.OPS.save:ot.push({scaleFactor:it.scaleFactor,fontSize:it.fontSize,fontName:it.fontName,fontColor:it.fontColor.slice(),fillColorSpace:it.fillColorSpace});break;case St.OPS.restore:it=ot.pop()||it;break;case St.OPS.setTextMatrix:it.scaleFactor*=Math.hypot(Ct[0],Ct[1]);break;case St.OPS.setFont:const[Nt,Pt]=Ct;Nt instanceof s.Name&&(it.fontName=Nt.name),typeof Pt=="number"&&Pt>0&&(it.fontSize=Pt*it.scaleFactor);break;case St.OPS.setFillColorSpace:it.fillColorSpace=e.ColorSpace.parse({cs:Ct[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case St.OPS.setFillColor:it.fillColorSpace.getRgbItem(Ct,0,it.fontColor,0);break;case St.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(Ct,0,it.fontColor,0);break;case St.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(Ct,0,it.fontColor,0);break;case St.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(Ct,0,it.fontColor,0);break;case St.OPS.showText:case St.OPS.showSpacedText:case St.OPS.nextLineShowText:case St.OPS.nextLineSetSpacingShowText:tt=!0}}}catch(mt){(0,St.warn)(`parseAppearanceStream - ignoring errors: "${mt}".`)}return this.stream.reset(),delete it.scaleFactor,delete it.fillColorSpace,it}get _localColorSpaceCache(){return(0,St.shadow)(this,"_localColorSpaceCache",new d.LocalColorSpaceCache)}get _pdfFunctionFactory(){const ct=new ut.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,St.shadow)(this,"_pdfFunctionFactory",ct)}}function c(at,ct){if(at[0]===at[1]&&at[1]===at[2]){const it=at[0]/255;return`${(0,bt.numberToString)(it)} ${ct?"g":"G"}`}return Array.from(at,it=>(0,bt.numberToString)(it/255)).join(" ")+" "+(ct?"rg":"RG")}class lt{constructor(ct,it){this.xref=ct,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=it;const tt=new OffscreenCanvas(1,1);this.ctxMeasure=tt.getContext("2d"),lt._fontNameId||(lt._fontNameId=1),this.fontName=s.Name.get(`InvalidPDFjsFont_${it}_${lt._fontNameId++}`)}get toUnicodeRef(){if(!lt._toUnicodeRef){const ct=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,it=lt.toUnicodeStream=new dt.StringStream(ct),tt=new s.Dict(this.xref);it.dict=tt,tt.set("Length",ct.length),lt._toUnicodeRef=this.xref.getNewPersistentRef(it)}return lt._toUnicodeRef}get fontDescriptorRef(){if(!lt._fontDescriptorRef){const ct=new s.Dict(this.xref);ct.set("Type",s.Name.get("FontDescriptor")),ct.set("FontName",this.fontName),ct.set("FontFamily","MyriadPro Regular"),ct.set("FontBBox",[0,0,0,0]),ct.set("FontStretch",s.Name.get("Normal")),ct.set("FontWeight",400),ct.set("ItalicAngle",0),lt._fontDescriptorRef=this.xref.getNewPersistentRef(ct)}return lt._fontDescriptorRef}get descendantFontRef(){const ct=new s.Dict(this.xref);ct.set("BaseFont",this.fontName),ct.set("Type",s.Name.get("Font")),ct.set("Subtype",s.Name.get("CIDFontType0")),ct.set("CIDToGIDMap",s.Name.get("Identity")),ct.set("FirstChar",this.firstChar),ct.set("LastChar",this.lastChar),ct.set("FontDescriptor",this.fontDescriptorRef),ct.set("DW",1e3);const it=[],tt=[...this.widths.entries()].sort();let ot=null,mt=null;for(const[Nt,Pt]of tt)ot?Nt===ot+mt.length?mt.push(Pt):(it.push(ot,mt),ot=Nt,mt=[Pt]):(ot=Nt,mt=[Pt]);ot&&it.push(ot,mt),ct.set("W",it);const Ct=new s.Dict(this.xref);return Ct.set("Ordering","Identity"),Ct.set("Registry","Adobe"),Ct.set("Supplement",0),ct.set("CIDSystemInfo",Ct),this.xref.getNewPersistentRef(ct)}get baseFontRef(){const ct=new s.Dict(this.xref);return ct.set("BaseFont",this.fontName),ct.set("Type",s.Name.get("Font")),ct.set("Subtype",s.Name.get("Type0")),ct.set("Encoding",s.Name.get("Identity-H")),ct.set("DescendantFonts",[this.descendantFontRef]),ct.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(ct)}get resources(){const ct=new s.Dict(this.xref),it=new s.Dict(this.xref);return it.set(this.fontName.name,this.baseFontRef),ct.set("Font",it),ct}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(ct){const it=this._createContext();for(const tt of ct.split(/\r\n?|\n/))for(const ot of tt.split("")){const mt=ot.charCodeAt(0);if(this.widths.has(mt))continue;const Ct=it.measureText(ot),Nt=Math.ceil(Ct.width);this.widths.set(mt,Nt),this.firstChar=Math.min(mt,this.firstChar),this.lastChar=Math.max(mt,this.lastChar)}return this.resources}createAppearance(ct,it,tt,ot,mt,Ct){const Nt=this._createContext(),Pt=[];let Tt=-1/0;for(const Qt of ct.split(/\r\n?|\n/)){Pt.push(Qt);const _e=Nt.measureText(Qt).width;Tt=Math.max(Tt,_e);for(const Xt of Qt.split("")){const Dt=Xt.charCodeAt(0);let It=this.widths.get(Dt);if(It===void 0){const j=Nt.measureText(Xt);It=Math.ceil(j.width),this.widths.set(Dt,It),this.firstChar=Math.min(Dt,this.firstChar),this.lastChar=Math.max(Dt,this.lastChar)}}}Tt*=ot/1e3;const[Et,rt,ft,wt]=it;let b=ft-Et,pt=wt-rt;tt%180!=0&&([b,pt]=[pt,b]);let Ot=1;Tt>b&&(Ot=b/Tt);let kt=1;const st=St.LINE_FACTOR*ot,nt=St.LINE_DESCENT_FACTOR*ot,gt=st*Pt.length;gt>pt&&(kt=pt/gt);const Ft=ot*Math.min(Ot,kt),yt=["q",`0 0 ${(0,bt.numberToString)(b)} ${(0,bt.numberToString)(pt)} re W n`,"BT",`1 0 0 1 0 ${(0,bt.numberToString)(pt+nt)} Tm 0 Tc ${c(mt,!0)}`,`/${this.fontName.name} ${(0,bt.numberToString)(Ft)} Tf`],{resources:vt}=this;if((Ct=typeof Ct=="number"&&Ct>=0&&Ct<=1?Ct:1)!==1){yt.push("/R0 gs");const Qt=new s.Dict(this.xref),_e=new s.Dict(this.xref);_e.set("ca",Ct),_e.set("CA",Ct),_e.set("Type",s.Name.get("ExtGState")),Qt.set("R0",_e),vt.set("ExtGState",Qt)}const Lt=(0,bt.numberToString)(st);for(const Qt of Pt)yt.push(`0 -${Lt} Td <${(0,bt.stringToUTF16HexString)(Qt)}> Tj`);yt.push("ET","Q");const jt=yt.join(`
`),Ht=new s.Dict(this.xref);if(Ht.set("Subtype",s.Name.get("Form")),Ht.set("Type",s.Name.get("XObject")),Ht.set("BBox",[0,0,b,pt]),Ht.set("Length",jt.length),Ht.set("Resources",vt),tt){const Qt=(0,bt.getRotationMatrix)(tt,b,pt);Ht.set("Matrix",Qt)}const Vt=new dt.StringStream(jt);return Vt.dict=Ht,Vt}}$.FakeUnicodeFont=lt},(Ut,$,_t)=>{var it,Eo,ot,Fo,Ct,Nt,Pt,Tt,Et,rt,ft,wt,b,Lr,Rl,Dl,hs,jr,Br,Nl,Ll,Bl,To,Ht,ds,fs,_o;Object.defineProperty($,"__esModule",{value:!0}),$.ColorSpace=void 0;var s=_t(2),bt=_t(4),St=_t(5),e=_t(3);class i{constructor(Dt,It){this.constructor===i&&(0,s.unreachable)("Cannot initialize ColorSpace."),this.name=Dt,this.numComps=It}getRgb(Dt,It){const j=new Uint8ClampedArray(3);return this.getRgbItem(Dt,It,j,0),j}getRgbItem(Dt,It,j,At){(0,s.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(Dt,It,j,At,Mt,Rt,$t){(0,s.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(Dt,It){(0,s.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(Dt){return!1}isDefaultDecode(Dt,It){return i.isDefaultDecode(Dt,this.numComps)}fillRgb(Dt,It,j,At,Mt,Rt,$t,zt,qt){const Wt=It*j;let Gt=null;const Zt=1<<$t,Yt=j!==Mt||It!==At;if(this.isPassthrough($t))Gt=zt;else if(this.numComps===1&&Wt>Zt&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const tn=$t<=8?new Uint8Array(Zt):new Uint16Array(Zt);for(let en=0;en<Zt;en++)tn[en]=en;const nn=new Uint8ClampedArray(3*Zt);if(this.getRgbBuffer(tn,0,Zt,nn,0,$t,0),Yt){Gt=new Uint8Array(3*Wt);let en=0;for(let an=0;an<Wt;++an){const vn=3*zt[an];Gt[en++]=nn[vn],Gt[en++]=nn[vn+1],Gt[en++]=nn[vn+2]}}else{let en=0;for(let an=0;an<Wt;++an){const vn=3*zt[an];Dt[en++]=nn[vn],Dt[en++]=nn[vn+1],Dt[en++]=nn[vn+2],en+=qt}}}else Yt?(Gt=new Uint8ClampedArray(3*Wt),this.getRgbBuffer(zt,0,Wt,Gt,0,$t,0)):this.getRgbBuffer(zt,0,At*Rt,Dt,0,$t,qt);if(Gt)if(Yt)(function(nn,en,an,vn,An,cn,hn){hn=hn!==1?0:hn;const fn=an/An,Cn=vn/cn;let kn,Rn=0;const sn=new Uint16Array(An),En=3*an;for(let Pn=0;Pn<An;Pn++)sn[Pn]=3*Math.floor(Pn*fn);for(let Pn=0;Pn<cn;Pn++){const Ln=Math.floor(Pn*Cn)*En;for(let jn=0;jn<An;jn++)kn=Ln+sn[jn],en[Rn++]=nn[kn++],en[Rn++]=nn[kn++],en[Rn++]=nn[kn++],Rn+=hn}})(Gt,Dt,It,j,At,Mt,qt);else{let tn=0,nn=0;for(let en=0,an=At*Rt;en<an;en++)Dt[tn++]=Gt[nn++],Dt[tn++]=Gt[nn++],Dt[tn++]=Gt[nn++],tn+=qt}}get usesZeroToOneRange(){return(0,s.shadow)(this,"usesZeroToOneRange",!0)}static _cache(Dt,It,j,At){if(!j)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!At)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let Mt,Rt;Dt instanceof bt.Ref&&(Rt=Dt,Dt=It.fetch(Dt)),Dt instanceof bt.Name&&(Mt=Dt.name),(Mt||Rt)&&j.set(Mt,Rt,At)}static getCached(Dt,It,j){if(!j)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(Dt instanceof bt.Ref){const At=j.getByRef(Dt);if(At)return At;try{Dt=It.fetch(Dt)}catch(Mt){if(Mt instanceof e.MissingDataException)throw Mt}}if(Dt instanceof bt.Name){const At=j.getByName(Dt.name);if(At)return At}return null}static async parseAsync({cs:Dt,xref:It,resources:j=null,pdfFunctionFactory:At,localColorSpaceCache:Mt}){const Rt=this._parse(Dt,It,j,At);return this._cache(Dt,It,Mt,Rt),Rt}static parse({cs:Dt,xref:It,resources:j=null,pdfFunctionFactory:At,localColorSpaceCache:Mt}){const Rt=this.getCached(Dt,It,Mt);if(Rt)return Rt;const $t=this._parse(Dt,It,j,At);return this._cache(Dt,It,Mt,$t),$t}static _parse(Dt,It,j=null,At){if((Dt=It.fetchIfRef(Dt))instanceof bt.Name)switch(Dt.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new ut(null);default:if(j instanceof bt.Dict){const Mt=j.get("ColorSpace");if(Mt instanceof bt.Dict){const Rt=Mt.get(Dt.name);if(Rt){if(Rt instanceof bt.Name)return this._parse(Rt,It,j,At);Dt=Rt;break}}}throw new s.FormatError(`Unrecognized ColorSpace: ${Dt.name}`)}if(Array.isArray(Dt)){const Mt=It.fetchIfRef(Dt[0]).name;let Rt,$t,zt,qt,Wt,Gt;switch(Mt){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return Rt=It.fetchIfRef(Dt[1]),qt=Rt.getArray("WhitePoint"),Wt=Rt.getArray("BlackPoint"),Gt=Rt.get("Gamma"),new lt(qt,Wt,Gt);case"CalRGB":Rt=It.fetchIfRef(Dt[1]),qt=Rt.getArray("WhitePoint"),Wt=Rt.getArray("BlackPoint"),Gt=Rt.getArray("Gamma");const Zt=Rt.getArray("Matrix");return new at(qt,Wt,Gt,Zt);case"ICCBased":const Yt=It.fetchIfRef(Dt[1]).dict;$t=Yt.get("N");const tn=Yt.get("Alternate");if(tn){const cn=this._parse(tn,It,j,At);if(cn.numComps===$t)return cn;(0,s.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if($t===1)return this.singletons.gray;if($t===3)return this.singletons.rgb;if($t===4)return this.singletons.cmyk;break;case"Pattern":return zt=Dt[1]||null,zt&&(zt=this._parse(zt,It,j,At)),new ut(zt);case"I":case"Indexed":zt=this._parse(Dt[1],It,j,At);const nn=It.fetchIfRef(Dt[2])+1,en=It.fetchIfRef(Dt[3]);return new dt(zt,nn,en);case"Separation":case"DeviceN":const an=It.fetchIfRef(Dt[1]);$t=Array.isArray(an)?an.length:1,zt=this._parse(Dt[2],It,j,At);const vn=At.create(Dt[3]);return new d($t,zt,vn);case"Lab":Rt=It.fetchIfRef(Dt[1]),qt=Rt.getArray("WhitePoint"),Wt=Rt.getArray("BlackPoint");const An=Rt.getArray("Range");return new ct(qt,Wt,An);default:throw new s.FormatError(`Unimplemented ColorSpace object: ${Mt}`)}}throw new s.FormatError(`Unrecognized ColorSpace object: ${Dt}`)}static isDefaultDecode(Dt,It){if(!Array.isArray(Dt))return!0;if(2*It!==Dt.length)return(0,s.warn)("The decode map is not the correct length"),!0;for(let j=0,At=Dt.length;j<At;j+=2)if(Dt[j]!==0||Dt[j+1]!==1)return!1;return!0}static get singletons(){return(0,s.shadow)(this,"singletons",{get gray(){return(0,s.shadow)(this,"gray",new et)},get rgb(){return(0,s.shadow)(this,"rgb",new _)},get cmyk(){return(0,s.shadow)(this,"cmyk",new c)}})}}$.ColorSpace=i;class d extends i{constructor(Dt,It,j){super("Alternate",Dt),this.base=It,this.tintFn=j,this.tmpBuf=new Float32Array(It.numComps)}getRgbItem(Dt,It,j,At){const Mt=this.tmpBuf;this.tintFn(Dt,It,Mt,0),this.base.getRgbItem(Mt,0,j,At)}getRgbBuffer(Dt,It,j,At,Mt,Rt,$t){const zt=this.tintFn,qt=this.base,Wt=1/((1<<Rt)-1),Gt=qt.numComps,Zt=qt.usesZeroToOneRange,Yt=(qt.isPassthrough(8)||!Zt)&&$t===0;let tn=Yt?Mt:0;const nn=Yt?At:new Uint8ClampedArray(Gt*j),en=this.numComps,an=new Float32Array(en),vn=new Float32Array(Gt);let An,cn;for(An=0;An<j;An++){for(cn=0;cn<en;cn++)an[cn]=Dt[It++]*Wt;if(zt(an,0,vn,0),Zt)for(cn=0;cn<Gt;cn++)nn[tn++]=255*vn[cn];else qt.getRgbItem(vn,0,nn,tn),tn+=Gt}Yt||qt.getRgbBuffer(nn,0,j,At,Mt,8,$t)}getOutputLength(Dt,It){return this.base.getOutputLength(Dt*this.base.numComps/this.numComps,It)}}class ut extends i{constructor(Dt){super("Pattern",null),this.base=Dt}isDefaultDecode(Dt,It){(0,s.unreachable)("Should not call PatternCS.isDefaultDecode")}}class dt extends i{constructor(Dt,It,j){super("Indexed",1),this.base=Dt,this.highVal=It;const At=Dt.numComps*It;if(this.lookup=new Uint8Array(At),j instanceof St.BaseStream){const Mt=j.getBytes(At);this.lookup.set(Mt)}else{if(typeof j!="string")throw new s.FormatError(`IndexedCS - unrecognized lookup table: ${j}`);for(let Mt=0;Mt<At;++Mt)this.lookup[Mt]=255&j.charCodeAt(Mt)}}getRgbItem(Dt,It,j,At){const Mt=this.base.numComps,Rt=Dt[It]*Mt;this.base.getRgbBuffer(this.lookup,Rt,1,j,At,8,0)}getRgbBuffer(Dt,It,j,At,Mt,Rt,$t){const zt=this.base,qt=zt.numComps,Wt=zt.getOutputLength(qt,$t),Gt=this.lookup;for(let Zt=0;Zt<j;++Zt){const Yt=Dt[It++]*qt;zt.getRgbBuffer(Gt,Yt,1,At,Mt,8,$t),Mt+=Wt}}getOutputLength(Dt,It){return this.base.getOutputLength(Dt*this.base.numComps,It)}isDefaultDecode(Dt,It){return Array.isArray(Dt)?Dt.length!==2?((0,s.warn)("Decode map length is not correct"),!0):!Number.isInteger(It)||It<1?((0,s.warn)("Bits per component is not correct"),!0):Dt[0]===0&&Dt[1]===(1<<It)-1:!0}}class et extends i{constructor(){super("DeviceGray",1)}getRgbItem(Dt,It,j,At){const Mt=255*Dt[It];j[At]=j[At+1]=j[At+2]=Mt}getRgbBuffer(Dt,It,j,At,Mt,Rt,$t){const zt=255/((1<<Rt)-1);let qt=It,Wt=Mt;for(let Gt=0;Gt<j;++Gt){const Zt=zt*Dt[qt++];At[Wt++]=Zt,At[Wt++]=Zt,At[Wt++]=Zt,Wt+=$t}}getOutputLength(Dt,It){return Dt*(3+It)}}class _ extends i{constructor(){super("DeviceRGB",3)}getRgbItem(Dt,It,j,At){j[At]=255*Dt[It],j[At+1]=255*Dt[It+1],j[At+2]=255*Dt[It+2]}getRgbBuffer(Dt,It,j,At,Mt,Rt,$t){if(Rt===8&&$t===0){At.set(Dt.subarray(It,It+3*j),Mt);return}const zt=255/((1<<Rt)-1);let qt=It,Wt=Mt;for(let Gt=0;Gt<j;++Gt)At[Wt++]=zt*Dt[qt++],At[Wt++]=zt*Dt[qt++],At[Wt++]=zt*Dt[qt++],Wt+=$t}getOutputLength(Dt,It){return Dt*(3+It)/3|0}isPassthrough(Dt){return Dt===8}}class c extends i{constructor(){super("DeviceCMYK",4);Fn(this,it)}getRgbItem(It,j,At,Mt){xn(this,it,Eo).call(this,It,j,1,At,Mt)}getRgbBuffer(It,j,At,Mt,Rt,$t,zt){const qt=1/((1<<$t)-1);for(let Wt=0;Wt<At;Wt++)xn(this,it,Eo).call(this,It,j,qt,Mt,Rt),j+=4,Rt+=3+zt}getOutputLength(It,j){return It/4*(3+j)|0}}it=new WeakSet,Eo=function(It,j,At,Mt,Rt){const $t=It[j]*At,zt=It[j+1]*At,qt=It[j+2]*At,Wt=It[j+3]*At;Mt[Rt]=255+$t*(-4.387332384609988*$t+54.48615194189176*zt+18.82290502165302*qt+212.25662451639585*Wt-285.2331026137004)+zt*(1.7149763477362134*zt-5.6096736904047315*qt+-17.873870861415444*Wt-5.497006427196366)+qt*(-2.5217340131683033*qt-21.248923337353073*Wt+17.5119270841813)+Wt*(-21.86122147463605*Wt-189.48180835922747),Mt[Rt+1]=255+$t*(8.841041422036149*$t+60.118027045597366*zt+6.871425592049007*qt+31.159100130055922*Wt-79.2970844816548)+zt*(-15.310361306967817*zt+17.575251261109482*qt+131.35250912493976*Wt-190.9453302588951)+qt*(4.444339102852739*qt+9.8632861493405*Wt-24.86741582555878)+Wt*(-20.737325471181034*Wt-187.80453709719578),Mt[Rt+2]=255+$t*(.8842522430003296*$t+8.078677503112928*zt+30.89978309703729*qt-.23883238689178934*Wt-14.183576799673286)+zt*(10.49593273432072*zt+63.02378494754052*qt+50.606957656360734*Wt-112.23884253719248)+qt*(.03296041114873217*qt+115.60384449646641*Wt-193.58209356861505)+Wt*(-22.33816807309886*Wt-180.12613974708367)};class lt extends i{constructor(It,j,At){super("CalGray",1);Fn(this,ot);if(!It)throw new s.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=It,[this.XB,this.YB,this.ZB]=j||[0,0,0],this.G=At||1,this.XW<0||this.ZW<0||this.YW!==1)throw new s.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,s.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),this.XB===0&&this.YB===0&&this.ZB===0||(0,s.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,s.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(It,j,At,Mt){xn(this,ot,Fo).call(this,It,j,At,Mt,1)}getRgbBuffer(It,j,At,Mt,Rt,$t,zt){const qt=1/((1<<$t)-1);for(let Wt=0;Wt<At;++Wt)xn(this,ot,Fo).call(this,It,j,Mt,Rt,qt),j+=1,Rt+=3+zt}getOutputLength(It,j){return It*(3+j)}}ot=new WeakSet,Fo=function(It,j,At,Mt,Rt){const $t=(It[j]*Rt)**this.G,zt=this.YW*$t,qt=Math.max(295.8*zt**.3333333333333333-40.8,0);At[Mt]=qt,At[Mt+1]=qt,At[Mt+2]=qt};const jt=class jt extends i{constructor(It,j,At,Mt){super("CalRGB",3);Fn(this,b);if(!It)throw new s.FormatError("WhitePoint missing - required for color space CalRGB");const[Rt,$t,zt]=this.whitePoint=It,[qt,Wt,Gt]=this.blackPoint=j||new Float32Array(3);if([this.GR,this.GG,this.GB]=At||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=Mt||new Float32Array([1,0,0,0,1,0,0,0,1]),Rt<0||zt<0||$t!==1)throw new s.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(qt<0||Wt<0||Gt<0)&&((0,s.info)(`Invalid BlackPoint for ${this.name} [${qt}, ${Wt}, ${Gt}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,s.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(It,j,At,Mt){xn(this,b,To).call(this,It,j,At,Mt,1)}getRgbBuffer(It,j,At,Mt,Rt,$t,zt){const qt=1/((1<<$t)-1);for(let Wt=0;Wt<At;++Wt)xn(this,b,To).call(this,It,j,Mt,Rt,qt),j+=3,Rt+=3+zt}getOutputLength(It,j){return It*(3+j)/3|0}};Ct=new WeakMap,Nt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,Et=new WeakMap,rt=new WeakMap,ft=new WeakMap,wt=new WeakMap,b=new WeakSet,Lr=function(It,j,At){At[0]=It[0]*j[0]+It[1]*j[1]+It[2]*j[2],At[1]=It[3]*j[0]+It[4]*j[1]+It[5]*j[2],At[2]=It[6]*j[0]+It[7]*j[1]+It[8]*j[2]},Rl=function(It,j,At){At[0]=1*j[0]/It[0],At[1]=1*j[1]/It[1],At[2]=1*j[2]/It[2]},Dl=function(It,j,At){At[0]=.95047*j[0]/It[0],At[1]=1*j[1]/It[1],At[2]=1.08883*j[2]/It[2]},hs=function(It){return It<=.0031308?xn(this,b,jr).call(this,0,1,12.92*It):It>=.99554525?1:xn(this,b,jr).call(this,0,1,1.055*It**.4166666666666667-.055)},jr=function(It,j,At){return Math.max(It,Math.min(j,At))},Br=function(It){return It<0?-xn(this,b,Br).call(this,-It):It>8?((It+16)/116)**3:It*Kt(jt,wt)},Nl=function(It,j,At){if(It[0]===0&&It[1]===0&&It[2]===0){At[0]=j[0],At[1]=j[1],At[2]=j[2];return}const Mt=xn(this,b,Br).call(this,0),Rt=(1-Mt)/(1-xn(this,b,Br).call(this,It[0])),$t=1-Rt,zt=(1-Mt)/(1-xn(this,b,Br).call(this,It[1])),qt=1-zt,Wt=(1-Mt)/(1-xn(this,b,Br).call(this,It[2])),Gt=1-Wt;At[0]=j[0]*Rt+$t,At[1]=j[1]*zt+qt,At[2]=j[2]*Wt+Gt},Ll=function(It,j,At){if(It[0]===1&&It[2]===1){At[0]=j[0],At[1]=j[1],At[2]=j[2];return}const Mt=At;xn(this,b,Lr).call(this,Kt(jt,Ct),j,Mt);const Rt=Kt(jt,Et);xn(this,b,Rl).call(this,It,Mt,Rt),xn(this,b,Lr).call(this,Kt(jt,Nt),Rt,At)},Bl=function(It,j,At){const Mt=At;xn(this,b,Lr).call(this,Kt(jt,Ct),j,Mt);const Rt=Kt(jt,Et);xn(this,b,Dl).call(this,It,Mt,Rt),xn(this,b,Lr).call(this,Kt(jt,Nt),Rt,At)},To=function(It,j,At,Mt,Rt){const $t=xn(this,b,jr).call(this,0,1,It[j]*Rt),zt=xn(this,b,jr).call(this,0,1,It[j+1]*Rt),qt=xn(this,b,jr).call(this,0,1,It[j+2]*Rt),Wt=$t===1?1:$t**this.GR,Gt=zt===1?1:zt**this.GG,Zt=qt===1?1:qt**this.GB,Yt=this.MXA*Wt+this.MXB*Gt+this.MXC*Zt,tn=this.MYA*Wt+this.MYB*Gt+this.MYC*Zt,nn=this.MZA*Wt+this.MZB*Gt+this.MZC*Zt,en=Kt(jt,rt);en[0]=Yt,en[1]=tn,en[2]=nn;const an=Kt(jt,ft);xn(this,b,Ll).call(this,this.whitePoint,en,an);const vn=Kt(jt,rt);xn(this,b,Nl).call(this,this.blackPoint,an,vn);const An=Kt(jt,ft);xn(this,b,Bl).call(this,Kt(jt,Tt),vn,An);const cn=Kt(jt,rt);xn(this,b,Lr).call(this,Kt(jt,Pt),An,cn),At[Mt]=255*xn(this,b,hs).call(this,cn[0]),At[Mt+1]=255*xn(this,b,hs).call(this,cn[1]),At[Mt+2]=255*xn(this,b,hs).call(this,cn[2])},Fn(jt,Ct,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),Fn(jt,Nt,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),Fn(jt,Pt,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),Fn(jt,Tt,new Float32Array([1,1,1])),Fn(jt,Et,new Float32Array(3)),Fn(jt,rt,new Float32Array(3)),Fn(jt,ft,new Float32Array(3)),Fn(jt,wt,.0011070564598794539);let at=jt;class ct extends i{constructor(It,j,At){super("Lab",3);Fn(this,Ht);if(!It)throw new s.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=It,[this.amin,this.amax,this.bmin,this.bmax]=At||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=j||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new s.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,s.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,s.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(It,j,At,Mt){xn(this,Ht,_o).call(this,It,j,!1,At,Mt)}getRgbBuffer(It,j,At,Mt,Rt,$t,zt){const qt=(1<<$t)-1;for(let Wt=0;Wt<At;Wt++)xn(this,Ht,_o).call(this,It,j,qt,Mt,Rt),j+=3,Rt+=3+zt}getOutputLength(It,j){return It*(3+j)/3|0}isDefaultDecode(It,j){return!0}get usesZeroToOneRange(){return(0,s.shadow)(this,"usesZeroToOneRange",!1)}}Ht=new WeakSet,ds=function(It){return It>=.20689655172413793?It**3:.12841854934601665*(It-.13793103448275862)},fs=function(It,j,At,Mt){return At+It*(Mt-At)/j},_o=function(It,j,At,Mt,Rt){let $t=It[j],zt=It[j+1],qt=It[j+2];At!==!1&&($t=xn(this,Ht,fs).call(this,$t,At,0,100),zt=xn(this,Ht,fs).call(this,zt,At,this.amin,this.amax),qt=xn(this,Ht,fs).call(this,qt,At,this.bmin,this.bmax)),zt>this.amax?zt=this.amax:zt<this.amin&&(zt=this.amin),qt>this.bmax?qt=this.bmax:qt<this.bmin&&(qt=this.bmin);const Wt=($t+16)/116,Gt=Wt+zt/500,Zt=Wt-qt/200,Yt=this.XW*xn(this,Ht,ds).call(this,Gt),tn=this.YW*xn(this,Ht,ds).call(this,Wt),nn=this.ZW*xn(this,Ht,ds).call(this,Zt);let en,an,vn;this.ZW<1?(en=3.1339*Yt+-1.617*tn+-.4906*nn,an=-.9785*Yt+1.916*tn+.0333*nn,vn=.072*Yt+-.229*tn+1.4057*nn):(en=3.2406*Yt+-1.5372*tn+-.4986*nn,an=-.9689*Yt+1.8758*tn+.0415*nn,vn=.0557*Yt+-.204*tn+1.057*nn),Mt[Rt]=255*Math.sqrt(en),Mt[Rt+1]=255*Math.sqrt(an),Mt[Rt+2]=255*Math.sqrt(vn)}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PartialEvaluator=$.EvaluatorPreprocessor=void 0;var s=_t(2),bt=_t(14),St=_t(4),e=_t(34),i=_t(37),d=_t(41),ut=_t(50),dt=_t(51),et=_t(42),_=_t(57),c=_t(16),lt=_t(59),at=_t(8),ct=_t(5),it=_t(60),tt=_t(12),ot=_t(18),mt=_t(38),Ct=_t(61),Nt=_t(39),Pt=_t(45),Tt=_t(40),Et=_t(62),rt=_t(63),ft=_t(64),wt=_t(65);const b=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),pt=1,Ot=2,kt=Promise.resolve();function st(_e,Xt=!1){if(Array.isArray(_e)){for(const Dt of _e){const It=st(Dt,!0);if(It)return It}return(0,s.warn)(`Unsupported blend mode Array: ${_e}`),"source-over"}if(!(_e instanceof St.Name))return Xt?null:"source-over";switch(_e.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return Xt?null:((0,s.warn)(`Unsupported blend mode: ${_e.name}`),"source-over")}function nt(_e){var Xt;_e.fn===s.OPS.paintImageMaskXObject&&((Xt=_e.args[0])==null?void 0:Xt.count)>0&&_e.args[0].count++}const Vt=class Vt{constructor(){this.reset()}check(){return++this.checked<Vt.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+Vt.TIME_SLOT_DURATION_MS,this.checked=0}};ir(Vt,"TIME_SLOT_DURATION_MS",20),ir(Vt,"CHECK_TIME_EVERY",100);let gt=Vt;class Ft{constructor({xref:Xt,handler:Dt,pageIndex:It,idFactory:j,fontCache:At,builtInCMapCache:Mt,standardFontDataCache:Rt,globalImageCache:$t,systemFontCache:zt,options:qt=null}){this.xref=Xt,this.handler=Dt,this.pageIndex=It,this.idFactory=j,this.fontCache=At,this.builtInCMapCache=Mt,this.standardFontDataCache=Rt,this.globalImageCache=$t,this.systemFontCache=zt,this.options=qt||b,this.parsingType3Font=!1,this._regionalImageCache=new lt.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),Et.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const Xt=new _.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,s.shadow)(this,"_pdfFunctionFactory",Xt)}clone(Xt=null){const Dt=Object.create(this);return Dt.options=Object.assign(Object.create(null),this.options,Xt),Dt}hasBlendModes(Xt,Dt){if(!(Xt instanceof St.Dict)||Xt.objId&&Dt.has(Xt.objId))return!1;const It=new St.RefSet(Dt);Xt.objId&&It.put(Xt.objId);const j=[Xt],At=this.xref;for(;j.length;){const Mt=j.shift(),Rt=Mt.get("ExtGState");if(Rt instanceof St.Dict)for(let zt of Rt.getRawValues()){if(zt instanceof St.Ref){if(It.has(zt))continue;try{zt=At.fetch(zt)}catch(Wt){It.put(zt),(0,s.info)(`hasBlendModes - ignoring ExtGState: "${Wt}".`);continue}}if(!(zt instanceof St.Dict))continue;zt.objId&&It.put(zt.objId);const qt=zt.get("BM");if(qt instanceof St.Name){if(qt.name!=="Normal")return!0}else if(qt!==void 0&&Array.isArray(qt)){for(const Wt of qt)if(Wt instanceof St.Name&&Wt.name!=="Normal")return!0}}const $t=Mt.get("XObject");if($t instanceof St.Dict)for(let zt of $t.getRawValues()){if(zt instanceof St.Ref){if(It.has(zt))continue;try{zt=At.fetch(zt)}catch(Wt){It.put(zt),(0,s.info)(`hasBlendModes - ignoring XObject: "${Wt}".`);continue}}if(!(zt instanceof ct.BaseStream))continue;zt.dict.objId&&It.put(zt.dict.objId);const qt=zt.dict.get("Resources");qt instanceof St.Dict&&(!qt.objId||!It.has(qt.objId))&&(j.push(qt),qt.objId&&It.put(qt.objId))}}for(const Mt of It)Dt.put(Mt);return!1}async fetchBuiltInCMap(Xt){const Dt=this.builtInCMapCache.get(Xt);if(Dt)return Dt;let It;if(this.options.cMapUrl!==null){const j=`${this.options.cMapUrl}${Xt}.bcmap`,At=await fetch(j);if(!At.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${j}" with "${At.statusText}".`);It={cMapData:new Uint8Array(await At.arrayBuffer()),compressionType:s.CMapCompressionType.BINARY}}else It=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:Xt});return It.compressionType!==s.CMapCompressionType.NONE&&this.builtInCMapCache.set(Xt,It),It}async fetchStandardFontData(Xt){const Dt=this.standardFontDataCache.get(Xt);if(Dt)return new at.Stream(Dt);if(this.options.useSystemFonts&&Xt!=="Symbol"&&Xt!=="ZapfDingbats")return null;const It=(0,d.getFontNameToFileMap)()[Xt];let j;if(this.options.standardFontDataUrl!==null){const At=`${this.options.standardFontDataUrl}${It}`,Mt=await fetch(At);Mt.ok?j=await Mt.arrayBuffer():(0,s.warn)(`fetchStandardFontData: failed to fetch file "${At}" with "${Mt.statusText}".`)}else try{j=await this.handler.sendWithPromise("FetchStandardFontData",{filename:It})}catch(At){(0,s.warn)(`fetchStandardFontData: failed to fetch file "${It}" with "${At}".`)}return j?(this.standardFontDataCache.set(Xt,j),new at.Stream(j)):null}async buildFormXObject(Xt,Dt,It,j,At,Mt,Rt){const $t=Dt.dict,zt=$t.getArray("Matrix");let qt,Wt,Gt=$t.getArray("BBox");Gt=Array.isArray(Gt)&&Gt.length===4?s.Util.normalizeRect(Gt):null,$t.has("OC")&&(qt=await this.parseMarkedContentProps($t.get("OC"),Xt)),qt!==void 0&&j.addOp(s.OPS.beginMarkedContentProps,["OC",qt]);const Zt=$t.get("Group");if(Zt){Wt={matrix:zt,bbox:Gt,smask:It,isolated:!1,knockout:!1};const tn=Zt.get("S");let nn=null;if((0,St.isName)(tn,"Transparency")&&(Wt.isolated=Zt.get("I")||!1,Wt.knockout=Zt.get("K")||!1,Zt.has("CS"))){const en=Zt.getRaw("CS");nn=tt.ColorSpace.getCached(en,this.xref,Rt)||await this.parseColorSpace({cs:en,resources:Xt,localColorSpaceCache:Rt})}It!=null&&It.backdrop&&(nn||(nn=tt.ColorSpace.singletons.rgb),It.backdrop=nn.getRgb(It.backdrop,0)),j.addOp(s.OPS.beginGroup,[Wt])}const Yt=Zt?[zt,null]:[zt,Gt];return j.addOp(s.OPS.paintFormXObjectBegin,Yt),this.getOperatorList({stream:Dt,task:At,resources:$t.get("Resources")||Xt,operatorList:j,initialState:Mt}).then(function(){j.addOp(s.OPS.paintFormXObjectEnd,[]),Zt&&j.addOp(s.OPS.endGroup,[Wt]),qt!==void 0&&j.addOp(s.OPS.endMarkedContent,[])})}_sendImgData(Xt,Dt,It=!1){const j=Dt?[Dt.bitmap||Dt.data.buffer]:null;return this.parsingType3Font||It?this.handler.send("commonobj",[Xt,"Image",Dt],j):this.handler.send("obj",[Xt,this.pageIndex,"Image",Dt],j)}async buildPaintImageXObject({resources:Xt,image:Dt,isInline:It=!1,operatorList:j,cacheKey:At,localImageCache:Mt,localColorSpaceCache:Rt}){const $t=Dt.dict,zt=$t.objId,qt=$t.get("W","Width"),Wt=$t.get("H","Height");if(!qt||typeof qt!="number"||!Wt||typeof Wt!="number"){(0,s.warn)("Image dimensions are missing, or not numbers.");return}const Gt=this.options.maxImageSize;if(Gt!==-1&&qt*Wt>Gt){const an="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,s.warn)(an);return}throw new Error(an)}let Zt;$t.has("OC")&&(Zt=await this.parseMarkedContentProps($t.get("OC"),Xt));let Yt,tn;if($t.get("IM","ImageMask")){const an=$t.get("I","Interpolate"),vn=qt+7>>3,An=Dt.getBytes(vn*Wt),cn=$t.getArray("D","Decode");if(this.parsingType3Font){if(Yt=wt.PDFImage.createRawMask({imgArray:An,width:qt,height:Wt,imageIsFromDecodeStream:Dt instanceof ot.DecodeStream,inverseDecode:(cn==null?void 0:cn[0])>0,interpolate:an}),Yt.cached=!!At,tn=[Yt],j.addImageOps(s.OPS.paintImageMaskXObject,tn,Zt),At){const fn={fn:s.OPS.paintImageMaskXObject,args:tn,optionalContent:Zt};Mt.set(At,zt,fn),zt&&this._regionalImageCache.set(null,zt,fn)}return}if(Yt=await wt.PDFImage.createMask({imgArray:An,width:qt,height:Wt,imageIsFromDecodeStream:Dt instanceof ot.DecodeStream,inverseDecode:(cn==null?void 0:cn[0])>0,interpolate:an,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),Yt.isSingleOpaquePixel){if(j.addImageOps(s.OPS.paintSolidColorImageMask,[],Zt),At){const fn={fn:s.OPS.paintSolidColorImageMask,args:[],optionalContent:Zt};Mt.set(At,zt,fn),zt&&this._regionalImageCache.set(null,zt,fn)}return}const hn=`mask_${this.idFactory.createObjId()}`;if(j.addDependency(hn),this._sendImgData(hn,Yt),tn=[{data:hn,width:Yt.width,height:Yt.height,interpolate:Yt.interpolate,count:1}],j.addImageOps(s.OPS.paintImageMaskXObject,tn,Zt),At){const fn={fn:s.OPS.paintImageMaskXObject,args:tn,optionalContent:Zt};Mt.set(At,zt,fn),zt&&this._regionalImageCache.set(null,zt,fn)}return}if(It&&!$t.has("SMask")&&!$t.has("Mask")&&qt+Wt<200){Yt=await new wt.PDFImage({xref:this.xref,res:Xt,image:Dt,isInline:It,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Rt}).createImageData(!0,!1),j.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,j.addImageOps(s.OPS.paintInlineImageXObject,[Yt],Zt);return}let nn=`img_${this.idFactory.createObjId()}`,en=!1;if(this.parsingType3Font?nn=`${this.idFactory.getDocId()}_type3_${nn}`:zt&&(en=this.globalImageCache.shouldCache(zt,this.pageIndex),en&&(nn=`${this.idFactory.getDocId()}_${nn}`)),j.addDependency(nn),tn=[nn,qt,Wt],wt.PDFImage.buildImage({xref:this.xref,res:Xt,image:Dt,isInline:It,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Rt}).then(async an=>{if(Yt=await an.createImageData(!1,this.options.isOffscreenCanvasSupported),At&&zt&&en){const vn=Yt.bitmap?Yt.width*Yt.height*4:Yt.data.length;this.globalImageCache.addByteSize(zt,vn)}return this._sendImgData(nn,Yt,en)}).catch(an=>((0,s.warn)(`Unable to decode image "${nn}": "${an}".`),this._sendImgData(nn,null,en))),j.addImageOps(s.OPS.paintImageXObject,tn,Zt),At){const an={fn:s.OPS.paintImageXObject,args:tn,optionalContent:Zt};Mt.set(At,zt,an),zt&&(this._regionalImageCache.set(null,zt,an),en&&((0,s.assert)(!It,"Cannot cache an inline image globally."),this.globalImageCache.setData(zt,{objId:nn,fn:s.OPS.paintImageXObject,args:tn,optionalContent:Zt,byteSize:0})))}}handleSMask(Xt,Dt,It,j,At,Mt){const Rt=Xt.get("G"),$t={subtype:Xt.get("S").name,backdrop:Xt.get("BC")},zt=Xt.get("TR");if((0,_.isPDFFunction)(zt)){const qt=this._pdfFunctionFactory.create(zt),Wt=new Uint8Array(256),Gt=new Float32Array(1);for(let Zt=0;Zt<256;Zt++)Gt[0]=Zt/255,qt(Gt,0,Gt,0),Wt[Zt]=255*Gt[0]|0;$t.transferMap=Wt}return this.buildFormXObject(Dt,Rt,$t,It,j,At.state.clone(),Mt)}handleTransferFunction(Xt){let Dt;if(Array.isArray(Xt))Dt=Xt;else{if(!(0,_.isPDFFunction)(Xt))return null;Dt=[Xt]}const It=[];let j=0,At=0;for(const Mt of Dt){const Rt=this.xref.fetchIfRef(Mt);if(j++,(0,St.isName)(Rt,"Identity")){It.push(null);continue}if(!(0,_.isPDFFunction)(Rt))return null;const $t=this._pdfFunctionFactory.create(Rt),zt=new Uint8Array(256),qt=new Float32Array(1);for(let Wt=0;Wt<256;Wt++)qt[0]=Wt/255,$t(qt,0,qt,0),zt[Wt]=255*qt[0]|0;It.push(zt),At++}return j!==1&&j!==4||At===0?null:It}handleTilingType(Xt,Dt,It,j,At,Mt,Rt,$t){const zt=new ft.OperatorList,qt=St.Dict.merge({xref:this.xref,dictArray:[At.get("Resources"),It]});return this.getOperatorList({stream:j,task:Rt,resources:qt,operatorList:zt}).then(function(){const Wt=zt.getIR(),Gt=(0,ut.getTilingPatternIR)(Wt,At,Dt);Mt.addDependencies(zt.dependencies),Mt.addOp(Xt,Gt),At.objId&&$t.set(null,At.objId,{operatorListIR:Wt,dict:At})}).catch(Wt=>{if(!(Wt instanceof s.AbortException)){if(!this.options.ignoreErrors)throw Wt;(0,s.warn)(`handleTilingType - ignoring pattern: "${Wt}".`)}})}handleSetFont(Xt,Dt,It,j,At,Mt,Rt=null,$t=null){const zt=(Dt==null?void 0:Dt[0])instanceof St.Name?Dt[0].name:null;return this.loadFont(zt,It,Xt,Rt,$t).then(qt=>qt.font.isType3Font?qt.loadType3Data(this,Xt,At).then(function(){return j.addDependencies(qt.type3Dependencies),qt}).catch(Wt=>new yt({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${Wt}`),dict:qt.font,evaluatorOptions:this.options})):qt).then(qt=>(Mt.font=qt.font,qt.send(this.handler),qt.loadedName))}handleText(Xt,Dt){const It=Dt.font,j=It.charsToGlyphs(Xt);return It.data&&(Dt.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG||Dt.fillColorSpace.name==="Pattern"||It.disableFontFace||this.options.disableFontFace)&&Ft.buildFontPaths(It,j,this.handler,this.options),j}ensureStateFont(Xt){if(Xt.font)return;const Dt=new s.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(!this.options.ignoreErrors)throw Dt;(0,s.warn)(`ensureStateFont: "${Dt}".`)}async setGState({resources:Xt,gState:Dt,operatorList:It,cacheKey:j,task:At,stateManager:Mt,localGStateCache:Rt,localColorSpaceCache:$t}){const zt=Dt.objId;let qt=!0;const Wt=[];let Gt=Promise.resolve();for(const Zt of Dt.getKeys()){const Yt=Dt.get(Zt);switch(Zt){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Wt.push([Zt,Yt]);break;case"Font":qt=!1,Gt=Gt.then(()=>this.handleSetFont(Xt,null,Yt[0],It,At,Mt.state).then(function(nn){It.addDependency(nn),Wt.push([Zt,[nn,Yt[1]]])}));break;case"BM":Wt.push([Zt,st(Yt)]);break;case"SMask":if((0,St.isName)(Yt,"None")){Wt.push([Zt,!1]);break}Yt instanceof St.Dict?(qt=!1,Gt=Gt.then(()=>this.handleSMask(Yt,Xt,It,At,Mt,$t)),Wt.push([Zt,!0])):(0,s.warn)("Unsupported SMask type");break;case"TR":const tn=this.handleTransferFunction(Yt);Wt.push([Zt,tn]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,s.info)("graphic state operator "+Zt);break;default:(0,s.info)("Unknown graphic state operator "+Zt)}}return Gt.then(function(){Wt.length>0&&It.addOp(s.OPS.setGState,[Wt]),qt&&Rt.set(j,zt,Wt)})}loadFont(Xt,Dt,It,j=null,At=null){const Mt=async()=>new yt({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${Xt}" is not available.`),dict:Dt,evaluatorOptions:this.options});let Rt;if(Dt)Dt instanceof St.Ref&&(Rt=Dt);else{const Yt=It.get("Font");Yt&&(Rt=Yt.getRaw(Xt))}if(Rt){if(this.parsingType3Font&&this.type3FontRefs.has(Rt))return Mt();if(this.fontCache.has(Rt))return this.fontCache.get(Rt);Dt=this.xref.fetchIfRef(Rt)}if(!(Dt instanceof St.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,s.warn)(`Font "${Xt}" is not available.`),Mt();(0,s.warn)(`Font "${Xt}" is not available -- attempting to fallback to a default font.`),Dt=j||Ft.fallbackFontDict}if(Dt.cacheKey&&this.fontCache.has(Dt.cacheKey))return this.fontCache.get(Dt.cacheKey);const $t=new s.PromiseCapability;let zt;try{zt=this.preEvaluateFont(Dt),zt.cssFontInfo=At}catch(Yt){return(0,s.warn)(`loadFont - preEvaluateFont failed: "${Yt}".`),Mt()}const{descriptor:qt,hash:Wt}=zt,Gt=Rt instanceof St.Ref;let Zt;if(Wt&&qt instanceof St.Dict){const Yt=qt.fontAliases||(qt.fontAliases=Object.create(null));if(Yt[Wt]){const tn=Yt[Wt].aliasRef;if(Gt&&tn&&this.fontCache.has(tn))return this.fontCache.putAlias(Rt,tn),this.fontCache.get(Rt)}else Yt[Wt]={fontID:this.idFactory.createFontId()};Gt&&(Yt[Wt].aliasRef=Rt),Zt=Yt[Wt].fontID}else Zt=this.idFactory.createFontId();return(0,s.assert)(Zt==null?void 0:Zt.startsWith("f"),'The "fontID" must be (correctly) defined.'),Gt?this.fontCache.put(Rt,$t.promise):(Dt.cacheKey=`cacheKey_${Zt}`,this.fontCache.put(Dt.cacheKey,$t.promise)),Dt.loadedName=`${this.idFactory.getDocId()}_${Zt}`,this.translateFont(zt).then(Yt=>{$t.resolve(new yt({loadedName:Dt.loadedName,font:Yt,dict:Dt,evaluatorOptions:this.options}))}).catch(Yt=>{(0,s.warn)(`loadFont - translateFont failed: "${Yt}".`),$t.resolve(new yt({loadedName:Dt.loadedName,font:new e.ErrorFont(Yt instanceof Error?Yt.message:Yt),dict:Dt,evaluatorOptions:this.options}))}),$t.promise}buildPath(Xt,Dt,It,j=!1){const At=Xt.length-1;if(It||(It=[]),At<0||Xt.fnArray[At]!==s.OPS.constructPath){j&&((0,s.warn)(`Encountered path operator "${Dt}" inside of a text object.`),Xt.addOp(s.OPS.save,null));let Mt;switch(Dt){case s.OPS.rectangle:const Rt=It[0]+It[2],$t=It[1]+It[3];Mt=[Math.min(It[0],Rt),Math.max(It[0],Rt),Math.min(It[1],$t),Math.max(It[1],$t)];break;case s.OPS.moveTo:case s.OPS.lineTo:Mt=[It[0],It[0],It[1],It[1]];break;default:Mt=[1/0,-1/0,1/0,-1/0]}Xt.addOp(s.OPS.constructPath,[[Dt],It,Mt]),j&&Xt.addOp(s.OPS.restore,null)}else{const Mt=Xt.argsArray[At];Mt[0].push(Dt),Mt[1].push(...It);const Rt=Mt[2];switch(Dt){case s.OPS.rectangle:const $t=It[0]+It[2],zt=It[1]+It[3];Rt[0]=Math.min(Rt[0],It[0],$t),Rt[1]=Math.max(Rt[1],It[0],$t),Rt[2]=Math.min(Rt[2],It[1],zt),Rt[3]=Math.max(Rt[3],It[1],zt);break;case s.OPS.moveTo:case s.OPS.lineTo:Rt[0]=Math.min(Rt[0],It[0]),Rt[1]=Math.max(Rt[1],It[0]),Rt[2]=Math.min(Rt[2],It[1]),Rt[3]=Math.max(Rt[3],It[1])}}}parseColorSpace({cs:Xt,resources:Dt,localColorSpaceCache:It}){return tt.ColorSpace.parseAsync({cs:Xt,xref:this.xref,resources:Dt,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:It}).catch(j=>{if(j instanceof s.AbortException)return null;if(this.options.ignoreErrors)return(0,s.warn)(`parseColorSpace - ignoring ColorSpace: "${j}".`),null;throw j})}parseShading({shading:Xt,resources:Dt,localColorSpaceCache:It,localShadingPatternCache:j}){let At=j.get(Xt);if(!At){const Mt=ut.Pattern.parseShading(Xt,this.xref,Dt,this._pdfFunctionFactory,It).getIR();At=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(At=`${this.idFactory.getDocId()}_type3_${At}`),j.set(Xt,At),this.parsingType3Font?this.handler.send("commonobj",[At,"Pattern",Mt]):this.handler.send("obj",[At,this.pageIndex,"Pattern",Mt])}return At}handleColorN(Xt,Dt,It,j,At,Mt,Rt,$t,zt,qt){const Wt=It.pop();if(Wt instanceof St.Name){const Gt=At.getRaw(Wt.name),Zt=Gt instanceof St.Ref&&zt.getByRef(Gt);if(Zt)try{const tn=j.base?j.base.getRgb(It,0):null,nn=(0,ut.getTilingPatternIR)(Zt.operatorListIR,Zt.dict,tn);Xt.addOp(Dt,nn);return}catch{}const Yt=this.xref.fetchIfRef(Gt);if(Yt){const tn=Yt instanceof ct.BaseStream?Yt.dict:Yt,nn=tn.get("PatternType");if(nn===pt){const en=j.base?j.base.getRgb(It,0):null;return this.handleTilingType(Dt,en,Mt,Yt,tn,Xt,Rt,zt)}if(nn===Ot){const en=tn.get("Shading"),an=tn.getArray("Matrix"),vn=this.parseShading({shading:en,resources:Mt,localColorSpaceCache:$t,localShadingPatternCache:qt});Xt.addOp(Dt,["Shading",vn,an]);return}throw new s.FormatError(`Unknown PatternType: ${nn}`)}}throw new s.FormatError(`Unknown PatternName: ${Wt}`)}_parseVisibilityExpression(Xt,Dt,It){if(++Dt>10){(0,s.warn)("Visibility expression is too deeply nested");return}const j=Xt.length,At=this.xref.fetchIfRef(Xt[0]);if(!(j<2)&&At instanceof St.Name){switch(At.name){case"And":case"Or":case"Not":It.push(At.name);break;default:(0,s.warn)(`Invalid operator ${At.name} in visibility expression`);return}for(let Mt=1;Mt<j;Mt++){const Rt=Xt[Mt],$t=this.xref.fetchIfRef(Rt);if(Array.isArray($t)){const zt=[];It.push(zt),this._parseVisibilityExpression($t,Dt,zt)}else Rt instanceof St.Ref&&It.push(Rt.toString())}}else(0,s.warn)("Invalid visibility expression")}async parseMarkedContentProps(Xt,Dt){var At;let It;if(Xt instanceof St.Name)It=Dt.get("Properties").get(Xt.name);else{if(!(Xt instanceof St.Dict))throw new s.FormatError("Optional content properties malformed.");It=Xt}const j=(At=It.get("Type"))==null?void 0:At.name;if(j==="OCG")return{type:j,id:It.objId};if(j==="OCMD"){const Mt=It.get("VE");if(Array.isArray(Mt)){const $t=[];if(this._parseVisibilityExpression(Mt,0,$t),$t.length>0)return{type:"OCMD",expression:$t}}const Rt=It.get("OCGs");if(Array.isArray(Rt)||Rt instanceof St.Dict){const $t=[];if(Array.isArray(Rt))for(const zt of Rt)$t.push(zt.toString());else $t.push(Rt.objId);return{type:j,ids:$t,policy:It.get("P")instanceof St.Name?It.get("P").name:null,expression:null}}if(Rt instanceof St.Ref)return{type:j,id:Rt.toString()}}return null}getOperatorList({stream:Xt,task:Dt,resources:It,operatorList:j,initialState:At=null,fallbackFontDict:Mt=null}){if(It||(It=St.Dict.empty),At||(At=new jt),!j)throw new Error('getOperatorList: missing "operatorList" parameter');const Rt=this,$t=this.xref;let zt=!1;const qt=new lt.LocalImageCache,Wt=new lt.LocalColorSpaceCache,Gt=new lt.LocalGStateCache,Zt=new lt.LocalTilingPatternCache,Yt=new Map,tn=It.get("XObject")||St.Dict.empty,nn=It.get("Pattern")||St.Dict.empty,en=new vt(At),an=new Ht(Xt,$t,en),vn=new gt;function An(cn){for(let hn=0,fn=an.savedStatesDepth;hn<fn;hn++)j.addOp(s.OPS.restore,[])}return new Promise(function cn(hn,fn){const Cn=function(dn){Promise.all([dn,j.ready]).then(function(){try{cn(hn,fn)}catch(Sn){fn(Sn)}},fn)};Dt.ensureNotTerminated(),vn.reset();const kn={};let Rn,sn,En,Pn,Ln,jn;for(;!(Rn=vn.check())&&(kn.args=null,!!an.read(kn));){let dn=kn.args,Sn=kn.fn;switch(0|Sn){case s.OPS.paintXObject:if(jn=dn[0]instanceof St.Name,Ln=dn[0].name,jn){const bn=qt.getByName(Ln);if(bn){j.addImageOps(bn.fn,bn.args,bn.optionalContent),nt(bn),dn=null;continue}}Cn(new Promise(function(bn,yn){if(!jn)throw new s.FormatError("XObject must be referred to by name.");let pn=tn.getRaw(Ln);if(pn instanceof St.Ref){const Tn=qt.getByRef(pn)||Rt._regionalImageCache.getByRef(pn);if(Tn){j.addImageOps(Tn.fn,Tn.args,Tn.optionalContent),nt(Tn),bn();return}const _n=Rt.globalImageCache.getData(pn,Rt.pageIndex);if(_n){j.addDependency(_n.objId),j.addImageOps(_n.fn,_n.args,_n.optionalContent),bn();return}pn=$t.fetch(pn)}if(!(pn instanceof ct.BaseStream))throw new s.FormatError("XObject should be a stream");const Dn=pn.dict.get("Subtype");if(!(Dn instanceof St.Name))throw new s.FormatError("XObject should have a Name subtype");if(Dn.name!=="Form")if(Dn.name!=="Image"){if(Dn.name!=="PS")throw new s.FormatError(`Unhandled XObject subtype ${Dn.name}`);(0,s.info)("Ignored XObject subtype PS"),bn()}else Rt.buildPaintImageXObject({resources:It,image:pn,operatorList:j,cacheKey:Ln,localImageCache:qt,localColorSpaceCache:Wt}).then(bn,yn);else en.save(),Rt.buildFormXObject(It,pn,null,j,Dt,en.state.clone(),Wt).then(function(){en.restore(),bn()},yn)}).catch(function(bn){if(!(bn instanceof s.AbortException)){if(!Rt.options.ignoreErrors)throw bn;(0,s.warn)(`getOperatorList - ignoring XObject: "${bn}".`)}}));return;case s.OPS.setFont:var Nn=dn[1];Cn(Rt.handleSetFont(It,dn,null,j,Dt,en.state,Mt).then(function(bn){j.addDependency(bn),j.addOp(s.OPS.setFont,[bn,Nn])}));return;case s.OPS.beginText:zt=!0;break;case s.OPS.endText:zt=!1;break;case s.OPS.endInlineImage:var ln=dn[0].cacheKey;if(ln){const bn=qt.getByName(ln);if(bn){j.addImageOps(bn.fn,bn.args,bn.optionalContent),nt(bn),dn=null;continue}}Cn(Rt.buildPaintImageXObject({resources:It,image:dn[0],isInline:!0,operatorList:j,cacheKey:ln,localImageCache:qt,localColorSpaceCache:Wt}));return;case s.OPS.showText:if(!en.state.font){Rt.ensureStateFont(en.state);continue}dn[0]=Rt.handleText(dn[0],en.state);break;case s.OPS.showSpacedText:if(!en.state.font){Rt.ensureStateFont(en.state);continue}var rn=[],on=en.state;for(const bn of dn[0])typeof bn=="string"?rn.push(...Rt.handleText(bn,on)):typeof bn=="number"&&rn.push(bn);dn[0]=rn,Sn=s.OPS.showText;break;case s.OPS.nextLineShowText:if(!en.state.font){Rt.ensureStateFont(en.state);continue}j.addOp(s.OPS.nextLine),dn[0]=Rt.handleText(dn[0],en.state),Sn=s.OPS.showText;break;case s.OPS.nextLineSetSpacingShowText:if(!en.state.font){Rt.ensureStateFont(en.state);continue}j.addOp(s.OPS.nextLine),j.addOp(s.OPS.setWordSpacing,[dn.shift()]),j.addOp(s.OPS.setCharSpacing,[dn.shift()]),dn[0]=Rt.handleText(dn[0],en.state),Sn=s.OPS.showText;break;case s.OPS.setTextRenderingMode:en.state.textRenderingMode=dn[0];break;case s.OPS.setFillColorSpace:{const bn=tt.ColorSpace.getCached(dn[0],$t,Wt);if(bn){en.state.fillColorSpace=bn;continue}Cn(Rt.parseColorSpace({cs:dn[0],resources:It,localColorSpaceCache:Wt}).then(function(yn){yn&&(en.state.fillColorSpace=yn)}));return}case s.OPS.setStrokeColorSpace:{const bn=tt.ColorSpace.getCached(dn[0],$t,Wt);if(bn){en.state.strokeColorSpace=bn;continue}Cn(Rt.parseColorSpace({cs:dn[0],resources:It,localColorSpaceCache:Wt}).then(function(yn){yn&&(en.state.strokeColorSpace=yn)}));return}case s.OPS.setFillColor:Pn=en.state.fillColorSpace,dn=Pn.getRgb(dn,0),Sn=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeColor:Pn=en.state.strokeColorSpace,dn=Pn.getRgb(dn,0),Sn=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillGray:en.state.fillColorSpace=tt.ColorSpace.singletons.gray,dn=tt.ColorSpace.singletons.gray.getRgb(dn,0),Sn=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeGray:en.state.strokeColorSpace=tt.ColorSpace.singletons.gray,dn=tt.ColorSpace.singletons.gray.getRgb(dn,0),Sn=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillCMYKColor:en.state.fillColorSpace=tt.ColorSpace.singletons.cmyk,dn=tt.ColorSpace.singletons.cmyk.getRgb(dn,0),Sn=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeCMYKColor:en.state.strokeColorSpace=tt.ColorSpace.singletons.cmyk,dn=tt.ColorSpace.singletons.cmyk.getRgb(dn,0),Sn=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillRGBColor:en.state.fillColorSpace=tt.ColorSpace.singletons.rgb,dn=tt.ColorSpace.singletons.rgb.getRgb(dn,0);break;case s.OPS.setStrokeRGBColor:en.state.strokeColorSpace=tt.ColorSpace.singletons.rgb,dn=tt.ColorSpace.singletons.rgb.getRgb(dn,0);break;case s.OPS.setFillColorN:if(Pn=en.state.fillColorSpace,Pn.name==="Pattern"){Cn(Rt.handleColorN(j,s.OPS.setFillColorN,dn,Pn,nn,It,Dt,Wt,Zt,Yt));return}dn=Pn.getRgb(dn,0),Sn=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeColorN:if(Pn=en.state.strokeColorSpace,Pn.name==="Pattern"){Cn(Rt.handleColorN(j,s.OPS.setStrokeColorN,dn,Pn,nn,It,Dt,Wt,Zt,Yt));return}dn=Pn.getRgb(dn,0),Sn=s.OPS.setStrokeRGBColor;break;case s.OPS.shadingFill:var mn=It.get("Shading");if(!mn)throw new s.FormatError("No shading resource found");var gn=mn.get(dn[0].name);if(!gn)throw new s.FormatError("No shading object found");dn=[Rt.parseShading({shading:gn,resources:It,localColorSpaceCache:Wt,localShadingPatternCache:Yt})],Sn=s.OPS.shadingFill;break;case s.OPS.setGState:if(jn=dn[0]instanceof St.Name,Ln=dn[0].name,jn){const bn=Gt.getByName(Ln);if(bn){bn.length>0&&j.addOp(s.OPS.setGState,[bn]),dn=null;continue}}Cn(new Promise(function(bn,yn){if(!jn)throw new s.FormatError("GState must be referred to by name.");const pn=It.get("ExtGState");if(!(pn instanceof St.Dict))throw new s.FormatError("ExtGState should be a dictionary.");const Dn=pn.get(Ln);if(!(Dn instanceof St.Dict))throw new s.FormatError("GState should be a dictionary.");Rt.setGState({resources:It,gState:Dn,operatorList:j,cacheKey:Ln,task:Dt,stateManager:en,localGStateCache:Gt,localColorSpaceCache:Wt}).then(bn,yn)}).catch(function(bn){if(!(bn instanceof s.AbortException)){if(!Rt.options.ignoreErrors)throw bn;(0,s.warn)(`getOperatorList - ignoring ExtGState: "${bn}".`)}}));return;case s.OPS.moveTo:case s.OPS.lineTo:case s.OPS.curveTo:case s.OPS.curveTo2:case s.OPS.curveTo3:case s.OPS.closePath:case s.OPS.rectangle:Rt.buildPath(j,Sn,dn,zt);continue;case s.OPS.markPoint:case s.OPS.markPointProps:case s.OPS.beginCompat:case s.OPS.endCompat:continue;case s.OPS.beginMarkedContentProps:if(!(dn[0]instanceof St.Name)){(0,s.warn)(`Expected name for beginMarkedContentProps arg0=${dn[0]}`);continue}if(dn[0].name==="OC"){Cn(Rt.parseMarkedContentProps(dn[1],It).then(bn=>{j.addOp(s.OPS.beginMarkedContentProps,["OC",bn])}).catch(bn=>{if(!(bn instanceof s.AbortException)){if(!Rt.options.ignoreErrors)throw bn;(0,s.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${bn}".`)}}));return}dn=[dn[0].name,dn[1]instanceof St.Dict?dn[1].get("MCID"):null];break;case s.OPS.beginMarkedContent:case s.OPS.endMarkedContent:default:if(dn!==null){for(sn=0,En=dn.length;sn<En&&!(dn[sn]instanceof St.Dict);sn++);if(sn<En){(0,s.warn)("getOperatorList - ignoring operator: "+Sn);continue}}}j.addOp(Sn,dn)}Rn?Cn(kt):(An(),hn())}).catch(cn=>{if(!(cn instanceof s.AbortException)){if(!this.options.ignoreErrors)throw cn;(0,s.warn)(`getOperatorList - ignoring errors during "${Dt.name}" task: "${cn}".`),An()}})}getTextContent({stream:Xt,task:Dt,resources:It,stateManager:j=null,includeMarkedContent:At=!1,sink:Mt,seenStyles:Rt=new Set,viewBox:$t,markedContentData:zt=null,disableNormalization:qt=!1}){It||(It=St.Dict.empty),j||(j=new vt(new Lt)),At&&(zt||(zt={level:0}));const Wt={items:[],styles:Object.create(null)},Gt={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Zt=[" "," "];let Yt=0;function tn(Sn){const bn=(Yt+1)%2,yn=Zt[Yt]!==" "&&Zt[bn]===" ";return Zt[Yt]=Sn,Yt=bn,yn}function nn(){return Zt[Yt]!==" "&&Zt[(Yt+1)%2]===" "}function en(){Zt[0]=Zt[1]=" ",Yt=0}const an=this,vn=this.xref,An=[];let cn=null;const hn=new lt.LocalImageCache,fn=new lt.LocalGStateCache,Cn=new Ht(Xt,vn,j);let kn;function Rn({width:Sn=0,height:bn=0,transform:yn=Gt.prevTransform,fontName:pn=Gt.fontName}){Wt.items.push({str:" ",dir:"ltr",width:Sn,height:bn,transform:yn,fontName:pn,hasEOL:!1})}function sn(){const Sn=kn.font,bn=[kn.fontSize*kn.textHScale,0,0,kn.fontSize,0,kn.textRise];if(Sn.isType3Font&&(kn.fontSize<=1||Sn.isCharBBox)&&!(0,s.isArrayEqual)(kn.fontMatrix,s.FONT_IDENTITY_MATRIX)){const yn=Sn.bbox[3]-Sn.bbox[1];yn>0&&(bn[3]*=yn*kn.fontMatrix[3])}return s.Util.transform(kn.ctm,s.Util.transform(kn.textMatrix,bn))}function En(){if(Gt.initialized)return Gt;const{font:Sn,loadedName:bn}=kn;Rt.has(bn)||(Rt.add(bn),Wt.styles[bn]={fontFamily:Sn.fallbackName,ascent:Sn.ascent,descent:Sn.descent,vertical:Sn.vertical}),Gt.fontName=bn;const yn=Gt.transform=sn();Sn.vertical?(Gt.width=Gt.totalWidth=Math.hypot(yn[0],yn[1]),Gt.height=Gt.totalHeight=0,Gt.vertical=!0):(Gt.width=Gt.totalWidth=0,Gt.height=Gt.totalHeight=Math.hypot(yn[2],yn[3]),Gt.vertical=!1);const pn=Math.hypot(kn.textLineMatrix[0],kn.textLineMatrix[1]),Dn=Math.hypot(kn.ctm[0],kn.ctm[1]);Gt.textAdvanceScale=Dn*pn;const{fontSize:Tn}=kn;return Gt.trackingSpaceMin=.102*Tn,Gt.notASpace=.03*Tn,Gt.negativeSpaceMax=-.2*Tn,Gt.spaceInFlowMin=.102*Tn,Gt.spaceInFlowMax=.6*Tn,Gt.hasEOL=!1,Gt.initialized=!0,Gt}function Pn(){if(!Gt.initialized)return;const Sn=Math.hypot(kn.textLineMatrix[0],kn.textLineMatrix[1]),bn=Math.hypot(kn.ctm[0],kn.ctm[1])*Sn;bn!==Gt.textAdvanceScale&&(Gt.vertical?(Gt.totalHeight+=Gt.height*Gt.textAdvanceScale,Gt.height=0):(Gt.totalWidth+=Gt.width*Gt.textAdvanceScale,Gt.width=0),Gt.textAdvanceScale=bn)}function Ln(Sn,bn){return an.loadFont(Sn,bn,It).then(function(yn){return yn.font.isType3Font?yn.loadType3Data(an,It,Dt).catch(function(){}).then(function(){return yn}):yn}).then(function(yn){kn.loadedName=yn.loadedName,kn.font=yn.font,kn.fontMatrix=yn.font.fontMatrix||s.FONT_IDENTITY_MATRIX})}function jn(Sn,bn,yn){const pn=Math.hypot(yn[0],yn[1]);return[(yn[0]*Sn+yn[1]*bn)/pn,(yn[2]*Sn+yn[3]*bn)/pn]}function Nn(Sn){var zn;const bn=sn();let yn=bn[4],pn=bn[5];if((zn=kn.font)!=null&&zn.vertical){if(yn<$t[0]||yn>$t[2]||pn+Sn<$t[1]||pn>$t[3])return!1}else if(yn+Sn<$t[0]||yn>$t[2]||pn<$t[1]||pn>$t[3])return!1;if(!kn.font||!Gt.prevTransform)return!0;let Dn=Gt.prevTransform[4],Tn=Gt.prevTransform[5];if(Dn===yn&&Tn===pn)return!0;let _n=-1;switch(bn[0]&&bn[1]===0&&bn[2]===0?_n=bn[0]>0?0:180:bn[1]&&bn[0]===0&&bn[3]===0&&(_n=bn[1]>0?90:270),_n){case 0:break;case 90:[yn,pn]=[pn,yn],[Dn,Tn]=[Tn,Dn];break;case 180:[yn,pn,Dn,Tn]=[-yn,-pn,-Dn,-Tn];break;case 270:[yn,pn]=[-pn,-yn],[Dn,Tn]=[-Tn,-Dn];break;default:[yn,pn]=jn(yn,pn,bn),[Dn,Tn]=jn(Dn,Tn,Gt.prevTransform)}if(kn.font.vertical){const Wn=(Tn-pn)/Gt.textAdvanceScale,Kn=yn-Dn,rr=Math.sign(Gt.height);return Wn<rr*Gt.negativeSpaceMax?Math.abs(Kn)>.5*Gt.width?(rn(),!0):(en(),mn(),!0):Math.abs(Kn)>Gt.width?(rn(),!0):(Wn<=rr*Gt.notASpace&&en(),Wn<=rr*Gt.trackingSpaceMin?nn()?(en(),mn(),Rn({height:Math.abs(Wn)})):Gt.height+=Wn:on(Wn,Gt.prevTransform,rr)||(Gt.str.length===0?(en(),Rn({height:Math.abs(Wn)})):Gt.height+=Wn),Math.abs(Kn)>.25*Gt.width&&mn(),!0)}const $n=(yn-Dn)/Gt.textAdvanceScale,Xn=pn-Tn,Un=Math.sign(Gt.width);return $n<Un*Gt.negativeSpaceMax?Math.abs(Xn)>.5*Gt.height?(rn(),!0):(en(),mn(),!0):Math.abs(Xn)>Gt.height?(rn(),!0):($n<=Un*Gt.notASpace&&en(),$n<=Un*Gt.trackingSpaceMin?nn()?(en(),mn(),Rn({width:Math.abs($n)})):Gt.width+=$n:on($n,Gt.prevTransform,Un)||(Gt.str.length===0?(en(),Rn({width:Math.abs($n)})):Gt.width+=$n),Math.abs(Xn)>.25*Gt.height&&mn(),!0)}function ln({chars:Sn,extraSpacing:bn}){const yn=kn.font;if(!Sn){const Tn=kn.charSpacing+bn;Tn&&(yn.vertical?kn.translateTextMatrix(0,-Tn):kn.translateTextMatrix(Tn*kn.textHScale,0));return}const pn=yn.charsToGlyphs(Sn),Dn=kn.fontMatrix[0]*kn.fontSize;for(let Tn=0,_n=pn.length;Tn<_n;Tn++){const $n=pn[Tn],{category:Xn}=$n;if(Xn.isInvisibleFormatMark)continue;let Un=kn.charSpacing+(Tn+1===_n?bn:0),zn=$n.width;yn.vertical&&(zn=$n.vmetric?$n.vmetric[0]:-zn);let Wn=zn*Dn;if(Xn.isWhitespace){yn.vertical?(Un+=-Wn+kn.wordSpacing,kn.translateTextMatrix(0,-Un)):(Un+=Wn+kn.wordSpacing,kn.translateTextMatrix(Un*kn.textHScale,0)),tn(" ");continue}if(!Xn.isZeroWidthDiacritic&&!Nn(Wn)){yn.vertical?kn.translateTextMatrix(0,Wn):kn.translateTextMatrix(Wn*kn.textHScale,0);continue}const Kn=En();Xn.isZeroWidthDiacritic&&(Wn=0),yn.vertical?(kn.translateTextMatrix(0,Wn),Wn=Math.abs(Wn),Kn.height+=Wn):(Wn*=kn.textHScale,kn.translateTextMatrix(Wn,0),Kn.width+=Wn),Wn&&(Kn.prevTransform=sn());const rr=$n.unicode;tn(rr)&&Kn.str.push(" "),Kn.str.push(rr),Un&&(yn.vertical?kn.translateTextMatrix(0,-Un):kn.translateTextMatrix(Un*kn.textHScale,0))}}function rn(){en(),Gt.initialized?(Gt.hasEOL=!0,mn()):Wt.items.push({str:"",dir:"ltr",width:0,height:0,transform:sn(),fontName:kn.loadedName,hasEOL:!0})}function on(Sn,bn,yn){if(yn*Gt.spaceInFlowMin<=Sn&&Sn<=yn*Gt.spaceInFlowMax)return Gt.initialized&&(en(),Gt.str.push(" ")),!1;const pn=Gt.fontName;let Dn=0;return Gt.vertical&&(Dn=Sn,Sn=0),mn(),en(),Rn({width:Math.abs(Sn),height:Math.abs(Dn),transform:bn||sn(),fontName:pn}),!0}function mn(){Gt.initialized&&Gt.str&&(Gt.vertical?Gt.totalHeight+=Gt.height*Gt.textAdvanceScale:Gt.totalWidth+=Gt.width*Gt.textAdvanceScale,Wt.items.push(function(bn){let yn=bn.str.join("");qt||(yn=(0,s.normalizeUnicode)(yn));const pn=(0,it.bidi)(yn,-1,bn.vertical);return{str:pn.str,dir:pn.dir,width:Math.abs(bn.totalWidth),height:Math.abs(bn.totalHeight),transform:bn.transform,fontName:bn.fontName,hasEOL:bn.hasEOL}}(Gt)),Gt.initialized=!1,Gt.str.length=0)}function gn(Sn=!1){const bn=Wt.items.length;bn!==0&&!(Sn&&bn<10)&&(Mt.enqueue(Wt,bn),Wt.items=[],Wt.styles=Object.create(null))}const dn=new gt;return new Promise(function Sn(bn,yn){const pn=function(Wn){gn(!0),Promise.all([Wn,Mt.ready]).then(function(){try{Sn(bn,yn)}catch(Kn){yn(Kn)}},yn)};Dt.ensureNotTerminated(),dn.reset();const Dn={};let Tn,_n=[];for(;!(Tn=dn.check())&&(_n.length=0,Dn.args=_n,!!Cn.read(Dn));){const Wn=kn;kn=j.state;const Kn=Dn.fn;switch(_n=Dn.args,0|Kn){case s.OPS.setFont:var $n=_n[0].name,Xn=_n[1];if(kn.font&&$n===kn.fontName&&Xn===kn.fontSize)break;mn(),kn.fontName=$n,kn.fontSize=Xn,pn(Ln($n,null));return;case s.OPS.setTextRise:kn.textRise=_n[0];break;case s.OPS.setHScale:kn.textHScale=_n[0]/100;break;case s.OPS.setLeading:kn.leading=_n[0];break;case s.OPS.moveText:kn.translateTextLineMatrix(_n[0],_n[1]),kn.textMatrix=kn.textLineMatrix.slice();break;case s.OPS.setLeadingMoveText:kn.leading=-_n[1],kn.translateTextLineMatrix(_n[0],_n[1]),kn.textMatrix=kn.textLineMatrix.slice();break;case s.OPS.nextLine:kn.carriageReturn();break;case s.OPS.setTextMatrix:kn.setTextMatrix(_n[0],_n[1],_n[2],_n[3],_n[4],_n[5]),kn.setTextLineMatrix(_n[0],_n[1],_n[2],_n[3],_n[4],_n[5]),Pn();break;case s.OPS.setCharSpacing:kn.charSpacing=_n[0];break;case s.OPS.setWordSpacing:kn.wordSpacing=_n[0];break;case s.OPS.beginText:kn.textMatrix=s.IDENTITY_MATRIX.slice(),kn.textLineMatrix=s.IDENTITY_MATRIX.slice();break;case s.OPS.showSpacedText:if(!j.state.font){an.ensureStateFont(j.state);continue}const rr=(kn.font.vertical?1:-1)*kn.fontSize/1e3,Vn=_n[0];for(let Hn=0,qn=Vn.length;Hn<qn;Hn++){const Qn=Vn[Hn];if(typeof Qn=="string")An.push(Qn);else if(typeof Qn=="number"&&Qn!==0){const Yn=An.join("");An.length=0,ln({chars:Yn,extraSpacing:Qn*rr})}}if(An.length>0){const Hn=An.join("");An.length=0,ln({chars:Hn,extraSpacing:0})}break;case s.OPS.showText:if(!j.state.font){an.ensureStateFont(j.state);continue}ln({chars:_n[0],extraSpacing:0});break;case s.OPS.nextLineShowText:if(!j.state.font){an.ensureStateFont(j.state);continue}kn.carriageReturn(),ln({chars:_n[0],extraSpacing:0});break;case s.OPS.nextLineSetSpacingShowText:if(!j.state.font){an.ensureStateFont(j.state);continue}kn.wordSpacing=_n[0],kn.charSpacing=_n[1],kn.carriageReturn(),ln({chars:_n[2],extraSpacing:0});break;case s.OPS.paintXObject:mn(),cn||(cn=It.get("XObject")||St.Dict.empty);var Un=_n[0]instanceof St.Name,zn=_n[0].name;if(Un&&hn.getByName(zn))break;pn(new Promise(function(Hn,qn){if(!Un)throw new s.FormatError("XObject must be referred to by name.");let Qn=cn.getRaw(zn);if(Qn instanceof St.Ref){if(hn.getByRef(Qn)){Hn();return}if(an.globalImageCache.getData(Qn,an.pageIndex)){Hn();return}Qn=vn.fetch(Qn)}if(!(Qn instanceof ct.BaseStream))throw new s.FormatError("XObject should be a stream");const Yn=Qn.dict.get("Subtype");if(!(Yn instanceof St.Name))throw new s.FormatError("XObject should have a Name subtype");if(Yn.name!=="Form"){hn.set(zn,Qn.dict.objId,!0),Hn();return}const Zn=j.state.clone(),er=new vt(Zn),lr=Qn.dict.getArray("Matrix");Array.isArray(lr)&&lr.length===6&&er.transform(lr),gn();const pr={enqueueInvoked:!1,enqueue(Cr,vr){this.enqueueInvoked=!0,Mt.enqueue(Cr,vr)},get desiredSize(){return Mt.desiredSize},get ready(){return Mt.ready}};an.getTextContent({stream:Qn,task:Dt,resources:Qn.dict.get("Resources")||It,stateManager:er,includeMarkedContent:At,sink:pr,seenStyles:Rt,viewBox:$t,markedContentData:zt,disableNormalization:qt}).then(function(){pr.enqueueInvoked||hn.set(zn,Qn.dict.objId,!0),Hn()},qn)}).catch(function(Hn){if(!(Hn instanceof s.AbortException)){if(!an.options.ignoreErrors)throw Hn;(0,s.warn)(`getTextContent - ignoring XObject: "${Hn}".`)}}));return;case s.OPS.setGState:if(Un=_n[0]instanceof St.Name,zn=_n[0].name,Un&&fn.getByName(zn))break;pn(new Promise(function(Hn,qn){if(!Un)throw new s.FormatError("GState must be referred to by name.");const Qn=It.get("ExtGState");if(!(Qn instanceof St.Dict))throw new s.FormatError("ExtGState should be a dictionary.");const Yn=Qn.get(zn);if(!(Yn instanceof St.Dict))throw new s.FormatError("GState should be a dictionary.");const Zn=Yn.get("Font");Zn?(mn(),kn.fontName=null,kn.fontSize=Zn[1],Ln(null,Zn[0]).then(Hn,qn)):(fn.set(zn,Yn.objId,!0),Hn())}).catch(function(Hn){if(!(Hn instanceof s.AbortException)){if(!an.options.ignoreErrors)throw Hn;(0,s.warn)(`getTextContent - ignoring ExtGState: "${Hn}".`)}}));return;case s.OPS.beginMarkedContent:mn(),At&&(zt.level++,Wt.items.push({type:"beginMarkedContent",tag:_n[0]instanceof St.Name?_n[0].name:null}));break;case s.OPS.beginMarkedContentProps:if(mn(),At){zt.level++;let Hn=null;_n[1]instanceof St.Dict&&(Hn=_n[1].get("MCID")),Wt.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Hn)?`${an.idFactory.getPageObjId()}_mc${Hn}`:null,tag:_n[0]instanceof St.Name?_n[0].name:null})}break;case s.OPS.endMarkedContent:if(mn(),At){if(zt.level===0)break;zt.level--,Wt.items.push({type:"endMarkedContent"})}break;case s.OPS.restore:!Wn||Wn.font===kn.font&&Wn.fontSize===kn.fontSize&&Wn.fontName===kn.fontName||mn()}if(Wt.items.length>=Mt.desiredSize){Tn=!0;break}}Tn?pn(kt):(mn(),gn(),bn())}).catch(Sn=>{if(!(Sn instanceof s.AbortException)){if(!this.options.ignoreErrors)throw Sn;(0,s.warn)(`getTextContent - ignoring errors during "${Dt.name}" task: "${Sn}".`),mn(),gn()}})}extractDataStructures(Xt,Dt,It){const j=this.xref;let At;const Mt=this.readToUnicode(It.toUnicode||Xt.get("ToUnicode")||Dt.get("ToUnicode"));if(It.composite){const Gt=Xt.get("CIDSystemInfo");Gt instanceof St.Dict&&(It.cidSystemInfo={registry:(0,s.stringToPDFString)(Gt.get("Registry")),ordering:(0,s.stringToPDFString)(Gt.get("Ordering")),supplement:Gt.get("Supplement")});try{const Zt=Xt.get("CIDToGIDMap");Zt instanceof ct.BaseStream&&(At=Zt.getBytes())}catch(Zt){if(!this.options.ignoreErrors)throw Zt;(0,s.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Zt}".`)}}const Rt=[];let $t,zt=null;if(Xt.has("Encoding")){if($t=Xt.get("Encoding"),$t instanceof St.Dict){if(zt=$t.get("BaseEncoding"),zt=zt instanceof St.Name?zt.name:null,$t.has("Differences")){const Gt=$t.get("Differences");let Zt=0;for(const Yt of Gt){const tn=j.fetchIfRef(Yt);if(typeof tn=="number")Zt=tn;else{if(!(tn instanceof St.Name))throw new s.FormatError(`Invalid entry in 'Differences' array: ${tn}`);Rt[Zt++]=tn.name}}}}else if($t instanceof St.Name)zt=$t.name;else{const Gt="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new s.FormatError(Gt);(0,s.warn)(Gt)}zt!=="MacRomanEncoding"&&zt!=="MacExpertEncoding"&&zt!=="WinAnsiEncoding"&&(zt=null)}const qt=!It.file||It.isInternalFont,Wt=(0,d.getSymbolsFonts)()[It.name];if(zt&&qt&&Wt&&(zt=null),zt)It.defaultEncoding=(0,i.getEncoding)(zt);else{const Gt=!!(It.flags&mt.FontFlags.Symbolic),Zt=!!(It.flags&mt.FontFlags.Nonsymbolic);$t=i.StandardEncoding,It.type!=="TrueType"||Zt||($t=i.WinAnsiEncoding),(Gt||Wt)&&($t=i.MacRomanEncoding,qt&&(/Symbol/i.test(It.name)?$t=i.SymbolSetEncoding:/Dingbats/i.test(It.name)?$t=i.ZapfDingbatsEncoding:/Wingdings/i.test(It.name)&&($t=i.WinAnsiEncoding))),It.defaultEncoding=$t}return It.differences=Rt,It.baseEncodingName=zt,It.hasEncoding=!!zt||Rt.length>0,It.dict=Xt,Mt.then(Gt=>(It.toUnicode=Gt,this.buildToUnicode(It))).then(Gt=>(It.toUnicode=Gt,At&&(It.cidToGidMap=this.readCidToGidMap(At,Gt)),It))}_simpleFontToUnicode(Xt,Dt=!1){(0,s.assert)(!Xt.composite,"Must be a simple font.");const It=[],j=Xt.defaultEncoding.slice(),At=Xt.baseEncodingName,Mt=Xt.differences;for(const $t in Mt){const zt=Mt[$t];zt!==".notdef"&&(j[$t]=zt)}const Rt=(0,Nt.getGlyphsUnicode)();for(const $t in j){let zt=j[$t];if(zt==="")continue;let qt=Rt[zt];if(qt!==void 0){It[$t]=String.fromCharCode(qt);continue}let Wt=0;switch(zt[0]){case"G":zt.length===3&&(Wt=parseInt(zt.substring(1),16));break;case"g":zt.length===5&&(Wt=parseInt(zt.substring(1),16));break;case"C":case"c":if(zt.length>=3&&zt.length<=4){const Gt=zt.substring(1);if(Dt){Wt=parseInt(Gt,16);break}if(Wt=+Gt,Number.isNaN(Wt)&&Number.isInteger(parseInt(Gt,16)))return this._simpleFontToUnicode(Xt,!0)}break;case"u":qt=(0,Tt.getUnicodeForGlyph)(zt,Rt),qt!==-1&&(Wt=qt);break;default:switch(zt){case"f_h":case"f_t":case"T_h":It[$t]=zt.replaceAll("_","");continue}}if(Wt>0&&Wt<=1114111&&Number.isInteger(Wt)){if(At&&Wt===+$t){const Gt=(0,i.getEncoding)(At);if(Gt&&(zt=Gt[$t])){It[$t]=String.fromCharCode(Rt[zt]);continue}}It[$t]=String.fromCodePoint(Wt)}}return It}async buildToUnicode(Xt){var Dt;if(Xt.hasIncludedToUnicodeMap=((Dt=Xt.toUnicode)==null?void 0:Dt.length)>0,Xt.hasIncludedToUnicodeMap)return!Xt.composite&&Xt.hasEncoding&&(Xt.fallbackToUnicode=this._simpleFontToUnicode(Xt)),Xt.toUnicode;if(!Xt.composite)return new et.ToUnicodeMap(this._simpleFontToUnicode(Xt));if(Xt.composite&&(Xt.cMap.builtInCMap&&!(Xt.cMap instanceof bt.IdentityCMap)||Xt.cidSystemInfo.registry==="Adobe"&&(Xt.cidSystemInfo.ordering==="GB1"||Xt.cidSystemInfo.ordering==="CNS1"||Xt.cidSystemInfo.ordering==="Japan1"||Xt.cidSystemInfo.ordering==="Korea1"))){const{registry:It,ordering:j}=Xt.cidSystemInfo,At=St.Name.get(`${It}-${j}-UCS2`),Mt=await bt.CMapFactory.create({encoding:At,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),Rt=[],$t=[];return Xt.cMap.forEach(function(zt,qt){if(qt>65535)throw new s.FormatError("Max size of CID is 65,535");const Wt=Mt.lookup(qt);if(Wt){$t.length=0;for(let Gt=0,Zt=Wt.length;Gt<Zt;Gt+=2)$t.push((Wt.charCodeAt(Gt)<<8)+Wt.charCodeAt(Gt+1));Rt[zt]=String.fromCharCode(...$t)}}),new et.ToUnicodeMap(Rt)}return new et.IdentityToUnicodeMap(Xt.firstChar,Xt.lastChar)}readToUnicode(Xt){return Xt?Xt instanceof St.Name?bt.CMapFactory.create({encoding:Xt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Dt){return Dt instanceof bt.IdentityCMap?new et.IdentityToUnicodeMap(0,65535):new et.ToUnicodeMap(Dt.getMap())}):Xt instanceof ct.BaseStream?bt.CMapFactory.create({encoding:Xt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Dt){if(Dt instanceof bt.IdentityCMap)return new et.IdentityToUnicodeMap(0,65535);const It=new Array(Dt.length);return Dt.forEach(function(j,At){if(typeof At=="number"){It[j]=String.fromCodePoint(At);return}const Mt=[];for(let Rt=0;Rt<At.length;Rt+=2){const $t=At.charCodeAt(Rt)<<8|At.charCodeAt(Rt+1);if((63488&$t)!=55296){Mt.push($t);continue}Rt+=2;const zt=At.charCodeAt(Rt)<<8|At.charCodeAt(Rt+1);Mt.push(((1023&$t)<<10)+(1023&zt)+65536)}It[j]=String.fromCodePoint(...Mt)}),new et.ToUnicodeMap(It)},Dt=>{if(Dt instanceof s.AbortException)return null;if(this.options.ignoreErrors)return(0,s.warn)(`readToUnicode - ignoring ToUnicode data: "${Dt}".`),null;throw Dt}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(Xt,Dt){const It=[];for(let j=0,At=Xt.length;j<At;j++){const Mt=Xt[j++]<<8|Xt[j],Rt=j>>1;(Mt!==0||Dt.has(Rt))&&(It[Rt]=Mt)}return It}extractWidths(Xt,Dt,It){const j=this.xref;let At=[],Mt=0;const Rt=[];let $t,zt,qt,Wt,Gt,Zt,Yt,tn;if(It.composite){if(Mt=Xt.has("DW")?Xt.get("DW"):1e3,tn=Xt.get("W"),tn)for(zt=0,qt=tn.length;zt<qt;zt++)if(Zt=j.fetchIfRef(tn[zt++]),Yt=j.fetchIfRef(tn[zt]),Array.isArray(Yt))for(Wt=0,Gt=Yt.length;Wt<Gt;Wt++)At[Zt++]=j.fetchIfRef(Yt[Wt]);else{const an=j.fetchIfRef(tn[++zt]);for(Wt=Zt;Wt<=Yt;Wt++)At[Wt]=an}if(It.vertical){let an=Xt.getArray("DW2")||[880,-1e3];if($t=[an[1],.5*Mt,an[0]],an=Xt.get("W2"),an)for(zt=0,qt=an.length;zt<qt;zt++)if(Zt=j.fetchIfRef(an[zt++]),Yt=j.fetchIfRef(an[zt]),Array.isArray(Yt))for(Wt=0,Gt=Yt.length;Wt<Gt;Wt++)Rt[Zt++]=[j.fetchIfRef(Yt[Wt++]),j.fetchIfRef(Yt[Wt++]),j.fetchIfRef(Yt[Wt])];else{const vn=[j.fetchIfRef(an[++zt]),j.fetchIfRef(an[++zt]),j.fetchIfRef(an[++zt])];for(Wt=Zt;Wt<=Yt;Wt++)Rt[Wt]=vn}}}else{const an=It.firstChar;if(tn=Xt.get("Widths"),tn){for(Wt=an,zt=0,qt=tn.length;zt<qt;zt++)At[Wt++]=j.fetchIfRef(tn[zt]);Mt=parseFloat(Dt.get("MissingWidth"))||0}else{const vn=Xt.get("BaseFont");if(vn instanceof St.Name){const An=this.getBaseFontMetrics(vn.name);At=this.buildCharCodeToWidth(An.widths,It),Mt=An.defaultWidth}}}let nn=!0,en=Mt;for(const an in At){const vn=At[an];if(vn)if(en){if(en!==vn){nn=!1;break}}else en=vn}nn?It.flags|=mt.FontFlags.FixedPitch:It.flags&=~mt.FontFlags.FixedPitch,It.defaultWidth=Mt,It.widths=At,It.defaultVMetrics=$t,It.vmetrics=Rt}isSerifFont(Xt){const Dt=Xt.split("-")[0];return Dt in(0,d.getSerifFonts)()||/serif/gi.test(Dt)}getBaseFontMetrics(Xt){let Dt=0,It=Object.create(null),j=!1,At=(0,d.getStdFontMap)()[Xt]||Xt;const Mt=(0,Pt.getMetrics)();At in Mt||(At=this.isSerifFont(Xt)?"Times-Roman":"Helvetica");const Rt=Mt[At];return typeof Rt=="number"?(Dt=Rt,j=!0):It=Rt(),{defaultWidth:Dt,monospace:j,widths:It}}buildCharCodeToWidth(Xt,Dt){const It=Object.create(null),j=Dt.differences,At=Dt.defaultEncoding;for(let Mt=0;Mt<256;Mt++)Mt in j&&Xt[j[Mt]]?It[Mt]=Xt[j[Mt]]:Mt in At&&Xt[At[Mt]]&&(It[Mt]=Xt[At[Mt]]);return It}preEvaluateFont(Xt){const Dt=Xt;let It=Xt.get("Subtype");if(!(It instanceof St.Name))throw new s.FormatError("invalid font Subtype");let j,At,Mt=!1;if(It.name==="Type0"){const qt=Xt.get("DescendantFonts");if(!qt)throw new s.FormatError("Descendant fonts are not specified");if(!((Xt=Array.isArray(qt)?this.xref.fetchIfRef(qt[0]):qt)instanceof St.Dict))throw new s.FormatError("Descendant font is not a dictionary.");if(It=Xt.get("Subtype"),!(It instanceof St.Name))throw new s.FormatError("invalid font Subtype");Mt=!0}const Rt=Xt.get("FirstChar")||0,$t=Xt.get("LastChar")||(Mt?65535:255),zt=Xt.get("FontDescriptor");if(zt){j=new rt.MurmurHash3_64;const qt=Dt.getRaw("Encoding");if(qt instanceof St.Name)j.update(qt.name);else if(qt instanceof St.Ref)j.update(qt.toString());else if(qt instanceof St.Dict){for(const Gt of qt.getRawValues())if(Gt instanceof St.Name)j.update(Gt.name);else if(Gt instanceof St.Ref)j.update(Gt.toString());else if(Array.isArray(Gt)){const Zt=Gt.length,Yt=new Array(Zt);for(let tn=0;tn<Zt;tn++){const nn=Gt[tn];nn instanceof St.Name?Yt[tn]=nn.name:(typeof nn=="number"||nn instanceof St.Ref)&&(Yt[tn]=nn.toString())}j.update(Yt.join())}}if(j.update(`${Rt}-${$t}`),At=Xt.get("ToUnicode")||Dt.get("ToUnicode"),At instanceof ct.BaseStream){const Gt=At.str||At,Zt=Gt.buffer?new Uint8Array(Gt.buffer.buffer,0,Gt.bufferLength):new Uint8Array(Gt.bytes.buffer,Gt.start,Gt.end-Gt.start);j.update(Zt)}else At instanceof St.Name&&j.update(At.name);const Wt=Xt.get("Widths")||Dt.get("Widths");if(Array.isArray(Wt)){const Gt=[];for(const Zt of Wt)(typeof Zt=="number"||Zt instanceof St.Ref)&&Gt.push(Zt.toString());j.update(Gt.join())}if(Mt){j.update("compositeFont");const Gt=Xt.get("W")||Dt.get("W");if(Array.isArray(Gt)){const Yt=[];for(const tn of Gt)if(typeof tn=="number"||tn instanceof St.Ref)Yt.push(tn.toString());else if(Array.isArray(tn)){const nn=[];for(const en of tn)(typeof en=="number"||en instanceof St.Ref)&&nn.push(en.toString());Yt.push(`[${nn.join()}]`)}j.update(Yt.join())}const Zt=Xt.getRaw("CIDToGIDMap")||Dt.getRaw("CIDToGIDMap");Zt instanceof St.Name?j.update(Zt.name):Zt instanceof St.Ref?j.update(Zt.toString()):Zt instanceof ct.BaseStream&&j.update(Zt.peekBytes())}}return{descriptor:zt,dict:Xt,baseDict:Dt,composite:Mt,type:It.name,firstChar:Rt,lastChar:$t,toUnicode:At,hash:j?j.hexdigest():""}}async translateFont({descriptor:Xt,dict:Dt,baseDict:It,composite:j,type:At,firstChar:Mt,lastChar:Rt,toUnicode:$t,cssFontInfo:zt}){const qt=At==="Type3";let Wt;if(!Xt){if(!qt){let Cn=Dt.get("BaseFont");if(!(Cn instanceof St.Name))throw new s.FormatError("Base font is not specified");Cn=Cn.name.replaceAll(/[,_]/g,"-");const kn=this.getBaseFontMetrics(Cn),Rn=Cn.split("-")[0],sn=(this.isSerifFont(Rn)?mt.FontFlags.Serif:0)|(kn.monospace?mt.FontFlags.FixedPitch:0)|((0,d.getSymbolsFonts)()[Rn]?mt.FontFlags.Symbolic:mt.FontFlags.Nonsymbolic);Wt={type:At,name:Cn,loadedName:It.loadedName,systemFontInfo:null,widths:kn.widths,defaultWidth:kn.defaultWidth,isSimulatedFlags:!0,flags:sn,firstChar:Mt,lastChar:Rt,toUnicode:$t,xHeight:0,capHeight:0,italicAngle:0,isType3Font:qt};const En=Dt.get("Widths"),Pn=(0,d.getStandardFontName)(Cn);let Ln=null;return Pn&&(Ln=await this.fetchStandardFontData(Pn),Wt.isInternalFont=!!Ln),!Wt.isInternalFont&&this.options.useSystemFonts&&(Wt.systemFontInfo=(0,Ct.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Cn,Pn)),this.extractDataStructures(Dt,Dt,Wt).then(jn=>{if(En){const Nn=[];let ln=Mt;for(const rn of En)Nn[ln++]=this.xref.fetchIfRef(rn);jn.widths=Nn}else jn.widths=this.buildCharCodeToWidth(kn.widths,jn);return new e.Font(Cn,Ln,jn)})}(Xt=new St.Dict(null)).set("FontName",St.Name.get(At)),Xt.set("FontBBox",Dt.getArray("FontBBox")||[0,0,0,0])}let Gt=Xt.get("FontName"),Zt=Dt.get("BaseFont");typeof Gt=="string"&&(Gt=St.Name.get(Gt)),typeof Zt=="string"&&(Zt=St.Name.get(Zt));const Yt=Gt==null?void 0:Gt.name,tn=Zt==null?void 0:Zt.name;if(!qt&&Yt!==tn&&((0,s.info)(`The FontDescriptor's FontName is "${Yt}" but should be the same as the Font's BaseFont "${tn}".`),Yt&&tn&&(tn.startsWith(Yt)||!(0,d.isKnownFontName)(Yt)&&(0,d.isKnownFontName)(tn))&&(Gt=null)),Gt||(Gt=Zt),!(Gt instanceof St.Name))throw new s.FormatError("invalid font name");let nn,en,an,vn,An;try{nn=Xt.get("FontFile","FontFile2","FontFile3")}catch(Cn){if(!this.options.ignoreErrors)throw Cn;(0,s.warn)(`translateFont - fetching "${Gt.name}" font file: "${Cn}".`),nn=new at.NullStream}let cn=!1,hn=null,fn=null;if(nn){if(nn.dict){const Cn=nn.dict.get("Subtype");Cn instanceof St.Name&&(en=Cn.name),an=nn.dict.get("Length1"),vn=nn.dict.get("Length2"),An=nn.dict.get("Length3")}}else if(zt){const Cn=(0,dt.getXfaFontName)(Gt.name);Cn&&(zt.fontFamily=`${zt.fontFamily}-PdfJS-XFA`,zt.metrics=Cn.metrics||null,hn=Cn.factors||null,nn=await this.fetchStandardFontData(Cn.name),cn=!!nn,It=Dt=(0,dt.getXfaFontDict)(Gt.name),j=!0)}else if(!qt){const Cn=(0,d.getStandardFontName)(Gt.name);Cn&&(nn=await this.fetchStandardFontData(Cn),cn=!!nn),!cn&&this.options.useSystemFonts&&(fn=(0,Ct.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Gt.name,Cn))}if(Wt={type:At,name:Gt.name,subtype:en,file:nn,length1:an,length2:vn,length3:An,isInternalFont:cn,loadedName:It.loadedName,composite:j,fixedPitch:!1,fontMatrix:Dt.getArray("FontMatrix")||s.FONT_IDENTITY_MATRIX,firstChar:Mt,lastChar:Rt,toUnicode:$t,bbox:Xt.getArray("FontBBox")||Dt.getArray("FontBBox"),ascent:Xt.get("Ascent"),descent:Xt.get("Descent"),xHeight:Xt.get("XHeight")||0,capHeight:Xt.get("CapHeight")||0,flags:Xt.get("Flags"),italicAngle:Xt.get("ItalicAngle")||0,isType3Font:qt,cssFontInfo:zt,scaleFactors:hn,systemFontInfo:fn},j){const Cn=It.get("Encoding");Cn instanceof St.Name&&(Wt.cidEncoding=Cn.name);const kn=await bt.CMapFactory.create({encoding:Cn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Wt.cMap=kn,Wt.vertical=Wt.cMap.vertical}return this.extractDataStructures(Dt,It,Wt).then(Cn=>(this.extractWidths(Dt,Xt,Cn),new e.Font(Gt.name,nn,Cn)))}static buildFontPaths(Xt,Dt,It,j){function At(Mt){const Rt=`${Xt.loadedName}_path_${Mt}`;try{if(Xt.renderer.hasBuiltPath(Mt))return;It.send("commonobj",[Rt,"FontPath",Xt.renderer.getPathJs(Mt)])}catch($t){if(j.ignoreErrors){(0,s.warn)(`buildFontPaths - ignoring ${Rt} glyph: "${$t}".`);return}throw $t}}for(const Mt of Dt){At(Mt.fontChar);const Rt=Mt.accent;Rt!=null&&Rt.fontChar&&At(Rt.fontChar)}}static get fallbackFontDict(){const Xt=new St.Dict;return Xt.set("BaseFont",St.Name.get("Helvetica")),Xt.set("Type",St.Name.get("FallbackType")),Xt.set("Subtype",St.Name.get("FallbackType")),Xt.set("Encoding",St.Name.get("WinAnsiEncoding")),(0,s.shadow)(this,"fallbackFontDict",Xt)}}$.PartialEvaluator=Ft;class yt{constructor({loadedName:Xt,font:Dt,dict:It,evaluatorOptions:j}){this.loadedName=Xt,this.font=Dt,this.dict=It,this._evaluatorOptions=j||b,this.type3Loaded=null,this.type3Dependencies=Dt.isType3Font?new Set:null,this.sent=!1}send(Xt){this.sent||(this.sent=!0,Xt.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(Xt){this.font.data&&(this.font.disableFontFace=!0,Ft.buildFontPaths(this.font,this.font.glyphCacheValues,Xt,this._evaluatorOptions))}loadType3Data(Xt,Dt,It){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const j=Xt.clone({ignoreErrors:!1});j.parsingType3Font=!0;const At=new St.RefSet(Xt.type3FontRefs);this.dict.objId&&!At.has(this.dict.objId)&&At.put(this.dict.objId),j.type3FontRefs=At;const Mt=this.font,Rt=this.type3Dependencies;let $t=Promise.resolve();const zt=this.dict.get("CharProcs"),qt=this.dict.get("Resources")||Dt,Wt=Object.create(null),Gt=s.Util.normalizeRect(Mt.bbox||[0,0,0,0]),Zt=Gt[2]-Gt[0],Yt=Gt[3]-Gt[1],tn=Math.hypot(Zt,Yt);for(const nn of zt.getKeys())$t=$t.then(()=>{const en=zt.get(nn),an=new ft.OperatorList;return j.getOperatorList({stream:en,task:It,resources:qt,operatorList:an}).then(()=>{an.fnArray[0]===s.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(an,tn),Wt[nn]=an.getIR();for(const vn of an.dependencies)Rt.add(vn)}).catch(function(vn){(0,s.warn)(`Type3 font resource "${nn}" is not available.`);const An=new ft.OperatorList;Wt[nn]=An.getIR()})});return this.type3Loaded=$t.then(()=>{Mt.charProcOperatorList=Wt,this._bbox&&(Mt.isCharBBox=!0,Mt.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(Xt,Dt=NaN){const It=s.Util.normalizeRect(Xt.argsArray[0].slice(2)),j=It[2]-It[0],At=It[3]-It[1],Mt=Math.hypot(j,At);j===0||At===0?(Xt.fnArray.splice(0,1),Xt.argsArray.splice(0,1)):(Dt===0||Math.round(Mt/Dt)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],It[0]),this._bbox[1]=Math.min(this._bbox[1],It[1]),this._bbox[2]=Math.max(this._bbox[2],It[2]),this._bbox[3]=Math.max(this._bbox[3],It[3]));let Rt=0,$t=Xt.length;for(;Rt<$t;){switch(Xt.fnArray[Rt]){case s.OPS.setCharWidthAndBounds:break;case s.OPS.setStrokeColorSpace:case s.OPS.setFillColorSpace:case s.OPS.setStrokeColor:case s.OPS.setStrokeColorN:case s.OPS.setFillColor:case s.OPS.setFillColorN:case s.OPS.setStrokeGray:case s.OPS.setFillGray:case s.OPS.setStrokeRGBColor:case s.OPS.setFillRGBColor:case s.OPS.setStrokeCMYKColor:case s.OPS.setFillCMYKColor:case s.OPS.shadingFill:case s.OPS.setRenderingIntent:Xt.fnArray.splice(Rt,1),Xt.argsArray.splice(Rt,1),$t--;continue;case s.OPS.setGState:const[zt]=Xt.argsArray[Rt];let qt=0,Wt=zt.length;for(;qt<Wt;){const[Gt]=zt[qt];switch(Gt){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":zt.splice(qt,1),Wt--;continue}qt++}}Rt++}}}class vt{constructor(Xt=new jt){this.state=Xt,this.stateStack=[]}save(){const Xt=this.state;this.stateStack.push(this.state),this.state=Xt.clone()}restore(){const Xt=this.stateStack.pop();Xt&&(this.state=Xt)}transform(Xt){this.state.ctm=s.Util.transform(this.state.ctm,Xt)}}class Lt{constructor(){this.ctm=new Float32Array(s.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.textMatrix=s.IDENTITY_MATRIX.slice(),this.textLineMatrix=s.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(Xt,Dt,It,j,At,Mt){const Rt=this.textMatrix;Rt[0]=Xt,Rt[1]=Dt,Rt[2]=It,Rt[3]=j,Rt[4]=At,Rt[5]=Mt}setTextLineMatrix(Xt,Dt,It,j,At,Mt){const Rt=this.textLineMatrix;Rt[0]=Xt,Rt[1]=Dt,Rt[2]=It,Rt[3]=j,Rt[4]=At,Rt[5]=Mt}translateTextMatrix(Xt,Dt){const It=this.textMatrix;It[4]=It[0]*Xt+It[2]*Dt+It[4],It[5]=It[1]*Xt+It[3]*Dt+It[5]}translateTextLineMatrix(Xt,Dt){const It=this.textLineMatrix;It[4]=It[0]*Xt+It[2]*Dt+It[4],It[5]=It[1]*Xt+It[3]*Dt+It[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const Xt=Object.create(this);return Xt.textMatrix=this.textMatrix.slice(),Xt.textLineMatrix=this.textLineMatrix.slice(),Xt.fontMatrix=this.fontMatrix.slice(),Xt}}class jt{constructor(){this.ctm=new Float32Array(s.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=s.TextRenderingMode.FILL,this.fillColorSpace=tt.ColorSpace.singletons.gray,this.strokeColorSpace=tt.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const Qt=class Qt{static get opMap(){return(0,s.shadow)(this,"opMap",{w:{id:s.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:s.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:s.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:s.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:s.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:s.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:s.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:s.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:s.OPS.save,numArgs:0,variableArgs:!1},Q:{id:s.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:s.OPS.transform,numArgs:6,variableArgs:!1},m:{id:s.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:s.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:s.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:s.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:s.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:s.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:s.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:s.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:s.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:s.OPS.fill,numArgs:0,variableArgs:!1},F:{id:s.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:s.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:s.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:s.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:s.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:s.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:s.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:s.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:s.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:s.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:s.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:s.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:s.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:s.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:s.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:s.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:s.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:s.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:s.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:s.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:s.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:s.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:s.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:s.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:s.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:s.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:s.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:s.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:s.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:s.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:s.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:s.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:s.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:s.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:s.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:s.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:s.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:s.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:s.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:s.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:s.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:s.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:s.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:s.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:s.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:s.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:s.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:s.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:s.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:s.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:s.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:s.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(Xt,Dt,It=new vt){this.parser=new c.Parser({lexer:new c.Lexer(Xt,Qt.opMap),xref:Dt}),this.stateManager=It,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(Xt){let Dt=Xt.args;for(;;){const It=this.parser.getObj();if(It instanceof St.Cmd){const j=It.cmd,At=Qt.opMap[j];if(!At){(0,s.warn)(`Unknown command "${j}".`);continue}const Mt=At.id,Rt=At.numArgs;let $t=Dt!==null?Dt.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=Mt>=s.OPS.moveTo&&Mt<=s.OPS.endPath,At.variableArgs)$t>Rt&&(0,s.info)(`Command ${j}: expected [0, ${Rt}] args, but received ${$t} args.`);else{if($t!==Rt){const zt=this.nonProcessedArgs;for(;$t>Rt;)zt.push(Dt.shift()),$t--;for(;$t<Rt&&zt.length!==0;)Dt===null&&(Dt=[]),Dt.unshift(zt.pop()),$t++}if($t<Rt){const zt=`command ${j}: expected ${Rt} args, but received ${$t} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Qt.MAX_INVALID_PATH_OPS)throw new s.FormatError(`Invalid ${zt}`);(0,s.warn)(`Skipping ${zt}`),Dt!==null&&(Dt.length=0);continue}}return this.preprocessCommand(Mt,Dt),Xt.fn=Mt,Xt.args=Dt,!0}if(It===St.EOF)return!1;if(It!==null&&(Dt===null&&(Dt=[]),Dt.push(It),Dt.length>33))throw new s.FormatError("Too many arguments")}}preprocessCommand(Xt,Dt){switch(0|Xt){case s.OPS.save:this.stateManager.save();break;case s.OPS.restore:this.stateManager.restore();break;case s.OPS.transform:this.stateManager.transform(Dt)}}};ir(Qt,"MAX_INVALID_PATH_OPS",10);let Ht=Qt;$.EvaluatorPreprocessor=Ht},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.IdentityCMap=$.CMapFactory=$.CMap=void 0;var s=_t(2),bt=_t(4),St=_t(5),e=_t(15),i=_t(16),d=_t(3),ut=_t(8);const dt=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],et=2**24-1;class _{constructor(wt=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=wt}addCodespaceRange(wt,b,pt){this.codespaceRanges[wt-1].push(b,pt),this.numCodespaceRanges++}mapCidRange(wt,b,pt){if(b-wt>et)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;wt<=b;)this._map[wt++]=pt++}mapBfRange(wt,b,pt){if(b-wt>et)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const Ot=pt.length-1;for(;wt<=b;){this._map[wt++]=pt;const kt=pt.charCodeAt(Ot)+1;kt>255?pt=pt.substring(0,Ot-1)+String.fromCharCode(pt.charCodeAt(Ot-1)+1)+"\0":pt=pt.substring(0,Ot)+String.fromCharCode(kt)}}mapBfRangeToArray(wt,b,pt){if(b-wt>et)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const Ot=pt.length;let kt=0;for(;wt<=b&&kt<Ot;)this._map[wt]=pt[kt++],++wt}mapOne(wt,b){this._map[wt]=b}lookup(wt){return this._map[wt]}contains(wt){return this._map[wt]!==void 0}forEach(wt){const b=this._map,pt=b.length;if(pt<=65536)for(let Ot=0;Ot<pt;Ot++)b[Ot]!==void 0&&wt(Ot,b[Ot]);else for(const Ot in b)wt(Ot,b[Ot])}charCodeOf(wt){const b=this._map;if(b.length<=65536)return b.indexOf(wt);for(const pt in b)if(b[pt]===wt)return 0|pt;return-1}getMap(){return this._map}readCharCode(wt,b,pt){let Ot=0;const kt=this.codespaceRanges;for(let st=0,nt=kt.length;st<nt;st++){Ot=(Ot<<8|wt.charCodeAt(b+st))>>>0;const gt=kt[st];for(let Ft=0,yt=gt.length;Ft<yt;){const vt=gt[Ft++],Lt=gt[Ft++];if(Ot>=vt&&Ot<=Lt){pt.charcode=Ot,pt.length=st+1;return}}}pt.charcode=0,pt.length=1}getCharCodeLength(wt){const b=this.codespaceRanges;for(let pt=0,Ot=b.length;pt<Ot;pt++){const kt=b[pt];for(let st=0,nt=kt.length;st<nt;){const gt=kt[st++],Ft=kt[st++];if(wt>=gt&&wt<=Ft)return pt+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(this.name!=="Identity-H"&&this.name!=="Identity-V"||this._map.length!==65536)return!1;for(let wt=0;wt<65536;wt++)if(this._map[wt]!==wt)return!1;return!0}}$.CMap=_;class c extends _{constructor(wt,b){super(),this.vertical=wt,this.addCodespaceRange(b,0,65535)}mapCidRange(wt,b,pt){(0,s.unreachable)("should not call mapCidRange")}mapBfRange(wt,b,pt){(0,s.unreachable)("should not call mapBfRange")}mapBfRangeToArray(wt,b,pt){(0,s.unreachable)("should not call mapBfRangeToArray")}mapOne(wt,b){(0,s.unreachable)("should not call mapCidOne")}lookup(wt){return Number.isInteger(wt)&&wt<=65535?wt:void 0}contains(wt){return Number.isInteger(wt)&&wt<=65535}forEach(wt){for(let b=0;b<=65535;b++)wt(b,b)}charCodeOf(wt){return Number.isInteger(wt)&&wt<=65535?wt:-1}getMap(){const wt=new Array(65536);for(let b=0;b<=65535;b++)wt[b]=b;return wt}get length(){return 65536}get isIdentityCMap(){(0,s.unreachable)("should not access .isIdentityCMap")}}$.IdentityCMap=c;function lt(ft){let wt=0;for(let b=0;b<ft.length;b++)wt=wt<<8|ft.charCodeAt(b);return wt>>>0}function at(ft){if(typeof ft!="string")throw new s.FormatError("Malformed CMap: expected string.")}function ct(ft){if(!Number.isInteger(ft))throw new s.FormatError("Malformed CMap: expected int.")}function it(ft,wt){for(;;){let b=wt.getObj();if(b===bt.EOF)break;if((0,bt.isCmd)(b,"endbfchar"))return;at(b);const pt=lt(b);b=wt.getObj(),at(b);const Ot=b;ft.mapOne(pt,Ot)}}function tt(ft,wt){for(;;){let b=wt.getObj();if(b===bt.EOF)break;if((0,bt.isCmd)(b,"endbfrange"))return;at(b);const pt=lt(b);b=wt.getObj(),at(b);const Ot=lt(b);if(b=wt.getObj(),Number.isInteger(b)||typeof b=="string"){const kt=Number.isInteger(b)?String.fromCharCode(b):b;ft.mapBfRange(pt,Ot,kt)}else{if(!(0,bt.isCmd)(b,"["))break;{b=wt.getObj();const kt=[];for(;!(0,bt.isCmd)(b,"]")&&b!==bt.EOF;)kt.push(b),b=wt.getObj();ft.mapBfRangeToArray(pt,Ot,kt)}}}throw new s.FormatError("Invalid bf range.")}function ot(ft,wt){for(;;){let b=wt.getObj();if(b===bt.EOF)break;if((0,bt.isCmd)(b,"endcidchar"))return;at(b);const pt=lt(b);b=wt.getObj(),ct(b);const Ot=b;ft.mapOne(pt,Ot)}}function mt(ft,wt){for(;;){let b=wt.getObj();if(b===bt.EOF)break;if((0,bt.isCmd)(b,"endcidrange"))return;at(b);const pt=lt(b);b=wt.getObj(),at(b);const Ot=lt(b);b=wt.getObj(),ct(b);const kt=b;ft.mapCidRange(pt,Ot,kt)}}function Ct(ft,wt){for(;;){let b=wt.getObj();if(b===bt.EOF)break;if((0,bt.isCmd)(b,"endcodespacerange"))return;if(typeof b!="string")break;const pt=lt(b);if(b=wt.getObj(),typeof b!="string")break;const Ot=lt(b);ft.addCodespaceRange(b.length,pt,Ot)}throw new s.FormatError("Invalid codespace range.")}function Nt(ft,wt){const b=wt.getObj();Number.isInteger(b)&&(ft.vertical=!!b)}function Pt(ft,wt){const b=wt.getObj();b instanceof bt.Name&&(ft.name=b.name)}async function Tt(ft,wt,b,pt){let Ot,kt;t:for(;;)try{const st=wt.getObj();if(st===bt.EOF)break;if(st instanceof bt.Name)st.name==="WMode"?Nt(ft,wt):st.name==="CMapName"&&Pt(ft,wt),Ot=st;else if(st instanceof bt.Cmd)switch(st.cmd){case"endcmap":break t;case"usecmap":Ot instanceof bt.Name&&(kt=Ot.name);break;case"begincodespacerange":Ct(ft,wt);break;case"beginbfchar":it(ft,wt);break;case"begincidchar":ot(ft,wt);break;case"beginbfrange":tt(ft,wt);break;case"begincidrange":mt(ft,wt)}}catch(st){if(st instanceof d.MissingDataException)throw st;(0,s.warn)("Invalid cMap data: "+st);continue}return!pt&&kt&&(pt=kt),pt?Et(ft,b,pt):ft}async function Et(ft,wt,b){if(ft.useCMap=await rt(b,wt),ft.numCodespaceRanges===0){const pt=ft.useCMap.codespaceRanges;for(let Ot=0;Ot<pt.length;Ot++)ft.codespaceRanges[Ot]=pt[Ot].slice();ft.numCodespaceRanges=ft.useCMap.numCodespaceRanges}return ft.useCMap.forEach(function(pt,Ot){ft.contains(pt)||ft.mapOne(pt,ft.useCMap.lookup(pt))}),ft}async function rt(ft,wt){if(ft==="Identity-H")return new c(!1,2);if(ft==="Identity-V")return new c(!0,2);if(!dt.includes(ft))throw new Error("Unknown CMap name: "+ft);if(!wt)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:b,compressionType:pt}=await wt(ft),Ot=new _(!0);if(pt===s.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(b,Ot,kt=>Et(Ot,wt,kt));if(pt===s.CMapCompressionType.NONE){const kt=new i.Lexer(new ut.Stream(b));return Tt(Ot,kt,wt,null)}throw new Error(`Invalid CMap "compressionType" value: ${pt}`)}$.CMapFactory=class{static async create({encoding:wt,fetchBuiltInCMap:b,useCMap:pt}){if(wt instanceof bt.Name)return rt(wt.name,b);if(wt instanceof St.BaseStream){const Ot=await Tt(new _,new i.Lexer(wt),b,pt);return Ot.isIdentityCMap?rt(Ot.name,b):Ot}throw new Error("Encoding required.")}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BinaryCMapReader=void 0;var s=_t(2);function bt(dt,et){let _=0;for(let c=0;c<=et;c++)_=_<<8|dt[c];return _>>>0}function St(dt,et){return et===1?String.fromCharCode(dt[0],dt[1]):et===3?String.fromCharCode(dt[0],dt[1],dt[2],dt[3]):String.fromCharCode(...dt.subarray(0,et+1))}function e(dt,et,_){let c=0;for(let lt=_;lt>=0;lt--)c+=dt[lt]+et[lt],dt[lt]=255&c,c>>=8}function i(dt,et){let _=1;for(let c=et;c>=0&&_>0;c--)_+=dt[c],dt[c]=255&_,_>>=8}const d=16;class ut{constructor(et){this.buffer=et,this.pos=0,this.end=et.length,this.tmpBuf=new Uint8Array(19)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let et,_=0;do{const c=this.readByte();if(c<0)throw new s.FormatError("unexpected EOF in bcmap");et=!(128&c),_=_<<7|127&c}while(!et);return _}readSigned(){const et=this.readNumber();return 1&et?~(et>>>1):et>>>1}readHex(et,_){et.set(this.buffer.subarray(this.pos,this.pos+_+1)),this.pos+=_+1}readHexNumber(et,_){let c;const lt=this.tmpBuf;let at=0;do{const ot=this.readByte();if(ot<0)throw new s.FormatError("unexpected EOF in bcmap");c=!(128&ot),lt[at++]=127&ot}while(!c);let ct=_,it=0,tt=0;for(;ct>=0;){for(;tt<8&&lt.length>0;)it|=lt[--at]<<tt,tt+=7;et[ct]=255&it,ct--,it>>=8,tt-=8}}readHexSigned(et,_){this.readHexNumber(et,_);const c=1&et[_]?255:0;let lt=0;for(let at=0;at<=_;at++)lt=(1&lt)<<8|et[at],et[at]=lt>>1^c}readString(){const et=this.readNumber(),_=new Array(et);for(let c=0;c<et;c++)_[c]=this.readNumber();return String.fromCharCode(..._)}}$.BinaryCMapReader=class{async process(et,_,c){const lt=new ut(et),at=lt.readByte();_.vertical=!!(1&at);let ct=null;const it=new Uint8Array(d),tt=new Uint8Array(d),ot=new Uint8Array(d),mt=new Uint8Array(d),Ct=new Uint8Array(d);let Nt,Pt;for(;(Pt=lt.readByte())>=0;){const Tt=Pt>>5;if(Tt===7){switch(31&Pt){case 0:lt.readString();break;case 1:ct=lt.readString()}continue}const Et=!!(16&Pt),rt=15&Pt;if(rt+1>d)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const ft=1,wt=lt.readNumber();switch(Tt){case 0:lt.readHex(it,rt),lt.readHexNumber(tt,rt),e(tt,it,rt),_.addCodespaceRange(rt+1,bt(it,rt),bt(tt,rt));for(let b=1;b<wt;b++)i(tt,rt),lt.readHexNumber(it,rt),e(it,tt,rt),lt.readHexNumber(tt,rt),e(tt,it,rt),_.addCodespaceRange(rt+1,bt(it,rt),bt(tt,rt));break;case 1:lt.readHex(it,rt),lt.readHexNumber(tt,rt),e(tt,it,rt),lt.readNumber();for(let b=1;b<wt;b++)i(tt,rt),lt.readHexNumber(it,rt),e(it,tt,rt),lt.readHexNumber(tt,rt),e(tt,it,rt),lt.readNumber();break;case 2:lt.readHex(ot,rt),Nt=lt.readNumber(),_.mapOne(bt(ot,rt),Nt);for(let b=1;b<wt;b++)i(ot,rt),Et||(lt.readHexNumber(Ct,rt),e(ot,Ct,rt)),Nt=lt.readSigned()+(Nt+1),_.mapOne(bt(ot,rt),Nt);break;case 3:lt.readHex(it,rt),lt.readHexNumber(tt,rt),e(tt,it,rt),Nt=lt.readNumber(),_.mapCidRange(bt(it,rt),bt(tt,rt),Nt);for(let b=1;b<wt;b++)i(tt,rt),Et?it.set(tt):(lt.readHexNumber(it,rt),e(it,tt,rt)),lt.readHexNumber(tt,rt),e(tt,it,rt),Nt=lt.readNumber(),_.mapCidRange(bt(it,rt),bt(tt,rt),Nt);break;case 4:lt.readHex(ot,ft),lt.readHex(mt,rt),_.mapOne(bt(ot,ft),St(mt,rt));for(let b=1;b<wt;b++)i(ot,ft),Et||(lt.readHexNumber(Ct,ft),e(ot,Ct,ft)),i(mt,rt),lt.readHexSigned(Ct,rt),e(mt,Ct,rt),_.mapOne(bt(ot,ft),St(mt,rt));break;case 5:lt.readHex(it,ft),lt.readHexNumber(tt,ft),e(tt,it,ft),lt.readHex(mt,rt),_.mapBfRange(bt(it,ft),bt(tt,ft),St(mt,rt));for(let b=1;b<wt;b++)i(tt,ft),Et?it.set(tt):(lt.readHexNumber(it,ft),e(it,tt,ft)),lt.readHexNumber(tt,ft),e(tt,it,ft),lt.readHex(mt,rt),_.mapBfRange(bt(it,ft),bt(tt,ft),St(mt,rt));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${Tt}`)}}return ct?c(ct):_}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Parser=$.Linearization=$.Lexer=void 0;var s=_t(2),bt=_t(4),St=_t(3),e=_t(8),i=_t(17),d=_t(19),ut=_t(20),dt=_t(22),et=_t(23),_=_t(26),c=_t(29),lt=_t(31),at=_t(32),ct=_t(33);class it{constructor({lexer:Nt,xref:Pt,allowStreams:Tt=!1,recoveryMode:Et=!1}){this.lexer=Nt,this.xref=Pt,this.allowStreams=Tt,this.recoveryMode=Et,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof bt.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(Nt){if(Nt instanceof St.MissingDataException)throw Nt;return!1}}getObj(Nt=null){const Pt=this.buf1;if(this.shift(),Pt instanceof bt.Cmd)switch(Pt.cmd){case"BI":return this.makeInlineImage(Nt);case"[":const Tt=[];for(;!(0,bt.isCmd)(this.buf1,"]")&&this.buf1!==bt.EOF;)Tt.push(this.getObj(Nt));if(this.buf1===bt.EOF){if(this.recoveryMode)return Tt;throw new St.ParserEOFException("End of file inside array.")}return this.shift(),Tt;case"<<":const Et=new bt.Dict(this.xref);for(;!(0,bt.isCmd)(this.buf1,">>")&&this.buf1!==bt.EOF;){if(!(this.buf1 instanceof bt.Name)){(0,s.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const rt=this.buf1.name;if(this.shift(),this.buf1===bt.EOF)break;Et.set(rt,this.getObj(Nt))}if(this.buf1===bt.EOF){if(this.recoveryMode)return Et;throw new St.ParserEOFException("End of file inside dictionary.")}return(0,bt.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(Et,Nt):Et:(this.shift(),Et);default:return Pt}if(Number.isInteger(Pt)){if(Number.isInteger(this.buf1)&&(0,bt.isCmd)(this.buf2,"R")){const Tt=bt.Ref.get(Pt,this.buf1);return this.shift(),this.shift(),Tt}return Pt}return typeof Pt=="string"&&Nt?Nt.decryptString(Pt):Pt}findDefaultInlineStreamEnd(Nt){const{knownCommands:Pt}=this.lexer,Tt=Nt.pos;let Et,rt,ft=0;for(;(Et=Nt.getByte())!==-1;)if(ft===0)ft=Et===69?1:0;else if(ft===1)ft=Et===73?2:0;else if(Et===32||Et===10||Et===13){rt=Nt.pos;const b=Nt.peekBytes(15),pt=b.length;if(pt===0)break;for(let st=0;st<pt;st++)if(Et=b[st],(Et!==0||b[st+1]===0)&&Et!==10&&Et!==13&&(Et<32||Et>127)){ft=0;break}if(ft!==2)continue;if(!Pt){(0,s.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const Ot=new mt(new e.Stream(b.slice()),Pt);Ot._hexStringWarn=()=>{};let kt=0;for(;;){const st=Ot.getObj();if(st===bt.EOF){ft=0;break}if(st instanceof bt.Cmd){const nt=Pt[st.cmd];if(!nt){ft=0;break}if(nt.variableArgs?kt<=nt.numArgs:kt===nt.numArgs)break;kt=0}else kt++}if(ft===2)break}else ft=0;Et===-1&&((0,s.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),rt&&((0,s.warn)('... trying to recover by using the last "EI" occurrence.'),Nt.skip(-(Nt.pos-rt))));let wt=4;return Nt.skip(-wt),Et=Nt.peekByte(),Nt.skip(wt),(0,St.isWhiteSpace)(Et)||wt--,Nt.pos-wt-Tt}findDCTDecodeInlineStreamEnd(Nt){const Pt=Nt.pos;let Tt,Et,rt=!1;for(;(Tt=Nt.getByte())!==-1;)if(Tt===255){switch(Nt.getByte()){case 0:break;case 255:Nt.skip(-1);break;case 217:rt=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:Et=Nt.getUint16(),Et>2?Nt.skip(Et-2):Nt.skip(-2)}if(rt)break}const ft=Nt.pos-Pt;return Tt===-1?((0,s.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),Nt.skip(-ft),this.findDefaultInlineStreamEnd(Nt)):(this.inlineStreamSkipEI(Nt),ft)}findASCII85DecodeInlineStreamEnd(Nt){const Pt=Nt.pos;let Tt;for(;(Tt=Nt.getByte())!==-1;)if(Tt===126){const rt=Nt.pos;for(Tt=Nt.peekByte();(0,St.isWhiteSpace)(Tt);)Nt.skip(),Tt=Nt.peekByte();if(Tt===62){Nt.skip();break}if(Nt.pos>rt){const ft=Nt.peekBytes(2);if(ft[0]===69&&ft[1]===73)break}}const Et=Nt.pos-Pt;return Tt===-1?((0,s.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),Nt.skip(-Et),this.findDefaultInlineStreamEnd(Nt)):(this.inlineStreamSkipEI(Nt),Et)}findASCIIHexDecodeInlineStreamEnd(Nt){const Pt=Nt.pos;let Tt;for(;(Tt=Nt.getByte())!==-1&&Tt!==62;);const Et=Nt.pos-Pt;return Tt===-1?((0,s.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),Nt.skip(-Et),this.findDefaultInlineStreamEnd(Nt)):(this.inlineStreamSkipEI(Nt),Et)}inlineStreamSkipEI(Nt){let Pt,Tt=0;for(;(Pt=Nt.getByte())!==-1;)if(Tt===0)Tt=Pt===69?1:0;else if(Tt===1)Tt=Pt===73?2:0;else if(Tt===2)break}makeInlineImage(Nt){const Pt=this.lexer,Tt=Pt.stream,Et=Object.create(null);let rt;for(;!(0,bt.isCmd)(this.buf1,"ID")&&this.buf1!==bt.EOF;){if(!(this.buf1 instanceof bt.Name))throw new s.FormatError("Dictionary key must be a name object");const nt=this.buf1.name;if(this.shift(),this.buf1===bt.EOF)break;Et[nt]=this.getObj(Nt)}Pt.beginInlineImagePos!==-1&&(rt=Tt.pos-Pt.beginInlineImagePos);const ft=this.xref.fetchIfRef(Et.F||Et.Filter);let wt;if(ft instanceof bt.Name)wt=ft.name;else if(Array.isArray(ft)){const nt=this.xref.fetchIfRef(ft[0]);nt instanceof bt.Name&&(wt=nt.name)}const b=Tt.pos;let pt,Ot;switch(wt){case"DCT":case"DCTDecode":pt=this.findDCTDecodeInlineStreamEnd(Tt);break;case"A85":case"ASCII85Decode":pt=this.findASCII85DecodeInlineStreamEnd(Tt);break;case"AHx":case"ASCIIHexDecode":pt=this.findASCIIHexDecodeInlineStreamEnd(Tt);break;default:pt=this.findDefaultInlineStreamEnd(Tt)}if(pt<1e3&&rt>0){const nt=Tt.pos;Tt.pos=Pt.beginInlineImagePos,Ot=function(yt){const vt=[],Lt=yt.length;let jt=0;for(;jt<Lt-1;)vt.push(yt[jt++]<<8|yt[jt++]);return jt<Lt&&vt.push(yt[jt]),Lt+"_"+String.fromCharCode.apply(null,vt)}(Tt.getBytes(rt+pt)),Tt.pos=nt;const gt=this.imageCache[Ot];if(gt!==void 0)return this.buf2=bt.Cmd.get("EI"),this.shift(),gt.reset(),gt}const kt=new bt.Dict(this.xref);for(const nt in Et)kt.set(nt,Et[nt]);let st=Tt.makeSubStream(b,pt,kt);return Nt&&(st=Nt.createStream(st,pt)),st=this.filter(st,kt,pt),st.dict=kt,Ot!==void 0&&(st.cacheKey="inline_img_"+ ++this._imageId,this.imageCache[Ot]=st),this.buf2=bt.Cmd.get("EI"),this.shift(),st}_findStreamLength(Nt,Pt){const{stream:Tt}=this.lexer;Tt.pos=Nt;const Et=Pt.length;for(;Tt.pos<Tt.end;){const rt=Tt.peekBytes(2048),ft=rt.length-Et;if(ft<=0)break;let wt=0;for(;wt<ft;){let b=0;for(;b<Et&&rt[wt+b]===Pt[b];)b++;if(b>=Et)return Tt.pos+=wt,Tt.pos-Nt;wt++}Tt.pos+=ft}return-1}makeStream(Nt,Pt){const Tt=this.lexer;let Et=Tt.stream;Tt.skipToNextLine();const rt=Et.pos-1;let ft=Nt.get("Length");if(Number.isInteger(ft)||((0,s.info)(`Bad length "${ft&&ft.toString()}" in stream.`),ft=0),Et.pos=rt+ft,Tt.nextChar(),this.tryShift()&&(0,bt.isCmd)(this.buf2,"endstream"))this.shift();else{const wt=new Uint8Array([101,110,100,115,116,114,101,97,109]);let b=this._findStreamLength(rt,wt);if(b<0){for(let Ot=1;Ot<=1;Ot++){const kt=wt.length-Ot,st=wt.slice(0,kt),nt=this._findStreamLength(rt,st);if(nt>=0){const gt=Et.peekBytes(kt+1)[kt];if(!(0,St.isWhiteSpace)(gt))break;(0,s.info)(`Found "${(0,s.bytesToString)(st)}" when searching for endstream command.`),b=nt;break}}if(b<0)throw new s.FormatError("Missing endstream command.")}ft=b,Tt.nextChar(),this.shift(),this.shift()}return this.shift(),Et=Et.makeSubStream(rt,ft,Nt),Pt&&(Et=Pt.createStream(Et,ft)),Et=this.filter(Et,Nt,ft),Et.dict=Nt,Et}filter(Nt,Pt,Tt){let Et=Pt.get("F","Filter"),rt=Pt.get("DP","DecodeParms");if(Et instanceof bt.Name)return Array.isArray(rt)&&(0,s.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(Nt,Et.name,Tt,rt);let ft=Tt;if(Array.isArray(Et)){const wt=Et,b=rt;for(let pt=0,Ot=wt.length;pt<Ot;++pt){if(Et=this.xref.fetchIfRef(wt[pt]),!(Et instanceof bt.Name))throw new s.FormatError(`Bad filter name "${Et}"`);rt=null,Array.isArray(b)&&pt in b&&(rt=this.xref.fetchIfRef(b[pt])),Nt=this.makeFilter(Nt,Et.name,ft,rt),ft=null}}return Nt}makeFilter(Nt,Pt,Tt,Et){if(Tt===0)return(0,s.warn)(`Empty "${Pt}" stream.`),new e.NullStream;try{switch(Pt){case"Fl":case"FlateDecode":return Et?new at.PredictorStream(new dt.FlateStream(Nt,Tt),Tt,Et):new dt.FlateStream(Nt,Tt);case"LZW":case"LZWDecode":let rt=1;return Et?(Et.has("EarlyChange")&&(rt=Et.get("EarlyChange")),new at.PredictorStream(new lt.LZWStream(Nt,Tt,rt),Tt,Et)):new lt.LZWStream(Nt,Tt,rt);case"DCT":case"DCTDecode":return new _.JpegStream(Nt,Tt,Et);case"JPX":case"JPXDecode":return new c.JpxStream(Nt,Tt,Et);case"A85":case"ASCII85Decode":return new i.Ascii85Stream(Nt,Tt);case"AHx":case"ASCIIHexDecode":return new d.AsciiHexStream(Nt,Tt);case"CCF":case"CCITTFaxDecode":return new ut.CCITTFaxStream(Nt,Tt,Et);case"RL":case"RunLengthDecode":return new ct.RunLengthStream(Nt,Tt);case"JBIG2Decode":return new et.Jbig2Stream(Nt,Tt,Et)}return(0,s.warn)(`Filter "${Pt}" is not supported.`),Nt}catch(rt){if(rt instanceof St.MissingDataException)throw rt;return(0,s.warn)(`Invalid stream: "${rt}"`),new e.NullStream}}}$.Parser=it;const tt=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function ot(Ct){return Ct>=48&&Ct<=57?15&Ct:Ct>=65&&Ct<=70||Ct>=97&&Ct<=102?9+(15&Ct):-1}class mt{constructor(Nt,Pt=null){this.stream=Nt,this.nextChar(),this.strBuf=[],this.knownCommands=Pt,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let Nt=this.currentChar,Pt=!1,Tt=0,Et=1;if(Nt===45?(Et=-1,Nt=this.nextChar(),Nt===45&&(Nt=this.nextChar())):Nt===43&&(Nt=this.nextChar()),Nt===10||Nt===13)do Nt=this.nextChar();while(Nt===10||Nt===13);if(Nt===46&&(Tt=10,Nt=this.nextChar()),Nt<48||Nt>57){const b=`Invalid number: ${String.fromCharCode(Nt)} (charCode ${Nt})`;if((0,St.isWhiteSpace)(Nt)||Nt===-1)return(0,s.info)(`Lexer.getNumber - "${b}".`),0;throw new s.FormatError(b)}let rt=Nt-48,ft=0,wt=1;for(;(Nt=this.nextChar())>=0;)if(Nt>=48&&Nt<=57){const b=Nt-48;Pt?ft=10*ft+b:(Tt!==0&&(Tt*=10),rt=10*rt+b)}else if(Nt===46){if(Tt!==0)break;Tt=1}else if(Nt===45)(0,s.warn)("Badly formatted number: minus sign in the middle");else{if(Nt!==69&&Nt!==101)break;if(Nt=this.peekChar(),Nt===43||Nt===45)wt=Nt===45?-1:1,this.nextChar();else if(Nt<48||Nt>57)break;Pt=!0}return Tt!==0&&(rt/=Tt),Pt&&(rt*=10**(wt*ft)),Et*rt}getString(){let Nt=1,Pt=!1;const Tt=this.strBuf;Tt.length=0;let Et=this.nextChar();for(;;){let rt=!1;switch(0|Et){case-1:(0,s.warn)("Unterminated string"),Pt=!0;break;case 40:++Nt,Tt.push("(");break;case 41:--Nt==0?(this.nextChar(),Pt=!0):Tt.push(")");break;case 92:switch(Et=this.nextChar(),Et){case-1:(0,s.warn)("Unterminated string"),Pt=!0;break;case 110:Tt.push(`
`);break;case 114:Tt.push("\r");break;case 116:Tt.push("	");break;case 98:Tt.push("\b");break;case 102:Tt.push("\f");break;case 92:case 40:case 41:Tt.push(String.fromCharCode(Et));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let ft=15&Et;Et=this.nextChar(),rt=!0,Et>=48&&Et<=55&&(ft=(ft<<3)+(15&Et),Et=this.nextChar(),Et>=48&&Et<=55&&(rt=!1,ft=(ft<<3)+(15&Et))),Tt.push(String.fromCharCode(ft));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:Tt.push(String.fromCharCode(Et))}break;default:Tt.push(String.fromCharCode(Et))}if(Pt)break;rt||(Et=this.nextChar())}return Tt.join("")}getName(){let Nt,Pt;const Tt=this.strBuf;for(Tt.length=0;(Nt=this.nextChar())>=0&&!tt[Nt];)if(Nt===35){if(Nt=this.nextChar(),tt[Nt]){(0,s.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),Tt.push("#");break}const Et=ot(Nt);if(Et!==-1){Pt=Nt,Nt=this.nextChar();const rt=ot(Nt);if(rt===-1){if((0,s.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(Nt)}) in hexadecimal number.`),Tt.push("#",String.fromCharCode(Pt)),tt[Nt])break;Tt.push(String.fromCharCode(Nt));continue}Tt.push(String.fromCharCode(Et<<4|rt))}else Tt.push("#",String.fromCharCode(Nt))}else Tt.push(String.fromCharCode(Nt));return Tt.length>127&&(0,s.warn)(`Name token is longer than allowed by the spec: ${Tt.length}`),bt.Name.get(Tt.join(""))}_hexStringWarn(Nt){this._hexStringNumWarn++!=5?this._hexStringNumWarn>5||(0,s.warn)(`getHexString - ignoring invalid character: ${Nt}`):(0,s.warn)("getHexString - ignoring additional invalid characters.")}getHexString(){const Nt=this.strBuf;Nt.length=0;let Pt,Tt,Et=this.currentChar,rt=!0;for(this._hexStringNumWarn=0;;){if(Et<0){(0,s.warn)("Unterminated hex string");break}if(Et===62){this.nextChar();break}if(tt[Et]!==1){if(rt){if(Pt=ot(Et),Pt===-1){this._hexStringWarn(Et),Et=this.nextChar();continue}}else{if(Tt=ot(Et),Tt===-1){this._hexStringWarn(Et),Et=this.nextChar();continue}Nt.push(String.fromCharCode(Pt<<4|Tt))}rt=!rt,Et=this.nextChar()}else Et=this.nextChar()}return Nt.join("")}getObj(){let Nt=!1,Pt=this.currentChar;for(;;){if(Pt<0)return bt.EOF;if(Nt)Pt!==10&&Pt!==13||(Nt=!1);else if(Pt===37)Nt=!0;else if(tt[Pt]!==1)break;Pt=this.nextChar()}switch(0|Pt){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),bt.Cmd.get("[");case 93:return this.nextChar(),bt.Cmd.get("]");case 60:return Pt=this.nextChar(),Pt===60?(this.nextChar(),bt.Cmd.get("<<")):this.getHexString();case 62:return Pt=this.nextChar(),Pt===62?(this.nextChar(),bt.Cmd.get(">>")):bt.Cmd.get(">");case 123:return this.nextChar(),bt.Cmd.get("{");case 125:return this.nextChar(),bt.Cmd.get("}");case 41:throw this.nextChar(),new s.FormatError(`Illegal character: ${Pt}`)}let Tt=String.fromCharCode(Pt);if(Pt<32||Pt>127){const ft=this.peekChar();if(ft>=32&&ft<=127)return this.nextChar(),bt.Cmd.get(Tt)}const Et=this.knownCommands;let rt=(Et==null?void 0:Et[Tt])!==void 0;for(;(Pt=this.nextChar())>=0&&!tt[Pt];){const ft=Tt+String.fromCharCode(Pt);if(rt&&Et[ft]===void 0)break;if(Tt.length===128)throw new s.FormatError(`Command token too long: ${Tt.length}`);Tt=ft,rt=(Et==null?void 0:Et[Tt])!==void 0}return Tt==="true"?!0:Tt==="false"?!1:Tt==="null"?null:(Tt==="BI"&&(this.beginInlineImagePos=this.stream.pos),bt.Cmd.get(Tt))}skipToNextLine(){let Nt=this.currentChar;for(;Nt>=0;){if(Nt===13){Nt=this.nextChar(),Nt===10&&this.nextChar();break}if(Nt===10){this.nextChar();break}Nt=this.nextChar()}}}$.Lexer=mt,$.Linearization=class{static create(Nt){function Pt(Ot,kt,st=!1){const nt=Ot.get(kt);if(Number.isInteger(nt)&&(st?nt>=0:nt>0))return nt;throw new Error(`The "${kt}" parameter in the linearization dictionary is invalid.`)}const Tt=new it({lexer:new mt(Nt),xref:null}),Et=Tt.getObj(),rt=Tt.getObj(),ft=Tt.getObj(),wt=Tt.getObj();let b,pt;if(!(Number.isInteger(Et)&&Number.isInteger(rt)&&(0,bt.isCmd)(ft,"obj")&&wt instanceof bt.Dict&&typeof(b=wt.get("Linearized"))=="number"&&b>0))return null;if((pt=Pt(wt,"L"))!==Nt.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:pt,hints:function(kt){const st=kt.get("H");let nt;if(Array.isArray(st)&&((nt=st.length)===2||nt===4)){for(let gt=0;gt<nt;gt++){const Ft=st[gt];if(!(Number.isInteger(Ft)&&Ft>0))throw new Error(`Hint (${gt}) in the linearization dictionary is invalid.`)}return st}throw new Error("Hint array in the linearization dictionary is invalid.")}(wt),objectNumberFirst:Pt(wt,"O"),endFirst:Pt(wt,"E"),numPages:Pt(wt,"N"),mainXRefEntriesOffset:Pt(wt,"T"),pageFirst:wt.has("P")?Pt(wt,"P",!0):0}}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Ascii85Stream=void 0;var s=_t(18),bt=_t(3);class St extends s.DecodeStream{constructor(i,d){d&&(d*=.8),super(d),this.str=i,this.dict=i.dict,this.input=new Uint8Array(5)}readBlock(){const i=this.str;let d=i.getByte();for(;(0,bt.isWhiteSpace)(d);)d=i.getByte();if(d===-1||d===126){this.eof=!0;return}const ut=this.bufferLength;let dt,et;if(d===122){for(dt=this.ensureBuffer(ut+4),et=0;et<4;++et)dt[ut+et]=0;this.bufferLength+=4}else{const _=this.input;for(_[0]=d,et=1;et<5;++et){for(d=i.getByte();(0,bt.isWhiteSpace)(d);)d=i.getByte();if(_[et]=d,d===-1||d===126)break}if(dt=this.ensureBuffer(ut+et-1),this.bufferLength+=et-1,et<5){for(;et<5;++et)_[et]=117;this.eof=!0}let c=0;for(et=0;et<5;++et)c=85*c+(_[et]-33);for(et=3;et>=0;--et)dt[ut+et]=255&c,c>>=8}}}$.Ascii85Stream=St},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StreamsSequenceStream=$.DecodeStream=void 0;var s=_t(5),bt=_t(8);const St=new Uint8Array(0);class e extends s.BaseStream{constructor(d){if(super(),this._rawMinBufferLength=d||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=St,this.minBufferLength=512,d)for(;this.minBufferLength<d;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(d){const ut=this.buffer;if(d<=ut.byteLength)return ut;let dt=this.minBufferLength;for(;dt<d;)dt*=2;const et=new Uint8Array(dt);return et.set(ut),this.buffer=et}getByte(){const d=this.pos;for(;this.bufferLength<=d;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(d){const ut=this.pos;let dt;if(d){for(this.ensureBuffer(ut+d),dt=ut+d;!this.eof&&this.bufferLength<dt;)this.readBlock();const et=this.bufferLength;dt>et&&(dt=et)}else{for(;!this.eof;)this.readBlock();dt=this.bufferLength}return this.pos=dt,this.buffer.subarray(ut,dt)}reset(){this.pos=0}makeSubStream(d,ut,dt=null){if(ut===void 0)for(;!this.eof;)this.readBlock();else{const et=d+ut;for(;this.bufferLength<=et&&!this.eof;)this.readBlock()}return new bt.Stream(this.buffer,d,ut,dt)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}$.DecodeStream=e,$.StreamsSequenceStream=class extends e{constructor(d,ut=null){let dt=0;for(const et of d)dt+=et instanceof e?et._rawMinBufferLength:et.length;super(dt),this.streams=d,this._onError=ut}readBlock(){var c;const d=this.streams;if(d.length===0){this.eof=!0;return}const ut=d.shift();let dt;try{dt=ut.getBytes()}catch(lt){if(this._onError){this._onError(lt,(c=ut.dict)==null?void 0:c.objId);return}throw lt}const et=this.bufferLength,_=et+dt.length;this.ensureBuffer(_).set(dt,et),this.bufferLength=_}getBaseStreams(){const d=[];for(const ut of this.streams){const dt=ut.getBaseStreams();dt&&d.push(...dt)}return d.length>0?d:null}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.AsciiHexStream=void 0;var s=_t(18);class bt extends s.DecodeStream{constructor(e,i){i&&(i*=.5),super(i),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const e=this.str.getBytes(8e3);if(!e.length){this.eof=!0;return}const i=e.length+1>>1,d=this.ensureBuffer(this.bufferLength+i);let ut=this.bufferLength,dt=this.firstDigit;for(const et of e){let _;if(et>=48&&et<=57)_=15&et;else{if(!(et>=65&&et<=70||et>=97&&et<=102)){if(et===62){this.eof=!0;break}continue}_=9+(15&et)}dt<0?dt=_:(d[ut++]=dt<<4|_,dt=-1)}dt>=0&&this.eof&&(d[ut++]=dt<<4,dt=-1),this.firstDigit=dt,this.bufferLength=ut}}$.AsciiHexStream=bt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CCITTFaxStream=void 0;var s=_t(21),bt=_t(18),St=_t(4);class e extends bt.DecodeStream{constructor(d,ut,dt){super(ut),this.str=d,this.dict=d.dict,dt instanceof St.Dict||(dt=St.Dict.empty);const et={next:()=>d.getByte()};this.ccittFaxDecoder=new s.CCITTFaxDecoder(et,{K:dt.get("K"),EndOfLine:dt.get("EndOfLine"),EncodedByteAlign:dt.get("EncodedByteAlign"),Columns:dt.get("Columns"),Rows:dt.get("Rows"),EndOfBlock:dt.get("EndOfBlock"),BlackIs1:dt.get("BlackIs1")})}readBlock(){for(;!this.eof;){const d=this.ccittFaxDecoder.readNextChar();if(d===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=d}}}$.CCITTFaxStream=e},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CCITTFaxDecoder=void 0;var s=_t(2);const bt=-1,St=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],e=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],i=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],d=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],ut=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],dt=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];$.CCITTFaxDecoder=class{constructor(_,c={}){if(!_||typeof _.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=_,this.eof=!1,this.encoding=c.K||0,this.eoline=c.EndOfLine||!1,this.byteAlign=c.EncodedByteAlign||!1,this.columns=c.Columns||1728,this.rows=c.Rows||0,this.eoblock=c.EndOfBlock??!0,this.black=c.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let lt;for(;(lt=this._lookBits(12))===0;)this._eatBits(1);lt===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const _=this.refLine,c=this.codingLine,lt=this.columns;let at,ct,it,tt,ot;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let mt,Ct,Nt;if(this.nextLine2D){for(tt=0;c[tt]<lt;++tt)_[tt]=c[tt];for(_[tt++]=lt,_[tt]=lt,c[0]=0,this.codingPos=0,at=0,ct=0;c[this.codingPos]<lt;)switch(mt=this._getTwoDimCode(),mt){case 0:this._addPixels(_[at+1],ct),_[at+1]<lt&&(at+=2);break;case 1:if(mt=Ct=0,ct){do mt+=Nt=this._getBlackCode();while(Nt>=64);do Ct+=Nt=this._getWhiteCode();while(Nt>=64)}else{do mt+=Nt=this._getWhiteCode();while(Nt>=64);do Ct+=Nt=this._getBlackCode();while(Nt>=64)}for(this._addPixels(c[this.codingPos]+mt,ct),c[this.codingPos]<lt&&this._addPixels(c[this.codingPos]+Ct,1^ct);_[at]<=c[this.codingPos]&&_[at]<lt;)at+=2;break;case 7:if(this._addPixels(_[at]+3,ct),ct^=1,c[this.codingPos]<lt)for(++at;_[at]<=c[this.codingPos]&&_[at]<lt;)at+=2;break;case 5:if(this._addPixels(_[at]+2,ct),ct^=1,c[this.codingPos]<lt)for(++at;_[at]<=c[this.codingPos]&&_[at]<lt;)at+=2;break;case 3:if(this._addPixels(_[at]+1,ct),ct^=1,c[this.codingPos]<lt)for(++at;_[at]<=c[this.codingPos]&&_[at]<lt;)at+=2;break;case 2:if(this._addPixels(_[at],ct),ct^=1,c[this.codingPos]<lt)for(++at;_[at]<=c[this.codingPos]&&_[at]<lt;)at+=2;break;case 8:if(this._addPixelsNeg(_[at]-3,ct),ct^=1,c[this.codingPos]<lt)for(at>0?--at:++at;_[at]<=c[this.codingPos]&&_[at]<lt;)at+=2;break;case 6:if(this._addPixelsNeg(_[at]-2,ct),ct^=1,c[this.codingPos]<lt)for(at>0?--at:++at;_[at]<=c[this.codingPos]&&_[at]<lt;)at+=2;break;case 4:if(this._addPixelsNeg(_[at]-1,ct),ct^=1,c[this.codingPos]<lt)for(at>0?--at:++at;_[at]<=c[this.codingPos]&&_[at]<lt;)at+=2;break;case bt:this._addPixels(lt,0),this.eof=!0;break;default:(0,s.info)("bad 2d code"),this._addPixels(lt,0),this.err=!0}}else for(c[0]=0,this.codingPos=0,ct=0;c[this.codingPos]<lt;){if(mt=0,ct)do mt+=Nt=this._getBlackCode();while(Nt>=64);else do mt+=Nt=this._getWhiteCode();while(Nt>=64);this._addPixels(c[this.codingPos]+mt,ct),ct^=1}let Pt=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(mt=this._lookBits(12),this.eoline)for(;mt!==bt&&mt!==1;)this._eatBits(1),mt=this._lookBits(12);else for(;mt===0;)this._eatBits(1),mt=this._lookBits(12);mt===1?(this._eatBits(12),Pt=!0):mt===bt&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&Pt&&this.byteAlign){if(mt=this._lookBits(12),mt===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(tt=0;tt<4;++tt)mt=this._lookBits(12),mt!==1&&(0,s.info)("bad rtc code: "+mt),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(mt=this._lookBits(13),mt===bt)return this.eof=!0,-1;if(mt>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&mt))}this.outputBits=c[0]>0?c[this.codingPos=0]:c[this.codingPos=1],this.row++}if(this.outputBits>=8)ot=1&this.codingPos?0:255,this.outputBits-=8,this.outputBits===0&&c[this.codingPos]<lt&&(this.codingPos++,this.outputBits=c[this.codingPos]-c[this.codingPos-1]);else{it=8,ot=0;do{if(typeof this.outputBits!="number")throw new s.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>it?(ot<<=it,1&this.codingPos||(ot|=255>>8-it),this.outputBits-=it,it=0):(ot<<=this.outputBits,1&this.codingPos||(ot|=255>>8-this.outputBits),it-=this.outputBits,this.outputBits=0,c[this.codingPos]<lt?(this.codingPos++,this.outputBits=c[this.codingPos]-c[this.codingPos-1]):it>0&&(ot<<=it,it=0))}while(it)}return this.black&&(ot^=255),ot}_addPixels(_,c){const lt=this.codingLine;let at=this.codingPos;_>lt[at]&&(_>this.columns&&((0,s.info)("row is wrong length"),this.err=!0,_=this.columns),1&at^c&&++at,lt[at]=_),this.codingPos=at}_addPixelsNeg(_,c){const lt=this.codingLine;let at=this.codingPos;if(_>lt[at])_>this.columns&&((0,s.info)("row is wrong length"),this.err=!0,_=this.columns),1&at^c&&++at,lt[at]=_;else if(_<lt[at]){for(_<0&&((0,s.info)("invalid code"),this.err=!0,_=0);at>0&&_<lt[at-1];)--at;lt[at]=_}this.codingPos=at}_findTableCode(_,c,lt,at){const ct=at||0;for(let it=_;it<=c;++it){let tt=this._lookBits(it);if(tt===bt)return[!0,1,!1];if(it<c&&(tt<<=c-it),!ct||tt>=ct){const ot=lt[tt-ct];if(ot[0]===it)return this._eatBits(it),[!0,ot[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let _,c=0;if(this.eoblock){if(c=this._lookBits(7),_=St[c],(_==null?void 0:_[0])>0)return this._eatBits(_[0]),_[1]}else{const lt=this._findTableCode(1,7,St);if(lt[0]&&lt[2])return lt[1]}return(0,s.info)("Bad two dim code"),bt}_getWhiteCode(){let _,c=0;if(this.eoblock){if(c=this._lookBits(12),c===bt)return 1;if(_=c>>5?i[c>>3]:e[c],_[0]>0)return this._eatBits(_[0]),_[1]}else{let lt=this._findTableCode(1,9,i);if(lt[0]||(lt=this._findTableCode(11,12,e),lt[0]))return lt[1]}return(0,s.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let _,c;if(this.eoblock){if(_=this._lookBits(13),_===bt)return 1;if(c=_>>7?!(_>>9)&&_>>7?ut[(_>>1)-64]:dt[_>>7]:d[_],c[0]>0)return this._eatBits(c[0]),c[1]}else{let lt=this._findTableCode(2,6,dt);if(lt[0]||(lt=this._findTableCode(7,12,ut,64),lt[0])||(lt=this._findTableCode(10,13,d),lt[0]))return lt[1]}return(0,s.info)("bad black code"),this._eatBits(1),1}_lookBits(_){let c;for(;this.inputBits<_;){if((c=this.source.next())===-1)return this.inputBits===0?bt:this.inputBuf<<_-this.inputBits&65535>>16-_;this.inputBuf=this.inputBuf<<8|c,this.inputBits+=8}return this.inputBuf>>this.inputBits-_&65535>>16-_}_eatBits(_){(this.inputBits-=_)<0&&(this.inputBits=0)}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FlateStream=void 0;var s=_t(18),bt=_t(2);const St=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),d=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],ut=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class dt extends s.DecodeStream{constructor(_,c){super(c),this.str=_,this.dict=_.dict;const lt=_.getByte(),at=_.getByte();if(lt===-1||at===-1)throw new bt.FormatError(`Invalid header in flate stream: ${lt}, ${at}`);if((15&lt)!=8)throw new bt.FormatError(`Unknown compression method in flate stream: ${lt}, ${at}`);if(((lt<<8)+at)%31!=0)throw new bt.FormatError(`Bad FCHECK in flate stream: ${lt}, ${at}`);if(32&at)throw new bt.FormatError(`FDICT bit set in flate stream: ${lt}, ${at}`);this.codeSize=0,this.codeBuf=0}getBits(_){const c=this.str;let lt,at=this.codeSize,ct=this.codeBuf;for(;at<_;){if((lt=c.getByte())===-1)throw new bt.FormatError("Bad encoding in flate stream");ct|=lt<<at,at+=8}return lt=ct&(1<<_)-1,this.codeBuf=ct>>_,this.codeSize=at-=_,lt}getCode(_){const c=this.str,lt=_[0],at=_[1];let ct,it=this.codeSize,tt=this.codeBuf;for(;it<at&&(ct=c.getByte())!==-1;)tt|=ct<<it,it+=8;const ot=lt[tt&(1<<at)-1],mt=ot>>16,Ct=65535&ot;if(mt<1||it<mt)throw new bt.FormatError("Bad encoding in flate stream");return this.codeBuf=tt>>mt,this.codeSize=it-mt,Ct}generateHuffmanTable(_){const c=_.length;let lt,at=0;for(lt=0;lt<c;++lt)_[lt]>at&&(at=_[lt]);const ct=1<<at,it=new Int32Array(ct);for(let tt=1,ot=0,mt=2;tt<=at;++tt,ot<<=1,mt<<=1)for(let Ct=0;Ct<c;++Ct)if(_[Ct]===tt){let Nt=0,Pt=ot;for(lt=0;lt<tt;++lt)Nt=Nt<<1|1&Pt,Pt>>=1;for(lt=Nt;lt<ct;lt+=mt)it[lt]=tt<<16|Ct;++ot}return[it,at]}readBlock(){let _,c;const lt=this.str;let at,ct,it=this.getBits(3);if(1&it&&(this.eof=!0),it>>=1,it===0){let mt;if((mt=lt.getByte())===-1)throw new bt.FormatError("Bad block header in flate stream");let Ct=mt;if((mt=lt.getByte())===-1)throw new bt.FormatError("Bad block header in flate stream");if(Ct|=mt<<8,(mt=lt.getByte())===-1)throw new bt.FormatError("Bad block header in flate stream");let Nt=mt;if((mt=lt.getByte())===-1)throw new bt.FormatError("Bad block header in flate stream");if(Nt|=mt<<8,Nt!==(65535&~Ct)&&(Ct!==0||Nt!==0))throw new bt.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const Pt=this.bufferLength,Tt=Pt+Ct;if(_=this.ensureBuffer(Tt),this.bufferLength=Tt,Ct===0)lt.peekByte()===-1&&(this.eof=!0);else{const Et=lt.getBytes(Ct);_.set(Et,Pt),Et.length<Ct&&(this.eof=!0)}return}if(it===1)at=d,ct=ut;else{if(it!==2)throw new bt.FormatError("Unknown block type in flate stream");{const mt=this.getBits(5)+257,Ct=this.getBits(5)+1,Nt=this.getBits(4)+4,Pt=new Uint8Array(St.length);let Tt;for(Tt=0;Tt<Nt;++Tt)Pt[St[Tt]]=this.getBits(3);const Et=this.generateHuffmanTable(Pt);c=0,Tt=0;const rt=mt+Ct,ft=new Uint8Array(rt);let wt,b,pt;for(;Tt<rt;){const Ot=this.getCode(Et);if(Ot===16)wt=2,b=3,pt=c;else if(Ot===17)wt=3,b=3,pt=c=0;else{if(Ot!==18){ft[Tt++]=c=Ot;continue}wt=7,b=11,pt=c=0}let kt=this.getBits(wt)+b;for(;kt-- >0;)ft[Tt++]=pt}at=this.generateHuffmanTable(ft.subarray(0,mt)),ct=this.generateHuffmanTable(ft.subarray(mt,rt))}}_=this.buffer;let tt=_?_.length:0,ot=this.bufferLength;for(;;){let mt=this.getCode(at);if(mt<256){ot+1>=tt&&(_=this.ensureBuffer(ot+1),tt=_.length),_[ot++]=mt;continue}if(mt===256){this.bufferLength=ot;return}mt-=257,mt=e[mt];let Ct=mt>>16;Ct>0&&(Ct=this.getBits(Ct)),c=(65535&mt)+Ct,mt=this.getCode(ct),mt=i[mt],Ct=mt>>16,Ct>0&&(Ct=this.getBits(Ct));const Nt=(65535&mt)+Ct;ot+c>=tt&&(_=this.ensureBuffer(ot+c),tt=_.length);for(let Pt=0;Pt<c;++Pt,++ot)_[ot]=_[ot-Nt]}}}$.FlateStream=dt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Jbig2Stream=void 0;var s=_t(5),bt=_t(18),St=_t(4),e=_t(24),i=_t(2);class d extends bt.DecodeStream{constructor(dt,et,_){super(et),this.stream=dt,this.dict=dt.dict,this.maybeLength=et,this.params=_}get bytes(){return(0,i.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(dt){}readBlock(){if(this.eof)return;const dt=new e.Jbig2Image,et=[];if(this.params instanceof St.Dict){const lt=this.params.get("JBIG2Globals");if(lt instanceof s.BaseStream){const at=lt.getBytes();et.push({data:at,start:0,end:at.length})}}et.push({data:this.bytes,start:0,end:this.bytes.length});const _=dt.parseChunks(et),c=_.length;for(let lt=0;lt<c;lt++)_[lt]^=255;this.buffer=_,this.bufferLength=c,this.eof=!0}}$.Jbig2Stream=d},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Jbig2Image=void 0;var s=_t(2),bt=_t(3),St=_t(25),e=_t(21);class i extends s.BaseException{constructor(vt){super(`JBIG2 error: ${vt}`,"Jbig2Error")}}class d{getContexts(vt){return vt in this?this[vt]:this[vt]=new Int8Array(65536)}}class ut{constructor(vt,Lt,jt){this.data=vt,this.start=Lt,this.end=jt}get decoder(){const vt=new St.ArithmeticDecoder(this.data,this.start,this.end);return(0,s.shadow)(this,"decoder",vt)}get contextCache(){const vt=new d;return(0,s.shadow)(this,"contextCache",vt)}}const dt=2**31-1,et=-2147483648;function _(yt,vt,Lt){const jt=yt.getContexts(vt);let Ht=1;function Vt(Dt){let It=0;for(let j=0;j<Dt;j++){const At=Lt.readBit(jt,Ht);Ht=Ht<256?Ht<<1|At:511&(Ht<<1|At)|256,It=It<<1|At}return It>>>0}const Qt=Vt(1),_e=Vt(1)?Vt(1)?Vt(1)?Vt(1)?Vt(1)?Vt(32)+4436:Vt(12)+340:Vt(8)+84:Vt(6)+20:Vt(4)+4:Vt(2);let Xt;return Qt===0?Xt=_e:_e>0&&(Xt=-_e),Xt>=et&&Xt<=dt?Xt:null}function c(yt,vt,Lt){const jt=yt.getContexts("IAID");let Ht=1;for(let Vt=0;Vt<Lt;Vt++)Ht=Ht<<1|vt.readBit(jt,Ht);return Lt<31?Ht&(1<<Lt)-1:2147483647&Ht}const lt=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],at=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],ct=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],it=[39717,1941,229,405];function tt(yt,vt,Lt,jt,Ht,Vt,Qt,_e){if(yt)return Ft(new st(_e.data,_e.start,_e.end),vt,Lt,!1);if(jt===0&&!Ht&&Qt.length===4&&Qt[0].x===3&&Qt[0].y===-1&&Qt[1].x===-3&&Qt[1].y===-1&&Qt[2].x===2&&Qt[2].y===-2&&Qt[3].x===-2&&Qt[3].y===-2)return function(Nn,ln,rn){const on=rn.decoder,mn=rn.contextCache.getContexts("GB"),gn=[];let dn,Sn,bn,yn,pn,Dn,Tn;for(Sn=0;Sn<ln;Sn++)for(pn=gn[Sn]=new Uint8Array(Nn),Dn=Sn<1?pn:gn[Sn-1],Tn=Sn<2?pn:gn[Sn-2],dn=Tn[0]<<13|Tn[1]<<12|Tn[2]<<11|Dn[0]<<7|Dn[1]<<6|Dn[2]<<5|Dn[3]<<4,bn=0;bn<Nn;bn++)pn[bn]=yn=on.readBit(mn,dn),dn=(31735&dn)<<1|(bn+3<Nn?Tn[bn+3]<<11:0)|(bn+4<Nn?Dn[bn+4]<<4:0)|yn;return gn}(vt,Lt,_e);const Xt=at[jt].concat(Qt);Xt.sort(function(jn,Nn){return jn.y-Nn.y||jn.x-Nn.x});const Dt=Xt.length,It=new Int8Array(Dt),j=new Int8Array(Dt),At=[];let Mt,Rt,$t=0,zt=0,qt=0,Wt=0;for(Rt=0;Rt<Dt;Rt++)It[Rt]=Xt[Rt].x,j[Rt]=Xt[Rt].y,zt=Math.min(zt,Xt[Rt].x),qt=Math.max(qt,Xt[Rt].x),Wt=Math.min(Wt,Xt[Rt].y),Rt<Dt-1&&Xt[Rt].y===Xt[Rt+1].y&&Xt[Rt].x===Xt[Rt+1].x-1?$t|=1<<Dt-1-Rt:At.push(Rt);const Gt=At.length,Zt=new Int8Array(Gt),Yt=new Int8Array(Gt),tn=new Uint16Array(Gt);for(Mt=0;Mt<Gt;Mt++)Rt=At[Mt],Zt[Mt]=Xt[Rt].x,Yt[Mt]=Xt[Rt].y,tn[Mt]=1<<Dt-1-Rt;const nn=-zt,en=-Wt,an=vt-qt,vn=it[jt];let An=new Uint8Array(vt);const cn=[],hn=_e.decoder,fn=_e.contextCache.getContexts("GB");let Cn,kn,Rn,sn,En,Pn=0,Ln=0;for(let jn=0;jn<Lt;jn++){if(Ht&&(Pn^=hn.readBit(fn,vn),Pn)){cn.push(An);continue}for(An=new Uint8Array(An),cn.push(An),Cn=0;Cn<vt;Cn++){if(Cn>=nn&&Cn<an&&jn>=en)for(Ln=Ln<<1&$t,Rt=0;Rt<Gt;Rt++)kn=jn+Yt[Rt],Rn=Cn+Zt[Rt],sn=cn[kn][Rn],sn&&(sn=tn[Rt],Ln|=sn);else for(Ln=0,En=Dt-1,Rt=0;Rt<Dt;Rt++,En--)Rn=Cn+It[Rt],Rn>=0&&Rn<vt&&(kn=jn+j[Rt],kn>=0&&(sn=cn[kn][Rn],sn&&(Ln|=sn<<En)));const Nn=hn.readBit(fn,Ln);An[Cn]=Nn}}return cn}function ot(yt,vt,Lt,jt,Ht,Vt,Qt,_e,Xt){let Dt=ct[Lt].coding;Lt===0&&(Dt=Dt.concat([_e[0]]));const It=Dt.length,j=new Int32Array(It),At=new Int32Array(It);let Mt;for(Mt=0;Mt<It;Mt++)j[Mt]=Dt[Mt].x,At[Mt]=Dt[Mt].y;let Rt=ct[Lt].reference;Lt===0&&(Rt=Rt.concat([_e[1]]));const $t=Rt.length,zt=new Int32Array($t),qt=new Int32Array($t);for(Mt=0;Mt<$t;Mt++)zt[Mt]=Rt[Mt].x,qt[Mt]=Rt[Mt].y;const Wt=jt[0].length,Gt=jt.length,Zt=[],Yt=Xt.decoder,tn=Xt.contextCache.getContexts("GR");for(let nn=0;nn<vt;nn++){const en=new Uint8Array(yt);Zt.push(en);for(let an=0;an<yt;an++){let vn,An,cn=0;for(Mt=0;Mt<It;Mt++)vn=nn+At[Mt],An=an+j[Mt],vn<0||An<0||An>=yt?cn<<=1:cn=cn<<1|Zt[vn][An];for(Mt=0;Mt<$t;Mt++)vn=nn+qt[Mt]-Vt,An=an+zt[Mt]-Ht,vn<0||vn>=Gt||An<0||An>=Wt?cn<<=1:cn=cn<<1|jt[vn][An];const hn=Yt.readBit(tn,cn);en[an]=hn}}return Zt}function mt(yt,vt,Lt,jt,Ht,Vt,Qt,_e,Xt,Dt,It,j,At,Mt,Rt,$t,zt,qt,Wt){if(yt&&vt)throw new i("refinement with Huffman is not supported");const Gt=[];let Zt,Yt;for(Zt=0;Zt<jt;Zt++){if(Yt=new Uint8Array(Lt),Ht)for(let vn=0;vn<Lt;vn++)Yt[vn]=Ht;Gt.push(Yt)}const tn=zt.decoder,nn=zt.contextCache;let en=yt?-Mt.tableDeltaT.decode(Wt):-_(nn,"IADT",tn),an=0;for(Zt=0;Zt<Vt;){en+=yt?Mt.tableDeltaT.decode(Wt):_(nn,"IADT",tn),an+=yt?Mt.tableFirstS.decode(Wt):_(nn,"IAFS",tn);let vn=an;for(;;){let An=0;Qt>1&&(An=yt?Wt.readBits(qt):_(nn,"IAIT",tn));const cn=Qt*en+An,hn=yt?Mt.symbolIDTable.decode(Wt):c(nn,tn,Xt),fn=vt&&(yt?Wt.readBit():_(nn,"IARI",tn));let Cn=_e[hn],kn=Cn[0].length,Rn=Cn.length;if(fn){const ln=_(nn,"IARDW",tn),rn=_(nn,"IARDH",tn);kn+=ln,Rn+=rn,Cn=ot(kn,Rn,Rt,Cn,(ln>>1)+_(nn,"IARDX",tn),(rn>>1)+_(nn,"IARDY",tn),!1,$t,zt)}const sn=cn-(1&j?0:Rn-1),En=vn-(2&j?kn-1:0);let Pn,Ln,jn;if(Dt){for(Pn=0;Pn<Rn;Pn++){if(Yt=Gt[En+Pn],!Yt)continue;jn=Cn[Pn];const ln=Math.min(Lt-sn,kn);switch(At){case 0:for(Ln=0;Ln<ln;Ln++)Yt[sn+Ln]|=jn[Ln];break;case 2:for(Ln=0;Ln<ln;Ln++)Yt[sn+Ln]^=jn[Ln];break;default:throw new i(`operator ${At} is not supported`)}}vn+=Rn-1}else{for(Ln=0;Ln<Rn;Ln++)if(Yt=Gt[sn+Ln],Yt)switch(jn=Cn[Ln],At){case 0:for(Pn=0;Pn<kn;Pn++)Yt[En+Pn]|=jn[Pn];break;case 2:for(Pn=0;Pn<kn;Pn++)Yt[En+Pn]^=jn[Pn];break;default:throw new i(`operator ${At} is not supported`)}vn+=kn-1}Zt++;const Nn=yt?Mt.tableDeltaS.decode(Wt):_(nn,"IADS",tn);if(Nn===null)break;vn+=Nn+It}}return Gt}function Ct(yt,vt){const Lt={};Lt.number=(0,bt.readUint32)(yt,vt);const jt=yt[vt+4],Ht=63&jt;if(!lt[Ht])throw new i("invalid segment type: "+Ht);Lt.type=Ht,Lt.typeName=lt[Ht],Lt.deferredNonRetain=!!(128&jt);const Vt=!!(64&jt),Qt=yt[vt+5];let _e=Qt>>5&7;const Xt=[31&Qt];let Dt=vt+6;if(Qt===7){_e=536870911&(0,bt.readUint32)(yt,Dt-1),Dt+=3;let Rt=_e+7>>3;for(Xt[0]=yt[Dt++];--Rt>0;)Xt.push(yt[Dt++])}else if(Qt===5||Qt===6)throw new i("invalid referred-to flags");Lt.retainBits=Xt;let It=4;Lt.number<=256?It=1:Lt.number<=65536&&(It=2);const j=[];let At,Mt;for(At=0;At<_e;At++){let Rt;Rt=It===1?yt[Dt]:It===2?(0,bt.readUint16)(yt,Dt):(0,bt.readUint32)(yt,Dt),j.push(Rt),Dt+=It}if(Lt.referredTo=j,Vt?(Lt.pageAssociation=(0,bt.readUint32)(yt,Dt),Dt+=4):Lt.pageAssociation=yt[Dt++],Lt.length=(0,bt.readUint32)(yt,Dt),Dt+=4,Lt.length===4294967295){if(Ht!==38)throw new i("invalid unknown segment length");{const Rt=Pt(yt,Dt),$t=!!(1&yt[Dt+Tt]),zt=6,qt=new Uint8Array(zt);for($t||(qt[0]=255,qt[1]=172),qt[2]=Rt.height>>>24&255,qt[3]=Rt.height>>16&255,qt[4]=Rt.height>>8&255,qt[5]=255&Rt.height,At=Dt,Mt=yt.length;At<Mt;At++){let Wt=0;for(;Wt<zt&&qt[Wt]===yt[At+Wt];)Wt++;if(Wt===zt){Lt.length=At+zt;break}}if(Lt.length===4294967295)throw new i("segment end was not found")}}return Lt.headerEnd=Dt,Lt}function Nt(yt,vt,Lt,jt){const Ht=[];let Vt=Lt;for(;Vt<jt;){const Qt=Ct(vt,Vt);Vt=Qt.headerEnd;const _e={header:Qt,data:vt};if(yt.randomAccess||(_e.start=Vt,Vt+=Qt.length,_e.end=Vt),Ht.push(_e),Qt.type===51)break}if(yt.randomAccess)for(let Qt=0,_e=Ht.length;Qt<_e;Qt++)Ht[Qt].start=Vt,Vt+=Ht[Qt].header.length,Ht[Qt].end=Vt;return Ht}function Pt(yt,vt){return{width:(0,bt.readUint32)(yt,vt),height:(0,bt.readUint32)(yt,vt+4),x:(0,bt.readUint32)(yt,vt+8),y:(0,bt.readUint32)(yt,vt+12),combinationOperator:7&yt[vt+16]}}const Tt=17;function Et(yt,vt){const Lt=yt.header,jt=yt.data,Ht=yt.end;let Vt,Qt,_e,Xt,Dt=yt.start;switch(Lt.type){case 0:const j={},At=(0,bt.readUint16)(jt,Dt);if(j.huffman=!!(1&At),j.refinement=!!(2&At),j.huffmanDHSelector=At>>2&3,j.huffmanDWSelector=At>>4&3,j.bitmapSizeSelector=At>>6&1,j.aggregationInstancesSelector=At>>7&1,j.bitmapCodingContextUsed=!!(256&At),j.bitmapCodingContextRetained=!!(512&At),j.template=At>>10&3,j.refinementTemplate=At>>12&1,Dt+=2,!j.huffman){for(Xt=j.template===0?4:1,Qt=[],_e=0;_e<Xt;_e++)Qt.push({x:(0,bt.readInt8)(jt,Dt),y:(0,bt.readInt8)(jt,Dt+1)}),Dt+=2;j.at=Qt}if(j.refinement&&!j.refinementTemplate){for(Qt=[],_e=0;_e<2;_e++)Qt.push({x:(0,bt.readInt8)(jt,Dt),y:(0,bt.readInt8)(jt,Dt+1)}),Dt+=2;j.refinementAt=Qt}j.numberOfExportedSymbols=(0,bt.readUint32)(jt,Dt),Dt+=4,j.numberOfNewSymbols=(0,bt.readUint32)(jt,Dt),Dt+=4,Vt=[j,Lt.number,Lt.referredTo,jt,Dt,Ht];break;case 6:case 7:const Mt={};Mt.info=Pt(jt,Dt),Dt+=Tt;const Rt=(0,bt.readUint16)(jt,Dt);if(Dt+=2,Mt.huffman=!!(1&Rt),Mt.refinement=!!(2&Rt),Mt.logStripSize=Rt>>2&3,Mt.stripSize=1<<Mt.logStripSize,Mt.referenceCorner=Rt>>4&3,Mt.transposed=!!(64&Rt),Mt.combinationOperator=Rt>>7&3,Mt.defaultPixelValue=Rt>>9&1,Mt.dsOffset=Rt<<17>>27,Mt.refinementTemplate=Rt>>15&1,Mt.huffman){const nn=(0,bt.readUint16)(jt,Dt);Dt+=2,Mt.huffmanFS=3&nn,Mt.huffmanDS=nn>>2&3,Mt.huffmanDT=nn>>4&3,Mt.huffmanRefinementDW=nn>>6&3,Mt.huffmanRefinementDH=nn>>8&3,Mt.huffmanRefinementDX=nn>>10&3,Mt.huffmanRefinementDY=nn>>12&3,Mt.huffmanRefinementSizeSelector=!!(16384&nn)}if(Mt.refinement&&!Mt.refinementTemplate){for(Qt=[],_e=0;_e<2;_e++)Qt.push({x:(0,bt.readInt8)(jt,Dt),y:(0,bt.readInt8)(jt,Dt+1)}),Dt+=2;Mt.refinementAt=Qt}Mt.numberOfSymbolInstances=(0,bt.readUint32)(jt,Dt),Dt+=4,Vt=[Mt,Lt.referredTo,jt,Dt,Ht];break;case 16:const $t={},zt=jt[Dt++];$t.mmr=!!(1&zt),$t.template=zt>>1&3,$t.patternWidth=jt[Dt++],$t.patternHeight=jt[Dt++],$t.maxPatternIndex=(0,bt.readUint32)(jt,Dt),Dt+=4,Vt=[$t,Lt.number,jt,Dt,Ht];break;case 22:case 23:const qt={};qt.info=Pt(jt,Dt),Dt+=Tt;const Wt=jt[Dt++];qt.mmr=!!(1&Wt),qt.template=Wt>>1&3,qt.enableSkip=!!(8&Wt),qt.combinationOperator=Wt>>4&7,qt.defaultPixelValue=Wt>>7&1,qt.gridWidth=(0,bt.readUint32)(jt,Dt),Dt+=4,qt.gridHeight=(0,bt.readUint32)(jt,Dt),Dt+=4,qt.gridOffsetX=4294967295&(0,bt.readUint32)(jt,Dt),Dt+=4,qt.gridOffsetY=4294967295&(0,bt.readUint32)(jt,Dt),Dt+=4,qt.gridVectorX=(0,bt.readUint16)(jt,Dt),Dt+=2,qt.gridVectorY=(0,bt.readUint16)(jt,Dt),Dt+=2,Vt=[qt,Lt.referredTo,jt,Dt,Ht];break;case 38:case 39:const Gt={};Gt.info=Pt(jt,Dt),Dt+=Tt;const Zt=jt[Dt++];if(Gt.mmr=!!(1&Zt),Gt.template=Zt>>1&3,Gt.prediction=!!(8&Zt),!Gt.mmr){for(Xt=Gt.template===0?4:1,Qt=[],_e=0;_e<Xt;_e++)Qt.push({x:(0,bt.readInt8)(jt,Dt),y:(0,bt.readInt8)(jt,Dt+1)}),Dt+=2;Gt.at=Qt}Vt=[Gt,jt,Dt,Ht];break;case 48:const Yt={width:(0,bt.readUint32)(jt,Dt),height:(0,bt.readUint32)(jt,Dt+4),resolutionX:(0,bt.readUint32)(jt,Dt+8),resolutionY:(0,bt.readUint32)(jt,Dt+12)};Yt.height===4294967295&&delete Yt.height;const tn=jt[Dt+16];(0,bt.readUint16)(jt,Dt+17),Yt.lossless=!!(1&tn),Yt.refinement=!!(2&tn),Yt.defaultPixelValue=tn>>2&1,Yt.combinationOperator=tn>>3&3,Yt.requiresBuffer=!!(32&tn),Yt.combinationOperatorOverride=!!(64&tn),Vt=[Yt];break;case 49:case 50:case 51:case 62:break;case 53:Vt=[Lt.number,jt,Dt,Ht];break;default:throw new i(`segment type ${Lt.typeName}(${Lt.type}) is not implemented`)}const It="on"+Lt.typeName;It in vt&&vt[It].apply(vt,Vt)}function rt(yt,vt){for(let Lt=0,jt=yt.length;Lt<jt;Lt++)Et(yt[Lt],vt)}class ft{onPageInformation(vt){this.currentPageInfo=vt;const Lt=vt.width+7>>3,jt=new Uint8ClampedArray(Lt*vt.height);vt.defaultPixelValue&&jt.fill(255),this.buffer=jt}drawBitmap(vt,Lt){const jt=this.currentPageInfo,Ht=vt.width,Vt=vt.height,Qt=jt.width+7>>3,_e=jt.combinationOperatorOverride?vt.combinationOperator:jt.combinationOperator,Xt=this.buffer,Dt=128>>(7&vt.x);let It,j,At,Mt,Rt=vt.y*Qt+(vt.x>>3);switch(_e){case 0:for(It=0;It<Vt;It++){for(At=Dt,Mt=Rt,j=0;j<Ht;j++)Lt[It][j]&&(Xt[Mt]|=At),At>>=1,At||(At=128,Mt++);Rt+=Qt}break;case 2:for(It=0;It<Vt;It++){for(At=Dt,Mt=Rt,j=0;j<Ht;j++)Lt[It][j]&&(Xt[Mt]^=At),At>>=1,At||(At=128,Mt++);Rt+=Qt}break;default:throw new i(`operator ${_e} is not supported`)}}onImmediateGenericRegion(vt,Lt,jt,Ht){const Vt=vt.info,Qt=new ut(Lt,jt,Ht),_e=tt(vt.mmr,Vt.width,Vt.height,vt.template,vt.prediction,null,vt.at,Qt);this.drawBitmap(Vt,_e)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(vt,Lt,jt,Ht,Vt,Qt){let _e,Xt;vt.huffman&&(_e=function(Mt,Rt,$t){let zt,qt,Wt,Gt,Zt=0;switch(Mt.huffmanDHSelector){case 0:case 1:zt=kt(Mt.huffmanDHSelector+4);break;case 3:zt=nt(Zt,Rt,$t),Zt++;break;default:throw new i("invalid Huffman DH selector")}switch(Mt.huffmanDWSelector){case 0:case 1:qt=kt(Mt.huffmanDWSelector+2);break;case 3:qt=nt(Zt,Rt,$t),Zt++;break;default:throw new i("invalid Huffman DW selector")}return Mt.bitmapSizeSelector?(Wt=nt(Zt,Rt,$t),Zt++):Wt=kt(1),Gt=Mt.aggregationInstancesSelector?nt(Zt,Rt,$t):kt(1),{tableDeltaHeight:zt,tableDeltaWidth:qt,tableBitmapSize:Wt,tableAggregateInstances:Gt}}(vt,jt,this.customTables),Xt=new st(Ht,Vt,Qt));let Dt=this.symbols;Dt||(this.symbols=Dt={});const It=[];for(const At of jt){const Mt=Dt[At];Mt&&It.push(...Mt)}const j=new ut(Ht,Vt,Qt);Dt[Lt]=function(Mt,Rt,$t,zt,qt,Wt,Gt,Zt,Yt,tn,nn,en){if(Mt&&Rt)throw new i("symbol refinement with Huffman is not supported");const an=[];let vn=0,An=(0,bt.log2)($t.length+zt);const cn=nn.decoder,hn=nn.contextCache;let fn,Cn;for(Mt&&(fn=kt(1),Cn=[],An=Math.max(An,1));an.length<zt;){vn+=Mt?Wt.tableDeltaHeight.decode(en):_(hn,"IADH",cn);let jn=0,Nn=0;const ln=Mt?Cn.length:0;for(;;){const rn=Mt?Wt.tableDeltaWidth.decode(en):_(hn,"IADW",cn);if(rn===null)break;jn+=rn,Nn+=jn;let on;if(Rt){const mn=_(hn,"IAAI",cn);if(mn>1)on=mt(Mt,Rt,jn,vn,0,mn,1,$t.concat(an),An,0,0,1,0,Wt,Yt,tn,nn,0,en);else{const gn=c(hn,cn,An),dn=_(hn,"IARDX",cn),Sn=_(hn,"IARDY",cn);on=ot(jn,vn,Yt,gn<$t.length?$t[gn]:an[gn-$t.length],dn,Sn,!1,tn,nn)}an.push(on)}else Mt?Cn.push(jn):(on=tt(!1,jn,vn,Gt,!1,null,Zt,nn),an.push(on))}if(Mt&&!Rt){const rn=Wt.tableBitmapSize.decode(en);en.byteAlign();let on;if(rn===0)on=gt(en,Nn,vn);else{const gn=en.end,dn=en.position+rn;en.end=dn,on=Ft(en,Nn,vn,!1),en.end=gn,en.position=dn}const mn=Cn.length;if(ln===mn-1)an.push(on);else{let gn,dn,Sn,bn,yn,pn=0;for(gn=ln;gn<mn;gn++){for(bn=Cn[gn],Sn=pn+bn,yn=[],dn=0;dn<vn;dn++)yn.push(on[dn].subarray(pn,Sn));an.push(yn),pn=Sn}}}}const kn=[],Rn=[];let sn,En,Pn=!1;const Ln=$t.length+zt;for(;Rn.length<Ln;){let jn=Mt?fn.decode(en):_(hn,"IAEX",cn);for(;jn--;)Rn.push(Pn);Pn=!Pn}for(sn=0,En=$t.length;sn<En;sn++)Rn[sn]&&kn.push($t[sn]);for(let jn=0;jn<zt;sn++,jn++)Rn[sn]&&kn.push(an[jn]);return kn}(vt.huffman,vt.refinement,It,vt.numberOfNewSymbols,vt.numberOfExportedSymbols,_e,vt.template,vt.at,vt.refinementTemplate,vt.refinementAt,j,Xt)}onImmediateTextRegion(vt,Lt,jt,Ht,Vt){const Qt=vt.info;let _e,Xt;const Dt=this.symbols,It=[];for(const Rt of Lt){const $t=Dt[Rt];$t&&It.push(...$t)}const j=(0,bt.log2)(It.length);vt.huffman&&(Xt=new st(jt,Ht,Vt),_e=function($t,zt,qt,Wt,Gt){const Zt=[];for(let An=0;An<=34;An++){const cn=Gt.readBits(4);Zt.push(new wt([An,cn,0,0]))}const Yt=new pt(Zt,!1);Zt.length=0;for(let An=0;An<Wt;){const cn=Yt.decode(Gt);if(cn>=32){let hn,fn,Cn;switch(cn){case 32:if(An===0)throw new i("no previous value in symbol ID table");fn=Gt.readBits(2)+3,hn=Zt[An-1].prefixLength;break;case 33:fn=Gt.readBits(3)+3,hn=0;break;case 34:fn=Gt.readBits(7)+11,hn=0;break;default:throw new i("invalid code length in symbol ID table")}for(Cn=0;Cn<fn;Cn++)Zt.push(new wt([An,hn,0,0])),An++}else Zt.push(new wt([An,cn,0,0])),An++}Gt.byteAlign();const tn=new pt(Zt,!1);let nn,en,an,vn=0;switch($t.huffmanFS){case 0:case 1:nn=kt($t.huffmanFS+6);break;case 3:nn=nt(vn,zt,qt),vn++;break;default:throw new i("invalid Huffman FS selector")}switch($t.huffmanDS){case 0:case 1:case 2:en=kt($t.huffmanDS+8);break;case 3:en=nt(vn,zt,qt),vn++;break;default:throw new i("invalid Huffman DS selector")}switch($t.huffmanDT){case 0:case 1:case 2:an=kt($t.huffmanDT+11);break;case 3:an=nt(vn,zt,qt),vn++;break;default:throw new i("invalid Huffman DT selector")}if($t.refinement)throw new i("refinement with Huffman is not supported");return{symbolIDTable:tn,tableFirstS:nn,tableDeltaS:en,tableDeltaT:an}}(vt,Lt,this.customTables,It.length,Xt));const At=new ut(jt,Ht,Vt),Mt=mt(vt.huffman,vt.refinement,Qt.width,Qt.height,vt.defaultPixelValue,vt.numberOfSymbolInstances,vt.stripSize,It,j,vt.transposed,vt.dsOffset,vt.referenceCorner,vt.combinationOperator,_e,vt.refinementTemplate,vt.refinementAt,At,vt.logStripSize,Xt);this.drawBitmap(Qt,Mt)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(vt,Lt,jt,Ht,Vt){let Qt=this.patterns;Qt||(this.patterns=Qt={});const _e=new ut(jt,Ht,Vt);Qt[Lt]=function(Dt,It,j,At,Mt,Rt){const $t=[];Dt||($t.push({x:-It,y:0}),Mt===0&&$t.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const zt=tt(Dt,(At+1)*It,j,Mt,!1,null,$t,Rt),qt=[];for(let Wt=0;Wt<=At;Wt++){const Gt=[],Zt=It*Wt,Yt=Zt+It;for(let tn=0;tn<j;tn++)Gt.push(zt[tn].subarray(Zt,Yt));qt.push(Gt)}return qt}(vt.mmr,vt.patternWidth,vt.patternHeight,vt.maxPatternIndex,vt.template,_e)}onImmediateHalftoneRegion(vt,Lt,jt,Ht,Vt){const Qt=this.patterns[Lt[0]],_e=vt.info,Xt=new ut(jt,Ht,Vt),Dt=function(j,At,Mt,Rt,$t,zt,qt,Wt,Gt,Zt,Yt,tn,nn,en,an){if(qt)throw new i("skip is not supported");if(Wt!==0)throw new i(`operator "${Wt}" is not supported in halftone region`);const vn=[];let An,cn,hn;for(An=0;An<$t;An++){if(hn=new Uint8Array(Rt),zt)for(cn=0;cn<Rt;cn++)hn[cn]=zt;vn.push(hn)}const fn=At.length,Cn=At[0],kn=Cn[0].length,Rn=Cn.length,sn=(0,bt.log2)(fn),En=[];j||(En.push({x:Mt<=1?3:2,y:-1}),Mt===0&&En.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Pn=[];let Ln,jn,Nn,ln,rn,on,mn,gn,dn,Sn,bn;for(j&&(Ln=new st(an.data,an.start,an.end)),An=sn-1;An>=0;An--)jn=j?Ft(Ln,Gt,Zt,!0):tt(!1,Gt,Zt,Mt,!1,null,En,an),Pn[An]=jn;for(Nn=0;Nn<Zt;Nn++)for(ln=0;ln<Gt;ln++){for(rn=0,on=0,cn=sn-1;cn>=0;cn--)rn^=Pn[cn][Nn][ln],on|=rn<<cn;if(mn=At[on],gn=Yt+Nn*en+ln*nn>>8,dn=tn+Nn*nn-ln*en>>8,gn>=0&&gn+kn<=Rt&&dn>=0&&dn+Rn<=$t)for(An=0;An<Rn;An++)for(bn=vn[dn+An],Sn=mn[An],cn=0;cn<kn;cn++)bn[gn+cn]|=Sn[cn];else{let yn,pn;for(An=0;An<Rn;An++)if(pn=dn+An,!(pn<0||pn>=$t))for(bn=vn[pn],Sn=mn[An],cn=0;cn<kn;cn++)yn=gn+cn,yn>=0&&yn<Rt&&(bn[yn]|=Sn[cn])}}return vn}(vt.mmr,Qt,vt.template,_e.width,_e.height,vt.defaultPixelValue,vt.enableSkip,vt.combinationOperator,vt.gridWidth,vt.gridHeight,vt.gridOffsetX,vt.gridOffsetY,vt.gridVectorX,vt.gridVectorY,Xt);this.drawBitmap(_e,Dt)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(vt,Lt,jt,Ht){let Vt=this.customTables;Vt||(this.customTables=Vt={}),Vt[vt]=function(_e,Xt,Dt){const It=_e[Xt],j=4294967295&(0,bt.readUint32)(_e,Xt+1),At=4294967295&(0,bt.readUint32)(_e,Xt+5),Mt=new st(_e,Xt+9,Dt),Rt=1+(It>>1&7),$t=1+(It>>4&7),zt=[];let qt,Wt,Gt=j;do qt=Mt.readBits(Rt),Wt=Mt.readBits($t),zt.push(new wt([Gt,qt,Wt,0])),Gt+=1<<Wt;while(Gt<At);return qt=Mt.readBits(Rt),zt.push(new wt([j-1,qt,32,0,"lower"])),qt=Mt.readBits(Rt),zt.push(new wt([At,qt,32,0])),1&It&&(qt=Mt.readBits(Rt),zt.push(new wt([qt,0]))),new pt(zt,!1)}(Lt,jt,Ht)}}class wt{constructor(vt){vt.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=vt[0],this.rangeLength=0,this.prefixCode=vt[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=vt[0],this.prefixLength=vt[1],this.rangeLength=vt[2],this.prefixCode=vt[3],this.isLowerRange=vt[4]==="lower")}}class b{constructor(vt){this.children=[],vt?(this.isLeaf=!0,this.rangeLength=vt.rangeLength,this.rangeLow=vt.rangeLow,this.isLowerRange=vt.isLowerRange,this.isOOB=vt.isOOB):this.isLeaf=!1}buildTree(vt,Lt){const jt=vt.prefixCode>>Lt&1;if(Lt<=0)this.children[jt]=new b(vt);else{let Ht=this.children[jt];Ht||(this.children[jt]=Ht=new b(null)),Ht.buildTree(vt,Lt-1)}}decodeNode(vt){if(this.isLeaf){if(this.isOOB)return null;const jt=vt.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-jt:jt)}const Lt=this.children[vt.readBit()];if(!Lt)throw new i("invalid Huffman data");return Lt.decodeNode(vt)}}class pt{constructor(vt,Lt){Lt||this.assignPrefixCodes(vt),this.rootNode=new b(null);for(let jt=0,Ht=vt.length;jt<Ht;jt++){const Vt=vt[jt];Vt.prefixLength>0&&this.rootNode.buildTree(Vt,Vt.prefixLength-1)}}decode(vt){return this.rootNode.decodeNode(vt)}assignPrefixCodes(vt){const Lt=vt.length;let jt=0;for(let It=0;It<Lt;It++)jt=Math.max(jt,vt[It].prefixLength);const Ht=new Uint32Array(jt+1);for(let It=0;It<Lt;It++)Ht[vt[It].prefixLength]++;let Vt,Qt,_e,Xt=1,Dt=0;for(Ht[0]=0;Xt<=jt;){for(Dt=Dt+Ht[Xt-1]<<1,Vt=Dt,Qt=0;Qt<Lt;)_e=vt[Qt],_e.prefixLength===Xt&&(_e.prefixCode=Vt,Vt++),Qt++;Xt++}}}const Ot={};function kt(yt){let vt,Lt=Ot[yt];if(Lt)return Lt;switch(yt){case 1:vt=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:vt=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:vt=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:vt=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:vt=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:vt=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:vt=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:vt=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:vt=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:vt=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:vt=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:vt=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:vt=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:vt=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:vt=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new i(`standard table B.${yt} does not exist`)}for(let jt=0,Ht=vt.length;jt<Ht;jt++)vt[jt]=new wt(vt[jt]);return Lt=new pt(vt,!0),Ot[yt]=Lt,Lt}class st{constructor(vt,Lt,jt){this.data=vt,this.start=Lt,this.end=jt,this.position=Lt,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new i("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const vt=this.currentByte>>this.shift&1;return this.shift--,vt}readBits(vt){let Lt,jt=0;for(Lt=vt-1;Lt>=0;Lt--)jt|=this.readBit()<<Lt;return jt}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function nt(yt,vt,Lt){let jt=0;for(let Ht=0,Vt=vt.length;Ht<Vt;Ht++){const Qt=Lt[vt[Ht]];if(Qt){if(yt===jt)return Qt;jt++}}throw new i("can't find custom Huffman table")}function gt(yt,vt,Lt){const jt=[];for(let Ht=0;Ht<Lt;Ht++){const Vt=new Uint8Array(vt);jt.push(Vt);for(let Qt=0;Qt<vt;Qt++)Vt[Qt]=yt.readBit();yt.byteAlign()}return jt}function Ft(yt,vt,Lt,jt){const Ht={K:-1,Columns:vt,Rows:Lt,BlackIs1:!0,EndOfBlock:jt},Vt=new e.CCITTFaxDecoder(yt,Ht),Qt=[];let _e,Xt=!1;for(let Dt=0;Dt<Lt;Dt++){const It=new Uint8Array(vt);Qt.push(It);let j=-1;for(let At=0;At<vt;At++)j<0&&(_e=Vt.readNextChar(),_e===-1&&(_e=0,Xt=!0),j=7),It[At]=_e>>j&1,j--}if(jt&&!Xt)for(let It=0;It<5&&Vt.readNextChar()!==-1;It++);return Qt}$.Jbig2Image=class{parseChunks(vt){return function(jt){const Ht=new ft;for(let Vt=0,Qt=jt.length;Vt<Qt;Vt++){const _e=jt[Vt];rt(Nt({},_e.data,_e.start,_e.end),Ht)}return Ht.buffer}(vt)}parse(vt){throw new Error("Not implemented: Jbig2Image.parse")}}},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ArithmeticDecoder=void 0;const _t=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];$.ArithmeticDecoder=class{constructor(bt,St,e){this.data=bt,this.bp=St,this.dataEnd=e,this.chigh=bt[St],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const bt=this.data;let St=this.bp;bt[St]===255?bt[St+1]>143?(this.clow+=65280,this.ct=8):(St++,this.clow+=bt[St]<<9,this.ct=7,this.bp=St):(St++,this.clow+=St<this.dataEnd?bt[St]<<8:65280,this.ct=8,this.bp=St),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(bt,St){let e=bt[St]>>1,i=1&bt[St];const d=_t[e],ut=d.qe;let dt,et=this.a-ut;if(this.chigh<ut)et<ut?(et=ut,dt=i,e=d.nmps):(et=ut,dt=1^i,d.switchFlag===1&&(i=dt),e=d.nlps);else{if(this.chigh-=ut,32768&et)return this.a=et,i;et<ut?(dt=1^i,d.switchFlag===1&&(i=dt),e=d.nlps):(dt=i,e=d.nmps)}do this.ct===0&&this.byteIn(),et<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(32768&et));return this.a=et,bt[St]=e<<1|i,dt}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.JpegStream=void 0;var s=_t(18),bt=_t(4),St=_t(27),e=_t(2);class i extends s.DecodeStream{constructor(ut,dt,et){let _;for(;(_=ut.getByte())!==-1;)if(_===255){ut.skip(-1);break}super(dt),this.stream=ut,this.dict=ut.dict,this.maybeLength=dt,this.params=et}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(ut){}readBlock(){if(this.eof)return;const ut={decodeTransform:void 0,colorTransform:void 0},dt=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(dt)){const c=this.dict.get("BPC","BitsPerComponent")||8,lt=dt.length,at=new Int32Array(lt);let ct=!1;const it=(1<<c)-1;for(let tt=0;tt<lt;tt+=2)at[tt]=256*(dt[tt+1]-dt[tt])|0,at[tt+1]=dt[tt]*it|0,at[tt]===256&&at[tt+1]===0||(ct=!0);ct&&(ut.decodeTransform=at)}if(this.params instanceof bt.Dict){const c=this.params.get("ColorTransform");Number.isInteger(c)&&(ut.colorTransform=c)}const et=new St.JpegImage(ut);et.parse(this.bytes);const _=et.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=_,this.bufferLength=_.length,this.eof=!0}}$.JpegStream=i},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.JpegImage=void 0;var s=_t(2),bt=_t(28),St=_t(3);class e extends s.BaseException{constructor(Et){super(`JPEG error: ${Et}`,"JpegError")}}class i extends s.BaseException{constructor(Et,rt){super(Et,"DNLMarkerError"),this.scanLines=rt}}class d extends s.BaseException{constructor(Et){super(Et,"EOIMarkerError")}}const ut=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),dt=4017,et=799,_=3406,c=2276,lt=1567,at=3784,ct=5793,it=2896;function tt(Tt,Et){let rt,ft,wt=0,b=16;for(;b>0&&!Tt[b-1];)b--;const pt=[{children:[],index:0}];let Ot,kt=pt[0];for(rt=0;rt<b;rt++){for(ft=0;ft<Tt[rt];ft++){for(kt=pt.pop(),kt.children[kt.index]=Et[wt];kt.index>0;)kt=pt.pop();for(kt.index++,pt.push(kt);pt.length<=rt;)pt.push(Ot={children:[],index:0}),kt.children[kt.index]=Ot.children,kt=Ot;wt++}rt+1<b&&(pt.push(Ot={children:[],index:0}),kt.children[kt.index]=Ot.children,kt=Ot)}return pt[0].children}function ot(Tt,Et,rt){return 64*((Tt.blocksPerLine+1)*Et+rt)}function mt(Tt,Et,rt,ft,wt,b,pt,Ot,kt,st=!1){const nt=rt.mcusPerLine,gt=rt.progressive,Ft=Et;let yt=0,vt=0;function Lt(){if(vt>0)return vt--,yt>>vt&1;if(yt=Tt[Et++],yt===255){const en=Tt[Et++];if(en){if(en===220&&st){Et+=2;const an=(0,St.readUint16)(Tt,Et);if(Et+=2,an>0&&an!==rt.scanLines)throw new i("Found DNL marker (0xFFDC) while parsing scan data",an)}else if(en===217){if(st){const an=Dt*(rt.precision===8?8:0);if(an>0&&Math.round(rt.scanLines/an)>=5)throw new i("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",an)}throw new d("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(yt<<8|en).toString(16)}`)}}return vt=7,yt>>>7}function jt(en){let an=en;for(;;){switch(an=an[Lt()],typeof an){case"number":return an;case"object":continue}throw new e("invalid huffman sequence")}}function Ht(en){let an=0;for(;en>0;)an=an<<1|Lt(),en--;return an}function Vt(en){if(en===1)return Lt()===1?1:-1;const an=Ht(en);return an>=1<<en-1?an:an+(-1<<en)+1}let Qt=0,_e,Xt=0,Dt=0;function It(en,an,vn,An,cn){const hn=vn%nt;Dt=(vn/nt|0)*en.v+An;const fn=hn*en.h+cn;an(en,ot(en,Dt,fn))}function j(en,an,vn){Dt=vn/en.blocksPerLine|0;const An=vn%en.blocksPerLine;an(en,ot(en,Dt,An))}const At=ft.length;let Mt,Rt,$t,zt,qt,Wt;Wt=gt?b===0?Ot===0?function(an,vn){const An=jt(an.huffmanTableDC),cn=An===0?0:Vt(An)<<kt;an.blockData[vn]=an.pred+=cn}:function(an,vn){an.blockData[vn]|=Lt()<<kt}:Ot===0?function(an,vn){if(Qt>0){Qt--;return}let An=b;const cn=pt;for(;An<=cn;){const hn=jt(an.huffmanTableAC),fn=15&hn,Cn=hn>>4;if(fn===0){if(Cn<15){Qt=Ht(Cn)+(1<<Cn)-1;break}An+=16;continue}An+=Cn;const kn=ut[An];an.blockData[vn+kn]=Vt(fn)*(1<<kt),An++}}:function(an,vn){let An=b;const cn=pt;let hn,fn,Cn=0;for(;An<=cn;){const kn=vn+ut[An],Rn=an.blockData[kn]<0?-1:1;switch(Xt){case 0:if(fn=jt(an.huffmanTableAC),hn=15&fn,Cn=fn>>4,hn===0)Cn<15?(Qt=Ht(Cn)+(1<<Cn),Xt=4):(Cn=16,Xt=1);else{if(hn!==1)throw new e("invalid ACn encoding");_e=Vt(hn),Xt=Cn?2:3}continue;case 1:case 2:an.blockData[kn]?an.blockData[kn]+=Rn*(Lt()<<kt):(Cn--,Cn===0&&(Xt=Xt===2?3:0));break;case 3:an.blockData[kn]?an.blockData[kn]+=Rn*(Lt()<<kt):(an.blockData[kn]=_e<<kt,Xt=0);break;case 4:an.blockData[kn]&&(an.blockData[kn]+=Rn*(Lt()<<kt))}An++}Xt===4&&(Qt--,Qt===0&&(Xt=0))}:function(an,vn){const An=jt(an.huffmanTableDC),cn=An===0?0:Vt(An);an.blockData[vn]=an.pred+=cn;let hn=1;for(;hn<64;){const fn=jt(an.huffmanTableAC),Cn=15&fn,kn=fn>>4;if(Cn===0){if(kn<15)break;hn+=16;continue}hn+=kn;const Rn=ut[hn];an.blockData[vn+Rn]=Vt(Cn),hn++}};let Gt,Zt=0;const Yt=At===1?ft[0].blocksPerLine*ft[0].blocksPerColumn:nt*rt.mcusPerColumn;let tn,nn;for(;Zt<=Yt;){const en=wt?Math.min(Yt-Zt,wt):Yt;if(en>0){for(Rt=0;Rt<At;Rt++)ft[Rt].pred=0;if(Qt=0,At===1)for(Mt=ft[0],qt=0;qt<en;qt++)j(Mt,Wt,Zt),Zt++;else for(qt=0;qt<en;qt++){for(Rt=0;Rt<At;Rt++)for(Mt=ft[Rt],tn=Mt.h,nn=Mt.v,$t=0;$t<nn;$t++)for(zt=0;zt<tn;zt++)It(Mt,Wt,Zt,$t,zt);Zt++}}if(vt=0,Gt=Pt(Tt,Et),!Gt)break;if(Gt.invalid){const an=en>0?"unexpected":"excessive";(0,s.warn)(`decodeScan - ${an} MCU data, current marker is: ${Gt.invalid}`),Et=Gt.offset}if(!(Gt.marker>=65488&&Gt.marker<=65495))break;Et+=2}return Et-Ft}function Ct(Tt,Et,rt){const ft=Tt.quantizationTable,wt=Tt.blockData;let b,pt,Ot,kt,st,nt,gt,Ft,yt,vt,Lt,jt,Ht,Vt,Qt,_e,Xt;if(!ft)throw new e("missing required Quantization Table.");for(let Dt=0;Dt<64;Dt+=8)yt=wt[Et+Dt],vt=wt[Et+Dt+1],Lt=wt[Et+Dt+2],jt=wt[Et+Dt+3],Ht=wt[Et+Dt+4],Vt=wt[Et+Dt+5],Qt=wt[Et+Dt+6],_e=wt[Et+Dt+7],yt*=ft[Dt],vt|Lt|jt|Ht|Vt|Qt|_e?(vt*=ft[Dt+1],Lt*=ft[Dt+2],jt*=ft[Dt+3],Ht*=ft[Dt+4],Vt*=ft[Dt+5],Qt*=ft[Dt+6],_e*=ft[Dt+7],b=ct*yt+128>>8,pt=ct*Ht+128>>8,Ot=Lt,kt=Qt,st=it*(vt-_e)+128>>8,Ft=it*(vt+_e)+128>>8,nt=jt<<4,gt=Vt<<4,b=b+pt+1>>1,pt=b-pt,Xt=Ot*at+kt*lt+128>>8,Ot=Ot*lt-kt*at+128>>8,kt=Xt,st=st+gt+1>>1,gt=st-gt,Ft=Ft+nt+1>>1,nt=Ft-nt,b=b+kt+1>>1,kt=b-kt,pt=pt+Ot+1>>1,Ot=pt-Ot,Xt=st*c+Ft*_+2048>>12,st=st*_-Ft*c+2048>>12,Ft=Xt,Xt=nt*et+gt*dt+2048>>12,nt=nt*dt-gt*et+2048>>12,gt=Xt,rt[Dt]=b+Ft,rt[Dt+7]=b-Ft,rt[Dt+1]=pt+gt,rt[Dt+6]=pt-gt,rt[Dt+2]=Ot+nt,rt[Dt+5]=Ot-nt,rt[Dt+3]=kt+st,rt[Dt+4]=kt-st):(Xt=ct*yt+512>>10,rt[Dt]=Xt,rt[Dt+1]=Xt,rt[Dt+2]=Xt,rt[Dt+3]=Xt,rt[Dt+4]=Xt,rt[Dt+5]=Xt,rt[Dt+6]=Xt,rt[Dt+7]=Xt);for(let Dt=0;Dt<8;++Dt)yt=rt[Dt],vt=rt[Dt+8],Lt=rt[Dt+16],jt=rt[Dt+24],Ht=rt[Dt+32],Vt=rt[Dt+40],Qt=rt[Dt+48],_e=rt[Dt+56],vt|Lt|jt|Ht|Vt|Qt|_e?(b=ct*yt+2048>>12,pt=ct*Ht+2048>>12,Ot=Lt,kt=Qt,st=it*(vt-_e)+2048>>12,Ft=it*(vt+_e)+2048>>12,nt=jt,gt=Vt,b=4112+(b+pt+1>>1),pt=b-pt,Xt=Ot*at+kt*lt+2048>>12,Ot=Ot*lt-kt*at+2048>>12,kt=Xt,st=st+gt+1>>1,gt=st-gt,Ft=Ft+nt+1>>1,nt=Ft-nt,b=b+kt+1>>1,kt=b-kt,pt=pt+Ot+1>>1,Ot=pt-Ot,Xt=st*c+Ft*_+2048>>12,st=st*_-Ft*c+2048>>12,Ft=Xt,Xt=nt*et+gt*dt+2048>>12,nt=nt*dt-gt*et+2048>>12,gt=Xt,yt=b+Ft,_e=b-Ft,vt=pt+gt,Qt=pt-gt,Lt=Ot+nt,Vt=Ot-nt,jt=kt+st,Ht=kt-st,yt<16?yt=0:yt>=4080?yt=255:yt>>=4,vt<16?vt=0:vt>=4080?vt=255:vt>>=4,Lt<16?Lt=0:Lt>=4080?Lt=255:Lt>>=4,jt<16?jt=0:jt>=4080?jt=255:jt>>=4,Ht<16?Ht=0:Ht>=4080?Ht=255:Ht>>=4,Vt<16?Vt=0:Vt>=4080?Vt=255:Vt>>=4,Qt<16?Qt=0:Qt>=4080?Qt=255:Qt>>=4,_e<16?_e=0:_e>=4080?_e=255:_e>>=4,wt[Et+Dt]=yt,wt[Et+Dt+8]=vt,wt[Et+Dt+16]=Lt,wt[Et+Dt+24]=jt,wt[Et+Dt+32]=Ht,wt[Et+Dt+40]=Vt,wt[Et+Dt+48]=Qt,wt[Et+Dt+56]=_e):(Xt=ct*yt+8192>>14,Xt=Xt<-2040?0:Xt>=2024?255:Xt+2056>>4,wt[Et+Dt]=Xt,wt[Et+Dt+8]=Xt,wt[Et+Dt+16]=Xt,wt[Et+Dt+24]=Xt,wt[Et+Dt+32]=Xt,wt[Et+Dt+40]=Xt,wt[Et+Dt+48]=Xt,wt[Et+Dt+56]=Xt)}function Nt(Tt,Et){const rt=Et.blocksPerLine,ft=Et.blocksPerColumn,wt=new Int16Array(64);for(let b=0;b<ft;b++)for(let pt=0;pt<rt;pt++)Ct(Et,ot(Et,b,pt),wt);return Et.blockData}function Pt(Tt,Et,rt=Et){const ft=Tt.length-1;let wt=rt<Et?rt:Et;if(Et>=ft)return null;const b=(0,St.readUint16)(Tt,Et);if(b>=65472&&b<=65534)return{invalid:null,marker:b,offset:Et};let pt=(0,St.readUint16)(Tt,wt);for(;!(pt>=65472&&pt<=65534);){if(++wt>=ft)return null;pt=(0,St.readUint16)(Tt,wt)}return{invalid:b.toString(16),marker:pt,offset:wt}}$.JpegImage=class{constructor({decodeTransform:Et=null,colorTransform:rt=-1}={}){this._decodeTransform=Et,this._colorTransform=rt}parse(Et,{dnlScanLines:rt=null}={}){function ft(){const Lt=(0,St.readUint16)(Et,Ot);Ot+=2;let jt=Ot+Lt-2;const Ht=Pt(Et,jt,Ot);Ht!=null&&Ht.invalid&&((0,s.warn)("readDataBlock - incorrect length, current marker is: "+Ht.invalid),jt=Ht.offset);const Vt=Et.subarray(Ot,jt);return Ot+=Vt.length,Vt}function wt(Lt){const jt=Math.ceil(Lt.samplesPerLine/8/Lt.maxH),Ht=Math.ceil(Lt.scanLines/8/Lt.maxV);for(const Vt of Lt.components){const Qt=Math.ceil(Math.ceil(Lt.samplesPerLine/8)*Vt.h/Lt.maxH),_e=Math.ceil(Math.ceil(Lt.scanLines/8)*Vt.v/Lt.maxV),Xt=jt*Vt.h,Dt=64*(Ht*Vt.v)*(Xt+1);Vt.blockData=new Int16Array(Dt),Vt.blocksPerLine=Qt,Vt.blocksPerColumn=_e}Lt.mcusPerLine=jt,Lt.mcusPerColumn=Ht}let b,pt,Ot=0,kt=null,st=null,nt=0;const gt=[],Ft=[],yt=[];let vt=(0,St.readUint16)(Et,Ot);if(Ot+=2,vt!==65496)throw new e("SOI not found");vt=(0,St.readUint16)(Et,Ot),Ot+=2;t:for(;vt!==65497;){let Lt,jt,Ht;switch(vt){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const Vt=ft();vt===65504&&Vt[0]===74&&Vt[1]===70&&Vt[2]===73&&Vt[3]===70&&Vt[4]===0&&(kt={version:{major:Vt[5],minor:Vt[6]},densityUnits:Vt[7],xDensity:Vt[8]<<8|Vt[9],yDensity:Vt[10]<<8|Vt[11],thumbWidth:Vt[12],thumbHeight:Vt[13],thumbData:Vt.subarray(14,14+3*Vt[12]*Vt[13])}),vt===65518&&Vt[0]===65&&Vt[1]===100&&Vt[2]===111&&Vt[3]===98&&Vt[4]===101&&(st={version:Vt[5]<<8|Vt[6],flags0:Vt[7]<<8|Vt[8],flags1:Vt[9]<<8|Vt[10],transformCode:Vt[11]});break;case 65499:const Qt=(0,St.readUint16)(Et,Ot);Ot+=2;const _e=Qt+Ot-2;let Xt;for(;Ot<_e;){const Yt=Et[Ot++],tn=new Uint16Array(64);if(Yt>>4){if(Yt>>4!=1)throw new e("DQT - invalid table spec");for(jt=0;jt<64;jt++)Xt=ut[jt],tn[Xt]=(0,St.readUint16)(Et,Ot),Ot+=2}else for(jt=0;jt<64;jt++)Xt=ut[jt],tn[Xt]=Et[Ot++];gt[15&Yt]=tn}break;case 65472:case 65473:case 65474:if(b)throw new e("Only single frame JPEGs supported");Ot+=2,b={},b.extended=vt===65473,b.progressive=vt===65474,b.precision=Et[Ot++];const Dt=(0,St.readUint16)(Et,Ot);Ot+=2,b.scanLines=rt||Dt,b.samplesPerLine=(0,St.readUint16)(Et,Ot),Ot+=2,b.components=[],b.componentIds={};const It=Et[Ot++];let j=0,At=0;for(Lt=0;Lt<It;Lt++){const Yt=Et[Ot],tn=Et[Ot+1]>>4,nn=15&Et[Ot+1];j<tn&&(j=tn),At<nn&&(At=nn);const en=Et[Ot+2];Ht=b.components.push({h:tn,v:nn,quantizationId:en,quantizationTable:null}),b.componentIds[Yt]=Ht-1,Ot+=3}b.maxH=j,b.maxV=At,wt(b);break;case 65476:const Mt=(0,St.readUint16)(Et,Ot);for(Ot+=2,Lt=2;Lt<Mt;){const Yt=Et[Ot++],tn=new Uint8Array(16);let nn=0;for(jt=0;jt<16;jt++,Ot++)nn+=tn[jt]=Et[Ot];const en=new Uint8Array(nn);for(jt=0;jt<nn;jt++,Ot++)en[jt]=Et[Ot];Lt+=17+nn,(Yt>>4?Ft:yt)[15&Yt]=tt(tn,en)}break;case 65501:Ot+=2,pt=(0,St.readUint16)(Et,Ot),Ot+=2;break;case 65498:const Rt=++nt==1&&!rt;Ot+=2;const $t=Et[Ot++],zt=[];for(Lt=0;Lt<$t;Lt++){const Yt=Et[Ot++],tn=b.componentIds[Yt],nn=b.components[tn];nn.index=Yt;const en=Et[Ot++];nn.huffmanTableDC=yt[en>>4],nn.huffmanTableAC=Ft[15&en],zt.push(nn)}const qt=Et[Ot++],Wt=Et[Ot++],Gt=Et[Ot++];try{const Yt=mt(Et,Ot,b,zt,pt,qt,Wt,Gt>>4,15&Gt,Rt);Ot+=Yt}catch(Yt){if(Yt instanceof i)return(0,s.warn)(`${Yt.message} -- attempting to re-parse the JPEG image.`),this.parse(Et,{dnlScanLines:Yt.scanLines});if(Yt instanceof d){(0,s.warn)(`${Yt.message} -- ignoring the rest of the image data.`);break t}throw Yt}break;case 65500:Ot+=4;break;case 65535:Et[Ot]!==255&&Ot--;break;default:const Zt=Pt(Et,Ot-2,Ot-3);if(Zt!=null&&Zt.invalid){(0,s.warn)("JpegImage.parse - unexpected data, current marker is: "+Zt.invalid),Ot=Zt.offset;break}if(!Zt||Ot>=Et.length-1){(0,s.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break t}throw new e("JpegImage.parse - unknown marker: "+vt.toString(16))}vt=(0,St.readUint16)(Et,Ot),Ot+=2}this.width=b.samplesPerLine,this.height=b.scanLines,this.jfif=kt,this.adobe=st,this.components=[];for(const Lt of b.components){const jt=gt[Lt.quantizationId];jt&&(Lt.quantizationTable=jt),this.components.push({index:Lt.index,output:Nt(0,Lt),scaleX:Lt.h/b.maxH,scaleY:Lt.v/b.maxV,blocksPerLine:Lt.blocksPerLine,blocksPerColumn:Lt.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Et,rt,ft=!1){const wt=this.width/Et,b=this.height/rt;let pt,Ot,kt,st,nt,gt,Ft,yt,vt,Lt,jt,Ht=0;const Vt=this.components.length,Qt=Et*rt*Vt,_e=new Uint8ClampedArray(Qt),Xt=new Uint32Array(Et),Dt=4294967288;let It;for(Ft=0;Ft<Vt;Ft++){if(pt=this.components[Ft],Ot=pt.scaleX*wt,kt=pt.scaleY*b,Ht=Ft,jt=pt.output,st=pt.blocksPerLine+1<<3,Ot!==It){for(nt=0;nt<Et;nt++)yt=0|nt*Ot,Xt[nt]=(yt&Dt)<<3|7&yt;It=Ot}for(gt=0;gt<rt;gt++)for(yt=0|gt*kt,Lt=st*(yt&Dt)|(7&yt)<<3,nt=0;nt<Et;nt++)_e[Ht]=jt[Lt+Xt[nt]],Ht+=Vt}let j=this._decodeTransform;if(ft||Vt!==4||j||(j=new Int32Array([-256,255,-256,255,-256,255,-256,255])),j)for(Ft=0;Ft<Qt;)for(yt=0,vt=0;yt<Vt;yt++,Ft++,vt+=2)_e[Ft]=(_e[Ft]*j[vt]>>8)+j[vt+1];return _e}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform!==0&&(this.components[0].index!==82||this.components[1].index!==71||this.components[2].index!==66):this._colorTransform===1}_convertYccToRgb(Et){let rt,ft,wt;for(let b=0,pt=Et.length;b<pt;b+=3)rt=Et[b],ft=Et[b+1],wt=Et[b+2],Et[b]=rt-179.456+1.402*wt,Et[b+1]=rt+135.459-.344*ft-.714*wt,Et[b+2]=rt-226.816+1.772*ft;return Et}_convertYccToRgba(Et,rt){for(let ft=0,wt=0,b=Et.length;ft<b;ft+=3,wt+=4){const pt=Et[ft],Ot=Et[ft+1],kt=Et[ft+2];rt[wt]=pt-179.456+1.402*kt,rt[wt+1]=pt+135.459-.344*Ot-.714*kt,rt[wt+2]=pt-226.816+1.772*Ot,rt[wt+3]=255}return rt}_convertYcckToRgb(Et){let rt,ft,wt,b,pt=0;for(let Ot=0,kt=Et.length;Ot<kt;Ot+=4)rt=Et[Ot],ft=Et[Ot+1],wt=Et[Ot+2],b=Et[Ot+3],Et[pt++]=ft*(-660635669420364e-19*ft+.000437130475926232*wt-54080610064599e-18*rt+.00048449797120281*b-.154362151871126)-122.67195406894+wt*(-.000957964378445773*wt+.000817076911346625*rt-.00477271405408747*b+1.53380253221734)+rt*(.000961250184130688*rt-.00266257332283933*b+.48357088451265)+b*(-.000336197177618394*b+.484791561490776),Et[pt++]=107.268039397724+ft*(219927104525741e-19*ft-.000640992018297945*wt+.000659397001245577*rt+.000426105652938837*b-.176491792462875)+wt*(-.000778269941513683*wt+.00130872261408275*rt+.000770482631801132*b-.151051492775562)+rt*(.00126935368114843*rt-.00265090189010898*b+.25802910206845)+b*(-.000318913117588328*b-.213742400323665),Et[pt++]=ft*(-.000570115196973677*ft-263409051004589e-19*wt+.0020741088115012*rt-.00288260236853442*b+.814272968359295)-20.810012546947+wt*(-153496057440975e-19*wt-.000132689043961446*rt+.000560833691242812*b-.195152027534049)+rt*(.00174418132927582*rt-.00255243321439347*b+.116935020465145)+b*(-.000343531996510555*b+.24165260232407);return Et.subarray(0,pt)}_convertYcckToRgba(Et){for(let rt=0,ft=Et.length;rt<ft;rt+=4){const wt=Et[rt],b=Et[rt+1],pt=Et[rt+2],Ot=Et[rt+3];Et[rt]=b*(-660635669420364e-19*b+.000437130475926232*pt-54080610064599e-18*wt+.00048449797120281*Ot-.154362151871126)-122.67195406894+pt*(-.000957964378445773*pt+.000817076911346625*wt-.00477271405408747*Ot+1.53380253221734)+wt*(.000961250184130688*wt-.00266257332283933*Ot+.48357088451265)+Ot*(-.000336197177618394*Ot+.484791561490776),Et[rt+1]=107.268039397724+b*(219927104525741e-19*b-.000640992018297945*pt+.000659397001245577*wt+.000426105652938837*Ot-.176491792462875)+pt*(-.000778269941513683*pt+.00130872261408275*wt+.000770482631801132*Ot-.151051492775562)+wt*(.00126935368114843*wt-.00265090189010898*Ot+.25802910206845)+Ot*(-.000318913117588328*Ot-.213742400323665),Et[rt+2]=b*(-.000570115196973677*b-263409051004589e-19*pt+.0020741088115012*wt-.00288260236853442*Ot+.814272968359295)-20.810012546947+pt*(-153496057440975e-19*pt-.000132689043961446*wt+.000560833691242812*Ot-.195152027534049)+wt*(.00174418132927582*wt-.00255243321439347*Ot+.116935020465145)+Ot*(-.000343531996510555*Ot+.24165260232407),Et[rt+3]=255}return Et}_convertYcckToCmyk(Et){let rt,ft,wt;for(let b=0,pt=Et.length;b<pt;b+=4)rt=Et[b],ft=Et[b+1],wt=Et[b+2],Et[b]=434.456-rt-1.402*wt,Et[b+1]=119.541-rt+.344*ft+.714*wt,Et[b+2]=481.816-rt-1.772*ft;return Et}_convertCmykToRgb(Et){let rt,ft,wt,b,pt=0;for(let Ot=0,kt=Et.length;Ot<kt;Ot+=4)rt=Et[Ot],ft=Et[Ot+1],wt=Et[Ot+2],b=Et[Ot+3],Et[pt++]=255+rt*(-6747147073602441e-20*rt+.0008379262121013727*ft+.0002894718188643294*wt+.003264231057537806*b-1.1185611867203937)+ft*(26374107616089405e-21*ft-8626949158638572e-20*wt-.0002748769067499491*b-.02155688794978967)+wt*(-3878099212869363e-20*wt-.0003267808279485286*b+.0686742238595345)-b*(.0003361971776183937*b+.7430659151342254),Et[pt++]=255+rt*(.00013596372813588848*rt+.000924537132573585*ft+.00010567359618683593*wt+.0004791864687436512*b-.3109689587515875)+ft*(-.00023545346108370344*ft+.0002702845253534714*wt+.0020200308977307156*b-.7488052167015494)+wt*(6834815998235662e-20*wt+.00015168452363460973*b-.09751927774728933)-b*(.0003189131175883281*b+.7364883807733168),Et[pt++]=255+rt*(13598650411385307e-21*rt+.00012423956175490851*ft+.0004751985097583589*wt-36729317476630422e-22*b-.05562186980264034)+ft*(.00016141380598724676*ft+.0009692239130725186*wt+.0007782692450036253*b-.44015232367526463)+wt*(5068882914068769e-22*wt+.0017778369011375071*b-.7591454649749609)-b*(.0003435319965105553*b+.7063770186160144);return Et.subarray(0,pt)}_convertCmykToRgba(Et){for(let rt=0,ft=Et.length;rt<ft;rt+=4){const wt=Et[rt],b=Et[rt+1],pt=Et[rt+2],Ot=Et[rt+3];Et[rt]=255+wt*(-6747147073602441e-20*wt+.0008379262121013727*b+.0002894718188643294*pt+.003264231057537806*Ot-1.1185611867203937)+b*(26374107616089405e-21*b-8626949158638572e-20*pt-.0002748769067499491*Ot-.02155688794978967)+pt*(-3878099212869363e-20*pt-.0003267808279485286*Ot+.0686742238595345)-Ot*(.0003361971776183937*Ot+.7430659151342254),Et[rt+1]=255+wt*(.00013596372813588848*wt+.000924537132573585*b+.00010567359618683593*pt+.0004791864687436512*Ot-.3109689587515875)+b*(-.00023545346108370344*b+.0002702845253534714*pt+.0020200308977307156*Ot-.7488052167015494)+pt*(6834815998235662e-20*pt+.00015168452363460973*Ot-.09751927774728933)-Ot*(.0003189131175883281*Ot+.7364883807733168),Et[rt+2]=255+wt*(13598650411385307e-21*wt+.00012423956175490851*b+.0004751985097583589*pt-36729317476630422e-22*Ot-.05562186980264034)+b*(.00016141380598724676*b+.0009692239130725186*pt+.0007782692450036253*Ot-.44015232367526463)+pt*(5068882914068769e-22*pt+.0017778369011375071*Ot-.7591454649749609)-Ot*(.0003435319965105553*Ot+.7063770186160144),Et[rt+3]=255}return Et}getData({width:Et,height:rt,forceRGBA:ft=!1,forceRGB:wt=!1,isSourcePDF:b=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const pt=this._getLinearizedBlockData(Et,rt,b);if(this.numComponents===1&&(ft||wt)){const Ot=pt.length*(ft?4:3),kt=new Uint8ClampedArray(Ot);let st=0;if(ft)(0,bt.grayToRGBA)(pt,new Uint32Array(kt.buffer));else for(const nt of pt)kt[st++]=nt,kt[st++]=nt,kt[st++]=nt;return kt}if(this.numComponents===3&&this._isColorConversionNeeded){if(ft){const Ot=new Uint8ClampedArray(pt.length/3*4);return this._convertYccToRgba(pt,Ot)}return this._convertYccToRgb(pt)}if(this.numComponents===4){if(this._isColorConversionNeeded)return ft?this._convertYcckToRgba(pt):wt?this._convertYcckToRgb(pt):this._convertYcckToCmyk(pt);if(ft)return this._convertCmykToRgba(pt);if(wt)return this._convertCmykToRgb(pt)}return pt}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=bt,$.convertToRGBA=function(e){switch(e.kind){case s.ImageKind.GRAYSCALE_1BPP:return bt(e);case s.ImageKind.RGB_24BPP:return function({src:d,srcPos:ut=0,dest:dt,destPos:et=0,width:_,height:c}){let lt=0;const at=d.length>>2,ct=new Uint32Array(d.buffer,ut,at);if(s.FeatureTest.isLittleEndian){for(;lt<at-2;lt+=3,et+=4){const it=ct[lt],tt=ct[lt+1],ot=ct[lt+2];dt[et]=4278190080|it,dt[et+1]=it>>>24|tt<<8|4278190080,dt[et+2]=tt>>>16|ot<<16|4278190080,dt[et+3]=ot>>>8|4278190080}for(let it=4*lt,tt=d.length;it<tt;it+=3)dt[et++]=d[it]|d[it+1]<<8|d[it+2]<<16|4278190080}else{for(;lt<at-2;lt+=3,et+=4){const it=ct[lt],tt=ct[lt+1],ot=ct[lt+2];dt[et]=255|it,dt[et+1]=it<<24|tt>>>8|255,dt[et+2]=tt<<16|ot>>>16|255,dt[et+3]=ot<<8|255}for(let it=4*lt,tt=d.length;it<tt;it+=3)dt[et++]=d[it]<<24|d[it+1]<<16|d[it+2]<<8|255}return{srcPos:ut,destPos:et}}(e)}return null},$.grayToRGBA=function(e,i){if(s.FeatureTest.isLittleEndian)for(let d=0,ut=e.length;d<ut;d++)i[d]=65793*e[d]|4278190080;else for(let d=0,ut=e.length;d<ut;d++)i[d]=16843008*e[d]|255};var s=_t(2);function bt({src:St,srcPos:e=0,dest:i,width:d,height:ut,nonBlackColor:dt=4294967295,inverseDecode:et=!1}){const _=s.FeatureTest.isLittleEndian?4278190080:255,[c,lt]=et?[dt,_]:[_,dt],at=d>>3,ct=7&d,it=St.length;i=new Uint32Array(i.buffer);let tt=0;for(let ot=0;ot<ut;ot++){for(const Ct=e+at;e<Ct;e++){const Nt=e<it?St[e]:255;i[tt++]=128&Nt?lt:c,i[tt++]=64&Nt?lt:c,i[tt++]=32&Nt?lt:c,i[tt++]=16&Nt?lt:c,i[tt++]=8&Nt?lt:c,i[tt++]=4&Nt?lt:c,i[tt++]=2&Nt?lt:c,i[tt++]=1&Nt?lt:c}if(ct===0)continue;const mt=e<it?St[e++]:255;for(let Ct=0;Ct<ct;Ct++)i[tt++]=mt&1<<7-Ct?lt:c}return{srcPos:e,destPos:tt}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.JpxStream=void 0;var s=_t(18),bt=_t(30),St=_t(2);class e extends s.DecodeStream{constructor(d,ut,dt){super(ut),this.stream=d,this.dict=d.dict,this.maybeLength=ut,this.params=dt}get bytes(){return(0,St.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(d){}readBlock(){if(this.eof)return;const d=new bt.JpxImage;d.parse(this.bytes);const ut=d.width,dt=d.height,et=d.componentsCount,_=d.tiles.length;if(_===1)this.buffer=d.tiles[0].items;else{const c=new Uint8ClampedArray(ut*dt*et);for(let lt=0;lt<_;lt++){const at=d.tiles[lt],ct=at.width,it=at.height,tt=at.left,ot=at.top,mt=at.items;let Ct=0,Nt=(ut*ot+tt)*et;const Pt=ut*et,Tt=ct*et;for(let Et=0;Et<it;Et++){const rt=mt.subarray(Ct,Ct+Tt);c.set(rt,Nt),Ct+=Tt,Nt+=Pt}}this.buffer=c}this.bufferLength=this.buffer.length,this.eof=!0}}$.JpxStream=e},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.JpxImage=void 0;var s=_t(2),bt=_t(3),St=_t(25);class e extends s.BaseException{constructor(nt){super(`JPX error: ${nt}`,"JpxError")}}const i={LL:0,LH:1,HL:1,HH:2};$.JpxImage=class{constructor(){this.failOnCorruptedImage=!1}parse(nt){if((0,bt.readUint16)(nt,0)===65359){this.parseCodestream(nt,0,nt.length);return}const gt=nt.length;let Ft=0;for(;Ft<gt;){let yt=8,vt=(0,bt.readUint32)(nt,Ft);const Lt=(0,bt.readUint32)(nt,Ft+4);if(Ft+=yt,vt===1&&(vt=4294967296*(0,bt.readUint32)(nt,Ft)+(0,bt.readUint32)(nt,Ft+4),Ft+=8,yt+=8),vt===0&&(vt=gt-Ft+yt),vt<yt)throw new e("Invalid box field size");const jt=vt-yt;let Ht=!0;switch(Lt){case 1785737832:Ht=!1;break;case 1668246642:const Vt=nt[Ft];if(Vt===1){const _e=(0,bt.readUint32)(nt,Ft+3);switch(_e){case 16:case 17:case 18:break;default:(0,s.warn)("Unknown colorspace "+_e)}}else Vt===2&&(0,s.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(nt,Ft,Ft+jt);break;case 1783636e3:(0,bt.readUint32)(nt,Ft)!==218793738&&(0,s.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Qt=String.fromCharCode(Lt>>24&255,Lt>>16&255,Lt>>8&255,255&Lt);(0,s.warn)(`Unsupported header type ${Lt} (${Qt}).`)}Ht&&(Ft+=jt)}}parseImageProperties(nt){let gt=nt.getByte();for(;gt>=0;){const Ft=gt;if(gt=nt.getByte(),(Ft<<8|gt)===65361){nt.skip(4);const yt=nt.getInt32()>>>0,vt=nt.getInt32()>>>0,Lt=nt.getInt32()>>>0,jt=nt.getInt32()>>>0;nt.skip(16);const Ht=nt.getUint16();this.width=yt-Lt,this.height=vt-jt,this.componentsCount=Ht,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(nt,gt,Ft){const yt={};let vt=!1;try{let Lt=gt;for(;Lt+1<Ft;){const jt=(0,bt.readUint16)(nt,Lt);Lt+=2;let Ht,Vt,Qt,_e,Xt,Dt,It=0;switch(jt){case 65359:yt.mainHeader=!0;break;case 65497:break;case 65361:It=(0,bt.readUint16)(nt,Lt);const j={};j.Xsiz=(0,bt.readUint32)(nt,Lt+4),j.Ysiz=(0,bt.readUint32)(nt,Lt+8),j.XOsiz=(0,bt.readUint32)(nt,Lt+12),j.YOsiz=(0,bt.readUint32)(nt,Lt+16),j.XTsiz=(0,bt.readUint32)(nt,Lt+20),j.YTsiz=(0,bt.readUint32)(nt,Lt+24),j.XTOsiz=(0,bt.readUint32)(nt,Lt+28),j.YTOsiz=(0,bt.readUint32)(nt,Lt+32);const At=(0,bt.readUint16)(nt,Lt+36);j.Csiz=At;const Mt=[];Ht=Lt+38;for(let Yt=0;Yt<At;Yt++){const tn={precision:1+(127&nt[Ht]),isSigned:!!(128&nt[Ht]),XRsiz:nt[Ht+1],YRsiz:nt[Ht+2]};Ht+=3,d(tn,j),Mt.push(tn)}yt.SIZ=j,yt.components=Mt,ut(yt,Mt),yt.QCC=[],yt.COC=[];break;case 65372:It=(0,bt.readUint16)(nt,Lt);const Rt={};switch(Ht=Lt+2,Vt=nt[Ht++],31&Vt){case 0:_e=8,Xt=!0;break;case 1:_e=16,Xt=!1;break;case 2:_e=16,Xt=!0;break;default:throw new Error("Invalid SQcd value "+Vt)}for(Rt.noQuantization=_e===8,Rt.scalarExpounded=Xt,Rt.guardBits=Vt>>5,Qt=[];Ht<It+Lt;){const Yt={};_e===8?(Yt.epsilon=nt[Ht++]>>3,Yt.mu=0):(Yt.epsilon=nt[Ht]>>3,Yt.mu=(7&nt[Ht])<<8|nt[Ht+1],Ht+=2),Qt.push(Yt)}Rt.SPqcds=Qt,yt.mainHeader?yt.QCD=Rt:(yt.currentTile.QCD=Rt,yt.currentTile.QCC=[]);break;case 65373:It=(0,bt.readUint16)(nt,Lt);const $t={};Ht=Lt+2;let zt;switch(yt.SIZ.Csiz<257?zt=nt[Ht++]:(zt=(0,bt.readUint16)(nt,Ht),Ht+=2),Vt=nt[Ht++],31&Vt){case 0:_e=8,Xt=!0;break;case 1:_e=16,Xt=!1;break;case 2:_e=16,Xt=!0;break;default:throw new Error("Invalid SQcd value "+Vt)}for($t.noQuantization=_e===8,$t.scalarExpounded=Xt,$t.guardBits=Vt>>5,Qt=[];Ht<It+Lt;){const Yt={};_e===8?(Yt.epsilon=nt[Ht++]>>3,Yt.mu=0):(Yt.epsilon=nt[Ht]>>3,Yt.mu=(7&nt[Ht])<<8|nt[Ht+1],Ht+=2),Qt.push(Yt)}$t.SPqcds=Qt,yt.mainHeader?yt.QCC[zt]=$t:yt.currentTile.QCC[zt]=$t;break;case 65362:It=(0,bt.readUint16)(nt,Lt);const qt={};Ht=Lt+2;const Wt=nt[Ht++];qt.entropyCoderWithCustomPrecincts=!!(1&Wt),qt.sopMarkerUsed=!!(2&Wt),qt.ephMarkerUsed=!!(4&Wt),qt.progressionOrder=nt[Ht++],qt.layersCount=(0,bt.readUint16)(nt,Ht),Ht+=2,qt.multipleComponentTransform=nt[Ht++],qt.decompositionLevelsCount=nt[Ht++],qt.xcb=2+(15&nt[Ht++]),qt.ycb=2+(15&nt[Ht++]);const Gt=nt[Ht++];if(qt.selectiveArithmeticCodingBypass=!!(1&Gt),qt.resetContextProbabilities=!!(2&Gt),qt.terminationOnEachCodingPass=!!(4&Gt),qt.verticallyStripe=!!(8&Gt),qt.predictableTermination=!!(16&Gt),qt.segmentationSymbolUsed=!!(32&Gt),qt.reversibleTransformation=nt[Ht++],qt.entropyCoderWithCustomPrecincts){const Yt=[];for(;Ht<It+Lt;){const tn=nt[Ht++];Yt.push({PPx:15&tn,PPy:tn>>4})}qt.precinctsSizes=Yt}const Zt=[];qt.selectiveArithmeticCodingBypass&&Zt.push("selectiveArithmeticCodingBypass"),qt.terminationOnEachCodingPass&&Zt.push("terminationOnEachCodingPass"),qt.verticallyStripe&&Zt.push("verticallyStripe"),qt.predictableTermination&&Zt.push("predictableTermination"),Zt.length>0&&(vt=!0,(0,s.warn)(`JPX: Unsupported COD options (${Zt.join(", ")}).`)),yt.mainHeader?yt.COD=qt:(yt.currentTile.COD=qt,yt.currentTile.COC=[]);break;case 65424:It=(0,bt.readUint16)(nt,Lt),Dt={},Dt.index=(0,bt.readUint16)(nt,Lt+2),Dt.length=(0,bt.readUint32)(nt,Lt+4),Dt.dataEnd=Dt.length+Lt-2,Dt.partIndex=nt[Lt+8],Dt.partsCount=nt[Lt+9],yt.mainHeader=!1,Dt.partIndex===0&&(Dt.COD=yt.COD,Dt.COC=yt.COC.slice(0),Dt.QCD=yt.QCD,Dt.QCC=yt.QCC.slice(0)),yt.currentTile=Dt;break;case 65427:Dt=yt.currentTile,Dt.partIndex===0&&(Et(yt,Dt.index),Ct(yt)),It=Dt.dataEnd-Lt,Nt(yt,nt,Lt,It);break;case 65363:(0,s.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:It=(0,bt.readUint16)(nt,Lt);break;default:throw new Error("Unknown codestream code: "+jt.toString(16))}Lt+=It}}catch(Lt){if(vt||this.failOnCorruptedImage)throw new e(Lt.message);(0,s.warn)(`JPX: Trying to recover from: "${Lt.message}".`)}this.tiles=function(jt){const Ht=jt.SIZ,Vt=jt.components,Qt=Ht.Csiz,_e=[];for(let Xt=0,Dt=jt.tiles.length;Xt<Dt;Xt++){const It=jt.tiles[Xt],j=[];for(let nn=0;nn<Qt;nn++)j[nn]=Tt(jt,It,nn);const At=j[0],Mt=new Uint8ClampedArray(At.items.length*Qt),Rt={left:At.left,top:At.top,width:At.width,height:At.height,items:Mt};let $t,zt,qt,Wt,Gt,Zt,Yt,tn=0;if(It.codingStyleDefaultParameters.multipleComponentTransform){const nn=Qt===4,en=j[0].items,an=j[1].items,vn=j[2].items,An=nn?j[3].items:null;$t=Vt[0].precision-8,zt=.5+(128<<$t);const cn=It.components[0],hn=Qt-3;if(Wt=en.length,cn.codingStyleParameters.reversibleTransformation)for(qt=0;qt<Wt;qt++,tn+=hn){Gt=en[qt]+zt,Zt=an[qt],Yt=vn[qt];const fn=Gt-(Yt+Zt>>2);Mt[tn++]=fn+Yt>>$t,Mt[tn++]=fn>>$t,Mt[tn++]=fn+Zt>>$t}else for(qt=0;qt<Wt;qt++,tn+=hn)Gt=en[qt]+zt,Zt=an[qt],Yt=vn[qt],Mt[tn++]=Gt+1.402*Yt>>$t,Mt[tn++]=Gt-.34413*Zt-.71414*Yt>>$t,Mt[tn++]=Gt+1.772*Zt>>$t;if(nn)for(qt=0,tn=3;qt<Wt;qt++,tn+=4)Mt[tn]=An[qt]+zt>>$t}else for(let nn=0;nn<Qt;nn++){const en=j[nn].items;for($t=Vt[nn].precision-8,zt=.5+(128<<$t),tn=nn,qt=0,Wt=en.length;qt<Wt;qt++)Mt[tn]=en[qt]+zt>>$t,tn+=Qt}_e.push(Rt)}return _e}(yt),this.width=yt.SIZ.Xsiz-yt.SIZ.XOsiz,this.height=yt.SIZ.Ysiz-yt.SIZ.YOsiz,this.componentsCount=yt.SIZ.Csiz}};function d(st,nt){st.x0=Math.ceil(nt.XOsiz/st.XRsiz),st.x1=Math.ceil(nt.Xsiz/st.XRsiz),st.y0=Math.ceil(nt.YOsiz/st.YRsiz),st.y1=Math.ceil(nt.Ysiz/st.YRsiz),st.width=st.x1-st.x0,st.height=st.y1-st.y0}function ut(st,nt){const gt=st.SIZ,Ft=[];let yt;const vt=Math.ceil((gt.Xsiz-gt.XTOsiz)/gt.XTsiz),Lt=Math.ceil((gt.Ysiz-gt.YTOsiz)/gt.YTsiz);for(let jt=0;jt<Lt;jt++)for(let Ht=0;Ht<vt;Ht++)yt={},yt.tx0=Math.max(gt.XTOsiz+Ht*gt.XTsiz,gt.XOsiz),yt.ty0=Math.max(gt.YTOsiz+jt*gt.YTsiz,gt.YOsiz),yt.tx1=Math.min(gt.XTOsiz+(Ht+1)*gt.XTsiz,gt.Xsiz),yt.ty1=Math.min(gt.YTOsiz+(jt+1)*gt.YTsiz,gt.Ysiz),yt.width=yt.tx1-yt.tx0,yt.height=yt.ty1-yt.ty0,yt.components=[],Ft.push(yt);st.tiles=Ft;for(let jt=0,Ht=gt.Csiz;jt<Ht;jt++){const Vt=nt[jt];for(let Qt=0,_e=Ft.length;Qt<_e;Qt++){const Xt={};yt=Ft[Qt],Xt.tcx0=Math.ceil(yt.tx0/Vt.XRsiz),Xt.tcy0=Math.ceil(yt.ty0/Vt.YRsiz),Xt.tcx1=Math.ceil(yt.tx1/Vt.XRsiz),Xt.tcy1=Math.ceil(yt.ty1/Vt.YRsiz),Xt.width=Xt.tcx1-Xt.tcx0,Xt.height=Xt.tcy1-Xt.tcy0,yt.components[jt]=Xt}}}function dt(st,nt,gt){const Ft=nt.codingStyleParameters,yt={};return Ft.entropyCoderWithCustomPrecincts?(yt.PPx=Ft.precinctsSizes[gt].PPx,yt.PPy=Ft.precinctsSizes[gt].PPy):(yt.PPx=15,yt.PPy=15),yt.xcb_=gt>0?Math.min(Ft.xcb,yt.PPx-1):Math.min(Ft.xcb,yt.PPx),yt.ycb_=gt>0?Math.min(Ft.ycb,yt.PPy-1):Math.min(Ft.ycb,yt.PPy),yt}function et(st,nt,gt){const Ft=1<<gt.PPx,yt=1<<gt.PPy,vt=nt.resLevel===0,Lt=1<<gt.PPx+(vt?0:-1),jt=1<<gt.PPy+(vt?0:-1),Ht=nt.trx1>nt.trx0?Math.ceil(nt.trx1/Ft)-Math.floor(nt.trx0/Ft):0,Vt=nt.try1>nt.try0?Math.ceil(nt.try1/yt)-Math.floor(nt.try0/yt):0,Qt=Ht*Vt;nt.precinctParameters={precinctWidth:Ft,precinctHeight:yt,numprecinctswide:Ht,numprecinctshigh:Vt,numprecincts:Qt,precinctWidthInSubband:Lt,precinctHeightInSubband:jt}}function _(st,nt,gt){const Ft=gt.xcb_,yt=gt.ycb_,vt=1<<Ft,Lt=1<<yt,jt=nt.tbx0>>Ft,Ht=nt.tby0>>yt,Vt=nt.tbx1+vt-1>>Ft,Qt=nt.tby1+Lt-1>>yt,_e=nt.resolution.precinctParameters,Xt=[],Dt=[];let It,j,At,Mt;for(j=Ht;j<Qt;j++)for(It=jt;It<Vt;It++){if(At={cbx:It,cby:j,tbx0:vt*It,tby0:Lt*j,tbx1:vt*(It+1),tby1:Lt*(j+1)},At.tbx0_=Math.max(nt.tbx0,At.tbx0),At.tby0_=Math.max(nt.tby0,At.tby0),At.tbx1_=Math.min(nt.tbx1,At.tbx1),At.tby1_=Math.min(nt.tby1,At.tby1),Mt=Math.floor((At.tbx0_-nt.tbx0)/_e.precinctWidthInSubband)+Math.floor((At.tby0_-nt.tby0)/_e.precinctHeightInSubband)*_e.numprecinctswide,At.precinctNumber=Mt,At.subbandType=nt.type,At.Lblock=3,At.tbx1_<=At.tbx0_||At.tby1_<=At.tby0_)continue;Xt.push(At);let Rt=Dt[Mt];Rt!==void 0?(It<Rt.cbxMin?Rt.cbxMin=It:It>Rt.cbxMax&&(Rt.cbxMax=It),j<Rt.cbyMin?Rt.cbxMin=j:j>Rt.cbyMax&&(Rt.cbyMax=j)):Dt[Mt]=Rt={cbxMin:It,cbyMin:j,cbxMax:It,cbyMax:j},At.precinct=Rt}nt.codeblockParameters={codeblockWidth:Ft,codeblockHeight:yt,numcodeblockwide:Vt-jt+1,numcodeblockhigh:Qt-Ht+1},nt.codeblocks=Xt,nt.precincts=Dt}function c(st,nt,gt){const Ft=[],yt=st.subbands;for(let vt=0,Lt=yt.length;vt<Lt;vt++){const jt=yt[vt].codeblocks;for(let Ht=0,Vt=jt.length;Ht<Vt;Ht++){const Qt=jt[Ht];Qt.precinctNumber===nt&&Ft.push(Qt)}}return{layerNumber:gt,codeblocks:Ft}}function lt(st){const nt=st.SIZ,gt=st.currentTile.index,Ft=st.tiles[gt],yt=Ft.codingStyleDefaultParameters.layersCount,vt=nt.Csiz;let Lt=0;for(let _e=0;_e<vt;_e++)Lt=Math.max(Lt,Ft.components[_e].codingStyleParameters.decompositionLevelsCount);let jt=0,Ht=0,Vt=0,Qt=0;this.nextPacket=function(){for(;jt<yt;jt++){for(;Ht<=Lt;Ht++){for(;Vt<vt;Vt++){const Xt=Ft.components[Vt];if(Ht>Xt.codingStyleParameters.decompositionLevelsCount)continue;const Dt=Xt.resolutions[Ht],It=Dt.precinctParameters.numprecincts;for(;Qt<It;){const j=c(Dt,Qt,jt);return Qt++,j}Qt=0}Vt=0}Ht=0}throw new e("Out of packets")}}function at(st){const nt=st.SIZ,gt=st.currentTile.index,Ft=st.tiles[gt],yt=Ft.codingStyleDefaultParameters.layersCount,vt=nt.Csiz;let Lt=0;for(let _e=0;_e<vt;_e++)Lt=Math.max(Lt,Ft.components[_e].codingStyleParameters.decompositionLevelsCount);let jt=0,Ht=0,Vt=0,Qt=0;this.nextPacket=function(){for(;jt<=Lt;jt++){for(;Ht<yt;Ht++){for(;Vt<vt;Vt++){const Xt=Ft.components[Vt];if(jt>Xt.codingStyleParameters.decompositionLevelsCount)continue;const Dt=Xt.resolutions[jt],It=Dt.precinctParameters.numprecincts;for(;Qt<It;){const j=c(Dt,Qt,Ht);return Qt++,j}Qt=0}Vt=0}Ht=0}throw new e("Out of packets")}}function ct(st){const nt=st.SIZ,gt=st.currentTile.index,Ft=st.tiles[gt],yt=Ft.codingStyleDefaultParameters.layersCount,vt=nt.Csiz;let Lt,jt,Ht,Vt,Qt=0;for(Ht=0;Ht<vt;Ht++){const Xt=Ft.components[Ht];Qt=Math.max(Qt,Xt.codingStyleParameters.decompositionLevelsCount)}const _e=new Int32Array(Qt+1);for(jt=0;jt<=Qt;++jt){let Xt=0;for(Ht=0;Ht<vt;++Ht){const Dt=Ft.components[Ht].resolutions;jt<Dt.length&&(Xt=Math.max(Xt,Dt[jt].precinctParameters.numprecincts))}_e[jt]=Xt}Lt=0,jt=0,Ht=0,Vt=0,this.nextPacket=function(){for(;jt<=Qt;jt++){for(;Vt<_e[jt];Vt++){for(;Ht<vt;Ht++){const Dt=Ft.components[Ht];if(jt>Dt.codingStyleParameters.decompositionLevelsCount)continue;const It=Dt.resolutions[jt],j=It.precinctParameters.numprecincts;if(!(Vt>=j)){for(;Lt<yt;){const At=c(It,Vt,Lt);return Lt++,At}Lt=0}}Ht=0}Vt=0}throw new e("Out of packets")}}function it(st){const nt=st.SIZ,gt=st.currentTile.index,Ft=st.tiles[gt],yt=Ft.codingStyleDefaultParameters.layersCount,vt=nt.Csiz,Lt=mt(Ft),jt=Lt;let Ht=0,Vt=0,Qt=0,_e=0,Xt=0;this.nextPacket=function(){for(;Xt<jt.maxNumHigh;Xt++){for(;_e<jt.maxNumWide;_e++){for(;Qt<vt;Qt++){const It=Ft.components[Qt],j=It.codingStyleParameters.decompositionLevelsCount;for(;Vt<=j;Vt++){const At=It.resolutions[Vt],Mt=Lt.components[Qt].resolutions[Vt],Rt=ot(_e,Xt,Mt,jt,At);if(Rt!==null){for(;Ht<yt;){const $t=c(At,Rt,Ht);return Ht++,$t}Ht=0}}Vt=0}Qt=0}_e=0}throw new e("Out of packets")}}function tt(st){const nt=st.SIZ,gt=st.currentTile.index,Ft=st.tiles[gt],yt=Ft.codingStyleDefaultParameters.layersCount,vt=nt.Csiz,Lt=mt(Ft);let jt=0,Ht=0,Vt=0,Qt=0,_e=0;this.nextPacket=function(){for(;Vt<vt;++Vt){const Dt=Ft.components[Vt],It=Lt.components[Vt],j=Dt.codingStyleParameters.decompositionLevelsCount;for(;_e<It.maxNumHigh;_e++){for(;Qt<It.maxNumWide;Qt++){for(;Ht<=j;Ht++){const At=Dt.resolutions[Ht],Mt=It.resolutions[Ht],Rt=ot(Qt,_e,Mt,It,At);if(Rt!==null){for(;jt<yt;){const $t=c(At,Rt,jt);return jt++,$t}jt=0}}Ht=0}Qt=0}_e=0}throw new e("Out of packets")}}function ot(st,nt,gt,Ft,yt){const vt=st*Ft.minWidth,Lt=nt*Ft.minHeight;if(vt%gt.width!=0||Lt%gt.height!=0)return null;const jt=Lt/gt.width*yt.precinctParameters.numprecinctswide;return vt/gt.height+jt}function mt(st){const nt=st.components.length;let gt=Number.MAX_VALUE,Ft=Number.MAX_VALUE,yt=0,vt=0;const Lt=new Array(nt);for(let jt=0;jt<nt;jt++){const Ht=st.components[jt],Vt=Ht.codingStyleParameters.decompositionLevelsCount,Qt=new Array(Vt+1);let _e=Number.MAX_VALUE,Xt=Number.MAX_VALUE,Dt=0,It=0,j=1;for(let At=Vt;At>=0;--At){const Mt=Ht.resolutions[At],Rt=j*Mt.precinctParameters.precinctWidth,$t=j*Mt.precinctParameters.precinctHeight;_e=Math.min(_e,Rt),Xt=Math.min(Xt,$t),Dt=Math.max(Dt,Mt.precinctParameters.numprecinctswide),It=Math.max(It,Mt.precinctParameters.numprecinctshigh),Qt[At]={width:Rt,height:$t},j<<=1}gt=Math.min(gt,_e),Ft=Math.min(Ft,Xt),yt=Math.max(yt,Dt),vt=Math.max(vt,It),Lt[jt]={resolutions:Qt,minWidth:_e,minHeight:Xt,maxNumWide:Dt,maxNumHigh:It}}return{components:Lt,minWidth:gt,minHeight:Ft,maxNumWide:yt,maxNumHigh:vt}}function Ct(st){const nt=st.SIZ,gt=st.currentTile.index,Ft=st.tiles[gt],yt=nt.Csiz;for(let Lt=0;Lt<yt;Lt++){const jt=Ft.components[Lt],Ht=jt.codingStyleParameters.decompositionLevelsCount,Vt=[],Qt=[];for(let _e=0;_e<=Ht;_e++){const Xt=dt(0,jt,_e),Dt={},It=1<<Ht-_e;Dt.trx0=Math.ceil(jt.tcx0/It),Dt.try0=Math.ceil(jt.tcy0/It),Dt.trx1=Math.ceil(jt.tcx1/It),Dt.try1=Math.ceil(jt.tcy1/It),Dt.resLevel=_e,et(0,Dt,Xt),Vt.push(Dt);let j;if(_e===0)j={},j.type="LL",j.tbx0=Math.ceil(jt.tcx0/It),j.tby0=Math.ceil(jt.tcy0/It),j.tbx1=Math.ceil(jt.tcx1/It),j.tby1=Math.ceil(jt.tcy1/It),j.resolution=Dt,_(0,j,Xt),Qt.push(j),Dt.subbands=[j];else{const At=1<<Ht-_e+1,Mt=[];j={},j.type="HL",j.tbx0=Math.ceil(jt.tcx0/At-.5),j.tby0=Math.ceil(jt.tcy0/At),j.tbx1=Math.ceil(jt.tcx1/At-.5),j.tby1=Math.ceil(jt.tcy1/At),j.resolution=Dt,_(0,j,Xt),Qt.push(j),Mt.push(j),j={},j.type="LH",j.tbx0=Math.ceil(jt.tcx0/At),j.tby0=Math.ceil(jt.tcy0/At-.5),j.tbx1=Math.ceil(jt.tcx1/At),j.tby1=Math.ceil(jt.tcy1/At-.5),j.resolution=Dt,_(0,j,Xt),Qt.push(j),Mt.push(j),j={},j.type="HH",j.tbx0=Math.ceil(jt.tcx0/At-.5),j.tby0=Math.ceil(jt.tcy0/At-.5),j.tbx1=Math.ceil(jt.tcx1/At-.5),j.tby1=Math.ceil(jt.tcy1/At-.5),j.resolution=Dt,_(0,j,Xt),Qt.push(j),Mt.push(j),Dt.subbands=Mt}}jt.resolutions=Vt,jt.subbands=Qt}const vt=Ft.codingStyleDefaultParameters.progressionOrder;switch(vt){case 0:Ft.packetsIterator=new lt(st);break;case 1:Ft.packetsIterator=new at(st);break;case 2:Ft.packetsIterator=new ct(st);break;case 3:Ft.packetsIterator=new it(st);break;case 4:Ft.packetsIterator=new tt(st);break;default:throw new e(`Unsupported progression order ${vt}`)}}function Nt(st,nt,gt,Ft){let yt,vt=0,Lt=0,jt=!1;function Ht(Rt){for(;Lt<Rt;){const $t=nt[gt+vt];vt++,jt?(yt=yt<<7|$t,Lt+=7,jt=!1):(yt=yt<<8|$t,Lt+=8),$t===255&&(jt=!0)}return Lt-=Rt,yt>>>Lt&(1<<Rt)-1}function Vt(Rt){return nt[gt+vt-1]===255&&nt[gt+vt]===Rt?(Qt(1),!0):nt[gt+vt]===255&&nt[gt+vt+1]===Rt?(Qt(2),!0):!1}function Qt(Rt){vt+=Rt}function _e(){Lt=0,jt&&(vt++,jt=!1)}function Xt(){if(Ht(1)===0)return 1;if(Ht(1)===0)return 2;let Rt=Ht(2);return Rt<3?Rt+3:(Rt=Ht(5),Rt<31?Rt+6:(Rt=Ht(7),Rt+37))}const Dt=st.currentTile.index,It=st.tiles[Dt],j=st.COD.sopMarkerUsed,At=st.COD.ephMarkerUsed,Mt=It.packetsIterator;for(;vt<Ft;){_e(),j&&Vt(145)&&Qt(4);const Rt=Mt.nextPacket();if(!Ht(1))continue;const $t=Rt.layerNumber,zt=[];let qt;for(let Wt=0,Gt=Rt.codeblocks.length;Wt<Gt;Wt++){qt=Rt.codeblocks[Wt];let Zt=qt.precinct;const Yt=qt.cbx-Zt.cbxMin,tn=qt.cby-Zt.cbyMin;let nn,en,an=!1,vn=!1;if(qt.included!==void 0)an=!!Ht(1);else{Zt=qt.precinct;let fn;if(Zt.inclusionTree!==void 0)fn=Zt.inclusionTree;else{const Cn=Zt.cbxMax-Zt.cbxMin+1,kn=Zt.cbyMax-Zt.cbyMin+1;fn=new ft(Cn,kn,$t),en=new rt(Cn,kn),Zt.inclusionTree=fn,Zt.zeroBitPlanesTree=en;for(let Rn=0;Rn<$t;Rn++)if(Ht(1)!==0)throw new e("Invalid tag tree")}if(fn.reset(Yt,tn,$t))for(;;){if(!Ht(1)){fn.incrementValue($t);break}if(nn=!fn.nextLevel(),nn){qt.included=!0,an=vn=!0;break}}}if(!an)continue;if(vn){for(en=Zt.zeroBitPlanesTree,en.reset(Yt,tn);;)if(Ht(1)){if(nn=!en.nextLevel(),nn)break}else en.incrementValue();qt.zeroBitPlanes=en.value}const An=Xt();for(;Ht(1);)qt.Lblock++;const cn=(0,bt.log2)(An),hn=Ht((An<1<<cn?cn-1:cn)+qt.Lblock);zt.push({codeblock:qt,codingpasses:An,dataLength:hn})}for(_e(),At&&Vt(146);zt.length>0;){const Wt=zt.shift();qt=Wt.codeblock,qt.data===void 0&&(qt.data=[]),qt.data.push({data:nt,start:gt+vt,end:gt+vt+Wt.dataLength,codingpasses:Wt.codingpasses}),vt+=Wt.dataLength}}return vt}function Pt(st,nt,gt,Ft,yt,vt,Lt,jt,Ht){const Vt=Ft.tbx0,Qt=Ft.tby0,_e=Ft.tbx1-Ft.tbx0,Xt=Ft.codeblocks,Dt=Ft.type.charAt(0)==="H"?1:0,It=Ft.type.charAt(1)==="H"?nt:0;for(let j=0,At=Xt.length;j<At;++j){const Mt=Xt[j],Rt=Mt.tbx1_-Mt.tbx0_,$t=Mt.tby1_-Mt.tby0_;if(Rt===0||$t===0||Mt.data===void 0)continue;const zt=new wt(Rt,$t,Mt.subbandType,Mt.zeroBitPlanes,vt);let qt=2;const Wt=Mt.data;let Gt,Zt,Yt,tn=0,nn=0;for(Gt=0,Zt=Wt.length;Gt<Zt;Gt++)Yt=Wt[Gt],tn+=Yt.end-Yt.start,nn+=Yt.codingpasses;const en=new Uint8Array(tn);let an=0;for(Gt=0,Zt=Wt.length;Gt<Zt;Gt++){Yt=Wt[Gt];const Pn=Yt.data.subarray(Yt.start,Yt.end);en.set(Pn,an),an+=Pn.length}const vn=new St.ArithmeticDecoder(en,0,tn);for(zt.setDecoder(vn),Gt=0;Gt<nn;Gt++){switch(qt){case 0:zt.runSignificancePropagationPass();break;case 1:zt.runMagnitudeRefinementPass();break;case 2:zt.runCleanupPass(),jt&&zt.checkSegmentationSymbol()}Ht&&zt.reset(),qt=(qt+1)%3}let An=Mt.tbx0_-Vt+(Mt.tby0_-Qt)*_e;const cn=zt.coefficentsSign,hn=zt.coefficentsMagnitude,fn=zt.bitsDecoded,Cn=Lt?0:.5;let kn,Rn,sn;an=0;const En=Ft.type!=="LL";for(Gt=0;Gt<$t;Gt++){const Pn=2*(An/_e|0)*(nt-_e)+Dt+It;for(kn=0;kn<Rt;kn++)Rn=hn[an],Rn!==0&&(Rn=(Rn+Cn)*yt,cn[an]!==0&&(Rn=-Rn),sn=fn[an],st[En?Pn+(An<<1):An]=Lt&&sn>=vt?Rn:Rn*(1<<vt-sn)),An++,an++;An+=_e-Rt}}}function Tt(st,nt,gt){const Ft=nt.components[gt],yt=Ft.codingStyleParameters,vt=Ft.quantizationParameters,Lt=yt.decompositionLevelsCount,jt=vt.SPqcds,Ht=vt.scalarExpounded,Vt=vt.guardBits,Qt=yt.segmentationSymbolUsed,_e=yt.resetContextProbabilities,Xt=st.components[gt].precision,Dt=yt.reversibleTransformation,It=Dt?new Ot:new pt,j=[];let At=0;for(let Rt=0;Rt<=Lt;Rt++){const $t=Ft.resolutions[Rt],zt=$t.trx1-$t.trx0,qt=$t.try1-$t.try0,Wt=new Float32Array(zt*qt);for(let Gt=0,Zt=$t.subbands.length;Gt<Zt;Gt++){let Yt,tn;Ht?(Yt=jt[At].mu,tn=jt[At].epsilon,At++):(Yt=jt[0].mu,tn=jt[0].epsilon+(Rt>0?1-Rt:0));const nn=$t.subbands[Gt],en=i[nn.type];Pt(Wt,zt,0,nn,Dt?1:2**(Xt+en-tn)*(1+Yt/2048),Vt+tn-1,Dt,Qt,_e)}j.push({width:zt,height:qt,items:Wt})}const Mt=It.calculate(j,Ft.tcx0,Ft.tcy0);return{left:Ft.tcx0,top:Ft.tcy0,width:Mt.width,height:Mt.height,items:Mt.items}}function Et(st,nt){const gt=st.SIZ.Csiz,Ft=st.tiles[nt];for(let yt=0;yt<gt;yt++){const vt=Ft.components[yt],Lt=st.currentTile.QCC[yt]!==void 0?st.currentTile.QCC[yt]:st.currentTile.QCD;vt.quantizationParameters=Lt;const jt=st.currentTile.COC[yt]!==void 0?st.currentTile.COC[yt]:st.currentTile.COD;vt.codingStyleParameters=jt}Ft.codingStyleDefaultParameters=st.currentTile.COD}class rt{constructor(nt,gt){const Ft=(0,bt.log2)(Math.max(nt,gt))+1;this.levels=[];for(let yt=0;yt<Ft;yt++){const vt={width:nt,height:gt,items:[]};this.levels.push(vt),nt=Math.ceil(nt/2),gt=Math.ceil(gt/2)}}reset(nt,gt){let Ft,yt=0,vt=0;for(;yt<this.levels.length;){Ft=this.levels[yt];const Lt=nt+gt*Ft.width;if(Ft.items[Lt]!==void 0){vt=Ft.items[Lt];break}Ft.index=Lt,nt>>=1,gt>>=1,yt++}yt--,Ft=this.levels[yt],Ft.items[Ft.index]=vt,this.currentLevel=yt,delete this.value}incrementValue(){const nt=this.levels[this.currentLevel];nt.items[nt.index]++}nextLevel(){let nt=this.currentLevel,gt=this.levels[nt];const Ft=gt.items[gt.index];return nt--,nt<0?(this.value=Ft,!1):(this.currentLevel=nt,gt=this.levels[nt],gt.items[gt.index]=Ft,!0)}}class ft{constructor(nt,gt,Ft){const yt=(0,bt.log2)(Math.max(nt,gt))+1;this.levels=[];for(let vt=0;vt<yt;vt++){const Lt=new Uint8Array(nt*gt);for(let Ht=0,Vt=Lt.length;Ht<Vt;Ht++)Lt[Ht]=Ft;const jt={width:nt,height:gt,items:Lt};this.levels.push(jt),nt=Math.ceil(nt/2),gt=Math.ceil(gt/2)}}reset(nt,gt,Ft){let yt=0;for(;yt<this.levels.length;){const vt=this.levels[yt],Lt=nt+gt*vt.width;vt.index=Lt;const jt=vt.items[Lt];if(jt===255)break;if(jt>Ft)return this.currentLevel=yt,this.propagateValues(),!1;nt>>=1,gt>>=1,yt++}return this.currentLevel=yt-1,!0}incrementValue(nt){const gt=this.levels[this.currentLevel];gt.items[gt.index]=nt+1,this.propagateValues()}propagateValues(){let nt=this.currentLevel,gt=this.levels[nt];const Ft=gt.items[gt.index];for(;--nt>=0;)gt=this.levels[nt],gt.items[gt.index]=Ft}nextLevel(){let nt=this.currentLevel,gt=this.levels[nt];const Ft=gt.items[gt.index];return gt.items[gt.index]=255,nt--,nt<0?!1:(this.currentLevel=nt,gt=this.levels[nt],gt.items[gt.index]=Ft,!0)}}const kt=class kt{constructor(nt,gt,Ft,yt,vt){this.width=nt,this.height=gt;let Lt;Lt=Ft==="HH"?kt.HHContextLabel:Ft==="HL"?kt.HLContextLabel:kt.LLAndLHContextsLabel,this.contextLabelTable=Lt;const jt=nt*gt;this.neighborsSignificance=new Uint8Array(jt),this.coefficentsSign=new Uint8Array(jt);let Ht;Ht=vt>14?new Uint32Array(jt):vt>6?new Uint16Array(jt):new Uint8Array(jt),this.coefficentsMagnitude=Ht,this.processingFlags=new Uint8Array(jt);const Vt=new Uint8Array(jt);if(yt!==0)for(let Qt=0;Qt<jt;Qt++)Vt[Qt]=yt;this.bitsDecoded=Vt,this.reset()}setDecoder(nt){this.decoder=nt}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[kt.UNIFORM_CONTEXT]=92,this.contexts[kt.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(nt,gt,Ft){const yt=this.neighborsSignificance,vt=this.width,Lt=this.height,jt=gt>0,Ht=gt+1<vt;let Vt;nt>0&&(Vt=Ft-vt,jt&&(yt[Vt-1]+=16),Ht&&(yt[Vt+1]+=16),yt[Vt]+=4),nt+1<Lt&&(Vt=Ft+vt,jt&&(yt[Vt-1]+=16),Ht&&(yt[Vt+1]+=16),yt[Vt]+=4),jt&&(yt[Ft-1]+=1),Ht&&(yt[Ft+1]+=1),yt[Ft]|=128}runSignificancePropagationPass(){const nt=this.decoder,gt=this.width,Ft=this.height,yt=this.coefficentsMagnitude,vt=this.coefficentsSign,Lt=this.neighborsSignificance,jt=this.processingFlags,Ht=this.contexts,Vt=this.contextLabelTable,Qt=this.bitsDecoded;for(let _e=0;_e<Ft;_e+=4)for(let Xt=0;Xt<gt;Xt++){let Dt=_e*gt+Xt;for(let It=0;It<4;It++,Dt+=gt){const j=_e+It;if(j>=Ft)break;if(jt[Dt]&=-2,yt[Dt]||!Lt[Dt])continue;const At=Vt[Lt[Dt]];if(nt.readBit(Ht,At)){const Mt=this.decodeSignBit(j,Xt,Dt);vt[Dt]=Mt,yt[Dt]=1,this.setNeighborsSignificance(j,Xt,Dt),jt[Dt]|=2}Qt[Dt]++,jt[Dt]|=1}}}decodeSignBit(nt,gt,Ft){const yt=this.width,vt=this.height,Lt=this.coefficentsMagnitude,jt=this.coefficentsSign;let Ht,Vt,Qt,_e,Xt,Dt;_e=gt>0&&Lt[Ft-1]!==0,gt+1<yt&&Lt[Ft+1]!==0?(Qt=jt[Ft+1],_e?(Vt=jt[Ft-1],Ht=1-Qt-Vt):Ht=1-Qt-Qt):_e?(Vt=jt[Ft-1],Ht=1-Vt-Vt):Ht=0;const It=3*Ht;return _e=nt>0&&Lt[Ft-yt]!==0,nt+1<vt&&Lt[Ft+yt]!==0?(Qt=jt[Ft+yt],_e?(Vt=jt[Ft-yt],Ht=1-Qt-Vt+It):Ht=1-Qt-Qt+It):_e?(Vt=jt[Ft-yt],Ht=1-Vt-Vt+It):Ht=It,Ht>=0?(Xt=9+Ht,Dt=this.decoder.readBit(this.contexts,Xt)):(Xt=9-Ht,Dt=1^this.decoder.readBit(this.contexts,Xt)),Dt}runMagnitudeRefinementPass(){const nt=this.decoder,gt=this.width,Ft=this.height,yt=this.coefficentsMagnitude,vt=this.neighborsSignificance,Lt=this.contexts,jt=this.bitsDecoded,Ht=this.processingFlags,Vt=gt*Ft,Qt=4*gt;for(let _e,Xt=0;Xt<Vt;Xt=_e){_e=Math.min(Vt,Xt+Qt);for(let Dt=0;Dt<gt;Dt++)for(let It=Xt+Dt;It<_e;It+=gt){if(!yt[It]||1&Ht[It])continue;let j=16;2&Ht[It]&&(Ht[It]^=2,j=127&vt[It]?14:15);const At=nt.readBit(Lt,j);yt[It]=yt[It]<<1|At,jt[It]++,Ht[It]|=1}}}runCleanupPass(){const nt=this.decoder,gt=this.width,Ft=this.height,yt=this.neighborsSignificance,vt=this.coefficentsMagnitude,Lt=this.coefficentsSign,jt=this.contexts,Ht=this.contextLabelTable,Vt=this.bitsDecoded,Qt=this.processingFlags,_e=gt,Xt=2*gt,Dt=3*gt;let It;for(let j=0;j<Ft;j=It){It=Math.min(j+4,Ft);const At=j*gt,Mt=j+3<Ft;for(let Rt=0;Rt<gt;Rt++){const $t=At+Rt;let zt,qt=0,Wt=$t,Gt=j;if(Mt&&Qt[$t]===0&&Qt[$t+_e]===0&&Qt[$t+Xt]===0&&Qt[$t+Dt]===0&&yt[$t]===0&&yt[$t+_e]===0&&yt[$t+Xt]===0&&yt[$t+Dt]===0){if(!nt.readBit(jt,kt.RUNLENGTH_CONTEXT)){Vt[$t]++,Vt[$t+_e]++,Vt[$t+Xt]++,Vt[$t+Dt]++;continue}qt=nt.readBit(jt,kt.UNIFORM_CONTEXT)<<1|nt.readBit(jt,kt.UNIFORM_CONTEXT),qt!==0&&(Gt=j+qt,Wt+=qt*gt),zt=this.decodeSignBit(Gt,Rt,Wt),Lt[Wt]=zt,vt[Wt]=1,this.setNeighborsSignificance(Gt,Rt,Wt),Qt[Wt]|=2,Wt=$t;for(let Zt=j;Zt<=Gt;Zt++,Wt+=gt)Vt[Wt]++;qt++}for(Gt=j+qt;Gt<It;Gt++,Wt+=gt){if(vt[Wt]||1&Qt[Wt])continue;const Zt=Ht[yt[Wt]];nt.readBit(jt,Zt)===1&&(zt=this.decodeSignBit(Gt,Rt,Wt),Lt[Wt]=zt,vt[Wt]=1,this.setNeighborsSignificance(Gt,Rt,Wt),Qt[Wt]|=2),Vt[Wt]++}}}}checkSegmentationSymbol(){const nt=this.decoder,gt=this.contexts;if((nt.readBit(gt,kt.UNIFORM_CONTEXT)<<3|nt.readBit(gt,kt.UNIFORM_CONTEXT)<<2|nt.readBit(gt,kt.UNIFORM_CONTEXT)<<1|nt.readBit(gt,kt.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}};ir(kt,"UNIFORM_CONTEXT",17),ir(kt,"RUNLENGTH_CONTEXT",18),ir(kt,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),ir(kt,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),ir(kt,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let wt=kt;class b{constructor(){this.constructor===b&&(0,s.unreachable)("Cannot initialize Transform.")}calculate(nt,gt,Ft){let yt=nt[0];for(let vt=1,Lt=nt.length;vt<Lt;vt++)yt=this.iterate(yt,nt[vt],gt,Ft);return yt}extend(nt,gt,Ft){let yt=gt-1,vt=gt+1,Lt=gt+Ft-2,jt=gt+Ft;nt[yt--]=nt[vt++],nt[jt++]=nt[Lt--],nt[yt--]=nt[vt++],nt[jt++]=nt[Lt--],nt[yt--]=nt[vt++],nt[jt++]=nt[Lt--],nt[yt]=nt[vt],nt[jt]=nt[Lt]}filter(nt,gt,Ft){(0,s.unreachable)("Abstract method `filter` called")}iterate(nt,gt,Ft,yt){const vt=nt.width,Lt=nt.height;let jt=nt.items;const Ht=gt.width,Vt=gt.height,Qt=gt.items;let _e,Xt,Dt,It,j,At;for(Dt=0,_e=0;_e<Lt;_e++)for(It=2*_e*Ht,Xt=0;Xt<vt;Xt++,Dt++,It+=2)Qt[It]=jt[Dt];jt=nt.items=null;const Mt=new Float32Array(Ht+8);if(Ht===1){if(1&Ft)for(At=0,Dt=0;At<Vt;At++,Dt+=Ht)Qt[Dt]*=.5}else for(At=0,Dt=0;At<Vt;At++,Dt+=Ht)Mt.set(Qt.subarray(Dt,Dt+Ht),4),this.extend(Mt,4,Ht),this.filter(Mt,4,Ht),Qt.set(Mt.subarray(4,4+Ht),Dt);let Rt=16;const $t=[];for(_e=0;_e<Rt;_e++)$t.push(new Float32Array(Vt+8));let zt,qt=0;if(nt=4+Vt,Vt===1){if(1&yt)for(j=0;j<Ht;j++)Qt[j]*=.5}else for(j=0;j<Ht;j++){if(qt===0){for(Rt=Math.min(Ht-j,Rt),Dt=j,It=4;It<nt;Dt+=Ht,It++)for(zt=0;zt<Rt;zt++)$t[zt][It]=Qt[Dt+zt];qt=Rt}qt--;const Wt=$t[qt];if(this.extend(Wt,4,Vt),this.filter(Wt,4,Vt),qt===0)for(Dt=j-Rt+1,It=4;It<nt;Dt+=Ht,It++)for(zt=0;zt<Rt;zt++)Qt[Dt+zt]=$t[zt][It]}return{width:Ht,height:Vt,items:Qt}}}class pt extends b{filter(nt,gt,Ft){const yt=Ft>>1;let vt,Lt,jt,Ht;const Vt=-1.586134342059924,Qt=-.052980118572961,_e=.882911075530934,Xt=.443506852043971,Dt=1.230174104914001;for(vt=(gt|=0)-3,Lt=yt+4;Lt--;vt+=2)nt[vt]*=.8128930661159609;for(vt=gt-2,jt=Xt*nt[vt-1],Lt=yt+3;Lt--&&(Ht=Xt*nt[vt+1],nt[vt]=Dt*nt[vt]-jt-Ht,!!Lt--);vt+=2)vt+=2,jt=Xt*nt[vt+1],nt[vt]=Dt*nt[vt]-jt-Ht;for(vt=gt-1,jt=_e*nt[vt-1],Lt=yt+2;Lt--&&(Ht=_e*nt[vt+1],nt[vt]-=jt+Ht,!!Lt--);vt+=2)vt+=2,jt=_e*nt[vt+1],nt[vt]-=jt+Ht;for(vt=gt,jt=Qt*nt[vt-1],Lt=yt+1;Lt--&&(Ht=Qt*nt[vt+1],nt[vt]-=jt+Ht,!!Lt--);vt+=2)vt+=2,jt=Qt*nt[vt+1],nt[vt]-=jt+Ht;if(yt!==0)for(vt=gt+1,jt=Vt*nt[vt-1],Lt=yt;Lt--&&(Ht=Vt*nt[vt+1],nt[vt]-=jt+Ht,!!Lt--);vt+=2)vt+=2,jt=Vt*nt[vt+1],nt[vt]-=jt+Ht}}class Ot extends b{filter(nt,gt,Ft){const yt=Ft>>1;let vt,Lt;for(vt=gt|=0,Lt=yt+1;Lt--;vt+=2)nt[vt]-=nt[vt-1]+nt[vt+1]+2>>2;for(vt=gt+1,Lt=yt;Lt--;vt+=2)nt[vt]+=nt[vt-1]+nt[vt+1]>>1}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.LZWStream=void 0;var s=_t(18);class bt extends s.DecodeStream{constructor(e,i,d){super(i),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const ut=4096,dt={earlyChange:d,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(ut),dictionaryLengths:new Uint16Array(ut),dictionaryPrevCodes:new Uint16Array(ut),currentSequence:new Uint8Array(ut),currentSequenceLength:0};for(let et=0;et<256;++et)dt.dictionaryValues[et]=et,dt.dictionaryLengths[et]=1;this.lzwState=dt}readBits(e){let i=this.bitsCached,d=this.cachedData;for(;i<e;){const ut=this.str.getByte();if(ut===-1)return this.eof=!0,null;d=d<<8|ut,i+=8}return this.bitsCached=i-=e,this.cachedData=d,this.lastCode=null,d>>>i&(1<<e)-1}readBlock(){let e,i,d,ut=1024;const dt=this.lzwState;if(!dt)return;const et=dt.earlyChange;let _=dt.nextCode;const c=dt.dictionaryValues,lt=dt.dictionaryLengths,at=dt.dictionaryPrevCodes;let ct=dt.codeLength,it=dt.prevCode;const tt=dt.currentSequence;let ot=dt.currentSequenceLength,mt=0,Ct=this.bufferLength,Nt=this.ensureBuffer(this.bufferLength+ut);for(e=0;e<512;e++){const Pt=this.readBits(ct),Tt=ot>0;if(Pt<256)tt[0]=Pt,ot=1;else{if(!(Pt>=258)){if(Pt===256){ct=9,_=258,ot=0;continue}this.eof=!0,delete this.lzwState;break}if(Pt<_)for(ot=lt[Pt],i=ot-1,d=Pt;i>=0;i--)tt[i]=c[d],d=at[d];else tt[ot++]=tt[0]}if(Tt&&(at[_]=it,lt[_]=lt[it]+1,c[_]=tt[0],_++,ct=_+et&_+et-1?ct:0|Math.min(Math.log(_+et)/.6931471805599453+1,12)),it=Pt,mt+=ot,ut<mt){do ut+=512;while(ut<mt);Nt=this.ensureBuffer(this.bufferLength+ut)}for(i=0;i<ot;i++)Nt[Ct++]=tt[i]}dt.nextCode=_,dt.codeLength=ct,dt.prevCode=it,dt.currentSequenceLength=ot,this.bufferLength=Ct}}$.LZWStream=bt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PredictorStream=void 0;var s=_t(18),bt=_t(4),St=_t(2);class e extends s.DecodeStream{constructor(d,ut,dt){if(super(ut),!(dt instanceof bt.Dict))return d;const et=this.predictor=dt.get("Predictor")||1;if(et<=1)return d;if(et!==2&&(et<10||et>15))throw new St.FormatError(`Unsupported predictor: ${et}`);this.readBlock=et===2?this.readBlockTiff:this.readBlockPng,this.str=d,this.dict=d.dict;const _=this.colors=dt.get("Colors")||1,c=this.bits=dt.get("BPC","BitsPerComponent")||8,lt=this.columns=dt.get("Columns")||1;return this.pixBytes=_*c+7>>3,this.rowBytes=lt*_*c+7>>3,this}readBlockTiff(){const d=this.rowBytes,ut=this.bufferLength,dt=this.ensureBuffer(ut+d),et=this.bits,_=this.colors,c=this.str.getBytes(d);if(this.eof=!c.length,this.eof)return;let lt,at=0,ct=0,it=0,tt=0,ot=ut;if(et===1&&_===1)for(lt=0;lt<d;++lt){let mt=c[lt]^at;mt^=mt>>1,mt^=mt>>2,mt^=mt>>4,at=(1&mt)<<7,dt[ot++]=mt}else if(et===8){for(lt=0;lt<_;++lt)dt[ot++]=c[lt];for(;lt<d;++lt)dt[ot]=dt[ot-_]+c[lt],ot++}else if(et===16){const mt=2*_;for(lt=0;lt<mt;++lt)dt[ot++]=c[lt];for(;lt<d;lt+=2){const Ct=((255&c[lt])<<8)+(255&c[lt+1])+((255&dt[ot-mt])<<8)+(255&dt[ot-mt+1]);dt[ot++]=Ct>>8&255,dt[ot++]=255&Ct}}else{const mt=new Uint8Array(_+1),Ct=(1<<et)-1;let Nt=0,Pt=ut;const Tt=this.columns;for(lt=0;lt<Tt;++lt)for(let Et=0;Et<_;++Et)it<et&&(at=at<<8|255&c[Nt++],it+=8),mt[Et]=mt[Et]+(at>>it-et)&Ct,it-=et,ct=ct<<et|mt[Et],tt+=et,tt>=8&&(dt[Pt++]=ct>>tt-8&255,tt-=8);tt>0&&(dt[Pt++]=(ct<<8-tt)+(at&(1<<8-tt)-1))}this.bufferLength+=d}readBlockPng(){const d=this.rowBytes,ut=this.pixBytes,dt=this.str.getByte(),et=this.str.getBytes(d);if(this.eof=!et.length,this.eof)return;const _=this.bufferLength,c=this.ensureBuffer(_+d);let lt=c.subarray(_-d,_);lt.length===0&&(lt=new Uint8Array(d));let at,ct,it,tt=_;switch(dt){case 0:for(at=0;at<d;++at)c[tt++]=et[at];break;case 1:for(at=0;at<ut;++at)c[tt++]=et[at];for(;at<d;++at)c[tt]=c[tt-ut]+et[at]&255,tt++;break;case 2:for(at=0;at<d;++at)c[tt++]=lt[at]+et[at]&255;break;case 3:for(at=0;at<ut;++at)c[tt++]=(lt[at]>>1)+et[at];for(;at<d;++at)c[tt]=(lt[at]+c[tt-ut]>>1)+et[at]&255,tt++;break;case 4:for(at=0;at<ut;++at)ct=lt[at],it=et[at],c[tt++]=ct+it;for(;at<d;++at){ct=lt[at];const ot=lt[at-ut],mt=c[tt-ut],Ct=mt+ct-ot;let Nt=Ct-mt;Nt<0&&(Nt=-Nt);let Pt=Ct-ct;Pt<0&&(Pt=-Pt);let Tt=Ct-ot;Tt<0&&(Tt=-Tt),it=et[at],c[tt++]=Nt<=Pt&&Nt<=Tt?mt+it:Pt<=Tt?ct+it:ot+it}break;default:throw new St.FormatError(`Unsupported predictor: ${dt}`)}this.bufferLength+=d}}$.PredictorStream=e},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.RunLengthStream=void 0;var s=_t(18);class bt extends s.DecodeStream{constructor(e,i){super(i),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let i,d=this.bufferLength,ut=e[0];if(ut<128){if(i=this.ensureBuffer(d+ut+1),i[d++]=e[1],ut>0){const dt=this.str.getBytes(ut);i.set(dt,d),d+=ut}}else{ut=257-ut;const dt=e[1];i=this.ensureBuffer(d+ut+1);for(let et=0;et<ut;et++)i[d++]=dt}this.bufferLength=d}}$.RunLengthStream=bt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Font=$.ErrorFont=void 0;var s=_t(2),bt=_t(35),St=_t(38),e=_t(40),i=_t(39),d=_t(37),ut=_t(41),dt=_t(42),et=_t(43),_=_t(44),c=_t(45),lt=_t(46),at=_t(14),ct=_t(47),it=_t(3),tt=_t(8),ot=_t(48);const mt=[[57344,63743],[1048576,1114109]],Ct=1e3,Nt=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],Pt=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function Tt(Xt){if(!Xt.fontMatrix||Xt.fontMatrix[0]===s.FONT_IDENTITY_MATRIX[0])return;const Dt=.001/Xt.fontMatrix[0],It=Xt.widths;for(const j in It)It[j]*=Dt;Xt.defaultWidth*=Dt}function Et(Xt){if(!Xt.fallbackToUnicode||Xt.toUnicode instanceof dt.IdentityToUnicodeMap)return;const Dt=[];for(const It in Xt.fallbackToUnicode)Xt.toUnicode.has(It)||(Dt[It]=Xt.fallbackToUnicode[It]);Dt.length>0&&Xt.toUnicode.amend(Dt)}class rt{constructor(Dt,It,j,At,Mt,Rt,$t,zt,qt){this.originalCharCode=Dt,this.fontChar=It,this.unicode=j,this.accent=At,this.width=Mt,this.vmetric=Rt,this.operatorListId=$t,this.isSpace=zt,this.isInFont=qt}get category(){return(0,s.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function ft(Xt,Dt){return(Xt<<8)+Dt}function wt(Xt,Dt,It){Xt[Dt+1]=It,Xt[Dt]=It>>>8}function b(Xt,Dt){const It=(Xt<<8)+Dt;return 32768&It?It-65536:It}function pt(Xt){return String.fromCharCode(Xt>>8&255,255&Xt)}function Ot(Xt){return Xt>32767?Xt=32767:Xt<-32768&&(Xt=-32768),String.fromCharCode(Xt>>8&255,255&Xt)}function kt(Xt){const Dt=Xt.peekBytes(4);return(0,s.bytesToString)(Dt)==="ttcf"}function st(Xt,{type:Dt,subtype:It,composite:j}){let At,Mt;return function($t){const zt=$t.peekBytes(4);return(0,it.readUint32)(zt,0)===65536||(0,s.bytesToString)(zt)==="true"}(Xt)||kt(Xt)?At=j?"CIDFontType2":"TrueType":function($t){const zt=$t.peekBytes(4);return(0,s.bytesToString)(zt)==="OTTO"}(Xt)?At=j?"CIDFontType2":"OpenType":function($t){const zt=$t.peekBytes(2);return zt[0]===37&&zt[1]===33||zt[0]===128&&zt[1]===1}(Xt)?At=j?"CIDFontType0":Dt==="MMType1"?"MMType1":"Type1":function($t){const zt=$t.peekBytes(4);return zt[0]>=1&&zt[3]>=1&&zt[3]<=4}(Xt)?j?(At="CIDFontType0",Mt="CIDFontType0C"):(At=Dt==="MMType1"?"MMType1":"Type1",Mt="Type1C"):((0,s.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),At=Dt,Mt=It),[At,Mt]}function nt(Xt,Dt){for(const It in Dt)Xt[+It]=Dt[It]}function gt(Xt,Dt,It){const j=[];let At;for(let Mt=0,Rt=Xt.length;Mt<Rt;Mt++)At=(0,e.getUnicodeForGlyph)(Xt[Mt],Dt),At!==-1&&(j[Mt]=At);for(const Mt in It)At=(0,e.getUnicodeForGlyph)(It[Mt],Dt),At!==-1&&(j[+Mt]=At);return j}function Ft(Xt){return Xt.platform===1&&Xt.encoding===0&&Xt.language===0}function yt(Xt){return Xt.platform===3&&Xt.encoding===1&&Xt.language===1033}function vt(Xt,Dt,It=!1){switch(Dt.length){case 1:return Dt.charCodeAt(0);case 2:return Dt.charCodeAt(0)<<8|Dt.charCodeAt(1)}const j=`Unsupported CID string (charCode ${Xt}): "${Dt}".`;if(It)throw new s.FormatError(j);return(0,s.warn)(j),Dt}function Lt(Xt,Dt,It,j){const At=Object.create(null),Mt=new Map,Rt=[],$t=new Set;let zt=0,qt=mt[zt][0],Wt=mt[zt][1];for(let Zt in Xt){Zt|=0;let Yt=Xt[Zt];if(!Dt(Yt))continue;if(qt>Wt){if(zt++,zt>=mt.length){(0,s.warn)("Ran out of space in font private use area.");break}qt=mt[zt][0],Wt=mt[zt][1]}const tn=qt++;Yt===0&&(Yt=It);let nn=j.get(Zt);typeof nn=="string"&&(nn=nn.codePointAt(0)),nn&&(Gt=nn,!(mt[0][0]<=Gt&&Gt<=mt[0][1]||mt[1][0]<=Gt&&Gt<=mt[1][1]))&&!$t.has(Yt)&&(Mt.set(nn,Yt),$t.add(Yt)),At[tn]=Yt,Rt[Zt]=tn}var Gt;return{toFontChar:Rt,charCodeToGlyphId:At,toUnicodeExtraMap:Mt,nextAvailableFontCharCode:qt}}function jt(Xt,Dt,It){const j=function(Pn,Ln,jn){const Nn=[];for(const on in Pn)Pn[on]>=jn||Nn.push({fontCharCode:0|on,glyphId:Pn[on]});if(Ln)for(const[on,mn]of Ln)mn>=jn||Nn.push({fontCharCode:on,glyphId:mn});Nn.length===0&&Nn.push({fontCharCode:0,glyphId:0}),Nn.sort(function(mn,gn){return mn.fontCharCode-gn.fontCharCode});const ln=[],rn=Nn.length;for(let on=0;on<rn;){const mn=Nn[on].fontCharCode,gn=[Nn[on].glyphId];++on;let dn=mn;for(;on<rn&&dn+1===Nn[on].fontCharCode&&(gn.push(Nn[on].glyphId),++dn,++on,dn!==65535););ln.push([mn,dn,gn])}return ln}(Xt,Dt,It),At=j.at(-1)[1]>65535?2:1;let Mt,Rt,$t,zt,qt="\0\0"+pt(At)+"\0\0"+(0,s.string32)(4+8*At);for(Mt=j.length-1;Mt>=0&&!(j[Mt][0]<=65535);--Mt);const Wt=Mt+1;j[Mt][0]<65535&&j[Mt][1]===65535&&(j[Mt][1]=65534);const Gt=j[Mt][1]<65535?1:0,Zt=Wt+Gt,Yt=ct.OpenTypeFileBuilder.getSearchParams(Zt,2);let tn,nn,en,an,vn="",An="",cn="",hn="",fn="",Cn=0;for(Mt=0,Rt=Wt;Mt<Rt;Mt++){tn=j[Mt],nn=tn[0],en=tn[1],vn+=pt(nn),An+=pt(en),an=tn[2];let En=!0;for($t=1,zt=an.length;$t<zt;++$t)if(an[$t]!==an[$t-1]+1){En=!1;break}if(En)cn+=pt(an[0]-nn&65535),hn+=pt(0);else{const Pn=2*(Zt-Mt)+2*Cn;for(Cn+=en-nn+1,cn+=pt(0),hn+=pt(Pn),$t=0,zt=an.length;$t<zt;++$t)fn+=pt(an[$t])}}Gt>0&&(An+="ÿÿ",vn+="ÿÿ",cn+="\0",hn+="\0\0");const kn="\0\0"+pt(2*Zt)+pt(Yt.range)+pt(Yt.entry)+pt(Yt.rangeShift)+An+"\0\0"+vn+cn+hn+fn;let Rn="",sn="";if(At>1){for(qt+=`\0\0
`+(0,s.string32)(4+8*At+4+kn.length),Rn="",Mt=0,Rt=j.length;Mt<Rt;Mt++){tn=j[Mt],nn=tn[0],an=tn[2];let En=an[0];for($t=1,zt=an.length;$t<zt;++$t)an[$t]!==an[$t-1]+1&&(en=tn[0]+$t-1,Rn+=(0,s.string32)(nn)+(0,s.string32)(en)+(0,s.string32)(En),nn=en+1,En=an[$t]);Rn+=(0,s.string32)(nn)+(0,s.string32)(tn[1])+(0,s.string32)(En)}sn="\0\f\0\0"+(0,s.string32)(Rn.length+16)+"\0\0\0\0"+(0,s.string32)(Rn.length/12)}return qt+"\0"+pt(kn.length+4)+kn+sn+Rn}function Ht(Xt,Dt,It){It||(It={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let j=0,At=0,Mt=0,Rt=0,$t=null,zt=0,qt=-1;if(Dt){for(let an in Dt)if(an|=0,($t>an||!$t)&&($t=an),zt<an&&(zt=an),qt=(0,e.getUnicodeRangeFor)(an,qt),qt<32)j|=1<<qt;else if(qt<64)At|=1<<qt-32;else if(qt<96)Mt|=1<<qt-64;else{if(!(qt<123))throw new s.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");Rt|=1<<qt-96}zt>65535&&(zt=65535)}else $t=0,zt=255;const Wt=Xt.bbox||[0,0,0,0],Gt=It.unitsPerEm||1/(Xt.fontMatrix||s.FONT_IDENTITY_MATRIX)[0],Zt=Xt.ascentScaled?1:Gt/Ct,Yt=It.ascent||Math.round(Zt*(Xt.ascent||Wt[3]));let tn=It.descent||Math.round(Zt*(Xt.descent||Wt[1]));tn>0&&Xt.descent>0&&Wt[1]<0&&(tn=-tn);const nn=It.yMax||Yt,en=-It.yMin||-tn;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(Xt.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,s.string32)(j)+(0,s.string32)(At)+(0,s.string32)(Mt)+(0,s.string32)(Rt)+"*21*"+pt(Xt.italicAngle?1:0)+pt($t||Xt.firstChar)+pt(zt||Xt.lastChar)+pt(Yt)+pt(tn)+"\0d"+pt(nn)+pt(en)+"\0\0\0\0\0\0\0\0"+pt(Xt.xHeight)+pt(Xt.capHeight)+pt(0)+pt($t||Xt.firstChar)+"\0"}function Vt(Xt){const Dt=Math.floor(65536*Xt.italicAngle);return"\0\0\0"+(0,s.string32)(Dt)+"\0\0\0\0"+(0,s.string32)(Xt.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function Qt(Xt){return Xt.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function _e(Xt,Dt){Dt||(Dt=[[],[]]);const It=[Dt[0][0]||"Original licence",Dt[0][1]||Xt,Dt[0][2]||"Unknown",Dt[0][3]||"uniqueID",Dt[0][4]||Xt,Dt[0][5]||"Version 0.11",Dt[0][6]||Qt(Xt),Dt[0][7]||"Unknown",Dt[0][8]||"Unknown",Dt[0][9]||"Unknown"],j=[];let At,Mt,Rt,$t,zt;for(At=0,Mt=It.length;At<Mt;At++){zt=Dt[1][At]||It[At];const en=[];for(Rt=0,$t=zt.length;Rt<$t;Rt++)en.push(pt(zt.charCodeAt(Rt)));j.push(en.join(""))}const qt=[It,j],Wt=["\0","\0"],Gt=["\0\0","\0"],Zt=["\0\0","	"],Yt=It.length*Wt.length;let tn="\0\0"+pt(Yt)+pt(12*Yt+6),nn=0;for(At=0,Mt=Wt.length;At<Mt;At++){const en=qt[At];for(Rt=0,$t=en.length;Rt<$t;Rt++)zt=en[Rt],tn+=Wt[At]+Gt[At]+Zt[At]+pt(Rt)+pt(zt.length)+pt(nn),nn+=zt.length}return tn+=It.join("")+j.join(""),tn}$.Font=class{constructor(Dt,It,j){var qt;this.name=Dt,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=j.loadedName,this.isType3Font=j.isType3Font,this.missingFile=!1,this.cssFontInfo=j.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let At=!!(j.flags&St.FontFlags.Serif);if(!At&&!j.isSimulatedFlags){const Wt=Dt.replaceAll(/[,_]/g,"-").split("-")[0],Gt=(0,ut.getSerifFonts)();for(const Zt of Wt.split("+"))if(Gt[Zt]){At=!0;break}}this.isSerifFont=At,this.isSymbolicFont=!!(j.flags&St.FontFlags.Symbolic),this.isMonospace=!!(j.flags&St.FontFlags.FixedPitch);let{type:Mt,subtype:Rt}=j;this.type=Mt,this.subtype=Rt,this.systemFontInfo=j.systemFontInfo;const $t=Dt.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!$t,this.isInvalidPDFjsFont?this.fallbackName=$t[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(qt=this.systemFontInfo)!=null&&qt.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=j.differences,this.widths=j.widths,this.defaultWidth=j.defaultWidth,this.composite=j.composite,this.cMap=j.cMap,this.capHeight=j.capHeight/Ct,this.ascent=j.ascent/Ct,this.descent=j.descent/Ct,this.lineHeight=this.ascent-this.descent,this.fontMatrix=j.fontMatrix,this.bbox=j.bbox,this.defaultEncoding=j.defaultEncoding,this.toUnicode=j.toUnicode,this.toFontChar=[],j.type==="Type3"){for(let Wt=0;Wt<256;Wt++)this.toFontChar[Wt]=this.differences[Wt]||j.defaultEncoding[Wt];return}if(this.cidEncoding=j.cidEncoding||"",this.vertical=!!j.vertical,this.vertical&&(this.vmetrics=j.vmetrics,this.defaultVMetrics=j.defaultVMetrics),!It||It.isEmpty){It&&(0,s.warn)('Font file is empty in "'+Dt+'" ('+this.loadedName+")"),this.fallbackToSystemFont(j);return}[Mt,Rt]=st(It,j),Mt===this.type&&Rt===this.subtype||(0,s.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Mt}/${Rt}.`);let zt;try{switch(Mt){case"MMType1":(0,s.info)("MMType1 font ("+Dt+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Wt=Rt==="Type1C"||Rt==="CIDFontType0C"?new et.CFFFont(It,j):new ot.Type1Font(Dt,It,j);Tt(j),zt=this.convert(Dt,Wt,j);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",zt=this.checkAndRepair(Dt,It,j),this.isOpenType&&(Tt(j),Mt="OpenType");break;default:throw new s.FormatError(`Font ${Mt} is not supported`)}}catch(Wt){(0,s.warn)(Wt),this.fallbackToSystemFont(j);return}Et(j),this.data=zt,this.type=Mt,this.subtype=Rt,this.fontMatrix=j.fontMatrix,this.widths=j.widths,this.defaultWidth=j.defaultWidth,this.toUnicode=j.toUnicode,this.seacMap=j.seacMap}get renderer(){const Dt=_.FontRendererFactory.create(this,St.SEAC_ANALYSIS_ENABLED);return(0,s.shadow)(this,"renderer",Dt)}exportData(Dt=!1){const It=Dt?[...Nt,...Pt]:Nt,j=Object.create(null);let At,Mt;for(At of It)Mt=this[At],Mt!==void 0&&(j[At]=Mt);return j}fallbackToSystemFont(Dt){this.missingFile=!0;const{name:It,type:j}=this;let At=(0,St.normalizeFontName)(It);const Mt=(0,ut.getStdFontMap)(),Rt=(0,ut.getNonStdFontMap)(),$t=!!Mt[At],zt=!(!Rt[At]||!Mt[Rt[At]]);At=Mt[At]||Rt[At]||At;const qt=(0,c.getFontBasicMetrics)()[At];qt&&(isNaN(this.ascent)&&(this.ascent=qt.ascent/Ct),isNaN(this.descent)&&(this.descent=qt.descent/Ct),isNaN(this.capHeight)&&(this.capHeight=qt.capHeight/Ct)),this.bold=/bold/gi.test(At),this.italic=/oblique|italic/gi.test(At),this.black=/Black/g.test(It);const Wt=/Narrow/g.test(It);if(this.remeasure=(!$t||Wt)&&Object.keys(this.widths).length>0,($t||zt)&&j==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Gt=Dt.cidToGidMap,Zt=[];if(nt(Zt,(0,ut.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(It)?nt(Zt,(0,ut.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(It)&&nt(Zt,(0,ut.getSupplementalGlyphMapForCalibri)()),Gt){for(const Yt in Zt){const tn=Zt[Yt];Gt[tn]!==void 0&&(Zt[+Yt]=Gt[tn])}Gt.length!==this.toUnicode.length&&Dt.hasIncludedToUnicodeMap&&this.toUnicode instanceof dt.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Yt,tn){const nn=Zt[Yt];Gt[nn]===void 0&&(Zt[+Yt]=tn)})}this.toUnicode instanceof dt.IdentityToUnicodeMap||this.toUnicode.forEach(function(Yt,tn){Zt[+Yt]=tn}),this.toFontChar=Zt,this.toUnicode=new dt.ToUnicodeMap(Zt)}else if(/Symbol/i.test(At))this.toFontChar=gt(d.SymbolSetEncoding,(0,i.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(At))this.toFontChar=gt(d.ZapfDingbatsEncoding,(0,i.getDingbatsGlyphsUnicode)(),this.differences);else if($t){const Gt=gt(this.defaultEncoding,(0,i.getGlyphsUnicode)(),this.differences);j!=="CIDFontType2"||this.cidEncoding.startsWith("Identity-")||this.toUnicode instanceof dt.IdentityToUnicodeMap||this.toUnicode.forEach(function(Zt,Yt){Gt[+Zt]=Yt}),this.toFontChar=Gt}else{const Gt=(0,i.getGlyphsUnicode)(),Zt=[];this.toUnicode.forEach((Yt,tn)=>{if(!this.composite){const nn=this.differences[Yt]||this.defaultEncoding[Yt],en=(0,e.getUnicodeForGlyph)(nn,Gt);en!==-1&&(tn=en)}Zt[+Yt]=tn}),this.composite&&this.toUnicode instanceof dt.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(It)&&nt(Zt,(0,ut.getGlyphMapForStandardFonts)()),this.toFontChar=Zt}Et(Dt),this.loadedName=At.split("-")[0]}checkAndRepair(Dt,It,j){var jn,Nn,ln;const At=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Mt(rn,on){const mn=Object.create(null);mn["OS/2"]=null,mn.cmap=null,mn.head=null,mn.hhea=null,mn.hmtx=null,mn.maxp=null,mn.name=null,mn.post=null;for(let gn=0;gn<on;gn++){const dn=Rt(rn);At.includes(dn.tag)&&dn.length!==0&&(mn[dn.tag]=dn)}return mn}function Rt(rn){const on=rn.getString(4),mn=rn.getInt32()>>>0,gn=rn.getInt32()>>>0,dn=rn.getInt32()>>>0,Sn=rn.pos;rn.pos=rn.start||0,rn.skip(gn);const bn=rn.getBytes(dn);return rn.pos=Sn,on==="head"&&(bn[8]=bn[9]=bn[10]=bn[11]=0,bn[17]|=32),{tag:on,checksum:mn,length:dn,offset:gn,data:bn}}function $t(rn){return{version:rn.getString(4),numTables:rn.getUint16(),searchRange:rn.getUint16(),entrySelector:rn.getUint16(),rangeShift:rn.getUint16()}}function zt(rn,on,mn,gn,dn,Sn){const bn={length:0,sizeOfInstructions:0};if(on<0||on>=rn.length||mn>rn.length||mn-on<=12)return bn;const yn=rn.subarray(on,mn),pn=b(yn[2],yn[3]),Dn=b(yn[4],yn[5]),Tn=b(yn[6],yn[7]),_n=b(yn[8],yn[9]);pn>Tn&&(wt(yn,2,Tn),wt(yn,6,pn)),Dn>_n&&(wt(yn,4,_n),wt(yn,8,Dn));const $n=b(yn[0],yn[1]);if($n<0)return $n<-1||(gn.set(yn,dn),bn.length=yn.length),bn;let Xn,Un=10,zn=0;for(Xn=0;Xn<$n;Xn++)zn=(yn[Un]<<8|yn[Un+1])+1,Un+=2;const Wn=Un,Kn=yn[Un]<<8|yn[Un+1];bn.sizeOfInstructions=Kn,Un+=2+Kn;const rr=Un;let Vn=0;for(Xn=0;Xn<zn;Xn++){const qn=yn[Un++];192&qn&&(yn[Un-1]=63&qn);let Qn=2;2&qn?Qn=1:16&qn&&(Qn=0);let Yn=2;4&qn?Yn=1:32&qn&&(Yn=0);const Zn=Qn+Yn;if(Vn+=Zn,8&qn){const er=yn[Un++];er===0&&(yn[Un-1]^=8),Xn+=er,Vn+=er*Zn}}if(Vn===0)return bn;let Hn=Un+Vn;return Hn>yn.length?bn:!Sn&&Kn>0?(gn.set(yn.subarray(0,Wn),dn),gn.set([0,0],dn+Wn),gn.set(yn.subarray(rr,Hn),dn+Wn+2),Hn-=Kn,yn.length-Hn>3&&(Hn=Hn+3&-4),bn.length=Hn,bn):yn.length-Hn>3?(Hn=Hn+3&-4,gn.set(yn.subarray(0,Hn),dn),bn.length=Hn,bn):(gn.set(yn,dn),bn.length=yn.length,bn)}function qt(rn){const on=(It.start||0)+rn.offset;It.pos=on;const mn=[[],[]],gn=[],dn=rn.length,Sn=on+dn;if(It.getUint16()!==0||dn<6)return[mn,gn];const bn=It.getUint16(),yn=It.getUint16();let pn,Dn;for(pn=0;pn<bn&&It.pos+12<=Sn;pn++){const Tn={platform:It.getUint16(),encoding:It.getUint16(),language:It.getUint16(),name:It.getUint16(),length:It.getUint16(),offset:It.getUint16()};(Ft(Tn)||yt(Tn))&&gn.push(Tn)}for(pn=0,Dn=gn.length;pn<Dn;pn++){const Tn=gn[pn];if(Tn.length<=0)continue;const _n=on+yn+Tn.offset;if(_n+Tn.length>Sn)continue;It.pos=_n;const $n=Tn.name;if(Tn.encoding){let Xn="";for(let Un=0,zn=Tn.length;Un<zn;Un+=2)Xn+=String.fromCharCode(It.getUint16());mn[1][$n]=Xn}else mn[0][$n]=It.getString(Tn.length)}return[mn,gn]}const Wt=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Gt(rn,on){let mn,gn,dn,Sn,bn,yn=rn.data,pn=0,Dn=0,Tn=0;const _n=[],$n=[],Xn=[];let Un=on.tooComplexToFollowFunctions,zn=!1,Wn=0,Kn=0;for(let Vn=yn.length;pn<Vn;){const Hn=yn[pn++];if(Hn===64)if(gn=yn[pn++],zn||Kn)pn+=gn;else for(mn=0;mn<gn;mn++)_n.push(yn[pn++]);else if(Hn===65)if(gn=yn[pn++],zn||Kn)pn+=2*gn;else for(mn=0;mn<gn;mn++)dn=yn[pn++],_n.push(dn<<8|yn[pn++]);else if((248&Hn)==176)if(gn=Hn-176+1,zn||Kn)pn+=gn;else for(mn=0;mn<gn;mn++)_n.push(yn[pn++]);else if((248&Hn)==184)if(gn=Hn-184+1,zn||Kn)pn+=2*gn;else for(mn=0;mn<gn;mn++)dn=yn[pn++],_n.push(dn<<8|yn[pn++]);else if(Hn!==43||Un)if(Hn!==44||Un){if(Hn===45)if(zn)zn=!1,Dn=pn;else{if(bn=$n.pop(),!bn){(0,s.warn)("TT: ENDF bad stack"),on.hintsValid=!1;return}Sn=Xn.pop(),yn=bn.data,pn=bn.i,on.functionsStackDeltas[Sn]=_n.length-bn.stackTop}else if(Hn===137)(zn||Kn)&&((0,s.warn)("TT: nested IDEFs not allowed"),Un=!0),zn=!0,Tn=pn;else if(Hn===88)++Wn;else if(Hn===27)Kn=Wn;else if(Hn===89)Kn===Wn&&(Kn=0),--Wn;else if(Hn===28&&!zn&&!Kn){const qn=_n.at(-1);qn>0&&(pn+=qn-1)}}else(zn||Kn)&&((0,s.warn)("TT: nested FDEFs not allowed"),Un=!0),zn=!0,Tn=pn,Sn=_n.pop(),on.functionsDefined[Sn]={data:yn,i:pn};else if(!zn&&!Kn){if(Sn=_n.at(-1),isNaN(Sn))(0,s.info)("TT: CALL empty stack (or invalid entry).");else if(on.functionsUsed[Sn]=!0,Sn in on.functionsStackDeltas){const qn=_n.length+on.functionsStackDeltas[Sn];if(qn<0){(0,s.warn)("TT: CALL invalid functions stack delta."),on.hintsValid=!1;return}_n.length=qn}else if(Sn in on.functionsDefined&&!Xn.includes(Sn)){if($n.push({data:yn,i:pn,stackTop:_n.length-1}),Xn.push(Sn),bn=on.functionsDefined[Sn],!bn){(0,s.warn)("TT: CALL non-existent function"),on.hintsValid=!1;return}yn=bn.data,pn=bn.i}}if(!zn&&!Kn){let qn=0;for(Hn<=142?qn=Wt[Hn]:Hn>=192&&Hn<=223?qn=-1:Hn>=224&&(qn=-2),Hn>=113&&Hn<=117&&(gn=_n.pop(),isNaN(gn)||(qn=2*-gn));qn<0&&_n.length>0;)_n.pop(),qn++;for(;qn>0;)_n.push(NaN),qn--}}on.tooComplexToFollowFunctions=Un;const rr=[yn];pn>yn.length&&rr.push(new Uint8Array(pn-yn.length)),Tn>Dn&&((0,s.warn)("TT: complementing a missing function tail"),rr.push(new Uint8Array([34,45]))),function(Hn,qn){if(qn.length>1){let Qn,Yn,Zn=0;for(Qn=0,Yn=qn.length;Qn<Yn;Qn++)Zn+=qn[Qn].length;Zn=Zn+3&-4;const er=new Uint8Array(Zn);let lr=0;for(Qn=0,Yn=qn.length;Qn<Yn;Qn++)er.set(qn[Qn],lr),lr+=qn[Qn].length;Hn.data=er,Hn.length=Zn}}(rn,rr)}let Zt,Yt,tn,nn;if(kt(It=new tt.Stream(new Uint8Array(It.getBytes())))){const rn=function(mn,gn){var pn;const{numFonts:dn,offsetTable:Sn}=function(Tn){const _n=Tn.getString(4);(0,s.assert)(_n==="ttcf","Must be a TrueType Collection font.");const $n=Tn.getUint16(),Xn=Tn.getUint16(),Un=Tn.getInt32()>>>0,zn=[];for(let Kn=0;Kn<Un;Kn++)zn.push(Tn.getInt32()>>>0);const Wn={ttcTag:_n,majorVersion:$n,minorVersion:Xn,numFonts:Un,offsetTable:zn};switch($n){case 1:return Wn;case 2:return Wn.dsigTag=Tn.getInt32()>>>0,Wn.dsigLength=Tn.getInt32()>>>0,Wn.dsigOffset=Tn.getInt32()>>>0,Wn}throw new s.FormatError(`Invalid TrueType Collection majorVersion: ${$n}.`)}(mn),bn=gn.split("+");let yn;for(let Dn=0;Dn<dn;Dn++){mn.pos=(mn.start||0)+Sn[Dn];const Tn=$t(mn),_n=Mt(mn,Tn.numTables);if(!_n.name)throw new s.FormatError('TrueType Collection font must contain a "name" table.');const[$n]=qt(_n.name);for(let Xn=0,Un=$n.length;Xn<Un;Xn++)for(let zn=0,Wn=$n[Xn].length;zn<Wn;zn++){const Kn=(pn=$n[Xn][zn])==null?void 0:pn.replaceAll(/\s/g,"");if(Kn){if(Kn===gn)return{header:Tn,tables:_n};if(!(bn.length<2))for(const rr of bn)Kn===rr&&(yn={name:rr,header:Tn,tables:_n})}}}if(yn)return(0,s.warn)(`TrueType Collection does not contain "${gn}" font, falling back to "${yn.name}" font instead.`),{header:yn.header,tables:yn.tables};throw new s.FormatError(`TrueType Collection does not contain "${gn}" font.`)}(It,this.name);Zt=rn.header,Yt=rn.tables}else Zt=$t(It),Yt=Mt(It,Zt.numTables);const en=!Yt["CFF "];if(en){if(!Yt.loca)throw new s.FormatError('Required "loca" table is not found');Yt.glyf||((0,s.warn)('Required "glyf" table is not found -- trying to recover.'),Yt.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const rn=j.composite&&(((jn=j.cidToGidMap)==null?void 0:jn.length)>0||!(j.cMap instanceof at.IdentityCMap));if(Zt.version==="OTTO"&&!rn||!Yt.head||!Yt.hhea||!Yt.maxp||!Yt.post)return nn=new tt.Stream(Yt["CFF "].data),tn=new et.CFFFont(nn,j),Tt(j),this.convert(Dt,tn,j);delete Yt.glyf,delete Yt.loca,delete Yt.fpgm,delete Yt.prep,delete Yt["cvt "],this.isOpenType=!0}if(!Yt.maxp)throw new s.FormatError('Required "maxp" table is not found');It.pos=(It.start||0)+Yt.maxp.offset;const an=It.getInt32(),vn=It.getUint16();if(((Nn=j.scaleFactors)==null?void 0:Nn.length)===vn&&en){const{scaleFactors:rn}=j,on=ft(Yt.head.data[50],Yt.head.data[51]),mn=new lt.GlyfTable({glyfTable:Yt.glyf.data,isGlyphLocationsLong:on,locaTable:Yt.loca.data,numGlyphs:vn});mn.scale(rn);const{glyf:gn,loca:dn,isLocationLong:Sn}=mn.write();Yt.glyf.data=gn,Yt.loca.data=dn,Sn!==!!on&&(Yt.head.data[50]=0,Yt.head.data[51]=Sn?1:0);const bn=Yt.hmtx.data;for(let yn=0;yn<vn;yn++){const pn=4*yn,Dn=Math.round(rn[yn]*ft(bn[pn],bn[pn+1]));bn[pn]=Dn>>8&255,bn[pn+1]=255&Dn,wt(bn,pn+2,Math.round(rn[yn]*b(bn[pn+2],bn[pn+3])))}}let An=vn+1,cn=!0;An>65535&&(cn=!1,An=vn,(0,s.warn)("Not enough space in glyfs to duplicate first glyph."));let hn=0,fn=0;an>=65536&&Yt.maxp.length>=22&&(It.pos+=8,It.getUint16()>2&&(Yt.maxp.data[14]=0,Yt.maxp.data[15]=2),It.pos+=4,hn=It.getUint16(),It.pos+=4,fn=It.getUint16()),Yt.maxp.data[4]=An>>8,Yt.maxp.data[5]=255&An;const Cn=function(on,mn,gn,dn){const Sn={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(on&&Gt(on,Sn),mn&&Gt(mn,Sn),on&&function(yn,pn){if(!yn.tooComplexToFollowFunctions)if(yn.functionsDefined.length>pn)(0,s.warn)("TT: more functions defined than expected"),yn.hintsValid=!1;else for(let Dn=0,Tn=yn.functionsUsed.length;Dn<Tn;Dn++){if(Dn>pn){(0,s.warn)("TT: invalid function id: "+Dn),yn.hintsValid=!1;return}if(yn.functionsUsed[Dn]&&!yn.functionsDefined[Dn]){(0,s.warn)("TT: undefined function: "+Dn),yn.hintsValid=!1;return}}}(Sn,dn),gn&&1&gn.length){const bn=new Uint8Array(gn.length+1);bn.set(gn.data),gn.data=bn}return Sn.hintsValid}(Yt.fpgm,Yt.prep,Yt["cvt "],hn);if(Cn||(delete Yt.fpgm,delete Yt.prep,delete Yt["cvt "]),function(on,mn,gn,dn,Sn,bn){if(!mn){gn&&(gn.data=null);return}on.pos=(on.start||0)+mn.offset,on.pos+=4,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2;const yn=on.getUint16();on.pos+=8,on.pos+=2;let pn=on.getUint16();yn!==0&&(2&ft(dn.data[44],dn.data[45])||(mn.data[22]=0,mn.data[23]=0)),pn>Sn&&((0,s.info)(`The numOfMetrics (${pn}) should not be greater than the numGlyphs (${Sn}).`),pn=Sn,mn.data[34]=(65280&pn)>>8,mn.data[35]=255&pn);const Dn=Sn-pn-(gn.length-4*pn>>1);if(Dn>0){const Tn=new Uint8Array(gn.length+2*Dn);Tn.set(gn.data),bn&&(Tn[gn.length]=gn.data[2],Tn[gn.length+1]=gn.data[3]),gn.data=Tn}}(It,Yt.hhea,Yt.hmtx,Yt.head,An,cn),!Yt.head)throw new s.FormatError('Required "head" table is not found');(function(on,mn,gn){const dn=on.data,Sn=function(pn,Dn,Tn,_n){return(pn<<24)+(Dn<<16)+(Tn<<8)+_n}(dn[0],dn[1],dn[2],dn[3]);Sn>>16!=1&&((0,s.info)("Attempting to fix invalid version in head table: "+Sn),dn[0]=0,dn[1]=1,dn[2]=0,dn[3]=0);const bn=ft(dn[50],dn[51]);if(bn<0||bn>1){(0,s.info)("Attempting to fix invalid indexToLocFormat in head table: "+bn);const yn=mn+1;if(gn===yn<<1)dn[50]=0,dn[51]=0;else{if(gn!==yn<<2)throw new s.FormatError("Could not fix indexToLocFormat: "+bn);dn[50]=0,dn[51]=1}}})(Yt.head,vn,en?Yt.loca.length:0);let kn=Object.create(null);if(en){const rn=ft(Yt.head.data[50],Yt.head.data[51]),on=function(gn,dn,Sn,bn,yn,pn,Dn){let Tn,_n,$n;bn?(Tn=4,_n=function(er,lr){return er[lr]<<24|er[lr+1]<<16|er[lr+2]<<8|er[lr+3]},$n=function(er,lr,pr){er[lr]=pr>>>24&255,er[lr+1]=pr>>16&255,er[lr+2]=pr>>8&255,er[lr+3]=255&pr}):(Tn=2,_n=function(er,lr){return er[lr]<<9|er[lr+1]<<1},$n=function(er,lr,pr){er[lr]=pr>>9&255,er[lr+1]=pr>>1&255});const Xn=pn?Sn+1:Sn,Un=Tn*(1+Xn),zn=new Uint8Array(Un);zn.set(gn.data.subarray(0,Un)),gn.data=zn;const Wn=dn.data,Kn=Wn.length,rr=new Uint8Array(Kn);let Vn,Hn;const qn=[];for(Vn=0,Hn=0;Vn<Sn+1;Vn++,Hn+=Tn){let Zn=_n(zn,Hn);Zn>Kn&&(Zn=Kn),qn.push({index:Vn,offset:Zn,endOffset:0})}for(qn.sort((Zn,er)=>Zn.offset-er.offset),Vn=0;Vn<Sn;Vn++)qn[Vn].endOffset=qn[Vn+1].offset;for(qn.sort((Zn,er)=>Zn.index-er.index),Vn=0;Vn<Sn;Vn++){const{offset:Zn,endOffset:er}=qn[Vn];if(Zn!==0||er!==0)break;const lr=qn[Vn+1].offset;if(lr!==0){qn[Vn].endOffset=lr;break}}const Qn=Object.create(null);let Yn=0;for($n(zn,0,Yn),Vn=0,Hn=Tn;Vn<Sn;Vn++,Hn+=Tn){const Zn=zt(Wn,qn[Vn].offset,qn[Vn].endOffset,rr,Yn,yn),er=Zn.length;er===0&&(Qn[Vn]=!0),Zn.sizeOfInstructions>Dn&&(Dn=Zn.sizeOfInstructions),Yn+=er,$n(zn,Hn,Yn)}if(Yn===0){const Zn=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Vn=0,Hn=Tn;Vn<Xn;Vn++,Hn+=Tn)$n(zn,Hn,Zn.length);dn.data=Zn}else if(pn){const Zn=_n(zn,Tn);rr.length>Zn+Yn?dn.data=rr.subarray(0,Zn+Yn):(dn.data=new Uint8Array(Zn+Yn),dn.data.set(rr.subarray(0,Yn))),dn.data.set(rr.subarray(0,Zn),Yn),$n(gn.data,zn.length-Tn,Yn+Zn)}else dn.data=rr.subarray(0,Yn);return{missingGlyphs:Qn,maxSizeOfInstructions:Dn}}(Yt.loca,Yt.glyf,vn,rn,Cn,cn,fn);kn=on.missingGlyphs,an>=65536&&Yt.maxp.length>=22&&(Yt.maxp.data[26]=on.maxSizeOfInstructions>>8,Yt.maxp.data[27]=255&on.maxSizeOfInstructions)}if(!Yt.hhea)throw new s.FormatError('Required "hhea" table is not found');Yt.hhea.data[10]===0&&Yt.hhea.data[11]===0&&(Yt.hhea.data[10]=255,Yt.hhea.data[11]=255);const Rn={unitsPerEm:ft(Yt.head.data[18],Yt.head.data[19]),yMax:b(Yt.head.data[42],Yt.head.data[43]),yMin:b(Yt.head.data[38],Yt.head.data[39]),ascent:b(Yt.hhea.data[4],Yt.hhea.data[5]),descent:b(Yt.hhea.data[6],Yt.hhea.data[7]),lineGap:b(Yt.hhea.data[8],Yt.hhea.data[9])};this.ascent=Rn.ascent/Rn.unitsPerEm,this.descent=Rn.descent/Rn.unitsPerEm,this.lineGap=Rn.lineGap/Rn.unitsPerEm,(ln=this.cssFontInfo)!=null&&ln.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Yt.post&&function(on,mn,gn){const dn=(It.start||0)+on.offset;It.pos=dn;const Sn=dn+on.length,bn=It.getInt32();It.skip(28);let yn,pn,Dn=!0;switch(bn){case 65536:yn=St.MacStandardGlyphOrdering;break;case 131072:const Tn=It.getUint16();if(Tn!==gn){Dn=!1;break}const _n=[];for(pn=0;pn<Tn;++pn){const Un=It.getUint16();if(Un>=32768){Dn=!1;break}_n.push(Un)}if(!Dn)break;const $n=[],Xn=[];for(;It.pos<Sn;){const Un=It.getByte();for(Xn.length=Un,pn=0;pn<Un;++pn)Xn[pn]=String.fromCharCode(It.getByte());$n.push(Xn.join(""))}for(yn=[],pn=0;pn<Tn;++pn){const Un=_n[pn];Un<258?yn.push(St.MacStandardGlyphOrdering[Un]):yn.push($n[Un-258])}break;case 196608:break;default:(0,s.warn)("Unknown/unsupported post table version "+bn),Dn=!1,mn.defaultEncoding&&(yn=mn.defaultEncoding)}return mn.glyphNames=yn,Dn}(Yt.post,j,vn),Yt.post={tag:"post",data:Vt(j)};const sn=[];function En(rn){return!kn[rn]}if(j.composite){const rn=j.cidToGidMap||[],on=rn.length===0;j.cMap.forEach(function(mn,gn){if(typeof gn=="string"&&(gn=vt(mn,gn,!0)),gn>65535)throw new s.FormatError("Max size of CID is 65,535");let dn=-1;on?dn=gn:rn[gn]!==void 0&&(dn=rn[gn]),dn>=0&&dn<vn&&En(dn)&&(sn[mn]=dn)})}else{const rn=function(yn,pn,Dn,Tn){if(!yn)return(0,s.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let _n,$n=(pn.start||0)+yn.offset;pn.pos=$n,pn.skip(2);const Xn=pn.getUint16();let Un,zn=!1;for(let qn=0;qn<Xn;qn++){const Qn=pn.getUint16(),Yn=pn.getUint16(),Zn=pn.getInt32()>>>0;let er=!1;if((Un==null?void 0:Un.platformId)!==Qn||(Un==null?void 0:Un.encodingId)!==Yn){if(Qn!==0||Yn!==0&&Yn!==1&&Yn!==3)if(Qn===1&&Yn===0)er=!0;else if(Qn!==3||Yn!==1||!Tn&&Un){if(Dn&&Qn===3&&Yn===0){er=!0;let lr=!0;if(qn<Xn-1){const pr=pn.peekBytes(2);ft(pr[0],pr[1])<Qn&&(lr=!1)}lr&&(zn=!0)}}else er=!0,Dn||(zn=!0);else er=!0;if(er&&(Un={platformId:Qn,encodingId:Yn,offset:Zn}),zn)break}}if(Un&&(pn.pos=$n+Un.offset),!Un||pn.peekByte()===-1)return(0,s.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Wn=pn.getUint16();let Kn=!1;const rr=[];let Vn,Hn;if(Wn===0){for(pn.skip(4),Vn=0;Vn<256;Vn++){const qn=pn.getByte();qn&&rr.push({charCode:Vn,glyphId:qn})}Kn=!0}else if(Wn===2){pn.skip(4);const qn=[];let Qn=0;for(let Zn=0;Zn<256;Zn++){const er=pn.getUint16()>>3;qn.push(er),Qn=Math.max(er,Qn)}const Yn=[];for(let Zn=0;Zn<=Qn;Zn++)Yn.push({firstCode:pn.getUint16(),entryCount:pn.getUint16(),idDelta:b(pn.getByte(),pn.getByte()),idRangePos:pn.pos+pn.getUint16()});for(let Zn=0;Zn<256;Zn++)if(qn[Zn]===0)pn.pos=Yn[0].idRangePos+2*Zn,Hn=pn.getUint16(),rr.push({charCode:Zn,glyphId:Hn});else{const er=Yn[qn[Zn]];for(Vn=0;Vn<er.entryCount;Vn++){const lr=(Zn<<8)+Vn+er.firstCode;pn.pos=er.idRangePos+2*Vn,Hn=pn.getUint16(),Hn!==0&&(Hn=(Hn+er.idDelta)%65536),rr.push({charCode:lr,glyphId:Hn})}}}else if(Wn===4){pn.skip(4);const qn=pn.getUint16()>>1;pn.skip(6);const Qn=[];let Yn;for(Yn=0;Yn<qn;Yn++)Qn.push({end:pn.getUint16()});for(pn.skip(2),Yn=0;Yn<qn;Yn++)Qn[Yn].start=pn.getUint16();for(Yn=0;Yn<qn;Yn++)Qn[Yn].delta=pn.getUint16();let Zn,er=0;for(Yn=0;Yn<qn;Yn++){_n=Qn[Yn];const pr=pn.getUint16();pr?(Zn=(pr>>1)-(qn-Yn),_n.offsetIndex=Zn,er=Math.max(er,Zn+_n.end-_n.start+1)):_n.offsetIndex=-1}const lr=[];for(Vn=0;Vn<er;Vn++)lr.push(pn.getUint16());for(Yn=0;Yn<qn;Yn++){_n=Qn[Yn],$n=_n.start;const pr=_n.end,Cr=_n.delta;for(Zn=_n.offsetIndex,Vn=$n;Vn<=pr;Vn++)Vn!==65535&&(Hn=Zn<0?Vn:lr[Zn+Vn-$n],Hn=Hn+Cr&65535,rr.push({charCode:Vn,glyphId:Hn}))}}else if(Wn===6){pn.skip(4);const qn=pn.getUint16(),Qn=pn.getUint16();for(Vn=0;Vn<Qn;Vn++){Hn=pn.getUint16();const Yn=qn+Vn;rr.push({charCode:Yn,glyphId:Hn})}}else{if(Wn!==12)return(0,s.warn)("cmap table has unsupported format: "+Wn),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};{pn.skip(10);const qn=pn.getInt32()>>>0;for(Vn=0;Vn<qn;Vn++){const Qn=pn.getInt32()>>>0,Yn=pn.getInt32()>>>0;let Zn=pn.getInt32()>>>0;for(let er=Qn;er<=Yn;er++)rr.push({charCode:er,glyphId:Zn++})}}}rr.sort(function(qn,Qn){return qn.charCode-Qn.charCode});for(let qn=1;qn<rr.length;qn++)rr[qn-1].charCode===rr[qn].charCode&&(rr.splice(qn,1),qn--);return{platformId:Un.platformId,encodingId:Un.encodingId,mappings:rr,hasShortCmap:Kn}}(Yt.cmap,It,this.isSymbolicFont,j.hasEncoding),on=rn.platformId,mn=rn.encodingId,gn=rn.mappings;let dn=[],Sn=!1;if(!j.hasEncoding||j.baseEncodingName!=="MacRomanEncoding"&&j.baseEncodingName!=="WinAnsiEncoding"||(dn=(0,d.getEncoding)(j.baseEncodingName)),j.hasEncoding&&!this.isSymbolicFont&&(on===3&&mn===1||on===1&&mn===0)){const bn=(0,i.getGlyphsUnicode)();for(let yn=0;yn<256;yn++){let pn;if(pn=this.differences[yn]!==void 0?this.differences[yn]:dn.length&&dn[yn]!==""?dn[yn]:d.StandardEncoding[yn],!pn)continue;const Dn=(0,St.recoverGlyphName)(pn,bn);let Tn;if(on===3&&mn===1?Tn=bn[Dn]:on===1&&mn===0&&(Tn=d.MacRomanEncoding.indexOf(Dn)),Tn===void 0){if(!j.glyphNames&&j.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof dt.IdentityToUnicodeMap)){const _n=this.toUnicode.get(yn);_n&&(Tn=_n.codePointAt(0))}if(Tn===void 0)continue}for(const _n of gn)if(_n.charCode===Tn){sn[yn]=_n.glyphId;break}}}else if(on===0){for(const bn of gn)sn[bn.charCode]=bn.glyphId;Sn=!0}else for(const bn of gn){let yn=bn.charCode;on===3&&yn>=61440&&yn<=61695&&(yn&=255),sn[yn]=bn.glyphId}if(j.glyphNames&&(dn.length||this.differences.length))for(let bn=0;bn<256;++bn){if(!Sn&&sn[bn]!==void 0)continue;const yn=this.differences[bn]||dn[bn];if(!yn)continue;const pn=j.glyphNames.indexOf(yn);pn>0&&En(pn)&&(sn[bn]=pn)}}sn.length===0&&(sn[0]=0);let Pn=An-1;if(cn||(Pn=0),!j.cssFontInfo){const rn=Lt(sn,En,Pn,this.toUnicode);this.toFontChar=rn.toFontChar,Yt.cmap={tag:"cmap",data:jt(rn.charCodeToGlyphId,rn.toUnicodeExtraMap,An)},Yt["OS/2"]&&function(mn,gn){gn.pos=(gn.start||0)+mn.offset;const dn=gn.getUint16();gn.skip(60);const Sn=gn.getUint16();return dn<4&&768&Sn||gn.getUint16()>gn.getUint16()||(gn.skip(6),gn.getUint16()===0)?!1:(mn.data[8]=mn.data[9]=0,!0)}(Yt["OS/2"],It)||(Yt["OS/2"]={tag:"OS/2",data:Ht(j,rn.charCodeToGlyphId,Rn)})}if(!en)try{nn=new tt.Stream(Yt["CFF "].data),tn=new bt.CFFParser(nn,j,St.SEAC_ANALYSIS_ENABLED).parse(),tn.duplicateFirstGlyph();const rn=new bt.CFFCompiler(tn);Yt["CFF "].data=rn.compile()}catch{(0,s.warn)("Failed to compile font "+j.loadedName)}if(Yt.name){const[rn,on]=qt(Yt.name);Yt.name.data=_e(Dt,rn),this.psName=rn[0][6]||null,j.composite||function(gn,dn,Sn){if(gn.isInternalFont||gn.hasIncludedToUnicodeMap||gn.hasEncoding||gn.toUnicode instanceof dt.IdentityToUnicodeMap||!dn||Sn.length===0||gn.defaultEncoding===d.WinAnsiEncoding)return;for(const Dn of Sn)if(!yt(Dn))return;const bn=d.WinAnsiEncoding,yn=[],pn=(0,i.getGlyphsUnicode)();for(const Dn in bn){const Tn=bn[Dn];if(Tn==="")continue;const _n=pn[Tn];_n!==void 0&&(yn[Dn]=String.fromCharCode(_n))}yn.length>0&&gn.toUnicode.amend(yn)}(j,this.isSymbolicFont,on)}else Yt.name={tag:"name",data:_e(this.name)};const Ln=new ct.OpenTypeFileBuilder(Zt.version);for(const rn in Yt)Ln.addTable(rn,Yt[rn].data);return Ln.toArray()}convert(Dt,It,j){j.fixedPitch=!1,j.builtInEncoding&&function(en,an){if(en.isInternalFont||en.hasIncludedToUnicodeMap||an===en.defaultEncoding||en.toUnicode instanceof dt.IdentityToUnicodeMap)return;const vn=[],An=(0,i.getGlyphsUnicode)();for(const cn in an){if(en.hasEncoding&&(en.baseEncodingName||en.differences[cn]!==void 0))continue;const hn=an[cn],fn=(0,e.getUnicodeForGlyph)(hn,An);fn!==-1&&(vn[cn]=String.fromCharCode(fn))}vn.length>0&&en.toUnicode.amend(vn)}(j,j.builtInEncoding);let At=1;It instanceof et.CFFFont&&(At=It.numGlyphs-1);const Mt=It.getGlyphMapping(j);let Rt=null,$t=Mt,zt=null;j.cssFontInfo||(Rt=Lt(Mt,It.hasGlyphId.bind(It),At,this.toUnicode),this.toFontChar=Rt.toFontChar,$t=Rt.charCodeToGlyphId,zt=Rt.toUnicodeExtraMap);const qt=It.numGlyphs;function Wt(nn,en){let an=null;for(const vn in nn)en===nn[vn]&&(an||(an=[])).push(0|vn);return an}function Gt(nn,en){for(const an in nn)if(en===nn[an])return 0|an;return Rt.charCodeToGlyphId[Rt.nextAvailableFontCharCode]=en,Rt.nextAvailableFontCharCode++}const Zt=It.seacs;if(Rt&&St.SEAC_ANALYSIS_ENABLED&&(Zt!=null&&Zt.length)){const nn=j.fontMatrix||s.FONT_IDENTITY_MATRIX,en=It.getCharset(),an=Object.create(null);for(let vn in Zt){vn|=0;const An=Zt[vn],cn=d.StandardEncoding[An[2]],hn=d.StandardEncoding[An[3]],fn=en.indexOf(cn),Cn=en.indexOf(hn);if(fn<0||Cn<0)continue;const kn={x:An[0]*nn[0]+An[1]*nn[2]+nn[4],y:An[0]*nn[1]+An[1]*nn[3]+nn[5]},Rn=Wt(Mt,vn);if(Rn)for(const sn of Rn){const En=Rt.charCodeToGlyphId,Pn=Gt(En,fn),Ln=Gt(En,Cn);an[sn]={baseFontCharCode:Pn,accentFontCharCode:Ln,accentOffset:kn}}}j.seacMap=an}const Yt=1/(j.fontMatrix||s.FONT_IDENTITY_MATRIX)[0],tn=new ct.OpenTypeFileBuilder("OTTO");return tn.addTable("CFF ",It.data),tn.addTable("OS/2",Ht(j,$t)),tn.addTable("cmap",jt($t,zt,qt)),tn.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+Ot(Yt)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+Ot(j.descent)+"ÿ"+Ot(j.ascent)+pt(j.italicAngle?2:0)+"\0\0\0\0\0\0\0"),tn.addTable("hhea","\0\0\0"+Ot(j.ascent)+Ot(j.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+Ot(j.capHeight)+Ot(Math.tan(j.italicAngle)*j.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+pt(qt)),tn.addTable("hmtx",function(){const en=It.charstrings,an=It.cff?It.cff.widths:null;let vn="\0\0\0\0";for(let An=1,cn=qt;An<cn;An++){let hn=0;if(en){const fn=en[An-1];hn="width"in fn?fn.width:0}else an&&(hn=Math.ceil(an[An]||0));vn+=pt(hn)+pt(0)}return vn}()),tn.addTable("maxp","\0\0P\0"+pt(qt)),tn.addTable("name",_e(Dt)),tn.addTable("post",Vt(j)),tn.toArray()}get spaceWidth(){const Dt=["space","minus","one","i","I"];let It;for(const j of Dt){if(j in this.widths){It=this.widths[j];break}const At=(0,i.getGlyphsUnicode)()[j];let Mt=0;if(this.composite&&this.cMap.contains(At)&&(Mt=this.cMap.lookup(At),typeof Mt=="string"&&(Mt=vt(At,Mt))),!Mt&&this.toUnicode&&(Mt=this.toUnicode.charCodeOf(At)),Mt<=0&&(Mt=At),It=this.widths[Mt],It)break}return(0,s.shadow)(this,"spaceWidth",It||this.defaultWidth)}_charToGlyph(Dt,It=!1){var Yt,tn,nn;let j,At,Mt,Rt=this._glyphCache[Dt];if((Rt==null?void 0:Rt.isSpace)===It)return Rt;let $t=Dt;(Yt=this.cMap)!=null&&Yt.contains(Dt)&&($t=this.cMap.lookup(Dt),typeof $t=="string"&&($t=vt(Dt,$t))),At=this.widths[$t],typeof At!="number"&&(At=this.defaultWidth);const zt=(tn=this.vmetrics)==null?void 0:tn[$t];let qt=this.toUnicode.get(Dt)||Dt;typeof qt=="number"&&(qt=String.fromCharCode(qt));let Wt=this.toFontChar[Dt]!==void 0;if(j=this.toFontChar[Dt]||Dt,this.missingFile){const en=this.differences[Dt]||this.defaultEncoding[Dt];en!==".notdef"&&en!==""||this.type!=="Type1"||(j=32),j=(0,e.mapSpecialUnicodeValues)(j)}this.isType3Font&&(Mt=j);let Gt=null;if((nn=this.seacMap)!=null&&nn[Dt]){Wt=!0;const en=this.seacMap[Dt];j=en.baseFontCharCode,Gt={fontChar:String.fromCodePoint(en.accentFontCharCode),offset:en.accentOffset}}let Zt="";return typeof j=="number"&&(j<=1114111?Zt=String.fromCodePoint(j):(0,s.warn)(`charToGlyph - invalid fontCharCode: ${j}`)),Rt=new rt(Dt,Zt,qt,Gt,At,zt,Mt,It,Wt),this._glyphCache[Dt]=Rt}charsToGlyphs(Dt){let It=this._charsCache[Dt];if(It)return It;if(It=[],this.cMap){const j=Object.create(null),At=Dt.length;let Mt=0;for(;Mt<At;){this.cMap.readCharCode(Dt,Mt,j);const{charcode:Rt,length:$t}=j;Mt+=$t;const zt=this._charToGlyph(Rt,$t===1&&Dt.charCodeAt(Mt-1)===32);It.push(zt)}}else for(let j=0,At=Dt.length;j<At;++j){const Mt=Dt.charCodeAt(j),Rt=this._charToGlyph(Mt,Mt===32);It.push(Rt)}return this._charsCache[Dt]=It}getCharPositions(Dt){const It=[];if(this.cMap){const j=Object.create(null);let At=0;for(;At<Dt.length;){this.cMap.readCharCode(Dt,At,j);const Mt=j.length;It.push([At,At+Mt]),At+=Mt}}else for(let j=0,At=Dt.length;j<At;++j)It.push([j,j+1]);return It}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Dt){const It=[],j=[],At=()=>It.length%2==1,Mt=this.toUnicode instanceof dt.IdentityToUnicodeMap?Rt=>this.toUnicode.charCodeOf(Rt):Rt=>this.toUnicode.charCodeOf(String.fromCodePoint(Rt));for(let Rt=0,$t=Dt.length;Rt<$t;Rt++){const zt=Dt.codePointAt(Rt);if(zt>55295&&(zt<57344||zt>65533)&&Rt++,this.toUnicode){const qt=Mt(zt);if(qt!==-1){At()&&(It.push(j.join("")),j.length=0);for(let Wt=(this.cMap?this.cMap.getCharCodeLength(qt):1)-1;Wt>=0;Wt--)j.push(String.fromCharCode(qt>>8*Wt&255));continue}}At()||(It.push(j.join("")),j.length=0),j.push(String.fromCodePoint(zt))}return It.push(j.join("")),It}},$.ErrorFont=class{constructor(Dt){this.error=Dt,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Dt){return[Dt]}exportData(Dt=!1){return{error:this.error}}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CFFTopDict=$.CFFStrings=$.CFFStandardStrings=$.CFFPrivateDict=$.CFFParser=$.CFFIndex=$.CFFHeader=$.CFFFDSelect=$.CFFCompiler=$.CFFCharset=$.CFF=void 0;var s=_t(2),bt=_t(36),St=_t(37);const e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];$.CFFStandardStrings=e;const i=391,d=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],ut=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(Et,rt){Et[rt-2]=Et[rt-2]+Et[rt-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(Et,rt){Et[rt-2]=Et[rt-2]-Et[rt-1]}},{id:"div",min:2,stackDelta:-1,stackFn(Et,rt){Et[rt-2]=Et[rt-2]/Et[rt-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(Et,rt){Et[rt-1]=-Et[rt-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(Et,rt){Et[rt-2]=Et[rt-2]*Et[rt-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];$.CFFParser=class{constructor(rt,ft,wt){this.bytes=rt.getBytes(),this.properties=ft,this.seacAnalysisEnabled=!!wt}parse(){const rt=this.properties,ft=new dt;this.cff=ft;const wt=this.parseHeader(),b=this.parseIndex(wt.endPos),pt=this.parseIndex(b.endPos),Ot=this.parseIndex(pt.endPos),kt=this.parseIndex(Ot.endPos),st=this.parseDict(pt.obj.get(0)),nt=this.createDict(ct,st,ft.strings);ft.header=wt.obj,ft.names=this.parseNameIndex(b.obj),ft.strings=this.parseStringIndex(Ot.obj),ft.topDict=nt,ft.globalSubrIndex=kt.obj,this.parsePrivateDict(ft.topDict),ft.isCIDFont=nt.hasName("ROS");const gt=nt.getByName("CharStrings"),Ft=this.parseIndex(gt).obj,yt=nt.getByName("FontMatrix");yt&&(rt.fontMatrix=yt);const vt=nt.getByName("FontBBox");vt&&(rt.ascent=Math.max(vt[3],vt[1]),rt.descent=Math.min(vt[1],vt[3]),rt.ascentScaled=!0);let Lt,jt;if(ft.isCIDFont){const Vt=this.parseIndex(nt.getByName("FDArray")).obj;for(let Qt=0,_e=Vt.count;Qt<_e;++Qt){const Xt=Vt.get(Qt),Dt=this.createDict(ct,this.parseDict(Xt),ft.strings);this.parsePrivateDict(Dt),ft.fdArray.push(Dt)}jt=null,Lt=this.parseCharsets(nt.getByName("charset"),Ft.count,ft.strings,!0),ft.fdSelect=this.parseFDSelect(nt.getByName("FDSelect"),Ft.count)}else Lt=this.parseCharsets(nt.getByName("charset"),Ft.count,ft.strings,!1),jt=this.parseEncoding(nt.getByName("Encoding"),rt,ft.strings,Lt.charset);ft.charset=Lt,ft.encoding=jt;const Ht=this.parseCharStrings({charStrings:Ft,localSubrIndex:nt.privateDict.subrsIndex,globalSubrIndex:kt.obj,fdSelect:ft.fdSelect,fdArray:ft.fdArray,privateDict:nt.privateDict});return ft.charStrings=Ht.charStrings,ft.seacs=Ht.seacs,ft.widths=Ht.widths,ft}parseHeader(){let rt=this.bytes;const ft=rt.length;let wt=0;for(;wt<ft&&rt[wt]!==1;)++wt;if(wt>=ft)throw new s.FormatError("Invalid CFF header");wt!==0&&((0,s.info)("cff data is shifted"),rt=rt.subarray(wt),this.bytes=rt);const b=rt[0],pt=rt[1],Ot=rt[2],kt=rt[3];return{obj:new et(b,pt,Ot,kt),endPos:Ot}}parseDict(rt){let ft=0;function wt(){let kt=rt[ft++];return kt===30?function(){let nt="";const Ft=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],yt=rt.length;for(;ft<yt;){const vt=rt[ft++],Lt=vt>>4,jt=15&vt;if(Lt===15||(nt+=Ft[Lt],jt===15))break;nt+=Ft[jt]}return parseFloat(nt)}():kt===28?(kt=rt[ft++],kt=(kt<<24|rt[ft++]<<16)>>16,kt):kt===29?(kt=rt[ft++],kt=kt<<8|rt[ft++],kt=kt<<8|rt[ft++],kt=kt<<8|rt[ft++],kt):kt>=32&&kt<=246?kt-139:kt>=247&&kt<=250?256*(kt-247)+rt[ft++]+108:kt>=251&&kt<=254?-256*(kt-251)-rt[ft++]-108:((0,s.warn)('CFFParser_parseDict: "'+kt+'" is a reserved command.'),NaN)}let b=[];const pt=[];ft=0;const Ot=rt.length;for(;ft<Ot;){let kt=rt[ft];kt<=21?(kt===12&&(kt=kt<<8|rt[++ft]),pt.push([kt,b]),b=[],++ft):b.push(wt())}return pt}parseIndex(rt){const ft=new c,wt=this.bytes,b=wt[rt++]<<8|wt[rt++],pt=[];let Ot,kt,st=rt;if(b!==0){const nt=wt[rt++],gt=rt+(b+1)*nt-1;for(Ot=0,kt=b+1;Ot<kt;++Ot){let Ft=0;for(let yt=0;yt<nt;++yt)Ft<<=8,Ft+=wt[rt++];pt.push(gt+Ft)}st=pt[b]}for(Ot=0,kt=pt.length-1;Ot<kt;++Ot){const nt=pt[Ot],gt=pt[Ot+1];ft.add(wt.subarray(nt,gt))}return{obj:ft,endPos:st}}parseNameIndex(rt){const ft=[];for(let wt=0,b=rt.count;wt<b;++wt){const pt=rt.get(wt);ft.push((0,s.bytesToString)(pt))}return ft}parseStringIndex(rt){const ft=new _;for(let wt=0,b=rt.count;wt<b;++wt){const pt=rt.get(wt);ft.add((0,s.bytesToString)(pt))}return ft}createDict(rt,ft,wt){const b=new rt(wt);for(const[pt,Ot]of ft)b.setByKey(pt,Ot);return b}parseCharString(rt,ft,wt,b){if(!ft||rt.callDepth>10)return!1;let pt=rt.stackSize;const Ot=rt.stack;let kt=ft.length;for(let st=0;st<kt;){const nt=ft[st++];let gt=null;if(nt===12){const Ft=ft[st++];Ft===0?(ft[st-2]=139,ft[st-1]=22,pt=0):gt=ut[Ft]}else if(nt===28)Ot[pt]=(ft[st]<<24|ft[st+1]<<16)>>16,st+=2,pt++;else if(nt===14){if(pt>=4&&(pt-=4,this.seacAnalysisEnabled))return rt.seac=Ot.slice(pt,pt+4),!1;gt=d[nt]}else if(nt>=32&&nt<=246)Ot[pt]=nt-139,pt++;else if(nt>=247&&nt<=254)Ot[pt]=nt<251?(nt-247<<8)+ft[st]+108:-(nt-251<<8)-ft[st]-108,st++,pt++;else if(nt===255)Ot[pt]=(ft[st]<<24|ft[st+1]<<16|ft[st+2]<<8|ft[st+3])/65536,st+=4,pt++;else if(nt===19||nt===20){if(rt.hints+=pt>>1,rt.hints===0){ft.copyWithin(st-1,st,-1),st-=1,kt-=1;continue}st+=rt.hints+7>>3,pt%=2,gt=d[nt]}else{if(nt===10||nt===29){const Ft=nt===10?wt:b;if(!Ft)return gt=d[nt],(0,s.warn)("Missing subrsIndex for "+gt.id),!1;let yt=32768;Ft.count<1240?yt=107:Ft.count<33900&&(yt=1131);const vt=Ot[--pt]+yt;if(vt<0||vt>=Ft.count||isNaN(vt))return gt=d[nt],(0,s.warn)("Out of bounds subrIndex for "+gt.id),!1;if(rt.stackSize=pt,rt.callDepth++,!this.parseCharString(rt,Ft.get(vt),wt,b))return!1;rt.callDepth--,pt=rt.stackSize;continue}if(nt===11)return rt.stackSize=pt,!0;if(nt===0&&st===ft.length)ft[st-1]=14,gt=d[14];else{if(nt===9){ft.copyWithin(st-1,st,-1),st-=1,kt-=1;continue}gt=d[nt]}}if(gt){if(gt.stem&&(rt.hints+=pt>>1,nt===3||nt===23?rt.hasVStems=!0:rt.hasVStems&&(nt===1||nt===18)&&((0,s.warn)("CFF stem hints are in wrong order"),ft[st-1]=nt===1?3:23)),"min"in gt&&!rt.undefStack&&pt<gt.min)return(0,s.warn)("Not enough parameters for "+gt.id+"; actual: "+pt+", expected: "+gt.min),pt===0?(ft[st-1]=14,!0):!1;rt.firstStackClearing&&gt.stackClearing&&(rt.firstStackClearing=!1,pt-=gt.min,pt>=2&&gt.stem?pt%=2:pt>1&&(0,s.warn)("Found too many parameters for stack-clearing command"),pt>0&&(rt.width=Ot[pt-1])),"stackDelta"in gt?("stackFn"in gt&&gt.stackFn(Ot,pt),pt+=gt.stackDelta):gt.stackClearing?pt=0:gt.resetStack?(pt=0,rt.undefStack=!1):gt.undefStack&&(pt=0,rt.undefStack=!0,rt.firstStackClearing=!1)}}return kt<ft.length&&ft.fill(14,kt),rt.stackSize=pt,!0}parseCharStrings({charStrings:rt,localSubrIndex:ft,globalSubrIndex:wt,fdSelect:b,fdArray:pt,privateDict:Ot}){const kt=[],st=[],nt=rt.count;for(let gt=0;gt<nt;gt++){const Ft=rt.get(gt),yt={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let vt=!0,Lt=null,jt=Ot;if(b&&pt.length){const Ht=b.getFDIndex(gt);Ht===-1&&((0,s.warn)("Glyph index is not in fd select."),vt=!1),Ht>=pt.length&&((0,s.warn)("Invalid fd index for glyph index."),vt=!1),vt&&(jt=pt[Ht].privateDict,Lt=jt.subrsIndex)}else ft&&(Lt=ft);if(vt&&(vt=this.parseCharString(yt,Ft,Lt,wt)),yt.width!==null){const Ht=jt.getByName("nominalWidthX");st[gt]=Ht+yt.width}else{const Ht=jt.getByName("defaultWidthX");st[gt]=Ht}yt.seac!==null&&(kt[gt]=yt.seac),vt||rt.set(gt,new Uint8Array([14]))}return{charStrings:rt,seacs:kt,widths:st}}emptyPrivateDictionary(rt){const ft=this.createDict(tt,[],rt.strings);rt.setByKey(18,[0,0]),rt.privateDict=ft}parsePrivateDict(rt){if(!rt.hasName("Private")){this.emptyPrivateDictionary(rt);return}const ft=rt.getByName("Private");if(!Array.isArray(ft)||ft.length!==2){rt.removeByName("Private");return}const wt=ft[0],b=ft[1];if(wt===0||b>=this.bytes.length){this.emptyPrivateDictionary(rt);return}const pt=b+wt,Ot=this.bytes.subarray(b,pt),kt=this.parseDict(Ot),st=this.createDict(tt,kt,rt.strings);if(rt.privateDict=st,st.getByName("ExpansionFactor")===0&&st.setByName("ExpansionFactor",.06),!st.getByName("Subrs"))return;const nt=st.getByName("Subrs"),gt=b+nt;if(nt===0||gt>=this.bytes.length){this.emptyPrivateDictionary(rt);return}const Ft=this.parseIndex(gt);st.subrsIndex=Ft.obj}parseCharsets(rt,ft,wt,b){if(rt===0)return new mt(!0,ot.ISO_ADOBE,bt.ISOAdobeCharset);if(rt===1)return new mt(!0,ot.EXPERT,bt.ExpertCharset);if(rt===2)return new mt(!0,ot.EXPERT_SUBSET,bt.ExpertSubsetCharset);const pt=this.bytes,Ot=rt,kt=pt[rt++],st=[b?0:".notdef"];let nt,gt,Ft;switch(ft-=1,kt){case 0:for(Ft=0;Ft<ft;Ft++)nt=pt[rt++]<<8|pt[rt++],st.push(b?nt:wt.get(nt));break;case 1:for(;st.length<=ft;)for(nt=pt[rt++]<<8|pt[rt++],gt=pt[rt++],Ft=0;Ft<=gt;Ft++)st.push(b?nt++:wt.get(nt++));break;case 2:for(;st.length<=ft;)for(nt=pt[rt++]<<8|pt[rt++],gt=pt[rt++]<<8|pt[rt++],Ft=0;Ft<=gt;Ft++)st.push(b?nt++:wt.get(nt++));break;default:throw new s.FormatError("Unknown charset format")}const yt=rt,vt=pt.subarray(Ot,yt);return new mt(!1,kt,st,vt)}parseEncoding(rt,ft,wt,b){const pt=Object.create(null),Ot=this.bytes;let kt,st,nt,gt=!1,Ft=null;if(rt===0||rt===1){gt=!0,kt=rt;const yt=rt?St.ExpertEncoding:St.StandardEncoding;for(st=0,nt=b.length;st<nt;st++){const vt=yt.indexOf(b[st]);vt!==-1&&(pt[vt]=st)}}else{const yt=rt;switch(kt=Ot[rt++],127&kt){case 0:const Lt=Ot[rt++];for(st=1;st<=Lt;st++)pt[Ot[rt++]]=st;break;case 1:const jt=Ot[rt++];let Ht=1;for(st=0;st<jt;st++){const Vt=Ot[rt++],Qt=Ot[rt++];for(let _e=Vt;_e<=Vt+Qt;_e++)pt[_e]=Ht++}break;default:throw new s.FormatError(`Unknown encoding format: ${kt} in CFF`)}const vt=rt;128&kt&&(Ot[yt]&=127,function(){const jt=Ot[rt++];for(st=0;st<jt;st++){const Ht=Ot[rt++],Vt=(Ot[rt++]<<8)+(255&Ot[rt++]);pt[Ht]=b.indexOf(wt.get(Vt))}}()),Ft=Ot.subarray(yt,vt)}return kt&=127,new Ct(gt,kt,pt,Ft)}parseFDSelect(rt,ft){const wt=this.bytes,b=wt[rt++],pt=[];let Ot;switch(b){case 0:for(Ot=0;Ot<ft;++Ot){const st=wt[rt++];pt.push(st)}break;case 3:const kt=wt[rt++]<<8|wt[rt++];for(Ot=0;Ot<kt;++Ot){let st=wt[rt++]<<8|wt[rt++];Ot===0&&st!==0&&((0,s.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),st=0);const nt=wt[rt++],gt=wt[rt]<<8|wt[rt+1];for(let Ft=st;Ft<gt;++Ft)pt.push(nt)}rt+=2;break;default:throw new s.FormatError(`parseFDSelect: Unknown format "${b}".`)}if(pt.length!==ft)throw new s.FormatError("parseFDSelect: Invalid font data.");return new Nt(b,pt)}};class dt{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new _,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,s.warn)("Not enough space in charstrings to duplicate first glyph.");return}const rt=this.charStrings.get(0);this.charStrings.add(rt),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(rt){return rt<0||rt>=this.charStrings.count?!1:this.charStrings.get(rt).length>0}}$.CFF=dt;class et{constructor(rt,ft,wt,b){this.major=rt,this.minor=ft,this.hdrSize=wt,this.offSize=b}}$.CFFHeader=et;class _{constructor(){this.strings=[]}get(rt){return rt>=0&&rt<=390?e[rt]:rt-i<=this.strings.length?this.strings[rt-i]:e[0]}getSID(rt){let ft=e.indexOf(rt);return ft!==-1?ft:(ft=this.strings.indexOf(rt),ft!==-1?ft+i:-1)}add(rt){this.strings.push(rt)}get count(){return this.strings.length}}$.CFFStrings=_;class c{constructor(){this.objects=[],this.length=0}add(rt){this.length+=rt.length,this.objects.push(rt)}set(rt,ft){this.length+=ft.length-this.objects[rt].length,this.objects[rt]=ft}get(rt){return this.objects[rt]}get count(){return this.objects.length}}$.CFFIndex=c;class lt{constructor(rt,ft){this.keyToNameMap=rt.keyToNameMap,this.nameToKeyMap=rt.nameToKeyMap,this.defaults=rt.defaults,this.types=rt.types,this.opcodes=rt.opcodes,this.order=rt.order,this.strings=ft,this.values=Object.create(null)}setByKey(rt,ft){if(!(rt in this.keyToNameMap))return!1;if(ft.length===0)return!0;for(const b of ft)if(isNaN(b))return(0,s.warn)(`Invalid CFFDict value: "${ft}" for key "${rt}".`),!0;const wt=this.types[rt];return wt!=="num"&&wt!=="sid"&&wt!=="offset"||(ft=ft[0]),this.values[rt]=ft,!0}setByName(rt,ft){if(!(rt in this.nameToKeyMap))throw new s.FormatError(`Invalid dictionary name "${rt}"`);this.values[this.nameToKeyMap[rt]]=ft}hasName(rt){return this.nameToKeyMap[rt]in this.values}getByName(rt){if(!(rt in this.nameToKeyMap))throw new s.FormatError(`Invalid dictionary name ${rt}"`);const ft=this.nameToKeyMap[rt];return ft in this.values?this.values[ft]:this.defaults[ft]}removeByName(rt){delete this.values[this.nameToKeyMap[rt]]}static createTables(rt){const ft={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const wt of rt){const b=Array.isArray(wt[0])?(wt[0][0]<<8)+wt[0][1]:wt[0];ft.keyToNameMap[b]=wt[1],ft.nameToKeyMap[wt[1]]=b,ft.types[b]=wt[2],ft.defaults[b]=wt[3],ft.opcodes[b]=Array.isArray(wt[0])?wt[0]:[wt[0]],ft.order.push(b)}return ft}}const at=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class ct extends lt{static get tables(){return(0,s.shadow)(this,"tables",this.createTables(at))}constructor(rt){super(ct.tables,rt),this.privateDict=null}}$.CFFTopDict=ct;const it=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class tt extends lt{static get tables(){return(0,s.shadow)(this,"tables",this.createTables(it))}constructor(rt){super(tt.tables,rt),this.subrsIndex=null}}$.CFFPrivateDict=tt;const ot={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class mt{constructor(rt,ft,wt,b){this.predefined=rt,this.format=ft,this.charset=wt,this.raw=b}}$.CFFCharset=mt;class Ct{constructor(rt,ft,wt,b){this.predefined=rt,this.format=ft,this.encoding=wt,this.raw=b}}class Nt{constructor(rt,ft){this.format=rt,this.fdSelect=ft}getFDIndex(rt){return rt<0||rt>=this.fdSelect.length?-1:this.fdSelect[rt]}}$.CFFFDSelect=Nt;class Pt{constructor(){this.offsets=Object.create(null)}isTracking(rt){return rt in this.offsets}track(rt,ft){if(rt in this.offsets)throw new s.FormatError(`Already tracking location of ${rt}`);this.offsets[rt]=ft}offset(rt){for(const ft in this.offsets)this.offsets[ft]+=rt}setEntryLocation(rt,ft,wt){if(!(rt in this.offsets))throw new s.FormatError(`Not tracking location of ${rt}`);const b=wt.data,pt=this.offsets[rt];for(let Ot=0,kt=ft.length;Ot<kt;++Ot){const st=5*Ot+pt,nt=st+1,gt=st+2,Ft=st+3,yt=st+4;if(b[st]!==29||b[nt]!==0||b[gt]!==0||b[Ft]!==0||b[yt]!==0)throw new s.FormatError("writing to an offset that is not empty");const vt=ft[Ot];b[st]=29,b[nt]=vt>>24&255,b[gt]=vt>>16&255,b[Ft]=vt>>8&255,b[yt]=255&vt}}}class Tt{constructor(rt){this.cff=rt}compile(){const rt=this.cff,ft={data:[],length:0,add(yt){try{this.data.push(...yt)}catch{this.data=this.data.concat(yt)}this.length=this.data.length}},wt=this.compileHeader(rt.header);ft.add(wt);const b=this.compileNameIndex(rt.names);if(ft.add(b),rt.isCIDFont&&rt.topDict.hasName("FontMatrix")){const yt=rt.topDict.getByName("FontMatrix");rt.topDict.removeByName("FontMatrix");for(const vt of rt.fdArray){let Lt=yt.slice(0);vt.hasName("FontMatrix")&&(Lt=s.Util.transform(Lt,vt.getByName("FontMatrix"))),vt.setByName("FontMatrix",Lt)}}const pt=rt.topDict.getByName("XUID");(pt==null?void 0:pt.length)>16&&rt.topDict.removeByName("XUID"),rt.topDict.setByName("charset",0);let Ot=this.compileTopDicts([rt.topDict],ft.length,rt.isCIDFont);ft.add(Ot.output);const kt=Ot.trackers[0],st=this.compileStringIndex(rt.strings.strings);ft.add(st);const nt=this.compileIndex(rt.globalSubrIndex);if(ft.add(nt),rt.encoding&&rt.topDict.hasName("Encoding"))if(rt.encoding.predefined)kt.setEntryLocation("Encoding",[rt.encoding.format],ft);else{const yt=this.compileEncoding(rt.encoding);kt.setEntryLocation("Encoding",[ft.length],ft),ft.add(yt)}const gt=this.compileCharset(rt.charset,rt.charStrings.count,rt.strings,rt.isCIDFont);kt.setEntryLocation("charset",[ft.length],ft),ft.add(gt);const Ft=this.compileCharStrings(rt.charStrings);if(kt.setEntryLocation("CharStrings",[ft.length],ft),ft.add(Ft),rt.isCIDFont){kt.setEntryLocation("FDSelect",[ft.length],ft);const yt=this.compileFDSelect(rt.fdSelect);ft.add(yt),Ot=this.compileTopDicts(rt.fdArray,ft.length,!0),kt.setEntryLocation("FDArray",[ft.length],ft),ft.add(Ot.output);const vt=Ot.trackers;this.compilePrivateDicts(rt.fdArray,vt,ft)}return this.compilePrivateDicts([rt.topDict],[kt],ft),ft.add([0]),ft.data}encodeNumber(rt){return Number.isInteger(rt)?this.encodeInteger(rt):this.encodeFloat(rt)}static get EncodeFloatRegExp(){return(0,s.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(rt){let ft=rt.toString();const wt=Tt.EncodeFloatRegExp.exec(ft);if(wt){const st=parseFloat("1e"+((wt[2]?+wt[2]:0)+wt[1].length));ft=(Math.round(rt*st)/st).toString()}let b,pt,Ot="";for(b=0,pt=ft.length;b<pt;++b){const st=ft[b];Ot+=st==="e"?ft[++b]==="-"?"c":"b":st==="."?"a":st==="-"?"e":st}Ot+=1&Ot.length?"f":"ff";const kt=[30];for(b=0,pt=Ot.length;b<pt;b+=2)kt.push(parseInt(Ot.substring(b,b+2),16));return kt}encodeInteger(rt){let ft;return ft=rt>=-107&&rt<=107?[rt+139]:rt>=108&&rt<=1131?[247+((rt-=108)>>8),255&rt]:rt>=-1131&&rt<=-108?[251+((rt=-rt-108)>>8),255&rt]:rt>=-32768&&rt<=32767?[28,rt>>8&255,255&rt]:[29,rt>>24&255,rt>>16&255,rt>>8&255,255&rt],ft}compileHeader(rt){return[rt.major,rt.minor,4,rt.offSize]}compileNameIndex(rt){const ft=new c;for(const wt of rt){const b=Math.min(wt.length,127);let pt=new Array(b);for(let Ot=0;Ot<b;Ot++){let kt=wt[Ot];(kt<"!"||kt>"~"||kt==="["||kt==="]"||kt==="("||kt===")"||kt==="{"||kt==="}"||kt==="<"||kt===">"||kt==="/"||kt==="%")&&(kt="_"),pt[Ot]=kt}pt=pt.join(""),pt===""&&(pt="Bad_Font_Name"),ft.add((0,s.stringToBytes)(pt))}return this.compileIndex(ft)}compileTopDicts(rt,ft,wt){const b=[];let pt=new c;for(const Ot of rt){wt&&(Ot.removeByName("CIDFontVersion"),Ot.removeByName("CIDFontRevision"),Ot.removeByName("CIDFontType"),Ot.removeByName("CIDCount"),Ot.removeByName("UIDBase"));const kt=new Pt,st=this.compileDict(Ot,kt);b.push(kt),pt.add(st),kt.offset(ft)}return pt=this.compileIndex(pt,b),{trackers:b,output:pt}}compilePrivateDicts(rt,ft,wt){for(let b=0,pt=rt.length;b<pt;++b){const Ot=rt[b],kt=Ot.privateDict;if(!kt||!Ot.hasName("Private"))throw new s.FormatError("There must be a private dictionary.");const st=new Pt,nt=this.compileDict(kt,st);let gt=wt.length;if(st.offset(gt),nt.length||(gt=0),ft[b].setEntryLocation("Private",[nt.length,gt],wt),wt.add(nt),kt.subrsIndex&&kt.hasName("Subrs")){const Ft=this.compileIndex(kt.subrsIndex);st.setEntryLocation("Subrs",[nt.length],wt),wt.add(Ft)}}}compileDict(rt,ft){const wt=[];for(const b of rt.order){if(!(b in rt.values))continue;let pt=rt.values[b],Ot=rt.types[b];if(Array.isArray(Ot)||(Ot=[Ot]),Array.isArray(pt)||(pt=[pt]),pt.length!==0){for(let kt=0,st=Ot.length;kt<st;++kt){const nt=Ot[kt],gt=pt[kt];switch(nt){case"num":case"sid":wt.push(...this.encodeNumber(gt));break;case"offset":const Ft=rt.keyToNameMap[b];ft.isTracking(Ft)||ft.track(Ft,wt.length),wt.push(29,0,0,0,0);break;case"array":case"delta":wt.push(...this.encodeNumber(gt));for(let yt=1,vt=pt.length;yt<vt;++yt)wt.push(...this.encodeNumber(pt[yt]));break;default:throw new s.FormatError(`Unknown data type of ${nt}`)}}wt.push(...rt.opcodes[b])}}return wt}compileStringIndex(rt){const ft=new c;for(const wt of rt)ft.add((0,s.stringToBytes)(wt));return this.compileIndex(ft)}compileCharStrings(rt){const ft=new c;for(let wt=0;wt<rt.count;wt++){const b=rt.get(wt);b.length!==0?ft.add(b):ft.add(new Uint8Array([139,14]))}return this.compileIndex(ft)}compileCharset(rt,ft,wt,b){let pt;const Ot=ft-1;if(b)pt=new Uint8Array([2,0,0,Ot>>8&255,255&Ot]);else{pt=new Uint8Array(1+2*Ot),pt[0]=0;let kt=0;const st=rt.charset.length;let nt=!1;for(let gt=1;gt<pt.length;gt+=2){let Ft=0;if(kt<st){const yt=rt.charset[kt++];Ft=wt.getSID(yt),Ft===-1&&(Ft=0,nt||(nt=!0,(0,s.warn)(`Couldn't find ${yt} in CFF strings`)))}pt[gt]=Ft>>8&255,pt[gt+1]=255&Ft}}return this.compileTypedArray(pt)}compileEncoding(rt){return this.compileTypedArray(rt.raw)}compileFDSelect(rt){const ft=rt.format;let wt,b;switch(ft){case 0:for(wt=new Uint8Array(1+rt.fdSelect.length),wt[0]=ft,b=0;b<rt.fdSelect.length;b++)wt[b+1]=rt.fdSelect[b];break;case 3:const pt=0;let Ot=rt.fdSelect[0];const kt=[ft,0,0,pt>>8&255,255&pt,Ot];for(b=1;b<rt.fdSelect.length;b++){const nt=rt.fdSelect[b];nt!==Ot&&(kt.push(b>>8&255,255&b,nt),Ot=nt)}const st=(kt.length-3)/3;kt[1]=st>>8&255,kt[2]=255&st,kt.push(b>>8&255,255&b),wt=new Uint8Array(kt)}return this.compileTypedArray(wt)}compileTypedArray(rt){return Array.from(rt)}compileIndex(rt,ft=[]){const wt=rt.objects,b=wt.length;if(b===0)return[0,0];const pt=[b>>8&255,255&b];let Ot,kt,st=1;for(Ot=0;Ot<b;++Ot)st+=wt[Ot].length;kt=st<256?1:st<65536?2:st<16777216?3:4,pt.push(kt);let nt=1;for(Ot=0;Ot<b+1;Ot++)kt===1?pt.push(255&nt):kt===2?pt.push(nt>>8&255,255&nt):kt===3?pt.push(nt>>16&255,nt>>8&255,255&nt):pt.push(nt>>>24&255,nt>>16&255,nt>>8&255,255&nt),wt[Ot]&&(nt+=wt[Ot].length);for(Ot=0;Ot<b;Ot++)ft[Ot]&&ft[Ot].offset(pt.length),pt.push(...wt[Ot]);return pt}}$.CFFCompiler=Tt},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ISOAdobeCharset=$.ExpertSubsetCharset=$.ExpertCharset=void 0,$.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],$.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],$.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ZapfDingbatsEncoding=$.WinAnsiEncoding=$.SymbolSetEncoding=$.StandardEncoding=$.MacRomanEncoding=$.ExpertEncoding=void 0,$.getEncoding=function(dt){switch(dt){case"WinAnsiEncoding":return e;case"StandardEncoding":return St;case"MacRomanEncoding":return bt;case"SymbolSetEncoding":return i;case"ZapfDingbatsEncoding":return d;case"ExpertEncoding":return _t;case"MacExpertEncoding":return s;default:return null}};const _t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];$.ExpertEncoding=_t;const s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],bt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];$.MacRomanEncoding=bt;const St=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];$.StandardEncoding=St;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];$.WinAnsiEncoding=e;const i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];$.SymbolSetEncoding=i;const d=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];$.ZapfDingbatsEncoding=d},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SEAC_ANALYSIS_ENABLED=$.MacStandardGlyphOrdering=$.FontFlags=void 0,$.normalizeFontName=function(dt){return dt.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")},$.recoverGlyphName=d,$.type1FontGlyphMapping=function(dt,et,_){const c=Object.create(null);let lt,at,ct;const it=!!(dt.flags&i.Symbolic);if(dt.isInternalFont)for(ct=et,at=0;at<ct.length;at++)lt=_.indexOf(ct[at]),c[at]=lt>=0?lt:0;else if(dt.baseEncodingName)for(ct=(0,s.getEncoding)(dt.baseEncodingName),at=0;at<ct.length;at++)lt=_.indexOf(ct[at]),c[at]=lt>=0?lt:0;else if(it)for(at in et)c[at]=et[at];else for(ct=s.StandardEncoding,at=0;at<ct.length;at++)lt=_.indexOf(ct[at]),c[at]=lt>=0?lt:0;const tt=dt.differences;let ot;if(tt)for(at in tt){const mt=tt[at];if(lt=_.indexOf(mt),lt===-1){ot||(ot=(0,bt.getGlyphsUnicode)());const Ct=d(mt,ot);Ct!==mt&&(lt=_.indexOf(Ct))}c[at]=lt>=0?lt:0}return c};var s=_t(37),bt=_t(39),St=_t(40),e=_t(2);$.SEAC_ANALYSIS_ENABLED=!0;const i={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};$.FontFlags=i,$.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function d(ut,dt){if(dt[ut]!==void 0)return ut;const et=(0,St.getUnicodeForGlyph)(ut,dt);if(et!==-1){for(const _ in dt)if(dt[_]===et)return _}return(0,e.info)("Unable to recover a standard glyph name for: "+ut),ut}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getGlyphsUnicode=$.getDingbatsGlyphsUnicode=void 0;var s=_t(3);const bt=(0,s.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});$.getGlyphsUnicode=bt;const St=(0,s.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});$.getDingbatsGlyphsUnicode=St},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.clearUnicodeCaches=function(){e.clear()},$.getCharUnicodeCategory=function(d){const ut=e.get(d);if(ut)return ut;const dt=d.match(St),et={isWhitespace:!!(dt!=null&&dt[1]),isZeroWidthDiacritic:!!(dt!=null&&dt[2]),isInvisibleFormatMark:!!(dt!=null&&dt[3])};return e.set(d,et),et},$.getUnicodeForGlyph=function(d,ut){let dt=ut[d];if(dt!==void 0)return dt;if(!d)return-1;if(d[0]==="u"){const et=d.length;let _;if(et===7&&d[1]==="n"&&d[2]==="i")_=d.substring(3);else{if(!(et>=5&&et<=7))return-1;_=d.substring(1)}if(_===_.toUpperCase()&&(dt=parseInt(_,16),dt>=0))return dt}return-1},$.getUnicodeRangeFor=function(d,ut=-1){if(ut!==-1){const dt=bt[ut];for(let et=0,_=dt.length;et<_;et+=2)if(d>=dt[et]&&d<=dt[et+1])return ut}for(let dt=0,et=bt.length;dt<et;dt++){const _=bt[dt];for(let c=0,lt=_.length;c<lt;c+=2)if(d>=_[c]&&d<=_[c+1])return dt}return-1},$.mapSpecialUnicodeValues=function(d){return d>=65520&&d<=65535?0:d>=62976&&d<=63743?s()[d]||d:d===173?45:d};const s=(0,_t(3).getLookupTableFactory)(function(i){i[63721]=169,i[63193]=169,i[63720]=174,i[63194]=174,i[63722]=8482,i[63195]=8482,i[63729]=9127,i[63730]=9128,i[63731]=9129,i[63740]=9131,i[63741]=9132,i[63742]=9133,i[63726]=9121,i[63727]=9122,i[63728]=9123,i[63737]=9124,i[63738]=9125,i[63739]=9126,i[63723]=9115,i[63724]=9116,i[63725]=9117,i[63734]=9118,i[63735]=9119,i[63736]=9120}),bt=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]],St=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),e=new Map},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getSerifFonts=$.getNonStdFontMap=$.getGlyphMapForStandardFonts=$.getFontNameToFileMap=void 0,$.getStandardFontName=function(lt){const at=(0,bt.normalizeFontName)(lt);return St()[at]},$.getSymbolsFonts=$.getSupplementalGlyphMapForCalibri=$.getSupplementalGlyphMapForArialBlack=$.getStdFontMap=void 0,$.isKnownFontName=function(lt){const at=(0,bt.normalizeFontName)(lt);return!!(St()[at]||i()[at]||d()[at]||ut()[at])};var s=_t(3),bt=_t(38);const St=(0,s.getLookupTableFactory)(function(c){c["Times-Roman"]="Times-Roman",c.Helvetica="Helvetica",c.Courier="Courier",c.Symbol="Symbol",c["Times-Bold"]="Times-Bold",c["Helvetica-Bold"]="Helvetica-Bold",c["Courier-Bold"]="Courier-Bold",c.ZapfDingbats="ZapfDingbats",c["Times-Italic"]="Times-Italic",c["Helvetica-Oblique"]="Helvetica-Oblique",c["Courier-Oblique"]="Courier-Oblique",c["Times-BoldItalic"]="Times-BoldItalic",c["Helvetica-BoldOblique"]="Helvetica-BoldOblique",c["Courier-BoldOblique"]="Courier-BoldOblique",c.ArialNarrow="Helvetica",c["ArialNarrow-Bold"]="Helvetica-Bold",c["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",c["ArialNarrow-Italic"]="Helvetica-Oblique",c.ArialBlack="Helvetica",c["ArialBlack-Bold"]="Helvetica-Bold",c["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",c["ArialBlack-Italic"]="Helvetica-Oblique",c["Arial-Black"]="Helvetica",c["Arial-Black-Bold"]="Helvetica-Bold",c["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",c["Arial-Black-Italic"]="Helvetica-Oblique",c.Arial="Helvetica",c["Arial-Bold"]="Helvetica-Bold",c["Arial-BoldItalic"]="Helvetica-BoldOblique",c["Arial-Italic"]="Helvetica-Oblique",c.ArialMT="Helvetica",c["Arial-BoldItalicMT"]="Helvetica-BoldOblique",c["Arial-BoldMT"]="Helvetica-Bold",c["Arial-ItalicMT"]="Helvetica-Oblique",c["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",c["Arial-BoldMT-Bold"]="Helvetica-Bold",c["Arial-ItalicMT-Italic"]="Helvetica-Oblique",c.ArialUnicodeMS="Helvetica",c["ArialUnicodeMS-Bold"]="Helvetica-Bold",c["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",c["ArialUnicodeMS-Italic"]="Helvetica-Oblique",c["Courier-BoldItalic"]="Courier-BoldOblique",c["Courier-Italic"]="Courier-Oblique",c.CourierNew="Courier",c["CourierNew-Bold"]="Courier-Bold",c["CourierNew-BoldItalic"]="Courier-BoldOblique",c["CourierNew-Italic"]="Courier-Oblique",c["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",c["CourierNewPS-BoldMT"]="Courier-Bold",c["CourierNewPS-ItalicMT"]="Courier-Oblique",c.CourierNewPSMT="Courier",c["Helvetica-BoldItalic"]="Helvetica-BoldOblique",c["Helvetica-Italic"]="Helvetica-Oblique",c["Symbol-Bold"]="Symbol",c["Symbol-BoldItalic"]="Symbol",c["Symbol-Italic"]="Symbol",c.TimesNewRoman="Times-Roman",c["TimesNewRoman-Bold"]="Times-Bold",c["TimesNewRoman-BoldItalic"]="Times-BoldItalic",c["TimesNewRoman-Italic"]="Times-Italic",c.TimesNewRomanPS="Times-Roman",c["TimesNewRomanPS-Bold"]="Times-Bold",c["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",c["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",c["TimesNewRomanPS-BoldMT"]="Times-Bold",c["TimesNewRomanPS-Italic"]="Times-Italic",c["TimesNewRomanPS-ItalicMT"]="Times-Italic",c.TimesNewRomanPSMT="Times-Roman",c["TimesNewRomanPSMT-Bold"]="Times-Bold",c["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",c["TimesNewRomanPSMT-Italic"]="Times-Italic"});$.getStdFontMap=St;const e=(0,s.getLookupTableFactory)(function(c){c.Courier="FoxitFixed.pfb",c["Courier-Bold"]="FoxitFixedBold.pfb",c["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",c["Courier-Oblique"]="FoxitFixedItalic.pfb",c.Helvetica="LiberationSans-Regular.ttf",c["Helvetica-Bold"]="LiberationSans-Bold.ttf",c["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",c["Helvetica-Oblique"]="LiberationSans-Italic.ttf",c["Times-Roman"]="FoxitSerif.pfb",c["Times-Bold"]="FoxitSerifBold.pfb",c["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",c["Times-Italic"]="FoxitSerifItalic.pfb",c.Symbol="FoxitSymbol.pfb",c.ZapfDingbats="FoxitDingbats.pfb",c["LiberationSans-Regular"]="LiberationSans-Regular.ttf",c["LiberationSans-Bold"]="LiberationSans-Bold.ttf",c["LiberationSans-Italic"]="LiberationSans-Italic.ttf",c["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});$.getFontNameToFileMap=e;const i=(0,s.getLookupTableFactory)(function(c){c.Calibri="Helvetica",c["Calibri-Bold"]="Helvetica-Bold",c["Calibri-BoldItalic"]="Helvetica-BoldOblique",c["Calibri-Italic"]="Helvetica-Oblique",c.CenturyGothic="Helvetica",c["CenturyGothic-Bold"]="Helvetica-Bold",c["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",c["CenturyGothic-Italic"]="Helvetica-Oblique",c.ComicSansMS="Comic Sans MS",c["ComicSansMS-Bold"]="Comic Sans MS-Bold",c["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",c["ComicSansMS-Italic"]="Comic Sans MS-Italic",c.Impact="Helvetica",c["ItcSymbol-Bold"]="Helvetica-Bold",c["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",c["ItcSymbol-Book"]="Helvetica",c["ItcSymbol-BookItalic"]="Helvetica-Oblique",c["ItcSymbol-Medium"]="Helvetica",c["ItcSymbol-MediumItalic"]="Helvetica-Oblique",c.LucidaConsole="Courier",c["LucidaConsole-Bold"]="Courier-Bold",c["LucidaConsole-BoldItalic"]="Courier-BoldOblique",c["LucidaConsole-Italic"]="Courier-Oblique",c["LucidaSans-Demi"]="Helvetica-Bold",c["MS-Gothic"]="MS Gothic",c["MS-Gothic-Bold"]="MS Gothic-Bold",c["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",c["MS-Gothic-Italic"]="MS Gothic-Italic",c["MS-Mincho"]="MS Mincho",c["MS-Mincho-Bold"]="MS Mincho-Bold",c["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",c["MS-Mincho-Italic"]="MS Mincho-Italic",c["MS-PGothic"]="MS PGothic",c["MS-PGothic-Bold"]="MS PGothic-Bold",c["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",c["MS-PGothic-Italic"]="MS PGothic-Italic",c["MS-PMincho"]="MS PMincho",c["MS-PMincho-Bold"]="MS PMincho-Bold",c["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",c["MS-PMincho-Italic"]="MS PMincho-Italic",c.NuptialScript="Times-Italic",c.SegoeUISymbol="Helvetica"});$.getNonStdFontMap=i;const d=(0,s.getLookupTableFactory)(function(c){c["Adobe Jenson"]=!0,c["Adobe Text"]=!0,c.Albertus=!0,c.Aldus=!0,c.Alexandria=!0,c.Algerian=!0,c["American Typewriter"]=!0,c.Antiqua=!0,c.Apex=!0,c.Arno=!0,c.Aster=!0,c.Aurora=!0,c.Baskerville=!0,c.Bell=!0,c.Bembo=!0,c["Bembo Schoolbook"]=!0,c.Benguiat=!0,c["Berkeley Old Style"]=!0,c["Bernhard Modern"]=!0,c["Berthold City"]=!0,c.Bodoni=!0,c["Bauer Bodoni"]=!0,c["Book Antiqua"]=!0,c.Bookman=!0,c["Bordeaux Roman"]=!0,c["Californian FB"]=!0,c.Calisto=!0,c.Calvert=!0,c.Capitals=!0,c.Cambria=!0,c.Cartier=!0,c.Caslon=!0,c.Catull=!0,c.Centaur=!0,c["Century Old Style"]=!0,c["Century Schoolbook"]=!0,c.Chaparral=!0,c["Charis SIL"]=!0,c.Cheltenham=!0,c["Cholla Slab"]=!0,c.Clarendon=!0,c.Clearface=!0,c.Cochin=!0,c.Colonna=!0,c["Computer Modern"]=!0,c["Concrete Roman"]=!0,c.Constantia=!0,c["Cooper Black"]=!0,c.Corona=!0,c.Ecotype=!0,c.Egyptienne=!0,c.Elephant=!0,c.Excelsior=!0,c.Fairfield=!0,c["FF Scala"]=!0,c.Folkard=!0,c.Footlight=!0,c.FreeSerif=!0,c["Friz Quadrata"]=!0,c.Garamond=!0,c.Gentium=!0,c.Georgia=!0,c.Gloucester=!0,c["Goudy Old Style"]=!0,c["Goudy Schoolbook"]=!0,c["Goudy Pro Font"]=!0,c.Granjon=!0,c["Guardian Egyptian"]=!0,c.Heather=!0,c.Hercules=!0,c["High Tower Text"]=!0,c.Hiroshige=!0,c["Hoefler Text"]=!0,c["Humana Serif"]=!0,c.Imprint=!0,c["Ionic No. 5"]=!0,c.Janson=!0,c.Joanna=!0,c.Korinna=!0,c.Lexicon=!0,c.LiberationSerif=!0,c["Liberation Serif"]=!0,c["Linux Libertine"]=!0,c.Literaturnaya=!0,c.Lucida=!0,c["Lucida Bright"]=!0,c.Melior=!0,c.Memphis=!0,c.Miller=!0,c.Minion=!0,c.Modern=!0,c["Mona Lisa"]=!0,c["Mrs Eaves"]=!0,c["MS Serif"]=!0,c["Museo Slab"]=!0,c["New York"]=!0,c["Nimbus Roman"]=!0,c["NPS Rawlinson Roadway"]=!0,c.NuptialScript=!0,c.Palatino=!0,c.Perpetua=!0,c.Plantin=!0,c["Plantin Schoolbook"]=!0,c.Playbill=!0,c["Poor Richard"]=!0,c["Rawlinson Roadway"]=!0,c.Renault=!0,c.Requiem=!0,c.Rockwell=!0,c.Roman=!0,c["Rotis Serif"]=!0,c.Sabon=!0,c.Scala=!0,c.Seagull=!0,c.Sistina=!0,c.Souvenir=!0,c.STIX=!0,c["Stone Informal"]=!0,c["Stone Serif"]=!0,c.Sylfaen=!0,c.Times=!0,c.Trajan=!0,c.Trinité=!0,c["Trump Mediaeval"]=!0,c.Utopia=!0,c["Vale Type"]=!0,c["Bitstream Vera"]=!0,c["Vera Serif"]=!0,c.Versailles=!0,c.Wanted=!0,c.Weiss=!0,c["Wide Latin"]=!0,c.Windsor=!0,c.XITS=!0});$.getSerifFonts=d;const ut=(0,s.getLookupTableFactory)(function(c){c.Dingbats=!0,c.Symbol=!0,c.ZapfDingbats=!0,c.Wingdings=!0,c["Wingdings-Bold"]=!0,c["Wingdings-Regular"]=!0});$.getSymbolsFonts=ut;const dt=(0,s.getLookupTableFactory)(function(c){c[2]=10,c[3]=32,c[4]=33,c[5]=34,c[6]=35,c[7]=36,c[8]=37,c[9]=38,c[10]=39,c[11]=40,c[12]=41,c[13]=42,c[14]=43,c[15]=44,c[16]=45,c[17]=46,c[18]=47,c[19]=48,c[20]=49,c[21]=50,c[22]=51,c[23]=52,c[24]=53,c[25]=54,c[26]=55,c[27]=56,c[28]=57,c[29]=58,c[30]=894,c[31]=60,c[32]=61,c[33]=62,c[34]=63,c[35]=64,c[36]=65,c[37]=66,c[38]=67,c[39]=68,c[40]=69,c[41]=70,c[42]=71,c[43]=72,c[44]=73,c[45]=74,c[46]=75,c[47]=76,c[48]=77,c[49]=78,c[50]=79,c[51]=80,c[52]=81,c[53]=82,c[54]=83,c[55]=84,c[56]=85,c[57]=86,c[58]=87,c[59]=88,c[60]=89,c[61]=90,c[62]=91,c[63]=92,c[64]=93,c[65]=94,c[66]=95,c[67]=96,c[68]=97,c[69]=98,c[70]=99,c[71]=100,c[72]=101,c[73]=102,c[74]=103,c[75]=104,c[76]=105,c[77]=106,c[78]=107,c[79]=108,c[80]=109,c[81]=110,c[82]=111,c[83]=112,c[84]=113,c[85]=114,c[86]=115,c[87]=116,c[88]=117,c[89]=118,c[90]=119,c[91]=120,c[92]=121,c[93]=122,c[94]=123,c[95]=124,c[96]=125,c[97]=126,c[98]=196,c[99]=197,c[100]=199,c[101]=201,c[102]=209,c[103]=214,c[104]=220,c[105]=225,c[106]=224,c[107]=226,c[108]=228,c[109]=227,c[110]=229,c[111]=231,c[112]=233,c[113]=232,c[114]=234,c[115]=235,c[116]=237,c[117]=236,c[118]=238,c[119]=239,c[120]=241,c[121]=243,c[122]=242,c[123]=244,c[124]=246,c[125]=245,c[126]=250,c[127]=249,c[128]=251,c[129]=252,c[130]=8224,c[131]=176,c[132]=162,c[133]=163,c[134]=167,c[135]=8226,c[136]=182,c[137]=223,c[138]=174,c[139]=169,c[140]=8482,c[141]=180,c[142]=168,c[143]=8800,c[144]=198,c[145]=216,c[146]=8734,c[147]=177,c[148]=8804,c[149]=8805,c[150]=165,c[151]=181,c[152]=8706,c[153]=8721,c[154]=8719,c[156]=8747,c[157]=170,c[158]=186,c[159]=8486,c[160]=230,c[161]=248,c[162]=191,c[163]=161,c[164]=172,c[165]=8730,c[166]=402,c[167]=8776,c[168]=8710,c[169]=171,c[170]=187,c[171]=8230,c[179]=8220,c[180]=8221,c[181]=8216,c[182]=8217,c[200]=193,c[203]=205,c[207]=211,c[210]=218,c[223]=711,c[224]=321,c[225]=322,c[226]=352,c[227]=353,c[228]=381,c[229]=382,c[233]=221,c[234]=253,c[252]=263,c[253]=268,c[254]=269,c[258]=258,c[260]=260,c[261]=261,c[265]=280,c[266]=281,c[267]=282,c[268]=283,c[269]=313,c[275]=323,c[276]=324,c[278]=328,c[283]=344,c[284]=345,c[285]=346,c[286]=347,c[292]=367,c[295]=377,c[296]=378,c[298]=380,c[305]=963,c[306]=964,c[307]=966,c[308]=8215,c[309]=8252,c[310]=8319,c[311]=8359,c[312]=8592,c[313]=8593,c[337]=9552,c[493]=1039,c[494]=1040,c[672]=1488,c[673]=1489,c[674]=1490,c[675]=1491,c[676]=1492,c[677]=1493,c[678]=1494,c[679]=1495,c[680]=1496,c[681]=1497,c[682]=1498,c[683]=1499,c[684]=1500,c[685]=1501,c[686]=1502,c[687]=1503,c[688]=1504,c[689]=1505,c[690]=1506,c[691]=1507,c[692]=1508,c[693]=1509,c[694]=1510,c[695]=1511,c[696]=1512,c[697]=1513,c[698]=1514,c[705]=1524,c[706]=8362,c[710]=64288,c[711]=64298,c[759]=1617,c[761]=1776,c[763]=1778,c[775]=1652,c[777]=1764,c[778]=1780,c[779]=1781,c[780]=1782,c[782]=771,c[783]=64726,c[786]=8363,c[788]=8532,c[790]=768,c[791]=769,c[792]=768,c[795]=803,c[797]=64336,c[798]=64337,c[799]=64342,c[800]=64343,c[801]=64344,c[802]=64345,c[803]=64362,c[804]=64363,c[805]=64364,c[2424]=7821,c[2425]=7822,c[2426]=7823,c[2427]=7824,c[2428]=7825,c[2429]=7826,c[2430]=7827,c[2433]=7682,c[2678]=8045,c[2679]=8046,c[2830]=1552,c[2838]=686,c[2840]=751,c[2842]=753,c[2843]=754,c[2844]=755,c[2846]=757,c[2856]=767,c[2857]=848,c[2858]=849,c[2862]=853,c[2863]=854,c[2864]=855,c[2865]=861,c[2866]=862,c[2906]=7460,c[2908]=7462,c[2909]=7463,c[2910]=7464,c[2912]=7466,c[2913]=7467,c[2914]=7468,c[2916]=7470,c[2917]=7471,c[2918]=7472,c[2920]=7474,c[2921]=7475,c[2922]=7476,c[2924]=7478,c[2925]=7479,c[2926]=7480,c[2928]=7482,c[2929]=7483,c[2930]=7484,c[2932]=7486,c[2933]=7487,c[2934]=7488,c[2936]=7490,c[2937]=7491,c[2938]=7492,c[2940]=7494,c[2941]=7495,c[2942]=7496,c[2944]=7498,c[2946]=7500,c[2948]=7502,c[2950]=7504,c[2951]=7505,c[2952]=7506,c[2954]=7508,c[2955]=7509,c[2956]=7510,c[2958]=7512,c[2959]=7513,c[2960]=7514,c[2962]=7516,c[2963]=7517,c[2964]=7518,c[2966]=7520,c[2967]=7521,c[2968]=7522,c[2970]=7524,c[2971]=7525,c[2972]=7526,c[2974]=7528,c[2975]=7529,c[2976]=7530,c[2978]=1537,c[2979]=1538,c[2980]=1539,c[2982]=1549,c[2983]=1551,c[2984]=1552,c[2986]=1554,c[2987]=1555,c[2988]=1556,c[2990]=1623,c[2991]=1624,c[2995]=1775,c[2999]=1791,c[3002]=64290,c[3003]=64291,c[3004]=64292,c[3006]=64294,c[3007]=64295,c[3008]=64296,c[3011]=1900,c[3014]=8223,c[3015]=8244,c[3017]=7532,c[3018]=7533,c[3019]=7534,c[3075]=7590,c[3076]=7591,c[3079]=7594,c[3080]=7595,c[3083]=7598,c[3084]=7599,c[3087]=7602,c[3088]=7603,c[3091]=7606,c[3092]=7607,c[3095]=7610,c[3096]=7611,c[3099]=7614,c[3100]=7615,c[3103]=7618,c[3104]=7619,c[3107]=8337,c[3108]=8338,c[3116]=1884,c[3119]=1885,c[3120]=1885,c[3123]=1886,c[3124]=1886,c[3127]=1887,c[3128]=1887,c[3131]=1888,c[3132]=1888,c[3135]=1889,c[3136]=1889,c[3139]=1890,c[3140]=1890,c[3143]=1891,c[3144]=1891,c[3147]=1892,c[3148]=1892,c[3153]=580,c[3154]=581,c[3157]=584,c[3158]=585,c[3161]=588,c[3162]=589,c[3165]=891,c[3166]=892,c[3169]=1274,c[3170]=1275,c[3173]=1278,c[3174]=1279,c[3181]=7622,c[3182]=7623,c[3282]=11799,c[3316]=578,c[3379]=42785,c[3393]=1159,c[3416]=8377});$.getGlyphMapForStandardFonts=dt;const et=(0,s.getLookupTableFactory)(function(c){c[227]=322,c[264]=261,c[291]=346});$.getSupplementalGlyphMapForArialBlack=et;const _=(0,s.getLookupTableFactory)(function(c){c[1]=32,c[4]=65,c[5]=192,c[6]=193,c[9]=196,c[17]=66,c[18]=67,c[21]=268,c[24]=68,c[28]=69,c[29]=200,c[30]=201,c[32]=282,c[38]=70,c[39]=71,c[44]=72,c[47]=73,c[48]=204,c[49]=205,c[58]=74,c[60]=75,c[62]=76,c[68]=77,c[69]=78,c[75]=79,c[76]=210,c[80]=214,c[87]=80,c[89]=81,c[90]=82,c[92]=344,c[94]=83,c[97]=352,c[100]=84,c[104]=85,c[109]=220,c[115]=86,c[116]=87,c[121]=88,c[122]=89,c[124]=221,c[127]=90,c[129]=381,c[258]=97,c[259]=224,c[260]=225,c[263]=228,c[268]=261,c[271]=98,c[272]=99,c[273]=263,c[275]=269,c[282]=100,c[286]=101,c[287]=232,c[288]=233,c[290]=283,c[295]=281,c[296]=102,c[336]=103,c[346]=104,c[349]=105,c[350]=236,c[351]=237,c[361]=106,c[364]=107,c[367]=108,c[371]=322,c[373]=109,c[374]=110,c[381]=111,c[382]=242,c[383]=243,c[386]=246,c[393]=112,c[395]=113,c[396]=114,c[398]=345,c[400]=115,c[401]=347,c[403]=353,c[410]=116,c[437]=117,c[442]=252,c[448]=118,c[449]=119,c[454]=120,c[455]=121,c[457]=253,c[460]=122,c[462]=382,c[463]=380,c[853]=44,c[855]=58,c[856]=46,c[876]=47,c[878]=45,c[882]=45,c[894]=40,c[895]=41,c[896]=91,c[897]=93,c[923]=64,c[1004]=48,c[1005]=49,c[1006]=50,c[1007]=51,c[1008]=52,c[1009]=53,c[1010]=54,c[1011]=55,c[1012]=56,c[1013]=57,c[1081]=37,c[1085]=43,c[1086]=45});$.getSupplementalGlyphMapForCalibri=_},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ToUnicodeMap=$.IdentityToUnicodeMap=void 0;var s=_t(2);$.ToUnicodeMap=class{constructor(St=[]){this._map=St}get length(){return this._map.length}forEach(St){for(const e in this._map)St(e,this._map[e].charCodeAt(0))}has(St){return this._map[St]!==void 0}get(St){return this._map[St]}charCodeOf(St){const e=this._map;if(e.length<=65536)return e.indexOf(St);for(const i in e)if(e[i]===St)return 0|i;return-1}amend(St){for(const e in St)this._map[e]=St[e]}},$.IdentityToUnicodeMap=class{constructor(St,e){this.firstChar=St,this.lastChar=e}get length(){return this.lastChar+1-this.firstChar}forEach(St){for(let e=this.firstChar,i=this.lastChar;e<=i;e++)St(e,e)}has(St){return this.firstChar<=St&&St<=this.lastChar}get(St){if(this.firstChar<=St&&St<=this.lastChar)return String.fromCharCode(St)}charCodeOf(St){return Number.isInteger(St)&&St>=this.firstChar&&St<=this.lastChar?St:-1}amend(St){(0,s.unreachable)("Should not call amend()")}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CFFFont=void 0;var s=_t(35),bt=_t(38),St=_t(2);$.CFFFont=class{constructor(i,d){this.properties=d;const ut=new s.CFFParser(i,d,bt.SEAC_ANALYSIS_ENABLED);this.cff=ut.parse(),this.cff.duplicateFirstGlyph();const dt=new s.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=dt.compile()}catch{(0,St.warn)("Failed to compile font "+d.loadedName),this.data=i}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const i=this.cff,d=this.properties,{cidToGidMap:ut,cMap:dt}=d,et=i.charset.charset;let _,c;if(d.composite){let at,ct;if((ut==null?void 0:ut.length)>0){at=Object.create(null);for(let it=0,tt=ut.length;it<tt;it++){const ot=ut[it];ot!==void 0&&(at[ot]=it)}}if(_=Object.create(null),i.isCIDFont)for(c=0;c<et.length;c++){const it=et[c];ct=dt.charCodeOf(it),(at==null?void 0:at[ct])!==void 0&&(ct=at[ct]),_[ct]=c}else for(c=0;c<i.charStrings.count;c++)ct=dt.charCodeOf(c),_[ct]=c;return _}let lt=i.encoding?i.encoding.encoding:null;return d.isInternalFont&&(lt=d.defaultEncoding),_=(0,bt.type1FontGlyphMapping)(d,lt,et),_}hasGlyphId(i){return this.cff.hasGlyphId(i)}_createBuiltInEncoding(){const{charset:i,encoding:d}=this.cff;if(!i||!d)return;const ut=i.charset,dt=d.encoding,et=[];for(const _ in dt){const c=dt[_];if(c>=0){const lt=ut[c];lt&&(et[_]=lt)}}et.length>0&&(this.properties.builtInEncoding=et)}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontRendererFactory=void 0;var s=_t(2),bt=_t(35),St=_t(39),e=_t(37),i=_t(8);function d(Pt,Tt){return(Pt[Tt]<<24|Pt[Tt+1]<<16|Pt[Tt+2]<<8|Pt[Tt+3])>>>0}function ut(Pt,Tt){return Pt[Tt]<<8|Pt[Tt+1]}function dt(Pt,Tt){return(Pt[Tt]<<24|Pt[Tt+1]<<16)>>16}function et(Pt,Tt){return Pt[Tt]<<24>>24}function _(Pt,Tt){return dt(Pt,Tt)/16384}function c(Pt){const Tt=Pt.length;let Et=32768;return Tt<1240?Et=107:Tt<33900&&(Et=1131),Et}function lt(Pt,Tt,Et){const rt=ut(Pt,Tt+2)===1?d(Pt,Tt+8):d(Pt,Tt+16),ft=ut(Pt,Tt+rt);let wt,b,pt;if(ft===4){ut(Pt,Tt+rt+2);const Ot=ut(Pt,Tt+rt+6)>>1;for(b=Tt+rt+14,wt=[],pt=0;pt<Ot;pt++,b+=2)wt[pt]={end:ut(Pt,b)};for(b+=2,pt=0;pt<Ot;pt++,b+=2)wt[pt].start=ut(Pt,b);for(pt=0;pt<Ot;pt++,b+=2)wt[pt].idDelta=ut(Pt,b);for(pt=0;pt<Ot;pt++,b+=2){let kt=ut(Pt,b);if(kt!==0){wt[pt].ids=[];for(let st=0,nt=wt[pt].end-wt[pt].start+1;st<nt;st++)wt[pt].ids[st]=ut(Pt,b+kt),kt+=2}}return wt}if(ft===12){const Ot=d(Pt,Tt+rt+12);for(b=Tt+rt+16,wt=[],pt=0;pt<Ot;pt++)Tt=d(Pt,b),wt.push({start:Tt,end:d(Pt,b+4),idDelta:d(Pt,b+8)-Tt}),b+=12;return wt}throw new s.FormatError(`unsupported cmap: ${ft}`)}function at(Pt,Tt,Et,rt){var wt,b,pt;const ft=new bt.CFFParser(new i.Stream(Pt,Tt,Et-Tt),{},rt).parse();return{glyphs:ft.charStrings.objects,subrs:(b=(wt=ft.topDict.privateDict)==null?void 0:wt.subrsIndex)==null?void 0:b.objects,gsubrs:(pt=ft.globalSubrIndex)==null?void 0:pt.objects,isCFFCIDFont:ft.isCIDFont,fdSelect:ft.fdSelect,fdArray:ft.fdArray}}function ct(Pt,Tt){const Et=Tt.codePointAt(0);let rt=0,ft=0,wt=Pt.length-1;for(;ft<wt;){const b=ft+wt+1>>1;Et<Pt[b].start?wt=b-1:ft=b}return Pt[ft].start<=Et&&Et<=Pt[ft].end&&(rt=Pt[ft].idDelta+(Pt[ft].ids?Pt[ft].ids[Et-Pt[ft].start]:Et)&65535),{charCode:Et,glyphId:rt}}function it(Pt,Tt,Et){function rt(nt,gt){Tt.push({cmd:"moveTo",args:[nt,gt]})}function ft(nt,gt){Tt.push({cmd:"lineTo",args:[nt,gt]})}function wt(nt,gt,Ft,yt){Tt.push({cmd:"quadraticCurveTo",args:[nt,gt,Ft,yt]})}let b=0;const pt=dt(Pt,b);let Ot,kt=0,st=0;if(b+=10,pt<0)do{Ot=ut(Pt,b);const nt=ut(Pt,b+2);b+=4;let gt,Ft;1&Ot?(2&Ot?(gt=dt(Pt,b),Ft=dt(Pt,b+2)):(gt=ut(Pt,b),Ft=ut(Pt,b+2)),b+=4):2&Ot?(gt=et(Pt,b++),Ft=et(Pt,b++)):(gt=Pt[b++],Ft=Pt[b++]),2&Ot?(kt=gt,st=Ft):(kt=0,st=0);let yt=1,vt=1,Lt=0,jt=0;8&Ot?(yt=vt=_(Pt,b),b+=2):64&Ot?(yt=_(Pt,b),vt=_(Pt,b+2),b+=4):128&Ot&&(yt=_(Pt,b),Lt=_(Pt,b+2),jt=_(Pt,b+4),vt=_(Pt,b+6),b+=8);const Ht=Et.glyphs[nt];Ht&&(Tt.push({cmd:"save"},{cmd:"transform",args:[yt,Lt,jt,vt,kt,st]}),it(Ht,Tt,Et),Tt.push({cmd:"restore"}))}while(32&Ot);else{const nt=[];let gt,Ft;for(gt=0;gt<pt;gt++)nt.push(ut(Pt,b)),b+=2;b+=2+ut(Pt,b);const yt=nt.at(-1)+1,vt=[];for(;vt.length<yt;){Ot=Pt[b++];let jt=1;for(8&Ot&&(jt+=Pt[b++]);jt-- >0;)vt.push({flags:Ot})}for(gt=0;gt<yt;gt++){switch(18&vt[gt].flags){case 0:kt+=dt(Pt,b),b+=2;break;case 2:kt-=Pt[b++];break;case 18:kt+=Pt[b++]}vt[gt].x=kt}for(gt=0;gt<yt;gt++){switch(36&vt[gt].flags){case 0:st+=dt(Pt,b),b+=2;break;case 4:st-=Pt[b++];break;case 36:st+=Pt[b++]}vt[gt].y=st}let Lt=0;for(b=0;b<pt;b++){const jt=nt[b],Ht=vt.slice(Lt,jt+1);if(1&Ht[0].flags)Ht.push(Ht[0]);else if(1&Ht.at(-1).flags)Ht.unshift(Ht.at(-1));else{const Vt={flags:1,x:(Ht[0].x+Ht.at(-1).x)/2,y:(Ht[0].y+Ht.at(-1).y)/2};Ht.unshift(Vt),Ht.push(Vt)}for(rt(Ht[0].x,Ht[0].y),gt=1,Ft=Ht.length;gt<Ft;gt++)1&Ht[gt].flags?ft(Ht[gt].x,Ht[gt].y):1&Ht[gt+1].flags?(wt(Ht[gt].x,Ht[gt].y,Ht[gt+1].x,Ht[gt+1].y),gt++):wt(Ht[gt].x,Ht[gt].y,(Ht[gt].x+Ht[gt+1].x)/2,(Ht[gt].y+Ht[gt+1].y)/2);Lt=jt+1}}}function tt(Pt,Tt,Et,rt){function ft(nt,gt){Tt.push({cmd:"moveTo",args:[nt,gt]})}function wt(nt,gt){Tt.push({cmd:"lineTo",args:[nt,gt]})}function b(nt,gt,Ft,yt,vt,Lt){Tt.push({cmd:"bezierCurveTo",args:[nt,gt,Ft,yt,vt,Lt]})}const pt=[];let Ot=0,kt=0,st=0;(function nt(gt){var yt;let Ft=0;for(;Ft<gt.length;){let vt,Lt,jt,Ht,Vt,Qt,_e,Xt,Dt,It=!1,j=gt[Ft++];switch(j){case 1:case 3:case 18:case 23:st+=pt.length>>1,It=!0;break;case 4:kt+=pt.pop(),ft(Ot,kt),It=!0;break;case 5:for(;pt.length>0;)Ot+=pt.shift(),kt+=pt.shift(),wt(Ot,kt);break;case 6:for(;pt.length>0&&(Ot+=pt.shift(),wt(Ot,kt),pt.length!==0);)kt+=pt.shift(),wt(Ot,kt);break;case 7:for(;pt.length>0&&(kt+=pt.shift(),wt(Ot,kt),pt.length!==0);)Ot+=pt.shift(),wt(Ot,kt);break;case 8:for(;pt.length>0;)vt=Ot+pt.shift(),jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht+pt.shift(),b(vt,jt,Lt,Ht,Ot,kt);break;case 10:if(Xt=pt.pop(),Dt=null,Et.isCFFCIDFont){const At=Et.fdSelect.getFDIndex(rt);if(At>=0&&At<Et.fdArray.length){const Mt=Et.fdArray[At];let Rt;(yt=Mt.privateDict)!=null&&yt.subrsIndex&&(Rt=Mt.privateDict.subrsIndex.objects),Rt&&(Xt+=c(Rt),Dt=Rt[Xt])}else(0,s.warn)("Invalid fd index for glyph index.")}else Dt=Et.subrs[Xt+Et.subrsBias];Dt&&nt(Dt);break;case 11:return;case 12:switch(j=gt[Ft++],j){case 34:vt=Ot+pt.shift(),Lt=vt+pt.shift(),Vt=kt+pt.shift(),Ot=Lt+pt.shift(),b(vt,kt,Lt,Vt,Ot,Vt),vt=Ot+pt.shift(),Lt=vt+pt.shift(),Ot=Lt+pt.shift(),b(vt,Vt,Lt,kt,Ot,kt);break;case 35:vt=Ot+pt.shift(),jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht+pt.shift(),b(vt,jt,Lt,Ht,Ot,kt),vt=Ot+pt.shift(),jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht+pt.shift(),b(vt,jt,Lt,Ht,Ot,kt),pt.pop();break;case 36:vt=Ot+pt.shift(),Vt=kt+pt.shift(),Lt=vt+pt.shift(),Qt=Vt+pt.shift(),Ot=Lt+pt.shift(),b(vt,Vt,Lt,Qt,Ot,Qt),vt=Ot+pt.shift(),Lt=vt+pt.shift(),_e=Qt+pt.shift(),Ot=Lt+pt.shift(),b(vt,Qt,Lt,_e,Ot,kt);break;case 37:const At=Ot,Mt=kt;vt=Ot+pt.shift(),jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht+pt.shift(),b(vt,jt,Lt,Ht,Ot,kt),vt=Ot+pt.shift(),jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt,kt=Ht,Math.abs(Ot-At)>Math.abs(kt-Mt)?Ot+=pt.shift():kt+=pt.shift(),b(vt,jt,Lt,Ht,Ot,kt);break;default:throw new s.FormatError(`unknown operator: 12 ${j}`)}break;case 14:if(pt.length>=4){const At=pt.pop(),Mt=pt.pop();kt=pt.pop(),Ot=pt.pop(),Tt.push({cmd:"save"},{cmd:"translate",args:[Ot,kt]});let Rt=ct(Et.cmap,String.fromCharCode(Et.glyphNameMap[e.StandardEncoding[At]]));tt(Et.glyphs[Rt.glyphId],Tt,Et,Rt.glyphId),Tt.push({cmd:"restore"}),Rt=ct(Et.cmap,String.fromCharCode(Et.glyphNameMap[e.StandardEncoding[Mt]])),tt(Et.glyphs[Rt.glyphId],Tt,Et,Rt.glyphId)}return;case 19:case 20:st+=pt.length>>1,Ft+=st+7>>3,It=!0;break;case 21:kt+=pt.pop(),Ot+=pt.pop(),ft(Ot,kt),It=!0;break;case 22:Ot+=pt.pop(),ft(Ot,kt),It=!0;break;case 24:for(;pt.length>2;)vt=Ot+pt.shift(),jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht+pt.shift(),b(vt,jt,Lt,Ht,Ot,kt);Ot+=pt.shift(),kt+=pt.shift(),wt(Ot,kt);break;case 25:for(;pt.length>6;)Ot+=pt.shift(),kt+=pt.shift(),wt(Ot,kt);vt=Ot+pt.shift(),jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht+pt.shift(),b(vt,jt,Lt,Ht,Ot,kt);break;case 26:for(pt.length%2&&(Ot+=pt.shift());pt.length>0;)vt=Ot,jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt,kt=Ht+pt.shift(),b(vt,jt,Lt,Ht,Ot,kt);break;case 27:for(pt.length%2&&(kt+=pt.shift());pt.length>0;)vt=Ot+pt.shift(),jt=kt,Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht,b(vt,jt,Lt,Ht,Ot,kt);break;case 28:pt.push((gt[Ft]<<24|gt[Ft+1]<<16)>>16),Ft+=2;break;case 29:Xt=pt.pop()+Et.gsubrsBias,Dt=Et.gsubrs[Xt],Dt&&nt(Dt);break;case 30:for(;pt.length>0&&(vt=Ot,jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht+(pt.length===1?pt.shift():0),b(vt,jt,Lt,Ht,Ot,kt),pt.length!==0);)vt=Ot+pt.shift(),jt=kt,Lt=vt+pt.shift(),Ht=jt+pt.shift(),kt=Ht+pt.shift(),Ot=Lt+(pt.length===1?pt.shift():0),b(vt,jt,Lt,Ht,Ot,kt);break;case 31:for(;pt.length>0&&(vt=Ot+pt.shift(),jt=kt,Lt=vt+pt.shift(),Ht=jt+pt.shift(),kt=Ht+pt.shift(),Ot=Lt+(pt.length===1?pt.shift():0),b(vt,jt,Lt,Ht,Ot,kt),pt.length!==0);)vt=Ot,jt=kt+pt.shift(),Lt=vt+pt.shift(),Ht=jt+pt.shift(),Ot=Lt+pt.shift(),kt=Ht+(pt.length===1?pt.shift():0),b(vt,jt,Lt,Ht,Ot,kt);break;default:if(j<32)throw new s.FormatError(`unknown operator: ${j}`);j<247?pt.push(j-139):j<251?pt.push(256*(j-247)+gt[Ft++]+108):j<255?pt.push(256*-(j-251)-gt[Ft++]-108):(pt.push((gt[Ft]<<24|gt[Ft+1]<<16|gt[Ft+2]<<8|gt[Ft+3])/65536),Ft+=4)}It&&(pt.length=0)}})(Pt)}const ot=[];class mt{constructor(Tt){this.constructor===mt&&(0,s.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=Tt,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(Tt){const{charCode:Et,glyphId:rt}=ct(this.cmap,Tt);let ft=this.compiledGlyphs[rt];if(!ft)try{ft=this.compileGlyph(this.glyphs[rt],rt),this.compiledGlyphs[rt]=ft}catch(wt){throw this.compiledGlyphs[rt]=ot,this.compiledCharCodeToGlyphId[Et]===void 0&&(this.compiledCharCodeToGlyphId[Et]=rt),wt}return this.compiledCharCodeToGlyphId[Et]===void 0&&(this.compiledCharCodeToGlyphId[Et]=rt),ft}compileGlyph(Tt,Et){if(!Tt||Tt.length===0||Tt[0]===14)return ot;let rt=this.fontMatrix;if(this.isCFFCIDFont){const wt=this.fdSelect.getFDIndex(Et);wt>=0&&wt<this.fdArray.length?rt=this.fdArray[wt].getByName("FontMatrix")||s.FONT_IDENTITY_MATRIX:(0,s.warn)("Invalid fd index for glyph index.")}const ft=[{cmd:"save"},{cmd:"transform",args:rt.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(Tt,ft,Et),ft.push({cmd:"restore"}),ft}compileGlyphImpl(){(0,s.unreachable)("Children classes should implement this.")}hasBuiltPath(Tt){const{charCode:Et,glyphId:rt}=ct(this.cmap,Tt);return this.compiledGlyphs[rt]!==void 0&&this.compiledCharCodeToGlyphId[Et]!==void 0}}class Ct extends mt{constructor(Tt,Et,rt){super(rt||[488e-6,0,0,488e-6,0,0]),this.glyphs=Tt,this.cmap=Et}compileGlyphImpl(Tt,Et){it(Tt,Et,this)}}class Nt extends mt{constructor(Tt,Et,rt,ft){super(rt||[.001,0,0,.001,0,0]),this.glyphs=Tt.glyphs,this.gsubrs=Tt.gsubrs||[],this.subrs=Tt.subrs||[],this.cmap=Et,this.glyphNameMap=ft||(0,St.getGlyphsUnicode)(),this.gsubrsBias=c(this.gsubrs),this.subrsBias=c(this.subrs),this.isCFFCIDFont=Tt.isCFFCIDFont,this.fdSelect=Tt.fdSelect,this.fdArray=Tt.fdArray}compileGlyphImpl(Tt,Et,rt){tt(Tt,Et,this,rt)}}$.FontRendererFactory=class{static create(Tt,Et){const rt=new Uint8Array(Tt.data);let ft,wt,b,pt,Ot,kt;const st=ut(rt,4);for(let nt=0,gt=12;nt<st;nt++,gt+=16){const Ft=(0,s.bytesToString)(rt.subarray(gt,gt+4)),yt=d(rt,gt+8),vt=d(rt,gt+12);switch(Ft){case"cmap":ft=lt(rt,yt);break;case"glyf":wt=rt.subarray(yt,yt+vt);break;case"loca":b=rt.subarray(yt,yt+vt);break;case"head":kt=ut(rt,yt+18),Ot=ut(rt,yt+50);break;case"CFF ":pt=at(rt,yt,yt+vt,Et)}}if(wt){const nt=kt?[1/kt,0,0,1/kt,0,0]:Tt.fontMatrix;return new Ct(function(Ft,yt,vt){let Lt,jt;vt?(Lt=4,jt=d):(Lt=2,jt=(Qt,_e)=>2*ut(Qt,_e));const Ht=[];let Vt=jt(yt,0);for(let Qt=Lt;Qt<yt.length;Qt+=Lt){const _e=jt(yt,Qt);Ht.push(Ft.subarray(Vt,_e)),Vt=_e}return Ht}(wt,b,Ot),ft,nt)}return new Nt(pt,ft,Tt.fontMatrix,Tt.glyphNameMap)}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getMetrics=$.getFontBasicMetrics=void 0;var s=_t(3);const bt=(0,s.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,s.getLookupTableFactory)(function(i){i.space=278,i.exclam=278,i.quotedbl=355,i.numbersign=556,i.dollar=556,i.percent=889,i.ampersand=667,i.quoteright=222,i.parenleft=333,i.parenright=333,i.asterisk=389,i.plus=584,i.comma=278,i.hyphen=333,i.period=278,i.slash=278,i.zero=556,i.one=556,i.two=556,i.three=556,i.four=556,i.five=556,i.six=556,i.seven=556,i.eight=556,i.nine=556,i.colon=278,i.semicolon=278,i.less=584,i.equal=584,i.greater=584,i.question=556,i.at=1015,i.A=667,i.B=667,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=722,i.I=278,i.J=500,i.K=667,i.L=556,i.M=833,i.N=722,i.O=778,i.P=667,i.Q=778,i.R=722,i.S=667,i.T=611,i.U=722,i.V=667,i.W=944,i.X=667,i.Y=667,i.Z=611,i.bracketleft=278,i.backslash=278,i.bracketright=278,i.asciicircum=469,i.underscore=556,i.quoteleft=222,i.a=556,i.b=556,i.c=500,i.d=556,i.e=556,i.f=278,i.g=556,i.h=556,i.i=222,i.j=222,i.k=500,i.l=222,i.m=833,i.n=556,i.o=556,i.p=556,i.q=556,i.r=333,i.s=500,i.t=278,i.u=556,i.v=500,i.w=722,i.x=500,i.y=500,i.z=500,i.braceleft=334,i.bar=260,i.braceright=334,i.asciitilde=584,i.exclamdown=333,i.cent=556,i.sterling=556,i.fraction=167,i.yen=556,i.florin=556,i.section=556,i.currency=556,i.quotesingle=191,i.quotedblleft=333,i.guillemotleft=556,i.guilsinglleft=333,i.guilsinglright=333,i.fi=500,i.fl=500,i.endash=556,i.dagger=556,i.daggerdbl=556,i.periodcentered=278,i.paragraph=537,i.bullet=350,i.quotesinglbase=222,i.quotedblbase=333,i.quotedblright=333,i.guillemotright=556,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=611,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=370,i.Lslash=556,i.Oslash=778,i.OE=1e3,i.ordmasculine=365,i.ae=889,i.dotlessi=278,i.lslash=222,i.oslash=611,i.oe=944,i.germandbls=611,i.Idieresis=278,i.eacute=556,i.abreve=556,i.uhungarumlaut=556,i.ecaron=556,i.Ydieresis=667,i.divide=584,i.Yacute=667,i.Acircumflex=667,i.aacute=556,i.Ucircumflex=722,i.yacute=500,i.scommaaccent=500,i.ecircumflex=556,i.Uring=722,i.Udieresis=722,i.aogonek=556,i.Uacute=722,i.uogonek=556,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=737,i.Emacron=667,i.ccaron=500,i.aring=556,i.Ncommaaccent=722,i.lacute=222,i.agrave=556,i.Tcommaaccent=611,i.Cacute=722,i.atilde=556,i.Edotaccent=667,i.scaron=500,i.scedilla=500,i.iacute=278,i.lozenge=471,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=556,i.acircumflex=556,i.Amacron=667,i.rcaron=333,i.ccedilla=500,i.Zdotaccent=611,i.Thorn=667,i.Omacron=778,i.Racute=722,i.Sacute=667,i.dcaron=643,i.Umacron=722,i.uring=556,i.threesuperior=333,i.Ograve=778,i.Agrave=667,i.Abreve=667,i.multiply=584,i.uacute=556,i.Tcaron=611,i.partialdiff=476,i.ydieresis=500,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=556,i.edieresis=556,i.cacute=500,i.nacute=556,i.umacron=556,i.Ncaron=722,i.Iacute=278,i.plusminus=584,i.brokenbar=260,i.registered=737,i.Gbreve=778,i.Idotaccent=278,i.summation=600,i.Egrave=667,i.racute=333,i.omacron=556,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=222,i.tcaron=317,i.eogonek=556,i.Uogonek=722,i.Aacute=667,i.Adieresis=667,i.egrave=556,i.zacute=500,i.iogonek=222,i.Oacute=778,i.oacute=556,i.amacron=556,i.sacute=500,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=556,i.twosuperior=333,i.Odieresis=778,i.mu=556,i.igrave=278,i.ohungarumlaut=556,i.Eogonek=667,i.dcroat=556,i.threequarters=834,i.Scedilla=667,i.lcaron=299,i.Kcommaaccent=667,i.Lacute=556,i.trademark=1e3,i.edotaccent=556,i.Igrave=278,i.Imacron=278,i.Lcaron=556,i.onehalf=834,i.lessequal=549,i.ocircumflex=556,i.ntilde=556,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=556,i.gbreve=556,i.onequarter=834,i.Scaron=667,i.Scommaaccent=667,i.Ohungarumlaut=778,i.degree=400,i.ograve=556,i.Ccaron=722,i.ugrave=556,i.radical=453,i.Dcaron=722,i.rcommaaccent=333,i.Ntilde=722,i.otilde=556,i.Rcommaaccent=722,i.Lcommaaccent=556,i.Atilde=667,i.Aogonek=667,i.Aring=667,i.Otilde=778,i.zdotaccent=500,i.Ecaron=667,i.Iogonek=278,i.kcommaaccent=500,i.minus=584,i.Icircumflex=278,i.ncaron=556,i.tcommaaccent=278,i.logicalnot=584,i.odieresis=556,i.udieresis=556,i.notequal=549,i.gcommaaccent=556,i.eth=556,i.zcaron=500,i.ncommaaccent=556,i.onesuperior=333,i.imacron=278,i.Euro=556}),e["Helvetica-Bold"]=(0,s.getLookupTableFactory)(function(i){i.space=278,i.exclam=333,i.quotedbl=474,i.numbersign=556,i.dollar=556,i.percent=889,i.ampersand=722,i.quoteright=278,i.parenleft=333,i.parenright=333,i.asterisk=389,i.plus=584,i.comma=278,i.hyphen=333,i.period=278,i.slash=278,i.zero=556,i.one=556,i.two=556,i.three=556,i.four=556,i.five=556,i.six=556,i.seven=556,i.eight=556,i.nine=556,i.colon=333,i.semicolon=333,i.less=584,i.equal=584,i.greater=584,i.question=611,i.at=975,i.A=722,i.B=722,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=722,i.I=278,i.J=556,i.K=722,i.L=611,i.M=833,i.N=722,i.O=778,i.P=667,i.Q=778,i.R=722,i.S=667,i.T=611,i.U=722,i.V=667,i.W=944,i.X=667,i.Y=667,i.Z=611,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=584,i.underscore=556,i.quoteleft=278,i.a=556,i.b=611,i.c=556,i.d=611,i.e=556,i.f=333,i.g=611,i.h=611,i.i=278,i.j=278,i.k=556,i.l=278,i.m=889,i.n=611,i.o=611,i.p=611,i.q=611,i.r=389,i.s=556,i.t=333,i.u=611,i.v=556,i.w=778,i.x=556,i.y=556,i.z=500,i.braceleft=389,i.bar=280,i.braceright=389,i.asciitilde=584,i.exclamdown=333,i.cent=556,i.sterling=556,i.fraction=167,i.yen=556,i.florin=556,i.section=556,i.currency=556,i.quotesingle=238,i.quotedblleft=500,i.guillemotleft=556,i.guilsinglleft=333,i.guilsinglright=333,i.fi=611,i.fl=611,i.endash=556,i.dagger=556,i.daggerdbl=556,i.periodcentered=278,i.paragraph=556,i.bullet=350,i.quotesinglbase=278,i.quotedblbase=500,i.quotedblright=500,i.guillemotright=556,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=611,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=370,i.Lslash=611,i.Oslash=778,i.OE=1e3,i.ordmasculine=365,i.ae=889,i.dotlessi=278,i.lslash=278,i.oslash=611,i.oe=944,i.germandbls=611,i.Idieresis=278,i.eacute=556,i.abreve=556,i.uhungarumlaut=611,i.ecaron=556,i.Ydieresis=667,i.divide=584,i.Yacute=667,i.Acircumflex=722,i.aacute=556,i.Ucircumflex=722,i.yacute=556,i.scommaaccent=556,i.ecircumflex=556,i.Uring=722,i.Udieresis=722,i.aogonek=556,i.Uacute=722,i.uogonek=611,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=737,i.Emacron=667,i.ccaron=556,i.aring=556,i.Ncommaaccent=722,i.lacute=278,i.agrave=556,i.Tcommaaccent=611,i.Cacute=722,i.atilde=556,i.Edotaccent=667,i.scaron=556,i.scedilla=556,i.iacute=278,i.lozenge=494,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=611,i.acircumflex=556,i.Amacron=722,i.rcaron=389,i.ccedilla=556,i.Zdotaccent=611,i.Thorn=667,i.Omacron=778,i.Racute=722,i.Sacute=667,i.dcaron=743,i.Umacron=722,i.uring=611,i.threesuperior=333,i.Ograve=778,i.Agrave=722,i.Abreve=722,i.multiply=584,i.uacute=611,i.Tcaron=611,i.partialdiff=494,i.ydieresis=556,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=556,i.edieresis=556,i.cacute=556,i.nacute=611,i.umacron=611,i.Ncaron=722,i.Iacute=278,i.plusminus=584,i.brokenbar=280,i.registered=737,i.Gbreve=778,i.Idotaccent=278,i.summation=600,i.Egrave=667,i.racute=389,i.omacron=611,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=278,i.tcaron=389,i.eogonek=556,i.Uogonek=722,i.Aacute=722,i.Adieresis=722,i.egrave=556,i.zacute=500,i.iogonek=278,i.Oacute=778,i.oacute=611,i.amacron=556,i.sacute=556,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=611,i.twosuperior=333,i.Odieresis=778,i.mu=611,i.igrave=278,i.ohungarumlaut=611,i.Eogonek=667,i.dcroat=611,i.threequarters=834,i.Scedilla=667,i.lcaron=400,i.Kcommaaccent=722,i.Lacute=611,i.trademark=1e3,i.edotaccent=556,i.Igrave=278,i.Imacron=278,i.Lcaron=611,i.onehalf=834,i.lessequal=549,i.ocircumflex=611,i.ntilde=611,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=556,i.gbreve=611,i.onequarter=834,i.Scaron=667,i.Scommaaccent=667,i.Ohungarumlaut=778,i.degree=400,i.ograve=611,i.Ccaron=722,i.ugrave=611,i.radical=549,i.Dcaron=722,i.rcommaaccent=389,i.Ntilde=722,i.otilde=611,i.Rcommaaccent=722,i.Lcommaaccent=611,i.Atilde=722,i.Aogonek=722,i.Aring=722,i.Otilde=778,i.zdotaccent=500,i.Ecaron=667,i.Iogonek=278,i.kcommaaccent=556,i.minus=584,i.Icircumflex=278,i.ncaron=611,i.tcommaaccent=333,i.logicalnot=584,i.odieresis=611,i.udieresis=611,i.notequal=549,i.gcommaaccent=611,i.eth=611,i.zcaron=500,i.ncommaaccent=611,i.onesuperior=333,i.imacron=278,i.Euro=556}),e["Helvetica-BoldOblique"]=(0,s.getLookupTableFactory)(function(i){i.space=278,i.exclam=333,i.quotedbl=474,i.numbersign=556,i.dollar=556,i.percent=889,i.ampersand=722,i.quoteright=278,i.parenleft=333,i.parenright=333,i.asterisk=389,i.plus=584,i.comma=278,i.hyphen=333,i.period=278,i.slash=278,i.zero=556,i.one=556,i.two=556,i.three=556,i.four=556,i.five=556,i.six=556,i.seven=556,i.eight=556,i.nine=556,i.colon=333,i.semicolon=333,i.less=584,i.equal=584,i.greater=584,i.question=611,i.at=975,i.A=722,i.B=722,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=722,i.I=278,i.J=556,i.K=722,i.L=611,i.M=833,i.N=722,i.O=778,i.P=667,i.Q=778,i.R=722,i.S=667,i.T=611,i.U=722,i.V=667,i.W=944,i.X=667,i.Y=667,i.Z=611,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=584,i.underscore=556,i.quoteleft=278,i.a=556,i.b=611,i.c=556,i.d=611,i.e=556,i.f=333,i.g=611,i.h=611,i.i=278,i.j=278,i.k=556,i.l=278,i.m=889,i.n=611,i.o=611,i.p=611,i.q=611,i.r=389,i.s=556,i.t=333,i.u=611,i.v=556,i.w=778,i.x=556,i.y=556,i.z=500,i.braceleft=389,i.bar=280,i.braceright=389,i.asciitilde=584,i.exclamdown=333,i.cent=556,i.sterling=556,i.fraction=167,i.yen=556,i.florin=556,i.section=556,i.currency=556,i.quotesingle=238,i.quotedblleft=500,i.guillemotleft=556,i.guilsinglleft=333,i.guilsinglright=333,i.fi=611,i.fl=611,i.endash=556,i.dagger=556,i.daggerdbl=556,i.periodcentered=278,i.paragraph=556,i.bullet=350,i.quotesinglbase=278,i.quotedblbase=500,i.quotedblright=500,i.guillemotright=556,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=611,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=370,i.Lslash=611,i.Oslash=778,i.OE=1e3,i.ordmasculine=365,i.ae=889,i.dotlessi=278,i.lslash=278,i.oslash=611,i.oe=944,i.germandbls=611,i.Idieresis=278,i.eacute=556,i.abreve=556,i.uhungarumlaut=611,i.ecaron=556,i.Ydieresis=667,i.divide=584,i.Yacute=667,i.Acircumflex=722,i.aacute=556,i.Ucircumflex=722,i.yacute=556,i.scommaaccent=556,i.ecircumflex=556,i.Uring=722,i.Udieresis=722,i.aogonek=556,i.Uacute=722,i.uogonek=611,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=737,i.Emacron=667,i.ccaron=556,i.aring=556,i.Ncommaaccent=722,i.lacute=278,i.agrave=556,i.Tcommaaccent=611,i.Cacute=722,i.atilde=556,i.Edotaccent=667,i.scaron=556,i.scedilla=556,i.iacute=278,i.lozenge=494,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=611,i.acircumflex=556,i.Amacron=722,i.rcaron=389,i.ccedilla=556,i.Zdotaccent=611,i.Thorn=667,i.Omacron=778,i.Racute=722,i.Sacute=667,i.dcaron=743,i.Umacron=722,i.uring=611,i.threesuperior=333,i.Ograve=778,i.Agrave=722,i.Abreve=722,i.multiply=584,i.uacute=611,i.Tcaron=611,i.partialdiff=494,i.ydieresis=556,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=556,i.edieresis=556,i.cacute=556,i.nacute=611,i.umacron=611,i.Ncaron=722,i.Iacute=278,i.plusminus=584,i.brokenbar=280,i.registered=737,i.Gbreve=778,i.Idotaccent=278,i.summation=600,i.Egrave=667,i.racute=389,i.omacron=611,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=278,i.tcaron=389,i.eogonek=556,i.Uogonek=722,i.Aacute=722,i.Adieresis=722,i.egrave=556,i.zacute=500,i.iogonek=278,i.Oacute=778,i.oacute=611,i.amacron=556,i.sacute=556,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=611,i.twosuperior=333,i.Odieresis=778,i.mu=611,i.igrave=278,i.ohungarumlaut=611,i.Eogonek=667,i.dcroat=611,i.threequarters=834,i.Scedilla=667,i.lcaron=400,i.Kcommaaccent=722,i.Lacute=611,i.trademark=1e3,i.edotaccent=556,i.Igrave=278,i.Imacron=278,i.Lcaron=611,i.onehalf=834,i.lessequal=549,i.ocircumflex=611,i.ntilde=611,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=556,i.gbreve=611,i.onequarter=834,i.Scaron=667,i.Scommaaccent=667,i.Ohungarumlaut=778,i.degree=400,i.ograve=611,i.Ccaron=722,i.ugrave=611,i.radical=549,i.Dcaron=722,i.rcommaaccent=389,i.Ntilde=722,i.otilde=611,i.Rcommaaccent=722,i.Lcommaaccent=611,i.Atilde=722,i.Aogonek=722,i.Aring=722,i.Otilde=778,i.zdotaccent=500,i.Ecaron=667,i.Iogonek=278,i.kcommaaccent=556,i.minus=584,i.Icircumflex=278,i.ncaron=611,i.tcommaaccent=333,i.logicalnot=584,i.odieresis=611,i.udieresis=611,i.notequal=549,i.gcommaaccent=611,i.eth=611,i.zcaron=500,i.ncommaaccent=611,i.onesuperior=333,i.imacron=278,i.Euro=556}),e["Helvetica-Oblique"]=(0,s.getLookupTableFactory)(function(i){i.space=278,i.exclam=278,i.quotedbl=355,i.numbersign=556,i.dollar=556,i.percent=889,i.ampersand=667,i.quoteright=222,i.parenleft=333,i.parenright=333,i.asterisk=389,i.plus=584,i.comma=278,i.hyphen=333,i.period=278,i.slash=278,i.zero=556,i.one=556,i.two=556,i.three=556,i.four=556,i.five=556,i.six=556,i.seven=556,i.eight=556,i.nine=556,i.colon=278,i.semicolon=278,i.less=584,i.equal=584,i.greater=584,i.question=556,i.at=1015,i.A=667,i.B=667,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=722,i.I=278,i.J=500,i.K=667,i.L=556,i.M=833,i.N=722,i.O=778,i.P=667,i.Q=778,i.R=722,i.S=667,i.T=611,i.U=722,i.V=667,i.W=944,i.X=667,i.Y=667,i.Z=611,i.bracketleft=278,i.backslash=278,i.bracketright=278,i.asciicircum=469,i.underscore=556,i.quoteleft=222,i.a=556,i.b=556,i.c=500,i.d=556,i.e=556,i.f=278,i.g=556,i.h=556,i.i=222,i.j=222,i.k=500,i.l=222,i.m=833,i.n=556,i.o=556,i.p=556,i.q=556,i.r=333,i.s=500,i.t=278,i.u=556,i.v=500,i.w=722,i.x=500,i.y=500,i.z=500,i.braceleft=334,i.bar=260,i.braceright=334,i.asciitilde=584,i.exclamdown=333,i.cent=556,i.sterling=556,i.fraction=167,i.yen=556,i.florin=556,i.section=556,i.currency=556,i.quotesingle=191,i.quotedblleft=333,i.guillemotleft=556,i.guilsinglleft=333,i.guilsinglright=333,i.fi=500,i.fl=500,i.endash=556,i.dagger=556,i.daggerdbl=556,i.periodcentered=278,i.paragraph=537,i.bullet=350,i.quotesinglbase=222,i.quotedblbase=333,i.quotedblright=333,i.guillemotright=556,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=611,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=370,i.Lslash=556,i.Oslash=778,i.OE=1e3,i.ordmasculine=365,i.ae=889,i.dotlessi=278,i.lslash=222,i.oslash=611,i.oe=944,i.germandbls=611,i.Idieresis=278,i.eacute=556,i.abreve=556,i.uhungarumlaut=556,i.ecaron=556,i.Ydieresis=667,i.divide=584,i.Yacute=667,i.Acircumflex=667,i.aacute=556,i.Ucircumflex=722,i.yacute=500,i.scommaaccent=500,i.ecircumflex=556,i.Uring=722,i.Udieresis=722,i.aogonek=556,i.Uacute=722,i.uogonek=556,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=737,i.Emacron=667,i.ccaron=500,i.aring=556,i.Ncommaaccent=722,i.lacute=222,i.agrave=556,i.Tcommaaccent=611,i.Cacute=722,i.atilde=556,i.Edotaccent=667,i.scaron=500,i.scedilla=500,i.iacute=278,i.lozenge=471,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=556,i.acircumflex=556,i.Amacron=667,i.rcaron=333,i.ccedilla=500,i.Zdotaccent=611,i.Thorn=667,i.Omacron=778,i.Racute=722,i.Sacute=667,i.dcaron=643,i.Umacron=722,i.uring=556,i.threesuperior=333,i.Ograve=778,i.Agrave=667,i.Abreve=667,i.multiply=584,i.uacute=556,i.Tcaron=611,i.partialdiff=476,i.ydieresis=500,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=556,i.edieresis=556,i.cacute=500,i.nacute=556,i.umacron=556,i.Ncaron=722,i.Iacute=278,i.plusminus=584,i.brokenbar=260,i.registered=737,i.Gbreve=778,i.Idotaccent=278,i.summation=600,i.Egrave=667,i.racute=333,i.omacron=556,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=222,i.tcaron=317,i.eogonek=556,i.Uogonek=722,i.Aacute=667,i.Adieresis=667,i.egrave=556,i.zacute=500,i.iogonek=222,i.Oacute=778,i.oacute=556,i.amacron=556,i.sacute=500,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=556,i.twosuperior=333,i.Odieresis=778,i.mu=556,i.igrave=278,i.ohungarumlaut=556,i.Eogonek=667,i.dcroat=556,i.threequarters=834,i.Scedilla=667,i.lcaron=299,i.Kcommaaccent=667,i.Lacute=556,i.trademark=1e3,i.edotaccent=556,i.Igrave=278,i.Imacron=278,i.Lcaron=556,i.onehalf=834,i.lessequal=549,i.ocircumflex=556,i.ntilde=556,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=556,i.gbreve=556,i.onequarter=834,i.Scaron=667,i.Scommaaccent=667,i.Ohungarumlaut=778,i.degree=400,i.ograve=556,i.Ccaron=722,i.ugrave=556,i.radical=453,i.Dcaron=722,i.rcommaaccent=333,i.Ntilde=722,i.otilde=556,i.Rcommaaccent=722,i.Lcommaaccent=556,i.Atilde=667,i.Aogonek=667,i.Aring=667,i.Otilde=778,i.zdotaccent=500,i.Ecaron=667,i.Iogonek=278,i.kcommaaccent=500,i.minus=584,i.Icircumflex=278,i.ncaron=556,i.tcommaaccent=278,i.logicalnot=584,i.odieresis=556,i.udieresis=556,i.notequal=549,i.gcommaaccent=556,i.eth=556,i.zcaron=500,i.ncommaaccent=556,i.onesuperior=333,i.imacron=278,i.Euro=556}),e.Symbol=(0,s.getLookupTableFactory)(function(i){i.space=250,i.exclam=333,i.universal=713,i.numbersign=500,i.existential=549,i.percent=833,i.ampersand=778,i.suchthat=439,i.parenleft=333,i.parenright=333,i.asteriskmath=500,i.plus=549,i.comma=250,i.minus=549,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=278,i.semicolon=278,i.less=549,i.equal=549,i.greater=549,i.question=444,i.congruent=549,i.Alpha=722,i.Beta=667,i.Chi=722,i.Delta=612,i.Epsilon=611,i.Phi=763,i.Gamma=603,i.Eta=722,i.Iota=333,i.theta1=631,i.Kappa=722,i.Lambda=686,i.Mu=889,i.Nu=722,i.Omicron=722,i.Pi=768,i.Theta=741,i.Rho=556,i.Sigma=592,i.Tau=611,i.Upsilon=690,i.sigma1=439,i.Omega=768,i.Xi=645,i.Psi=795,i.Zeta=611,i.bracketleft=333,i.therefore=863,i.bracketright=333,i.perpendicular=658,i.underscore=500,i.radicalex=500,i.alpha=631,i.beta=549,i.chi=549,i.delta=494,i.epsilon=439,i.phi=521,i.gamma=411,i.eta=603,i.iota=329,i.phi1=603,i.kappa=549,i.lambda=549,i.mu=576,i.nu=521,i.omicron=549,i.pi=549,i.theta=521,i.rho=549,i.sigma=603,i.tau=439,i.upsilon=576,i.omega1=713,i.omega=686,i.xi=493,i.psi=686,i.zeta=494,i.braceleft=480,i.bar=200,i.braceright=480,i.similar=549,i.Euro=750,i.Upsilon1=620,i.minute=247,i.lessequal=549,i.fraction=167,i.infinity=713,i.florin=500,i.club=753,i.diamond=753,i.heart=753,i.spade=753,i.arrowboth=1042,i.arrowleft=987,i.arrowup=603,i.arrowright=987,i.arrowdown=603,i.degree=400,i.plusminus=549,i.second=411,i.greaterequal=549,i.multiply=549,i.proportional=713,i.partialdiff=494,i.bullet=460,i.divide=549,i.notequal=549,i.equivalence=549,i.approxequal=549,i.ellipsis=1e3,i.arrowvertex=603,i.arrowhorizex=1e3,i.carriagereturn=658,i.aleph=823,i.Ifraktur=686,i.Rfraktur=795,i.weierstrass=987,i.circlemultiply=768,i.circleplus=768,i.emptyset=823,i.intersection=768,i.union=768,i.propersuperset=713,i.reflexsuperset=713,i.notsubset=713,i.propersubset=713,i.reflexsubset=713,i.element=713,i.notelement=713,i.angle=768,i.gradient=713,i.registerserif=790,i.copyrightserif=790,i.trademarkserif=890,i.product=823,i.radical=549,i.dotmath=250,i.logicalnot=713,i.logicaland=603,i.logicalor=603,i.arrowdblboth=1042,i.arrowdblleft=987,i.arrowdblup=603,i.arrowdblright=987,i.arrowdbldown=603,i.lozenge=494,i.angleleft=329,i.registersans=790,i.copyrightsans=790,i.trademarksans=786,i.summation=713,i.parenlefttp=384,i.parenleftex=384,i.parenleftbt=384,i.bracketlefttp=384,i.bracketleftex=384,i.bracketleftbt=384,i.bracelefttp=494,i.braceleftmid=494,i.braceleftbt=494,i.braceex=494,i.angleright=329,i.integral=274,i.integraltp=686,i.integralex=686,i.integralbt=686,i.parenrighttp=384,i.parenrightex=384,i.parenrightbt=384,i.bracketrighttp=384,i.bracketrightex=384,i.bracketrightbt=384,i.bracerighttp=494,i.bracerightmid=494,i.bracerightbt=494,i.apple=790}),e["Times-Roman"]=(0,s.getLookupTableFactory)(function(i){i.space=250,i.exclam=333,i.quotedbl=408,i.numbersign=500,i.dollar=500,i.percent=833,i.ampersand=778,i.quoteright=333,i.parenleft=333,i.parenright=333,i.asterisk=500,i.plus=564,i.comma=250,i.hyphen=333,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=278,i.semicolon=278,i.less=564,i.equal=564,i.greater=564,i.question=444,i.at=921,i.A=722,i.B=667,i.C=667,i.D=722,i.E=611,i.F=556,i.G=722,i.H=722,i.I=333,i.J=389,i.K=722,i.L=611,i.M=889,i.N=722,i.O=722,i.P=556,i.Q=722,i.R=667,i.S=556,i.T=611,i.U=722,i.V=722,i.W=944,i.X=722,i.Y=722,i.Z=611,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=469,i.underscore=500,i.quoteleft=333,i.a=444,i.b=500,i.c=444,i.d=500,i.e=444,i.f=333,i.g=500,i.h=500,i.i=278,i.j=278,i.k=500,i.l=278,i.m=778,i.n=500,i.o=500,i.p=500,i.q=500,i.r=333,i.s=389,i.t=278,i.u=500,i.v=500,i.w=722,i.x=500,i.y=500,i.z=444,i.braceleft=480,i.bar=200,i.braceright=480,i.asciitilde=541,i.exclamdown=333,i.cent=500,i.sterling=500,i.fraction=167,i.yen=500,i.florin=500,i.section=500,i.currency=500,i.quotesingle=180,i.quotedblleft=444,i.guillemotleft=500,i.guilsinglleft=333,i.guilsinglright=333,i.fi=556,i.fl=556,i.endash=500,i.dagger=500,i.daggerdbl=500,i.periodcentered=250,i.paragraph=453,i.bullet=350,i.quotesinglbase=333,i.quotedblbase=444,i.quotedblright=444,i.guillemotright=500,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=444,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=889,i.ordfeminine=276,i.Lslash=611,i.Oslash=722,i.OE=889,i.ordmasculine=310,i.ae=667,i.dotlessi=278,i.lslash=278,i.oslash=500,i.oe=722,i.germandbls=500,i.Idieresis=333,i.eacute=444,i.abreve=444,i.uhungarumlaut=500,i.ecaron=444,i.Ydieresis=722,i.divide=564,i.Yacute=722,i.Acircumflex=722,i.aacute=444,i.Ucircumflex=722,i.yacute=500,i.scommaaccent=389,i.ecircumflex=444,i.Uring=722,i.Udieresis=722,i.aogonek=444,i.Uacute=722,i.uogonek=500,i.Edieresis=611,i.Dcroat=722,i.commaaccent=250,i.copyright=760,i.Emacron=611,i.ccaron=444,i.aring=444,i.Ncommaaccent=722,i.lacute=278,i.agrave=444,i.Tcommaaccent=611,i.Cacute=667,i.atilde=444,i.Edotaccent=611,i.scaron=389,i.scedilla=389,i.iacute=278,i.lozenge=471,i.Rcaron=667,i.Gcommaaccent=722,i.ucircumflex=500,i.acircumflex=444,i.Amacron=722,i.rcaron=333,i.ccedilla=444,i.Zdotaccent=611,i.Thorn=556,i.Omacron=722,i.Racute=667,i.Sacute=556,i.dcaron=588,i.Umacron=722,i.uring=500,i.threesuperior=300,i.Ograve=722,i.Agrave=722,i.Abreve=722,i.multiply=564,i.uacute=500,i.Tcaron=611,i.partialdiff=476,i.ydieresis=500,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=611,i.adieresis=444,i.edieresis=444,i.cacute=444,i.nacute=500,i.umacron=500,i.Ncaron=722,i.Iacute=333,i.plusminus=564,i.brokenbar=200,i.registered=760,i.Gbreve=722,i.Idotaccent=333,i.summation=600,i.Egrave=611,i.racute=333,i.omacron=500,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=667,i.lcommaaccent=278,i.tcaron=326,i.eogonek=444,i.Uogonek=722,i.Aacute=722,i.Adieresis=722,i.egrave=444,i.zacute=444,i.iogonek=278,i.Oacute=722,i.oacute=500,i.amacron=444,i.sacute=389,i.idieresis=278,i.Ocircumflex=722,i.Ugrave=722,i.Delta=612,i.thorn=500,i.twosuperior=300,i.Odieresis=722,i.mu=500,i.igrave=278,i.ohungarumlaut=500,i.Eogonek=611,i.dcroat=500,i.threequarters=750,i.Scedilla=556,i.lcaron=344,i.Kcommaaccent=722,i.Lacute=611,i.trademark=980,i.edotaccent=444,i.Igrave=333,i.Imacron=333,i.Lcaron=611,i.onehalf=750,i.lessequal=549,i.ocircumflex=500,i.ntilde=500,i.Uhungarumlaut=722,i.Eacute=611,i.emacron=444,i.gbreve=500,i.onequarter=750,i.Scaron=556,i.Scommaaccent=556,i.Ohungarumlaut=722,i.degree=400,i.ograve=500,i.Ccaron=667,i.ugrave=500,i.radical=453,i.Dcaron=722,i.rcommaaccent=333,i.Ntilde=722,i.otilde=500,i.Rcommaaccent=667,i.Lcommaaccent=611,i.Atilde=722,i.Aogonek=722,i.Aring=722,i.Otilde=722,i.zdotaccent=444,i.Ecaron=611,i.Iogonek=333,i.kcommaaccent=500,i.minus=564,i.Icircumflex=333,i.ncaron=500,i.tcommaaccent=278,i.logicalnot=564,i.odieresis=500,i.udieresis=500,i.notequal=549,i.gcommaaccent=500,i.eth=500,i.zcaron=444,i.ncommaaccent=500,i.onesuperior=300,i.imacron=278,i.Euro=500}),e["Times-Bold"]=(0,s.getLookupTableFactory)(function(i){i.space=250,i.exclam=333,i.quotedbl=555,i.numbersign=500,i.dollar=500,i.percent=1e3,i.ampersand=833,i.quoteright=333,i.parenleft=333,i.parenright=333,i.asterisk=500,i.plus=570,i.comma=250,i.hyphen=333,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=333,i.semicolon=333,i.less=570,i.equal=570,i.greater=570,i.question=500,i.at=930,i.A=722,i.B=667,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=778,i.I=389,i.J=500,i.K=778,i.L=667,i.M=944,i.N=722,i.O=778,i.P=611,i.Q=778,i.R=722,i.S=556,i.T=667,i.U=722,i.V=722,i.W=1e3,i.X=722,i.Y=722,i.Z=667,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=581,i.underscore=500,i.quoteleft=333,i.a=500,i.b=556,i.c=444,i.d=556,i.e=444,i.f=333,i.g=500,i.h=556,i.i=278,i.j=333,i.k=556,i.l=278,i.m=833,i.n=556,i.o=500,i.p=556,i.q=556,i.r=444,i.s=389,i.t=333,i.u=556,i.v=500,i.w=722,i.x=500,i.y=500,i.z=444,i.braceleft=394,i.bar=220,i.braceright=394,i.asciitilde=520,i.exclamdown=333,i.cent=500,i.sterling=500,i.fraction=167,i.yen=500,i.florin=500,i.section=500,i.currency=500,i.quotesingle=278,i.quotedblleft=500,i.guillemotleft=500,i.guilsinglleft=333,i.guilsinglright=333,i.fi=556,i.fl=556,i.endash=500,i.dagger=500,i.daggerdbl=500,i.periodcentered=250,i.paragraph=540,i.bullet=350,i.quotesinglbase=333,i.quotedblbase=500,i.quotedblright=500,i.guillemotright=500,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=500,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=300,i.Lslash=667,i.Oslash=778,i.OE=1e3,i.ordmasculine=330,i.ae=722,i.dotlessi=278,i.lslash=278,i.oslash=500,i.oe=722,i.germandbls=556,i.Idieresis=389,i.eacute=444,i.abreve=500,i.uhungarumlaut=556,i.ecaron=444,i.Ydieresis=722,i.divide=570,i.Yacute=722,i.Acircumflex=722,i.aacute=500,i.Ucircumflex=722,i.yacute=500,i.scommaaccent=389,i.ecircumflex=444,i.Uring=722,i.Udieresis=722,i.aogonek=500,i.Uacute=722,i.uogonek=556,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=747,i.Emacron=667,i.ccaron=444,i.aring=500,i.Ncommaaccent=722,i.lacute=278,i.agrave=500,i.Tcommaaccent=667,i.Cacute=722,i.atilde=500,i.Edotaccent=667,i.scaron=389,i.scedilla=389,i.iacute=278,i.lozenge=494,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=556,i.acircumflex=500,i.Amacron=722,i.rcaron=444,i.ccedilla=444,i.Zdotaccent=667,i.Thorn=611,i.Omacron=778,i.Racute=722,i.Sacute=556,i.dcaron=672,i.Umacron=722,i.uring=556,i.threesuperior=300,i.Ograve=778,i.Agrave=722,i.Abreve=722,i.multiply=570,i.uacute=556,i.Tcaron=667,i.partialdiff=494,i.ydieresis=500,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=500,i.edieresis=444,i.cacute=444,i.nacute=556,i.umacron=556,i.Ncaron=722,i.Iacute=389,i.plusminus=570,i.brokenbar=220,i.registered=747,i.Gbreve=778,i.Idotaccent=389,i.summation=600,i.Egrave=667,i.racute=444,i.omacron=500,i.Zacute=667,i.Zcaron=667,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=278,i.tcaron=416,i.eogonek=444,i.Uogonek=722,i.Aacute=722,i.Adieresis=722,i.egrave=444,i.zacute=444,i.iogonek=278,i.Oacute=778,i.oacute=500,i.amacron=500,i.sacute=389,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=556,i.twosuperior=300,i.Odieresis=778,i.mu=556,i.igrave=278,i.ohungarumlaut=500,i.Eogonek=667,i.dcroat=556,i.threequarters=750,i.Scedilla=556,i.lcaron=394,i.Kcommaaccent=778,i.Lacute=667,i.trademark=1e3,i.edotaccent=444,i.Igrave=389,i.Imacron=389,i.Lcaron=667,i.onehalf=750,i.lessequal=549,i.ocircumflex=500,i.ntilde=556,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=444,i.gbreve=500,i.onequarter=750,i.Scaron=556,i.Scommaaccent=556,i.Ohungarumlaut=778,i.degree=400,i.ograve=500,i.Ccaron=722,i.ugrave=556,i.radical=549,i.Dcaron=722,i.rcommaaccent=444,i.Ntilde=722,i.otilde=500,i.Rcommaaccent=722,i.Lcommaaccent=667,i.Atilde=722,i.Aogonek=722,i.Aring=722,i.Otilde=778,i.zdotaccent=444,i.Ecaron=667,i.Iogonek=389,i.kcommaaccent=556,i.minus=570,i.Icircumflex=389,i.ncaron=556,i.tcommaaccent=333,i.logicalnot=570,i.odieresis=500,i.udieresis=556,i.notequal=549,i.gcommaaccent=500,i.eth=500,i.zcaron=444,i.ncommaaccent=556,i.onesuperior=300,i.imacron=278,i.Euro=500}),e["Times-BoldItalic"]=(0,s.getLookupTableFactory)(function(i){i.space=250,i.exclam=389,i.quotedbl=555,i.numbersign=500,i.dollar=500,i.percent=833,i.ampersand=778,i.quoteright=333,i.parenleft=333,i.parenright=333,i.asterisk=500,i.plus=570,i.comma=250,i.hyphen=333,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=333,i.semicolon=333,i.less=570,i.equal=570,i.greater=570,i.question=500,i.at=832,i.A=667,i.B=667,i.C=667,i.D=722,i.E=667,i.F=667,i.G=722,i.H=778,i.I=389,i.J=500,i.K=667,i.L=611,i.M=889,i.N=722,i.O=722,i.P=611,i.Q=722,i.R=667,i.S=556,i.T=611,i.U=722,i.V=667,i.W=889,i.X=667,i.Y=611,i.Z=611,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=570,i.underscore=500,i.quoteleft=333,i.a=500,i.b=500,i.c=444,i.d=500,i.e=444,i.f=333,i.g=500,i.h=556,i.i=278,i.j=278,i.k=500,i.l=278,i.m=778,i.n=556,i.o=500,i.p=500,i.q=500,i.r=389,i.s=389,i.t=278,i.u=556,i.v=444,i.w=667,i.x=500,i.y=444,i.z=389,i.braceleft=348,i.bar=220,i.braceright=348,i.asciitilde=570,i.exclamdown=389,i.cent=500,i.sterling=500,i.fraction=167,i.yen=500,i.florin=500,i.section=500,i.currency=500,i.quotesingle=278,i.quotedblleft=500,i.guillemotleft=500,i.guilsinglleft=333,i.guilsinglright=333,i.fi=556,i.fl=556,i.endash=500,i.dagger=500,i.daggerdbl=500,i.periodcentered=250,i.paragraph=500,i.bullet=350,i.quotesinglbase=333,i.quotedblbase=500,i.quotedblright=500,i.guillemotright=500,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=500,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=944,i.ordfeminine=266,i.Lslash=611,i.Oslash=722,i.OE=944,i.ordmasculine=300,i.ae=722,i.dotlessi=278,i.lslash=278,i.oslash=500,i.oe=722,i.germandbls=500,i.Idieresis=389,i.eacute=444,i.abreve=500,i.uhungarumlaut=556,i.ecaron=444,i.Ydieresis=611,i.divide=570,i.Yacute=611,i.Acircumflex=667,i.aacute=500,i.Ucircumflex=722,i.yacute=444,i.scommaaccent=389,i.ecircumflex=444,i.Uring=722,i.Udieresis=722,i.aogonek=500,i.Uacute=722,i.uogonek=556,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=747,i.Emacron=667,i.ccaron=444,i.aring=500,i.Ncommaaccent=722,i.lacute=278,i.agrave=500,i.Tcommaaccent=611,i.Cacute=667,i.atilde=500,i.Edotaccent=667,i.scaron=389,i.scedilla=389,i.iacute=278,i.lozenge=494,i.Rcaron=667,i.Gcommaaccent=722,i.ucircumflex=556,i.acircumflex=500,i.Amacron=667,i.rcaron=389,i.ccedilla=444,i.Zdotaccent=611,i.Thorn=611,i.Omacron=722,i.Racute=667,i.Sacute=556,i.dcaron=608,i.Umacron=722,i.uring=556,i.threesuperior=300,i.Ograve=722,i.Agrave=667,i.Abreve=667,i.multiply=570,i.uacute=556,i.Tcaron=611,i.partialdiff=494,i.ydieresis=444,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=500,i.edieresis=444,i.cacute=444,i.nacute=556,i.umacron=556,i.Ncaron=722,i.Iacute=389,i.plusminus=570,i.brokenbar=220,i.registered=747,i.Gbreve=722,i.Idotaccent=389,i.summation=600,i.Egrave=667,i.racute=389,i.omacron=500,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=667,i.lcommaaccent=278,i.tcaron=366,i.eogonek=444,i.Uogonek=722,i.Aacute=667,i.Adieresis=667,i.egrave=444,i.zacute=389,i.iogonek=278,i.Oacute=722,i.oacute=500,i.amacron=500,i.sacute=389,i.idieresis=278,i.Ocircumflex=722,i.Ugrave=722,i.Delta=612,i.thorn=500,i.twosuperior=300,i.Odieresis=722,i.mu=576,i.igrave=278,i.ohungarumlaut=500,i.Eogonek=667,i.dcroat=500,i.threequarters=750,i.Scedilla=556,i.lcaron=382,i.Kcommaaccent=667,i.Lacute=611,i.trademark=1e3,i.edotaccent=444,i.Igrave=389,i.Imacron=389,i.Lcaron=611,i.onehalf=750,i.lessequal=549,i.ocircumflex=500,i.ntilde=556,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=444,i.gbreve=500,i.onequarter=750,i.Scaron=556,i.Scommaaccent=556,i.Ohungarumlaut=722,i.degree=400,i.ograve=500,i.Ccaron=667,i.ugrave=556,i.radical=549,i.Dcaron=722,i.rcommaaccent=389,i.Ntilde=722,i.otilde=500,i.Rcommaaccent=667,i.Lcommaaccent=611,i.Atilde=667,i.Aogonek=667,i.Aring=667,i.Otilde=722,i.zdotaccent=389,i.Ecaron=667,i.Iogonek=389,i.kcommaaccent=500,i.minus=606,i.Icircumflex=389,i.ncaron=556,i.tcommaaccent=278,i.logicalnot=606,i.odieresis=500,i.udieresis=556,i.notequal=549,i.gcommaaccent=500,i.eth=500,i.zcaron=389,i.ncommaaccent=556,i.onesuperior=300,i.imacron=278,i.Euro=500}),e["Times-Italic"]=(0,s.getLookupTableFactory)(function(i){i.space=250,i.exclam=333,i.quotedbl=420,i.numbersign=500,i.dollar=500,i.percent=833,i.ampersand=778,i.quoteright=333,i.parenleft=333,i.parenright=333,i.asterisk=500,i.plus=675,i.comma=250,i.hyphen=333,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=333,i.semicolon=333,i.less=675,i.equal=675,i.greater=675,i.question=500,i.at=920,i.A=611,i.B=611,i.C=667,i.D=722,i.E=611,i.F=611,i.G=722,i.H=722,i.I=333,i.J=444,i.K=667,i.L=556,i.M=833,i.N=667,i.O=722,i.P=611,i.Q=722,i.R=611,i.S=500,i.T=556,i.U=722,i.V=611,i.W=833,i.X=611,i.Y=556,i.Z=556,i.bracketleft=389,i.backslash=278,i.bracketright=389,i.asciicircum=422,i.underscore=500,i.quoteleft=333,i.a=500,i.b=500,i.c=444,i.d=500,i.e=444,i.f=278,i.g=500,i.h=500,i.i=278,i.j=278,i.k=444,i.l=278,i.m=722,i.n=500,i.o=500,i.p=500,i.q=500,i.r=389,i.s=389,i.t=278,i.u=500,i.v=444,i.w=667,i.x=444,i.y=444,i.z=389,i.braceleft=400,i.bar=275,i.braceright=400,i.asciitilde=541,i.exclamdown=389,i.cent=500,i.sterling=500,i.fraction=167,i.yen=500,i.florin=500,i.section=500,i.currency=500,i.quotesingle=214,i.quotedblleft=556,i.guillemotleft=500,i.guilsinglleft=333,i.guilsinglright=333,i.fi=500,i.fl=500,i.endash=500,i.dagger=500,i.daggerdbl=500,i.periodcentered=250,i.paragraph=523,i.bullet=350,i.quotesinglbase=333,i.quotedblbase=556,i.quotedblright=556,i.guillemotright=500,i.ellipsis=889,i.perthousand=1e3,i.questiondown=500,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=889,i.AE=889,i.ordfeminine=276,i.Lslash=556,i.Oslash=722,i.OE=944,i.ordmasculine=310,i.ae=667,i.dotlessi=278,i.lslash=278,i.oslash=500,i.oe=667,i.germandbls=500,i.Idieresis=333,i.eacute=444,i.abreve=500,i.uhungarumlaut=500,i.ecaron=444,i.Ydieresis=556,i.divide=675,i.Yacute=556,i.Acircumflex=611,i.aacute=500,i.Ucircumflex=722,i.yacute=444,i.scommaaccent=389,i.ecircumflex=444,i.Uring=722,i.Udieresis=722,i.aogonek=500,i.Uacute=722,i.uogonek=500,i.Edieresis=611,i.Dcroat=722,i.commaaccent=250,i.copyright=760,i.Emacron=611,i.ccaron=444,i.aring=500,i.Ncommaaccent=667,i.lacute=278,i.agrave=500,i.Tcommaaccent=556,i.Cacute=667,i.atilde=500,i.Edotaccent=611,i.scaron=389,i.scedilla=389,i.iacute=278,i.lozenge=471,i.Rcaron=611,i.Gcommaaccent=722,i.ucircumflex=500,i.acircumflex=500,i.Amacron=611,i.rcaron=389,i.ccedilla=444,i.Zdotaccent=556,i.Thorn=611,i.Omacron=722,i.Racute=611,i.Sacute=500,i.dcaron=544,i.Umacron=722,i.uring=500,i.threesuperior=300,i.Ograve=722,i.Agrave=611,i.Abreve=611,i.multiply=675,i.uacute=500,i.Tcaron=556,i.partialdiff=476,i.ydieresis=444,i.Nacute=667,i.icircumflex=278,i.Ecircumflex=611,i.adieresis=500,i.edieresis=444,i.cacute=444,i.nacute=500,i.umacron=500,i.Ncaron=667,i.Iacute=333,i.plusminus=675,i.brokenbar=275,i.registered=760,i.Gbreve=722,i.Idotaccent=333,i.summation=600,i.Egrave=611,i.racute=389,i.omacron=500,i.Zacute=556,i.Zcaron=556,i.greaterequal=549,i.Eth=722,i.Ccedilla=667,i.lcommaaccent=278,i.tcaron=300,i.eogonek=444,i.Uogonek=722,i.Aacute=611,i.Adieresis=611,i.egrave=444,i.zacute=389,i.iogonek=278,i.Oacute=722,i.oacute=500,i.amacron=500,i.sacute=389,i.idieresis=278,i.Ocircumflex=722,i.Ugrave=722,i.Delta=612,i.thorn=500,i.twosuperior=300,i.Odieresis=722,i.mu=500,i.igrave=278,i.ohungarumlaut=500,i.Eogonek=611,i.dcroat=500,i.threequarters=750,i.Scedilla=500,i.lcaron=300,i.Kcommaaccent=667,i.Lacute=556,i.trademark=980,i.edotaccent=444,i.Igrave=333,i.Imacron=333,i.Lcaron=611,i.onehalf=750,i.lessequal=549,i.ocircumflex=500,i.ntilde=500,i.Uhungarumlaut=722,i.Eacute=611,i.emacron=444,i.gbreve=500,i.onequarter=750,i.Scaron=500,i.Scommaaccent=500,i.Ohungarumlaut=722,i.degree=400,i.ograve=500,i.Ccaron=667,i.ugrave=500,i.radical=453,i.Dcaron=722,i.rcommaaccent=389,i.Ntilde=667,i.otilde=500,i.Rcommaaccent=611,i.Lcommaaccent=556,i.Atilde=611,i.Aogonek=611,i.Aring=611,i.Otilde=722,i.zdotaccent=389,i.Ecaron=611,i.Iogonek=333,i.kcommaaccent=444,i.minus=675,i.Icircumflex=333,i.ncaron=500,i.tcommaaccent=278,i.logicalnot=675,i.odieresis=500,i.udieresis=500,i.notequal=549,i.gcommaaccent=500,i.eth=500,i.zcaron=389,i.ncommaaccent=500,i.onesuperior=300,i.imacron=278,i.Euro=500}),e.ZapfDingbats=(0,s.getLookupTableFactory)(function(i){i.space=278,i.a1=974,i.a2=961,i.a202=974,i.a3=980,i.a4=719,i.a5=789,i.a119=790,i.a118=791,i.a117=690,i.a11=960,i.a12=939,i.a13=549,i.a14=855,i.a15=911,i.a16=933,i.a105=911,i.a17=945,i.a18=974,i.a19=755,i.a20=846,i.a21=762,i.a22=761,i.a23=571,i.a24=677,i.a25=763,i.a26=760,i.a27=759,i.a28=754,i.a6=494,i.a7=552,i.a8=537,i.a9=577,i.a10=692,i.a29=786,i.a30=788,i.a31=788,i.a32=790,i.a33=793,i.a34=794,i.a35=816,i.a36=823,i.a37=789,i.a38=841,i.a39=823,i.a40=833,i.a41=816,i.a42=831,i.a43=923,i.a44=744,i.a45=723,i.a46=749,i.a47=790,i.a48=792,i.a49=695,i.a50=776,i.a51=768,i.a52=792,i.a53=759,i.a54=707,i.a55=708,i.a56=682,i.a57=701,i.a58=826,i.a59=815,i.a60=789,i.a61=789,i.a62=707,i.a63=687,i.a64=696,i.a65=689,i.a66=786,i.a67=787,i.a68=713,i.a69=791,i.a70=785,i.a71=791,i.a72=873,i.a73=761,i.a74=762,i.a203=762,i.a75=759,i.a204=759,i.a76=892,i.a77=892,i.a78=788,i.a79=784,i.a81=438,i.a82=138,i.a83=277,i.a84=415,i.a97=392,i.a98=392,i.a99=668,i.a100=668,i.a89=390,i.a90=390,i.a93=317,i.a94=317,i.a91=276,i.a92=276,i.a205=509,i.a85=509,i.a206=410,i.a86=410,i.a87=234,i.a88=234,i.a95=334,i.a96=334,i.a101=732,i.a102=544,i.a103=544,i.a104=910,i.a106=667,i.a107=760,i.a108=760,i.a112=776,i.a111=595,i.a110=694,i.a109=626,i.a120=788,i.a121=788,i.a122=788,i.a123=788,i.a124=788,i.a125=788,i.a126=788,i.a127=788,i.a128=788,i.a129=788,i.a130=788,i.a131=788,i.a132=788,i.a133=788,i.a134=788,i.a135=788,i.a136=788,i.a137=788,i.a138=788,i.a139=788,i.a140=788,i.a141=788,i.a142=788,i.a143=788,i.a144=788,i.a145=788,i.a146=788,i.a147=788,i.a148=788,i.a149=788,i.a150=788,i.a151=788,i.a152=788,i.a153=788,i.a154=788,i.a155=788,i.a156=788,i.a157=788,i.a158=788,i.a159=788,i.a160=894,i.a161=838,i.a163=1016,i.a164=458,i.a196=748,i.a165=924,i.a192=748,i.a166=918,i.a167=927,i.a168=928,i.a169=928,i.a170=834,i.a171=873,i.a172=828,i.a173=924,i.a162=924,i.a174=917,i.a175=930,i.a176=931,i.a177=463,i.a178=883,i.a179=836,i.a193=836,i.a180=867,i.a199=867,i.a181=696,i.a200=696,i.a182=874,i.a201=874,i.a183=760,i.a184=946,i.a197=771,i.a185=865,i.a194=771,i.a198=888,i.a186=967,i.a195=888,i.a187=831,i.a188=873,i.a189=927,i.a190=970,i.a191=918})});$.getMetrics=bt;const St=(0,s.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});$.getFontBasicMetrics=St},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlyfTable=void 0,$.GlyfTable=class{constructor({glyfTable:d,isGlyphLocationsLong:ut,locaTable:dt,numGlyphs:et}){this.glyphs=[];const _=new DataView(dt.buffer,dt.byteOffset,dt.byteLength),c=new DataView(d.buffer,d.byteOffset,d.byteLength),lt=ut?4:2;let at=ut?_.getUint32(0):2*_.getUint16(0),ct=0;for(let it=0;it<et;it++){ct+=lt;const tt=ut?_.getUint32(ct):2*_.getUint16(ct);if(tt===at){this.glyphs.push(new _t({}));continue}const ot=_t.parse(at,c);this.glyphs.push(ot),at=tt}}getSize(){return this.glyphs.reduce((d,ut)=>d+(ut.getSize()+3&-4),0)}write(){const d=this.getSize(),ut=new DataView(new ArrayBuffer(d)),dt=d>131070,et=dt?4:2,_=new DataView(new ArrayBuffer((this.glyphs.length+1)*et));dt?_.setUint32(0,0):_.setUint16(0,0);let c=0,lt=0;for(const at of this.glyphs)c+=at.write(c,ut),c=c+3&-4,lt+=et,dt?_.setUint32(lt,c):_.setUint16(lt,c>>1);return{isLocationLong:dt,loca:new Uint8Array(_.buffer),glyf:new Uint8Array(ut.buffer)}}scale(d){for(let ut=0,dt=this.glyphs.length;ut<dt;ut++)this.glyphs[ut].scale(d[ut])}};class _t{constructor({header:d=null,simple:ut=null,composites:dt=null}){this.header=d,this.simple=ut,this.composites=dt}static parse(d,ut){const[dt,et]=s.parse(d,ut);if(d+=dt,et.numberOfContours<0){const c=[];for(;;){const[lt,at]=e.parse(d,ut);if(d+=lt,c.push(at),!(32&at.flags))break}return new _t({header:et,composites:c})}const _=St.parse(d,ut,et.numberOfContours);return new _t({header:et,simple:_})}getSize(){if(!this.header)return 0;const d=this.simple?this.simple.getSize():this.composites.reduce((ut,dt)=>ut+dt.getSize(),0);return this.header.getSize()+d}write(d,ut){if(!this.header)return 0;const dt=d;if(d+=this.header.write(d,ut),this.simple)d+=this.simple.write(d,ut);else for(const et of this.composites)d+=et.write(d,ut);return d-dt}scale(d){if(!this.header)return;const ut=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(ut,d),this.simple)this.simple.scale(ut,d);else for(const dt of this.composites)dt.scale(ut,d)}}class s{constructor({numberOfContours:d,xMin:ut,yMin:dt,xMax:et,yMax:_}){this.numberOfContours=d,this.xMin=ut,this.yMin=dt,this.xMax=et,this.yMax=_}static parse(d,ut){return[10,new s({numberOfContours:ut.getInt16(d),xMin:ut.getInt16(d+2),yMin:ut.getInt16(d+4),xMax:ut.getInt16(d+6),yMax:ut.getInt16(d+8)})]}getSize(){return 10}write(d,ut){return ut.setInt16(d,this.numberOfContours),ut.setInt16(d+2,this.xMin),ut.setInt16(d+4,this.yMin),ut.setInt16(d+6,this.xMax),ut.setInt16(d+8,this.yMax),10}scale(d,ut){this.xMin=Math.round(d+(this.xMin-d)*ut),this.xMax=Math.round(d+(this.xMax-d)*ut)}}class bt{constructor({flags:d,xCoordinates:ut,yCoordinates:dt}){this.xCoordinates=ut,this.yCoordinates=dt,this.flags=d}}class St{constructor({contours:d,instructions:ut}){this.contours=d,this.instructions=ut}static parse(d,ut,dt){const et=[];for(let Pt=0;Pt<dt;Pt++){const Tt=ut.getUint16(d);d+=2,et.push(Tt)}const _=et[dt-1]+1,c=ut.getUint16(d);d+=2;const lt=new Uint8Array(ut).slice(d,d+c);d+=c;const at=[];for(let Pt=0;Pt<_;d++,Pt++){let Tt=ut.getUint8(d);if(at.push(Tt),8&Tt){const Et=ut.getUint8(++d);Tt^=8;for(let rt=0;rt<Et;rt++)at.push(Tt);Pt+=Et}}const ct=[];let it=[],tt=[],ot=[];const mt=[];let Ct=0,Nt=0;for(let Pt=0;Pt<_;Pt++){const Tt=at[Pt];if(2&Tt){const Et=ut.getUint8(d++);Nt+=16&Tt?Et:-Et,it.push(Nt)}else 16&Tt||(Nt+=ut.getInt16(d),d+=2),it.push(Nt);et[Ct]===Pt&&(Ct++,ct.push(it),it=[])}Nt=0,Ct=0;for(let Pt=0;Pt<_;Pt++){const Tt=at[Pt];if(4&Tt){const Et=ut.getUint8(d++);Nt+=32&Tt?Et:-Et,tt.push(Nt)}else 32&Tt||(Nt+=ut.getInt16(d),d+=2),tt.push(Nt);ot.push(1&Tt|64&Tt),et[Ct]===Pt&&(it=ct[Ct],Ct++,mt.push(new bt({flags:ot,xCoordinates:it,yCoordinates:tt})),tt=[],ot=[])}return new St({contours:mt,instructions:lt})}getSize(){let d=2*this.contours.length+2+this.instructions.length,ut=0,dt=0;for(const et of this.contours){d+=et.flags.length;for(let _=0,c=et.xCoordinates.length;_<c;_++){const lt=et.xCoordinates[_],at=et.yCoordinates[_];let ct=Math.abs(lt-ut);ct>255?d+=2:ct>0&&(d+=1),ut=lt,ct=Math.abs(at-dt),ct>255?d+=2:ct>0&&(d+=1),dt=at}}return d}write(d,ut){const dt=d,et=[],_=[],c=[];let lt=0,at=0;for(const ct of this.contours){for(let it=0,tt=ct.xCoordinates.length;it<tt;it++){let ot=ct.flags[it];const mt=ct.xCoordinates[it];let Ct=mt-lt;if(Ct===0)ot|=16,et.push(0);else{const Pt=Math.abs(Ct);Pt<=255?(ot|=Ct>=0?18:2,et.push(Pt)):et.push(Ct)}lt=mt;const Nt=ct.yCoordinates[it];if(Ct=Nt-at,Ct===0)ot|=32,_.push(0);else{const Pt=Math.abs(Ct);Pt<=255?(ot|=Ct>=0?36:4,_.push(Pt)):_.push(Ct)}at=Nt,c.push(ot)}ut.setUint16(d,et.length-1),d+=2}ut.setUint16(d,this.instructions.length),d+=2,this.instructions.length&&(new Uint8Array(ut.buffer,0,ut.buffer.byteLength).set(this.instructions,d),d+=this.instructions.length);for(const ct of c)ut.setUint8(d++,ct);for(let ct=0,it=et.length;ct<it;ct++){const tt=et[ct],ot=c[ct];2&ot?ut.setUint8(d++,tt):16&ot||(ut.setInt16(d,tt),d+=2)}for(let ct=0,it=_.length;ct<it;ct++){const tt=_[ct],ot=c[ct];4&ot?ut.setUint8(d++,tt):32&ot||(ut.setInt16(d,tt),d+=2)}return d-dt}scale(d,ut){for(const dt of this.contours)if(dt.xCoordinates.length!==0)for(let et=0,_=dt.xCoordinates.length;et<_;et++)dt.xCoordinates[et]=Math.round(d+(dt.xCoordinates[et]-d)*ut)}}class e{constructor({flags:d,glyphIndex:ut,argument1:dt,argument2:et,transf:_,instructions:c}){this.flags=d,this.glyphIndex=ut,this.argument1=dt,this.argument2=et,this.transf=_,this.instructions=c}static parse(d,ut){const dt=d,et=[];let _=ut.getUint16(d);const c=ut.getUint16(d+2);d+=4;let lt,at;1&_?(2&_?(lt=ut.getInt16(d),at=ut.getInt16(d+2)):(lt=ut.getUint16(d),at=ut.getUint16(d+2)),d+=4,_^=1):(2&_?(lt=ut.getInt8(d),at=ut.getInt8(d+1)):(lt=ut.getUint8(d),at=ut.getUint8(d+1)),d+=2),8&_?(et.push(ut.getUint16(d)),d+=2):64&_?(et.push(ut.getUint16(d),ut.getUint16(d+2)),d+=4):128&_&&(et.push(ut.getUint16(d),ut.getUint16(d+2),ut.getUint16(d+4),ut.getUint16(d+6)),d+=8);let ct=null;if(256&_){const it=ut.getUint16(d);d+=2,ct=new Uint8Array(ut).slice(d,d+it),d+=it}return[d-dt,new e({flags:_,glyphIndex:c,argument1:lt,argument2:at,transf:et,instructions:ct})]}getSize(){let d=4+2*this.transf.length;return 256&this.flags&&(d+=2+this.instructions.length),d+=2,2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(d+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(d+=2),d}write(d,ut){const dt=d;return 2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=1):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=1),ut.setUint16(d,this.flags),ut.setUint16(d+2,this.glyphIndex),d+=4,1&this.flags?(2&this.flags?(ut.setInt16(d,this.argument1),ut.setInt16(d+2,this.argument2)):(ut.setUint16(d,this.argument1),ut.setUint16(d+2,this.argument2)),d+=4):(ut.setUint8(d,this.argument1),ut.setUint8(d+1,this.argument2),d+=2),256&this.flags&&(ut.setUint16(d,this.instructions.length),d+=2,this.instructions.length&&(new Uint8Array(ut.buffer,0,ut.buffer.byteLength).set(this.instructions,d),d+=this.instructions.length)),d-dt}scale(d,ut){}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.OpenTypeFileBuilder=void 0;var s=_t(3),bt=_t(2);function St(ut,dt,et){ut[dt]=et>>8&255,ut[dt+1]=255&et}function e(ut,dt,et){ut[dt]=et>>24&255,ut[dt+1]=et>>16&255,ut[dt+2]=et>>8&255,ut[dt+3]=255&et}function i(ut,dt,et){if(et instanceof Uint8Array)ut.set(et,dt);else if(typeof et=="string")for(let _=0,c=et.length;_<c;_++)ut[dt++]=255&et.charCodeAt(_);else for(const _ of et)ut[dt++]=255&_}class d{constructor(dt){this.sfnt=dt,this.tables=Object.create(null)}static getSearchParams(dt,et){let _=1,c=0;for(;(_^dt)>_;)_<<=1,c++;const lt=_*et;return{range:lt,entry:c,rangeShift:et*dt-lt}}toArray(){let dt=this.sfnt;const et=this.tables,_=Object.keys(et);_.sort();const c=_.length;let lt,at,ct,it,tt,ot=12+16*c;const mt=[ot];for(lt=0;lt<c;lt++)it=et[_[lt]],ot+=(it.length+3&-4)>>>0,mt.push(ot);const Ct=new Uint8Array(ot);for(lt=0;lt<c;lt++)it=et[_[lt]],i(Ct,mt[lt],it);dt==="true"&&(dt=(0,bt.string32)(65536)),Ct[0]=255&dt.charCodeAt(0),Ct[1]=255&dt.charCodeAt(1),Ct[2]=255&dt.charCodeAt(2),Ct[3]=255&dt.charCodeAt(3),St(Ct,4,c);const Nt=d.getSearchParams(c,16);for(St(Ct,6,Nt.range),St(Ct,8,Nt.entry),St(Ct,10,Nt.rangeShift),ot=12,lt=0;lt<c;lt++){tt=_[lt],Ct[ot]=255&tt.charCodeAt(0),Ct[ot+1]=255&tt.charCodeAt(1),Ct[ot+2]=255&tt.charCodeAt(2),Ct[ot+3]=255&tt.charCodeAt(3);let Pt=0;for(at=mt[lt],ct=mt[lt+1];at<ct;at+=4)Pt=Pt+(0,s.readUint32)(Ct,at)>>>0;e(Ct,ot+4,Pt),e(Ct,ot+8,mt[lt]),e(Ct,ot+12,et[tt].length),ot+=16}return Ct}addTable(dt,et){if(dt in this.tables)throw new Error("Table "+dt+" already exists");this.tables[dt]=et}}$.OpenTypeFileBuilder=d},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Type1Font=void 0;var s=_t(35),bt=_t(2),St=_t(38),e=_t(3),i=_t(8),d=_t(49);function ut(dt,et,_){const c=dt.length,lt=et.length,at=c-lt;let ct=_,it=!1;for(;ct<at;){let tt=0;for(;tt<lt&&dt[ct+tt]===et[tt];)tt++;if(tt>=lt){for(ct+=tt;ct<c&&(0,e.isWhiteSpace)(dt[ct]);)ct++;it=!0;break}ct++}return{found:it,length:ct}}$.Type1Font=class{constructor(et,_,c){let lt=c.length1;c.length2;let at=_.peekBytes(6);const ct=at[0]===128&&at[1]===1;ct&&(_.skip(6),lt=at[5]<<24|at[4]<<16|at[3]<<8|at[2]);const it=function(Tt,Et){const rt=[101,101,120,101,99],ft=Tt.pos;let wt,b,pt,Ot;try{wt=Tt.getBytes(Et),b=wt.length}catch{}if(b===Et&&(pt=ut(wt,rt,Et-2*rt.length),pt.found&&pt.length===Et))return{stream:new i.Stream(wt),length:Et};for((0,bt.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),Tt.pos=ft;pt=ut(Tt.peekBytes(2048),rt,0),pt.length!==0;)if(Tt.pos+=pt.length,pt.found){Ot=Tt.pos-ft;break}return Tt.pos=ft,Ot?{stream:new i.Stream(Tt.getBytes(Ot)),length:Ot}:((0,bt.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new i.Stream(Tt.getBytes(Et)),length:Et})}(_,lt);new d.Type1Parser(it.stream,!1,St.SEAC_ANALYSIS_ENABLED).extractFontHeader(c),ct&&(at=_.getBytes(6),at[5]<<24|at[4]<<16|at[3]<<8|at[2]);const tt=function(Tt,Et){const rt=Tt.getBytes();if(rt.length===0)throw new bt.FormatError("getEexecBlock - no font program found.");return{stream:new i.Stream(rt),length:rt.length}}(_),ot=new d.Type1Parser(tt.stream,!0,St.SEAC_ANALYSIS_ENABLED).extractFontProgram(c);for(const Pt in ot.properties)c[Pt]=ot.properties[Pt];const mt=ot.charstrings,Ct=this.getType2Charstrings(mt),Nt=this.getType2Subrs(ot.subrs);this.charstrings=mt,this.data=this.wrap(et,Ct,this.charstrings,Nt,c),this.seacs=this.getSeacs(ot.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const et=[".notdef"];for(const{glyphName:_}of this.charstrings)et.push(_);return et}getGlyphMapping(et){const _=this.charstrings;if(et.composite){const it=Object.create(null);for(let tt=0,ot=_.length;tt<ot;tt++)it[et.cMap.charCodeOf(tt)]=tt+1;return it}const c=[".notdef"];let lt,at;for(at=0;at<_.length;at++)c.push(_[at].glyphName);const ct=et.builtInEncoding;if(ct){lt=Object.create(null);for(const it in ct)at=c.indexOf(ct[it]),at>=0&&(lt[it]=at)}return(0,St.type1FontGlyphMapping)(et,lt,c)}hasGlyphId(et){return et<0||et>=this.numGlyphs?!1:et===0?!0:this.charstrings[et-1].charstring.length>0}getSeacs(et){const _=[];for(let c=0,lt=et.length;c<lt;c++){const at=et[c];at.seac&&(_[c+1]=at.seac)}return _}getType2Charstrings(et){const _=[];for(const c of et)_.push(c.charstring);return _}getType2Subrs(et){let _=0;const c=et.length;_=c<1133?107:c<33769?1131:32768;const lt=[];let at;for(at=0;at<_;at++)lt.push([11]);for(at=0;at<c;at++)lt.push(et[at]);return lt}wrap(et,_,c,lt,at){const ct=new s.CFF;ct.header=new s.CFFHeader(1,0,4,4),ct.names=[et];const it=new s.CFFTopDict;it.setByName("version",391),it.setByName("Notice",392),it.setByName("FullName",393),it.setByName("FamilyName",394),it.setByName("Weight",395),it.setByName("Encoding",null),it.setByName("FontMatrix",at.fontMatrix),it.setByName("FontBBox",at.bbox),it.setByName("charset",null),it.setByName("CharStrings",null),it.setByName("Private",null),ct.topDict=it;const tt=new s.CFFStrings;tt.add("Version 0.11"),tt.add("See original notice"),tt.add(et),tt.add(et),tt.add("Medium"),ct.strings=tt,ct.globalSubrIndex=new s.CFFIndex;const ot=_.length,mt=[".notdef"];let Ct,Nt;for(Ct=0;Ct<ot;Ct++){const ft=c[Ct].glyphName;s.CFFStandardStrings.indexOf(ft)===-1&&tt.add(ft),mt.push(ft)}ct.charset=new s.CFFCharset(!1,0,mt);const Pt=new s.CFFIndex;for(Pt.add([139,14]),Ct=0;Ct<ot;Ct++)Pt.add(_[Ct]);ct.charStrings=Pt;const Tt=new s.CFFPrivateDict;Tt.setByName("Subrs",null);const Et=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(Ct=0,Nt=Et.length;Ct<Nt;Ct++){const ft=Et[Ct];if(!(ft in at.privateData))continue;const wt=at.privateData[ft];if(Array.isArray(wt))for(let b=wt.length-1;b>0;b--)wt[b]-=wt[b-1];Tt.setByName(ft,wt)}ct.topDict.privateDict=Tt;const rt=new s.CFFIndex;for(Ct=0,Nt=lt.length;Ct<Nt;Ct++)rt.add(lt[Ct]);return Tt.subrsIndex=rt,new s.CFFCompiler(ct).compile()}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Type1Parser=void 0;var s=_t(37),bt=_t(3),St=_t(8),e=_t(2);const i=[4],d=[5],ut=[6],dt=[7],et=[8],_=[12,35],c=[14],lt=[21],at=[22],ct=[30],it=[31];class tt{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(Pt,Tt,Et){const rt=Pt.length;let ft,wt,b,pt=!1;for(let Ot=0;Ot<rt;Ot++){let kt=Pt[Ot];if(kt<32){switch(kt===12&&(kt=(kt<<8)+Pt[++Ot]),kt){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){pt=!0;break}const yt=this.stack.pop();this.stack.push(0,yt);break}pt=this.executeCommand(1,i);break;case 5:pt=this.executeCommand(2,d);break;case 6:pt=this.executeCommand(1,ut);break;case 7:pt=this.executeCommand(1,dt);break;case 8:pt=this.executeCommand(6,et);break;case 10:if(this.stack.length<1){pt=!0;break}if(b=this.stack.pop(),!Tt[b]){pt=!0;break}pt=this.convert(Tt[b],Tt,Et);break;case 11:return pt;case 13:if(this.stack.length<2){pt=!0;break}ft=this.stack.pop(),wt=this.stack.pop(),this.lsb=wt,this.width=ft,this.stack.push(ft,wt),pt=this.executeCommand(2,at);break;case 14:this.output.push(c[0]);break;case 21:if(this.flexing)break;pt=this.executeCommand(2,lt);break;case 22:if(this.flexing){this.stack.push(0);break}pt=this.executeCommand(1,at);break;case 30:pt=this.executeCommand(4,ct);break;case 31:pt=this.executeCommand(4,it);break;case 3078:if(Et){const yt=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-yt,pt=this.executeCommand(0,c)}else pt=this.executeCommand(4,c);break;case 3079:if(this.stack.length<4){pt=!0;break}this.stack.pop(),ft=this.stack.pop();const st=this.stack.pop();wt=this.stack.pop(),this.lsb=wt,this.width=ft,this.stack.push(ft,wt,st),pt=this.executeCommand(3,lt);break;case 3084:if(this.stack.length<2){pt=!0;break}const nt=this.stack.pop(),gt=this.stack.pop();this.stack.push(gt/nt);break;case 3088:if(this.stack.length<2){pt=!0;break}b=this.stack.pop();const Ft=this.stack.pop();if(b===0&&Ft===3){const yt=this.stack.splice(-17,17);this.stack.push(yt[2]+yt[0],yt[3]+yt[1],yt[4],yt[5],yt[6],yt[7],yt[8],yt[9],yt[10],yt[11],yt[12],yt[13],yt[14]),pt=this.executeCommand(13,_,!0),this.flexing=!1,this.stack.push(yt[15],yt[16])}else b===1&&Ft===0&&(this.flexing=!0);break;case 3089:break;default:(0,e.warn)('Unknown type 1 charstring command of "'+kt+'"')}if(pt)break}else kt<=246?kt-=139:kt=kt<=250?256*(kt-247)+Pt[++Ot]+108:kt<=254?-256*(kt-251)-Pt[++Ot]-108:(255&Pt[++Ot])<<24|(255&Pt[++Ot])<<16|(255&Pt[++Ot])<<8|(255&Pt[++Ot])<<0,this.stack.push(kt)}return pt}executeCommand(Pt,Tt,Et){const rt=this.stack.length;if(Pt>rt)return!0;const ft=rt-Pt;for(let wt=ft;wt<rt;wt++){let b=this.stack[wt];Number.isInteger(b)?this.output.push(28,b>>8&255,255&b):(b=65536*b|0,this.output.push(255,b>>24&255,b>>16&255,b>>8&255,255&b))}return this.output.push(...Tt),Et?this.stack.splice(ft,Pt):this.stack.length=0,!1}}function ot(Nt){return Nt>=48&&Nt<=57||Nt>=65&&Nt<=70||Nt>=97&&Nt<=102}function mt(Nt,Pt,Tt){if(Tt>=Nt.length)return new Uint8Array(0);let Et,rt,ft=0|Pt;for(Et=0;Et<Tt;Et++)ft=52845*(Nt[Et]+ft)+22719&65535;const wt=Nt.length-Tt,b=new Uint8Array(wt);for(Et=Tt,rt=0;rt<wt;Et++,rt++){const pt=Nt[Et];b[rt]=pt^ft>>8,ft=52845*(pt+ft)+22719&65535}return b}function Ct(Nt){return Nt===47||Nt===91||Nt===93||Nt===123||Nt===125||Nt===40||Nt===41}$.Type1Parser=class{constructor(Pt,Tt,Et){if(Tt){const rt=Pt.getBytes(),ft=!((ot(rt[0])||(0,bt.isWhiteSpace)(rt[0]))&&ot(rt[1])&&ot(rt[2])&&ot(rt[3])&&ot(rt[4])&&ot(rt[5])&&ot(rt[6])&&ot(rt[7]));Pt=new St.Stream(ft?mt(rt,55665,4):function(b,pt,Ot){let kt=0|pt;const st=b.length,nt=new Uint8Array(st>>>1);let gt,Ft;for(gt=0,Ft=0;gt<st;gt++){const yt=b[gt];if(!ot(yt))continue;gt++;let vt;for(;gt<st&&!ot(vt=b[gt]);)gt++;if(gt<st){const Lt=parseInt(String.fromCharCode(yt,vt),16);nt[Ft++]=Lt^kt>>8,kt=52845*(Lt+kt)+22719&65535}}return nt.slice(Ot,Ft)}(rt,55665,4))}this.seacAnalysisEnabled=!!Et,this.stream=Pt,this.nextChar()}readNumberArray(){this.getToken();const Pt=[];for(;;){const Tt=this.getToken();if(Tt===null||Tt==="]"||Tt==="}")break;Pt.push(parseFloat(Tt||0))}return Pt}readNumber(){const Pt=this.getToken();return parseFloat(Pt||0)}readInt(){const Pt=this.getToken();return 0|parseInt(Pt||0,10)}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let Pt=!1,Tt=this.currentChar;for(;;){if(Tt===-1)return null;if(Pt)Tt!==10&&Tt!==13||(Pt=!1);else if(Tt===37)Pt=!0;else if(!(0,bt.isWhiteSpace)(Tt))break;Tt=this.nextChar()}if(Ct(Tt))return this.nextChar(),String.fromCharCode(Tt);let Et="";do Et+=String.fromCharCode(Tt),Tt=this.nextChar();while(Tt>=0&&!(0,bt.isWhiteSpace)(Tt)&&!Ct(Tt));return Et}readCharStrings(Pt,Tt){return Tt===-1?Pt:mt(Pt,4330,Tt)}extractFontProgram(Pt){const Tt=this.stream,Et=[],rt=[],ft=Object.create(null);ft.lenIV=4;const wt={subrs:[],charstrings:[],properties:{privateData:ft}};let b,pt,Ot,kt;for(;(b=this.getToken())!==null;)if(b==="/")switch(b=this.getToken(),b){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();b=this.getToken(),!(b===null||b==="end");){if(b!=="/")continue;const nt=this.getToken();pt=this.readInt(),this.getToken(),Ot=pt>0?Tt.getBytes(pt):new Uint8Array(0),kt=wt.properties.privateData.lenIV;const gt=this.readCharStrings(Ot,kt);this.nextChar(),b=this.getToken(),b==="noaccess"?this.getToken():b==="/"&&this.prevChar(),rt.push({glyph:nt,encoded:gt})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const nt=this.readInt();pt=this.readInt(),this.getToken(),Ot=pt>0?Tt.getBytes(pt):new Uint8Array(0),kt=wt.properties.privateData.lenIV;const gt=this.readCharStrings(Ot,kt);this.nextChar(),b=this.getToken(),b==="noaccess"&&this.getToken(),Et[nt]=gt}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const st=this.readNumberArray();st.length>0&&st.length;break;case"StemSnapH":case"StemSnapV":wt.properties.privateData[b]=this.readNumberArray();break;case"StdHW":case"StdVW":wt.properties.privateData[b]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":wt.properties.privateData[b]=this.readNumber();break;case"ExpansionFactor":wt.properties.privateData[b]=this.readNumber()||.06;break;case"ForceBold":wt.properties.privateData[b]=this.readBoolean()}for(const{encoded:st,glyph:nt}of rt){const gt=new tt,Ft=gt.convert(st,Et,this.seacAnalysisEnabled);let yt=gt.output;Ft&&(yt=[14]);const vt={glyphName:nt,charstring:yt,width:gt.width,lsb:gt.lsb,seac:gt.seac};if(nt===".notdef"?wt.charstrings.unshift(vt):wt.charstrings.push(vt),Pt.builtInEncoding){const Lt=Pt.builtInEncoding.indexOf(nt);Lt>-1&&Pt.widths[Lt]===void 0&&Lt>=Pt.firstChar&&Lt<=Pt.lastChar&&(Pt.widths[Lt]=gt.width)}}return wt}extractFontHeader(Pt){let Tt;for(;(Tt=this.getToken())!==null;)if(Tt==="/")switch(Tt=this.getToken(),Tt){case"FontMatrix":const Et=this.readNumberArray();Pt.fontMatrix=Et;break;case"Encoding":const rt=this.getToken();let ft;if(/^\d+$/.test(rt)){ft=[];const b=0|parseInt(rt,10);this.getToken();for(let pt=0;pt<b;pt++){for(Tt=this.getToken();Tt!=="dup"&&Tt!=="def";)if(Tt=this.getToken(),Tt===null)return;if(Tt==="def")break;const Ot=this.readInt();this.getToken();const kt=this.getToken();ft[Ot]=kt,this.getToken()}}else ft=(0,s.getEncoding)(rt);Pt.builtInEncoding=ft;break;case"FontBBox":const wt=this.readNumberArray();Pt.ascent=Math.max(wt[3],wt[1]),Pt.descent=Math.min(wt[1],wt[3]),Pt.ascentScaled=!0}}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Pattern=void 0,$.clearPatternCaches=function(){ct=Object.create(null)},$.getTilingPatternIR=function(Pt,Tt,Et){const rt=Tt.getArray("Matrix"),ft=s.Util.normalizeRect(Tt.getArray("BBox")),wt=Tt.get("XStep"),b=Tt.get("YStep"),pt=Tt.get("PaintType"),Ot=Tt.get("TilingType");if(ft[2]-ft[0]==0||ft[3]-ft[1]==0)throw new s.FormatError(`Invalid getTilingPatternIR /BBox array: [${ft}].`);return["TilingPattern",Et,Pt,rt,ft,wt,b,pt,Ot]};var s=_t(2),bt=_t(5),St=_t(12),e=_t(3);const i=2,d=3,ut=4,dt=5,et=6,_=7;$.Pattern=class{constructor(){(0,s.unreachable)("Cannot initialize Pattern.")}static parseShading(Pt,Tt,Et,rt,ft){const wt=Pt instanceof bt.BaseStream?Pt.dict:Pt,b=wt.get("ShadingType");try{switch(b){case i:case d:return new lt(wt,Tt,Et,rt,ft);case ut:case dt:case et:case _:return new tt(Pt,Tt,Et,rt,ft);default:throw new s.FormatError("Unsupported ShadingType: "+b)}}catch(pt){if(pt instanceof e.MissingDataException)throw pt;return(0,s.warn)(pt),new ot}}};const mt=class mt{constructor(){this.constructor===mt&&(0,s.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,s.unreachable)("Abstract method `getIR` called.")}};ir(mt,"SMALL_NUMBER",1e-6);let c=mt;class lt extends c{constructor(Pt,Tt,Et,rt,ft){super(),this.coordsArr=Pt.getArray("Coords"),this.shadingType=Pt.get("ShadingType");const wt=St.ColorSpace.parse({cs:Pt.getRaw("CS")||Pt.getRaw("ColorSpace"),xref:Tt,resources:Et,pdfFunctionFactory:rt,localColorSpaceCache:ft}),b=Pt.getArray("BBox");this.bbox=Array.isArray(b)&&b.length===4?s.Util.normalizeRect(b):null;let pt=0,Ot=1;if(Pt.has("Domain")){const qt=Pt.getArray("Domain");pt=qt[0],Ot=qt[1]}let kt=!1,st=!1;if(Pt.has("Extend")){const qt=Pt.getArray("Extend");kt=qt[0],st=qt[1]}if(!(this.shadingType!==d||kt&&st)){const[qt,Wt,Gt,Zt,Yt,tn]=this.coordsArr,nn=Math.hypot(qt-Zt,Wt-Yt);Gt<=tn+nn&&tn<=Gt+nn&&(0,s.warn)("Unsupported radial gradient.")}this.extendStart=kt,this.extendEnd=st;const nt=Pt.getRaw("Function"),gt=rt.createFromArray(nt),Ft=(Ot-pt)/840,yt=this.colorStops=[];if(pt>=Ot||Ft<=0){(0,s.info)("Bad shading domain.");return}const vt=new Float32Array(wt.numComps),Lt=new Float32Array(1);let jt,Ht=0;Lt[0]=pt,gt(Lt,0,vt,0);let Vt=wt.getRgb(vt,0);const Qt=s.Util.makeHexColor(Vt[0],Vt[1],Vt[2]);yt.push([0,Qt]);let _e=1;Lt[0]=pt+Ft,gt(Lt,0,vt,0);let Xt=wt.getRgb(vt,0),Dt=Xt[0]-Vt[0]+1,It=Xt[1]-Vt[1]+1,j=Xt[2]-Vt[2]+1,At=Xt[0]-Vt[0]-1,Mt=Xt[1]-Vt[1]-1,Rt=Xt[2]-Vt[2]-1;for(let qt=2;qt<840;qt++){Lt[0]=pt+qt*Ft,gt(Lt,0,vt,0),jt=wt.getRgb(vt,0);const Wt=qt-Ht;if(Dt=Math.min(Dt,(jt[0]-Vt[0]+1)/Wt),It=Math.min(It,(jt[1]-Vt[1]+1)/Wt),j=Math.min(j,(jt[2]-Vt[2]+1)/Wt),At=Math.max(At,(jt[0]-Vt[0]-1)/Wt),Mt=Math.max(Mt,(jt[1]-Vt[1]-1)/Wt),Rt=Math.max(Rt,(jt[2]-Vt[2]-1)/Wt),!(At<=Dt&&Mt<=It&&Rt<=j)){const Gt=s.Util.makeHexColor(Xt[0],Xt[1],Xt[2]);yt.push([_e/840,Gt]),Dt=jt[0]-Xt[0]+1,It=jt[1]-Xt[1]+1,j=jt[2]-Xt[2]+1,At=jt[0]-Xt[0]-1,Mt=jt[1]-Xt[1]-1,Rt=jt[2]-Xt[2]-1,Ht=_e,Vt=Xt}_e=qt,Xt=jt}const $t=s.Util.makeHexColor(Xt[0],Xt[1],Xt[2]);yt.push([1,$t]);let zt="transparent";Pt.has("Background")&&(jt=wt.getRgb(Pt.get("Background"),0),zt=s.Util.makeHexColor(jt[0],jt[1],jt[2])),kt||(yt.unshift([0,zt]),yt[1][0]+=c.SMALL_NUMBER),st||(yt.at(-1)[0]-=c.SMALL_NUMBER,yt.push([1,zt])),this.colorStops=yt}getIR(){const Pt=this.coordsArr,Tt=this.shadingType;let Et,rt,ft,wt,b;return Tt===i?(rt=[Pt[0],Pt[1]],ft=[Pt[2],Pt[3]],wt=null,b=null,Et="axial"):Tt===d?(rt=[Pt[0],Pt[1]],ft=[Pt[3],Pt[4]],wt=Pt[2],b=Pt[5],Et="radial"):(0,s.unreachable)(`getPattern type unknown: ${Tt}`),["RadialAxial",Et,this.bbox,this.colorStops,rt,ft,wt,b]}}class at{constructor(Pt,Tt){this.stream=Pt,this.context=Tt,this.buffer=0,this.bufferLength=0;const Et=Tt.numComps;this.tmpCompsBuf=new Float32Array(Et);const rt=Tt.colorSpace.numComps;this.tmpCsCompsBuf=Tt.colorFn?new Float32Array(rt):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const Pt=this.stream.getByte();return Pt<0?!1:(this.buffer=Pt,this.bufferLength=8,!0)}readBits(Pt){let Tt=this.buffer,Et=this.bufferLength;if(Pt===32){if(Et===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;Tt=Tt<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const rt=this.stream.getByte();return this.buffer=rt&(1<<Et)-1,(Tt<<8-Et|(255&rt)>>Et)>>>0}if(Pt===8&&Et===0)return this.stream.getByte();for(;Et<Pt;)Tt=Tt<<8|this.stream.getByte(),Et+=8;return Et-=Pt,this.bufferLength=Et,this.buffer=Tt&(1<<Et)-1,Tt>>Et}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const Pt=this.context.bitsPerCoordinate,Tt=this.readBits(Pt),Et=this.readBits(Pt),rt=this.context.decode,ft=Pt<32?1/((1<<Pt)-1):23283064365386963e-26;return[Tt*ft*(rt[1]-rt[0])+rt[0],Et*ft*(rt[3]-rt[2])+rt[2]]}readComponents(){const Pt=this.context.numComps,Tt=this.context.bitsPerComponent,Et=Tt<32?1/((1<<Tt)-1):23283064365386963e-26,rt=this.context.decode,ft=this.tmpCompsBuf;for(let b=0,pt=4;b<Pt;b++,pt+=2){const Ot=this.readBits(Tt);ft[b]=Ot*Et*(rt[pt+1]-rt[pt])+rt[pt]}const wt=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(ft,0,wt,0),this.context.colorSpace.getRgb(wt,0)}}let ct=Object.create(null);function it(Nt){return ct[Nt]||(ct[Nt]=function(Tt){const Et=[];for(let rt=0;rt<=Tt;rt++){const ft=rt/Tt,wt=1-ft;Et.push(new Float32Array([wt**3,3*ft*wt**2,3*ft**2*wt,ft**3]))}return Et}(Nt))}const Ct=class Ct extends c{constructor(Pt,Tt,Et,rt,ft){if(super(),!(Pt instanceof bt.BaseStream))throw new s.FormatError("Mesh data is not a stream");const wt=Pt.dict;this.shadingType=wt.get("ShadingType");const b=wt.getArray("BBox");this.bbox=Array.isArray(b)&&b.length===4?s.Util.normalizeRect(b):null;const pt=St.ColorSpace.parse({cs:wt.getRaw("CS")||wt.getRaw("ColorSpace"),xref:Tt,resources:Et,pdfFunctionFactory:rt,localColorSpaceCache:ft});this.background=wt.has("Background")?pt.getRgb(wt.get("Background"),0):null;const Ot=wt.getRaw("Function"),kt=Ot?rt.createFromArray(Ot):null;this.coords=[],this.colors=[],this.figures=[];const st={bitsPerCoordinate:wt.get("BitsPerCoordinate"),bitsPerComponent:wt.get("BitsPerComponent"),bitsPerFlag:wt.get("BitsPerFlag"),decode:wt.getArray("Decode"),colorFn:kt,colorSpace:pt,numComps:kt?1:pt.numComps},nt=new at(Pt,st);let gt=!1;switch(this.shadingType){case ut:this._decodeType4Shading(nt);break;case dt:const Ft=0|wt.get("VerticesPerRow");if(Ft<2)throw new s.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(nt,Ft);break;case et:this._decodeType6Shading(nt),gt=!0;break;case _:this._decodeType7Shading(nt),gt=!0;break;default:(0,s.unreachable)("Unsupported mesh type.")}if(gt){this._updateBounds();for(let Ft=0,yt=this.figures.length;Ft<yt;Ft++)this._buildFigureFromPatch(Ft)}this._updateBounds(),this._packData()}_decodeType4Shading(Pt){const Tt=this.coords,Et=this.colors,rt=[];let ft=0;for(;Pt.hasData;){const wt=Pt.readFlag(),b=Pt.readCoordinate(),pt=Pt.readComponents();if(ft===0){if(!(0<=wt&&wt<=2))throw new s.FormatError("Unknown type4 flag");switch(wt){case 0:ft=3;break;case 1:rt.push(rt.at(-2),rt.at(-1)),ft=1;break;case 2:rt.push(rt.at(-3),rt.at(-1)),ft=1}}rt.push(Tt.length),Tt.push(b),Et.push(pt),ft--,Pt.align()}this.figures.push({type:"triangles",coords:new Int32Array(rt),colors:new Int32Array(rt)})}_decodeType5Shading(Pt,Tt){const Et=this.coords,rt=this.colors,ft=[];for(;Pt.hasData;){const wt=Pt.readCoordinate(),b=Pt.readComponents();ft.push(Et.length),Et.push(wt),rt.push(b)}this.figures.push({type:"lattice",coords:new Int32Array(ft),colors:new Int32Array(ft),verticesPerRow:Tt})}_decodeType6Shading(Pt){const Tt=this.coords,Et=this.colors,rt=new Int32Array(16),ft=new Int32Array(4);for(;Pt.hasData;){const wt=Pt.readFlag();if(!(0<=wt&&wt<=3))throw new s.FormatError("Unknown type6 flag");const b=Tt.length;for(let gt=0,Ft=wt!==0?8:12;gt<Ft;gt++)Tt.push(Pt.readCoordinate());const pt=Et.length;for(let gt=0,Ft=wt!==0?2:4;gt<Ft;gt++)Et.push(Pt.readComponents());let Ot,kt,st,nt;switch(wt){case 0:rt[12]=b+3,rt[13]=b+4,rt[14]=b+5,rt[15]=b+6,rt[8]=b+2,rt[11]=b+7,rt[4]=b+1,rt[7]=b+8,rt[0]=b,rt[1]=b+11,rt[2]=b+10,rt[3]=b+9,ft[2]=pt+1,ft[3]=pt+2,ft[0]=pt,ft[1]=pt+3;break;case 1:Ot=rt[12],kt=rt[13],st=rt[14],nt=rt[15],rt[12]=nt,rt[13]=b+0,rt[14]=b+1,rt[15]=b+2,rt[8]=st,rt[11]=b+3,rt[4]=kt,rt[7]=b+4,rt[0]=Ot,rt[1]=b+7,rt[2]=b+6,rt[3]=b+5,Ot=ft[2],kt=ft[3],ft[2]=kt,ft[3]=pt,ft[0]=Ot,ft[1]=pt+1;break;case 2:Ot=rt[15],kt=rt[11],rt[12]=rt[3],rt[13]=b+0,rt[14]=b+1,rt[15]=b+2,rt[8]=rt[7],rt[11]=b+3,rt[4]=kt,rt[7]=b+4,rt[0]=Ot,rt[1]=b+7,rt[2]=b+6,rt[3]=b+5,Ot=ft[3],ft[2]=ft[1],ft[3]=pt,ft[0]=Ot,ft[1]=pt+1;break;case 3:rt[12]=rt[0],rt[13]=b+0,rt[14]=b+1,rt[15]=b+2,rt[8]=rt[1],rt[11]=b+3,rt[4]=rt[2],rt[7]=b+4,rt[0]=rt[3],rt[1]=b+7,rt[2]=b+6,rt[3]=b+5,ft[2]=ft[0],ft[3]=pt,ft[0]=ft[1],ft[1]=pt+1}rt[5]=Tt.length,Tt.push([(-4*Tt[rt[0]][0]-Tt[rt[15]][0]+6*(Tt[rt[4]][0]+Tt[rt[1]][0])-2*(Tt[rt[12]][0]+Tt[rt[3]][0])+3*(Tt[rt[13]][0]+Tt[rt[7]][0]))/9,(-4*Tt[rt[0]][1]-Tt[rt[15]][1]+6*(Tt[rt[4]][1]+Tt[rt[1]][1])-2*(Tt[rt[12]][1]+Tt[rt[3]][1])+3*(Tt[rt[13]][1]+Tt[rt[7]][1]))/9]),rt[6]=Tt.length,Tt.push([(-4*Tt[rt[3]][0]-Tt[rt[12]][0]+6*(Tt[rt[2]][0]+Tt[rt[7]][0])-2*(Tt[rt[0]][0]+Tt[rt[15]][0])+3*(Tt[rt[4]][0]+Tt[rt[14]][0]))/9,(-4*Tt[rt[3]][1]-Tt[rt[12]][1]+6*(Tt[rt[2]][1]+Tt[rt[7]][1])-2*(Tt[rt[0]][1]+Tt[rt[15]][1])+3*(Tt[rt[4]][1]+Tt[rt[14]][1]))/9]),rt[9]=Tt.length,Tt.push([(-4*Tt[rt[12]][0]-Tt[rt[3]][0]+6*(Tt[rt[8]][0]+Tt[rt[13]][0])-2*(Tt[rt[0]][0]+Tt[rt[15]][0])+3*(Tt[rt[11]][0]+Tt[rt[1]][0]))/9,(-4*Tt[rt[12]][1]-Tt[rt[3]][1]+6*(Tt[rt[8]][1]+Tt[rt[13]][1])-2*(Tt[rt[0]][1]+Tt[rt[15]][1])+3*(Tt[rt[11]][1]+Tt[rt[1]][1]))/9]),rt[10]=Tt.length,Tt.push([(-4*Tt[rt[15]][0]-Tt[rt[0]][0]+6*(Tt[rt[11]][0]+Tt[rt[14]][0])-2*(Tt[rt[12]][0]+Tt[rt[3]][0])+3*(Tt[rt[2]][0]+Tt[rt[8]][0]))/9,(-4*Tt[rt[15]][1]-Tt[rt[0]][1]+6*(Tt[rt[11]][1]+Tt[rt[14]][1])-2*(Tt[rt[12]][1]+Tt[rt[3]][1])+3*(Tt[rt[2]][1]+Tt[rt[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(rt),colors:new Int32Array(ft)})}}_decodeType7Shading(Pt){const Tt=this.coords,Et=this.colors,rt=new Int32Array(16),ft=new Int32Array(4);for(;Pt.hasData;){const wt=Pt.readFlag();if(!(0<=wt&&wt<=3))throw new s.FormatError("Unknown type7 flag");const b=Tt.length;for(let gt=0,Ft=wt!==0?12:16;gt<Ft;gt++)Tt.push(Pt.readCoordinate());const pt=Et.length;for(let gt=0,Ft=wt!==0?2:4;gt<Ft;gt++)Et.push(Pt.readComponents());let Ot,kt,st,nt;switch(wt){case 0:rt[12]=b+3,rt[13]=b+4,rt[14]=b+5,rt[15]=b+6,rt[8]=b+2,rt[9]=b+13,rt[10]=b+14,rt[11]=b+7,rt[4]=b+1,rt[5]=b+12,rt[6]=b+15,rt[7]=b+8,rt[0]=b,rt[1]=b+11,rt[2]=b+10,rt[3]=b+9,ft[2]=pt+1,ft[3]=pt+2,ft[0]=pt,ft[1]=pt+3;break;case 1:Ot=rt[12],kt=rt[13],st=rt[14],nt=rt[15],rt[12]=nt,rt[13]=b+0,rt[14]=b+1,rt[15]=b+2,rt[8]=st,rt[9]=b+9,rt[10]=b+10,rt[11]=b+3,rt[4]=kt,rt[5]=b+8,rt[6]=b+11,rt[7]=b+4,rt[0]=Ot,rt[1]=b+7,rt[2]=b+6,rt[3]=b+5,Ot=ft[2],kt=ft[3],ft[2]=kt,ft[3]=pt,ft[0]=Ot,ft[1]=pt+1;break;case 2:Ot=rt[15],kt=rt[11],rt[12]=rt[3],rt[13]=b+0,rt[14]=b+1,rt[15]=b+2,rt[8]=rt[7],rt[9]=b+9,rt[10]=b+10,rt[11]=b+3,rt[4]=kt,rt[5]=b+8,rt[6]=b+11,rt[7]=b+4,rt[0]=Ot,rt[1]=b+7,rt[2]=b+6,rt[3]=b+5,Ot=ft[3],ft[2]=ft[1],ft[3]=pt,ft[0]=Ot,ft[1]=pt+1;break;case 3:rt[12]=rt[0],rt[13]=b+0,rt[14]=b+1,rt[15]=b+2,rt[8]=rt[1],rt[9]=b+9,rt[10]=b+10,rt[11]=b+3,rt[4]=rt[2],rt[5]=b+8,rt[6]=b+11,rt[7]=b+4,rt[0]=rt[3],rt[1]=b+7,rt[2]=b+6,rt[3]=b+5,ft[2]=ft[0],ft[3]=pt,ft[0]=ft[1],ft[1]=pt+1}this.figures.push({type:"patch",coords:new Int32Array(rt),colors:new Int32Array(ft)})}}_buildFigureFromPatch(Pt){const Tt=this.figures[Pt];(0,s.assert)(Tt.type==="patch","Unexpected patch mesh figure");const Et=this.coords,rt=this.colors,ft=Tt.coords,wt=Tt.colors,b=Math.min(Et[ft[0]][0],Et[ft[3]][0],Et[ft[12]][0],Et[ft[15]][0]),pt=Math.min(Et[ft[0]][1],Et[ft[3]][1],Et[ft[12]][1],Et[ft[15]][1]),Ot=Math.max(Et[ft[0]][0],Et[ft[3]][0],Et[ft[12]][0],Et[ft[15]][0]),kt=Math.max(Et[ft[0]][1],Et[ft[3]][1],Et[ft[12]][1],Et[ft[15]][1]);let st=Math.ceil((Ot-b)*Ct.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));st=Math.max(Ct.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Ct.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,st));let nt=Math.ceil((kt-pt)*Ct.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));nt=Math.max(Ct.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Ct.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,nt));const gt=st+1,Ft=new Int32Array((nt+1)*gt),yt=new Int32Array((nt+1)*gt);let vt=0;const Lt=new Uint8Array(3),jt=new Uint8Array(3),Ht=rt[wt[0]],Vt=rt[wt[1]],Qt=rt[wt[2]],_e=rt[wt[3]],Xt=it(nt),Dt=it(st);for(let It=0;It<=nt;It++){Lt[0]=(Ht[0]*(nt-It)+Qt[0]*It)/nt|0,Lt[1]=(Ht[1]*(nt-It)+Qt[1]*It)/nt|0,Lt[2]=(Ht[2]*(nt-It)+Qt[2]*It)/nt|0,jt[0]=(Vt[0]*(nt-It)+_e[0]*It)/nt|0,jt[1]=(Vt[1]*(nt-It)+_e[1]*It)/nt|0,jt[2]=(Vt[2]*(nt-It)+_e[2]*It)/nt|0;for(let j=0;j<=st;j++,vt++){if(!(It!==0&&It!==nt||j!==0&&j!==st))continue;let At=0,Mt=0,Rt=0;for(let zt=0;zt<=3;zt++)for(let qt=0;qt<=3;qt++,Rt++){const Wt=Xt[It][zt]*Dt[j][qt];At+=Et[ft[Rt]][0]*Wt,Mt+=Et[ft[Rt]][1]*Wt}Ft[vt]=Et.length,Et.push([At,Mt]),yt[vt]=rt.length;const $t=new Uint8Array(3);$t[0]=(Lt[0]*(st-j)+jt[0]*j)/st|0,$t[1]=(Lt[1]*(st-j)+jt[1]*j)/st|0,$t[2]=(Lt[2]*(st-j)+jt[2]*j)/st|0,rt.push($t)}}Ft[0]=ft[0],yt[0]=wt[0],Ft[st]=ft[3],yt[st]=wt[1],Ft[gt*nt]=ft[12],yt[gt*nt]=wt[2],Ft[gt*nt+st]=ft[15],yt[gt*nt+st]=wt[3],this.figures[Pt]={type:"lattice",coords:Ft,colors:yt,verticesPerRow:gt}}_updateBounds(){let Pt=this.coords[0][0],Tt=this.coords[0][1],Et=Pt,rt=Tt;for(let ft=1,wt=this.coords.length;ft<wt;ft++){const b=this.coords[ft][0],pt=this.coords[ft][1];Pt=Pt>b?b:Pt,Tt=Tt>pt?pt:Tt,Et=Et<b?b:Et,rt=rt<pt?pt:rt}this.bounds=[Pt,Tt,Et,rt]}_packData(){let Pt,Tt,Et,rt;const ft=this.coords,wt=new Float32Array(2*ft.length);for(Pt=0,Et=0,Tt=ft.length;Pt<Tt;Pt++){const kt=ft[Pt];wt[Et++]=kt[0],wt[Et++]=kt[1]}this.coords=wt;const b=this.colors,pt=new Uint8Array(3*b.length);for(Pt=0,Et=0,Tt=b.length;Pt<Tt;Pt++){const kt=b[Pt];pt[Et++]=kt[0],pt[Et++]=kt[1],pt[Et++]=kt[2]}this.colors=pt;const Ot=this.figures;for(Pt=0,Tt=Ot.length;Pt<Tt;Pt++){const kt=Ot[Pt],st=kt.coords,nt=kt.colors;for(Et=0,rt=st.length;Et<rt;Et++)st[Et]*=2,nt[Et]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};ir(Ct,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),ir(Ct,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),ir(Ct,"TRIANGLE_DENSITY",20);let tt=Ct;class ot extends c{getIR(){return["Dummy"]}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getXfaFontDict=function(lt){const at=function(mt){const Ct=_(mt);if(!Ct)return null;const{baseWidths:Nt,baseMapping:Pt,factors:Tt}=Ct,Et=Tt?Nt.map((b,pt)=>b*Tt[pt]):Nt;let rt,ft=-2;const wt=[];for(const[b,pt]of Pt.map((Ot,kt)=>[Ot,kt]).sort(([Ot],[kt])=>Ot-kt))b!==-1&&(b===ft+1?(rt.push(Et[pt]),ft+=1):(ft=b,rt=[Et[pt]],wt.push(b,rt)));return wt}(lt),ct=new bt.Dict(null);ct.set("BaseFont",bt.Name.get(lt)),ct.set("Type",bt.Name.get("Font")),ct.set("Subtype",bt.Name.get("CIDFontType2")),ct.set("Encoding",bt.Name.get("Identity-H")),ct.set("CIDToGIDMap",bt.Name.get("Identity")),ct.set("W",at),ct.set("FirstChar",at[0]),ct.set("LastChar",at.at(-2)+at.at(-1).length-1);const it=new bt.Dict(null);ct.set("FontDescriptor",it);const tt=new bt.Dict(null);return tt.set("Ordering","Identity"),tt.set("Registry","Adobe"),tt.set("Supplement",0),ct.set("CIDSystemInfo",tt),ct},$.getXfaFontName=_;var s=_t(52),bt=_t(4),St=_t(53),e=_t(54),i=_t(55),d=_t(56),ut=_t(3),dt=_t(38);const et=(0,ut.getLookupTableFactory)(function(c){c["MyriadPro-Regular"]=c["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:i.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:i.MyriadProRegularMetrics},c["MyriadPro-Bold"]=c["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:i.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:i.MyriadProBoldMetrics},c["MyriadPro-It"]=c["MyriadPro-Italic"]=c["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:i.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:i.MyriadProItalicMetrics},c["MyriadPro-BoldIt"]=c["MyriadPro-BoldItalic"]=c["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:i.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:i.MyriadProBoldItalicMetrics},c.ArialMT=c.Arial=c["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},c["Arial-BoldMT"]=c["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},c["Arial-ItalicMT"]=c["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},c["Arial-BoldItalicMT"]=c["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},c["Calibri-Regular"]={name:"LiberationSans-Regular",factors:s.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:s.CalibriRegularMetrics},c["Calibri-Bold"]={name:"LiberationSans-Bold",factors:s.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:s.CalibriBoldMetrics},c["Calibri-Italic"]={name:"LiberationSans-Italic",factors:s.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:s.CalibriItalicMetrics},c["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:s.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:s.CalibriBoldItalicMetrics},c["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:d.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:d.SegoeuiRegularMetrics},c["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:d.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:d.SegoeuiBoldMetrics},c["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:d.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:d.SegoeuiItalicMetrics},c["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:d.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:d.SegoeuiBoldItalicMetrics},c["Helvetica-Regular"]=c.Helvetica={name:"LiberationSans-Regular",factors:St.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:St.HelveticaRegularMetrics},c["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:St.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:St.HelveticaBoldMetrics},c["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:St.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:St.HelveticaItalicMetrics},c["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:St.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:St.HelveticaBoldItalicMetrics}});function _(c){const lt=(0,dt.normalizeFontName)(c);return et()[lt]}},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CalibriRegularMetrics=$.CalibriRegularFactors=$.CalibriItalicMetrics=$.CalibriItalicFactors=$.CalibriBoldMetrics=$.CalibriBoldItalicMetrics=$.CalibriBoldItalicFactors=$.CalibriBoldFactors=void 0,$.CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},$.CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},$.CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},$.CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],$.CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207}},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.HelveticaRegularMetrics=$.HelveticaRegularFactors=$.HelveticaItalicMetrics=$.HelveticaItalicFactors=$.HelveticaBoldMetrics=$.HelveticaBoldItalicMetrics=$.HelveticaBoldItalicFactors=$.HelveticaBoldFactors=void 0,$.HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],$.HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},$.HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],$.HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},$.HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],$.HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},$.HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2}},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.LiberationSansRegularWidths=$.LiberationSansRegularMapping=$.LiberationSansItalicWidths=$.LiberationSansItalicMapping=$.LiberationSansBoldWidths=$.LiberationSansBoldMapping=$.LiberationSansBoldItalicWidths=$.LiberationSansBoldItalicMapping=void 0,$.LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],$.LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],$.LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],$.LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],$.LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],$.LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],$.LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],$.LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MyriadProRegularMetrics=$.MyriadProRegularFactors=$.MyriadProItalicMetrics=$.MyriadProItalicFactors=$.MyriadProBoldMetrics=$.MyriadProBoldItalicMetrics=$.MyriadProBoldItalicFactors=$.MyriadProBoldFactors=void 0,$.MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},$.MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},$.MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},$.MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2}},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SegoeuiRegularMetrics=$.SegoeuiRegularFactors=$.SegoeuiItalicMetrics=$.SegoeuiItalicFactors=$.SegoeuiBoldMetrics=$.SegoeuiBoldItalicMetrics=$.SegoeuiBoldItalicFactors=$.SegoeuiBoldFactors=void 0,$.SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},$.SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},$.SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$.SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},$.SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],$.SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PostScriptEvaluator=$.PostScriptCompiler=$.PDFFunctionFactory=void 0,$.isPDFFunction=function(ft){let wt;if(ft instanceof s.Dict)wt=ft;else{if(!(ft instanceof e.BaseStream))return!1;wt=ft.dict}return wt.has("FunctionType")};var s=_t(4),bt=_t(2),St=_t(58),e=_t(5),i=_t(59);$.PDFFunctionFactory=class{constructor({xref:ft,isEvalSupported:wt=!0}){this.xref=ft,this.isEvalSupported=wt!==!1}create(ft){const wt=this.getCached(ft);if(wt)return wt;const b=ut.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:ft instanceof s.Ref?this.xref.fetch(ft):ft});return this._cache(ft,b),b}createFromArray(ft){const wt=this.getCached(ft);if(wt)return wt;const b=ut.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:ft instanceof s.Ref?this.xref.fetch(ft):ft});return this._cache(ft,b),b}getCached(ft){var b;let wt;if(ft instanceof s.Ref?wt=ft:ft instanceof s.Dict?wt=ft.objId:ft instanceof e.BaseStream&&(wt=(b=ft.dict)==null?void 0:b.objId),wt){const pt=this._localFunctionCache.getByRef(wt);if(pt)return pt}return null}_cache(ft,wt){var pt;if(!wt)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let b;ft instanceof s.Ref?b=ft:ft instanceof s.Dict?b=ft.objId:ft instanceof e.BaseStream&&(b=(pt=ft.dict)==null?void 0:pt.objId),b&&this._localFunctionCache.set(null,b,wt)}get _localFunctionCache(){return(0,bt.shadow)(this,"_localFunctionCache",new i.LocalFunctionCache)}};function d(rt){if(!Array.isArray(rt))return null;const ft=rt.length;for(let wt=0;wt<ft;wt++)if(typeof rt[wt]!="number"){const b=new Array(ft);for(let pt=0;pt<ft;pt++)b[pt]=+rt[pt];return b}return rt}class ut{static getSampleArray(ft,wt,b,pt){let Ot,kt,st=1;for(Ot=0,kt=ft.length;Ot<kt;Ot++)st*=ft[Ot];st*=wt;const nt=new Array(st);let gt=0,Ft=0;const yt=1/(2**b-1),vt=pt.getBytes((st*b+7)/8);let Lt=0;for(Ot=0;Ot<st;Ot++){for(;gt<b;)Ft<<=8,Ft|=vt[Lt++],gt+=8;gt-=b,nt[Ot]=(Ft>>gt)*yt,Ft&=(1<<gt)-1}return nt}static parse({xref:ft,isEvalSupported:wt,fn:b}){const pt=b.dict||b;switch(pt.get("FunctionType")){case 0:return this.constructSampled({xref:ft,isEvalSupported:wt,fn:b,dict:pt});case 1:break;case 2:return this.constructInterpolated({xref:ft,isEvalSupported:wt,dict:pt});case 3:return this.constructStiched({xref:ft,isEvalSupported:wt,dict:pt});case 4:return this.constructPostScript({xref:ft,isEvalSupported:wt,fn:b,dict:pt})}throw new bt.FormatError("Unknown type of function")}static parseArray({xref:ft,isEvalSupported:wt,fnObj:b}){if(!Array.isArray(b))return this.parse({xref:ft,isEvalSupported:wt,fn:b});const pt=[];for(const Ot of b)pt.push(this.parse({xref:ft,isEvalSupported:wt,fn:ft.fetchIfRef(Ot)}));return function(Ot,kt,st,nt){for(let gt=0,Ft=pt.length;gt<Ft;gt++)pt[gt](Ot,kt,st,nt+gt)}}static constructSampled({xref:ft,isEvalSupported:wt,fn:b,dict:pt}){function Ot(Qt){const _e=Qt.length,Xt=[];let Dt=0;for(let It=0;It<_e;It+=2)Xt[Dt++]=[Qt[It],Qt[It+1]];return Xt}function kt(Qt,_e,Xt,Dt,It){return Dt+(It-Dt)/(Xt-_e)*(Qt-_e)}let st=d(pt.getArray("Domain")),nt=d(pt.getArray("Range"));if(!st||!nt)throw new bt.FormatError("No domain or range");const gt=st.length/2,Ft=nt.length/2;st=Ot(st),nt=Ot(nt);const yt=d(pt.getArray("Size")),vt=pt.get("BitsPerSample"),Lt=pt.get("Order")||1;Lt!==1&&(0,bt.info)("No support for cubic spline interpolation: "+Lt);let jt=d(pt.getArray("Encode"));if(jt)jt=Ot(jt);else{jt=[];for(let Qt=0;Qt<gt;++Qt)jt.push([0,yt[Qt]-1])}let Ht=d(pt.getArray("Decode"));Ht=Ht?Ot(Ht):nt;const Vt=this.getSampleArray(yt,Ft,vt,b);return function(_e,Xt,Dt,It){const j=1<<gt,At=new Float64Array(j),Mt=new Uint32Array(j);let Rt,$t;for($t=0;$t<j;$t++)At[$t]=1;let zt=Ft,qt=1;for(Rt=0;Rt<gt;++Rt){const Wt=st[Rt][0],Gt=st[Rt][1];let Zt=kt(Math.min(Math.max(_e[Xt+Rt],Wt),Gt),Wt,Gt,jt[Rt][0],jt[Rt][1]);const Yt=yt[Rt];Zt=Math.min(Math.max(Zt,0),Yt-1);const tn=Zt<Yt-1?Math.floor(Zt):Zt-1,nn=tn+1-Zt,en=Zt-tn,an=tn*zt,vn=an+zt;for($t=0;$t<j;$t++)$t&qt?(At[$t]*=en,Mt[$t]+=vn):(At[$t]*=nn,Mt[$t]+=an);zt*=Yt,qt<<=1}for($t=0;$t<Ft;++$t){let Wt=0;for(Rt=0;Rt<j;Rt++)Wt+=Vt[Mt[Rt]+$t]*At[Rt];Wt=kt(Wt,0,1,Ht[$t][0],Ht[$t][1]),Dt[It+$t]=Math.min(Math.max(Wt,nt[$t][0]),nt[$t][1])}}}static constructInterpolated({xref:ft,isEvalSupported:wt,dict:b}){const pt=d(b.getArray("C0"))||[0],Ot=d(b.getArray("C1"))||[1],kt=b.get("N"),st=[];for(let gt=0,Ft=pt.length;gt<Ft;++gt)st.push(Ot[gt]-pt[gt]);const nt=st.length;return function(Ft,yt,vt,Lt){const jt=kt===1?Ft[yt]:Ft[yt]**kt;for(let Ht=0;Ht<nt;++Ht)vt[Lt+Ht]=pt[Ht]+jt*st[Ht]}}static constructStiched({xref:ft,isEvalSupported:wt,dict:b}){const pt=d(b.getArray("Domain"));if(!pt)throw new bt.FormatError("No domain");if(pt.length/2!==1)throw new bt.FormatError("Bad domain for stiched function");const Ot=[];for(const gt of b.get("Functions"))Ot.push(this.parse({xref:ft,isEvalSupported:wt,fn:ft.fetchIfRef(gt)}));const kt=d(b.getArray("Bounds")),st=d(b.getArray("Encode")),nt=new Float32Array(1);return function(Ft,yt,vt,Lt){const jt=function(j,At,Mt){return j>Mt?j=Mt:j<At&&(j=At),j}(Ft[yt],pt[0],pt[1]),Ht=kt.length;let Vt;for(Vt=0;Vt<Ht&&!(jt<kt[Vt]);++Vt);let Qt=pt[0];Vt>0&&(Qt=kt[Vt-1]);let _e=pt[1];Vt<kt.length&&(_e=kt[Vt]);const Xt=st[2*Vt],Dt=st[2*Vt+1];nt[0]=Qt===_e?Xt:Xt+(jt-Qt)*(Dt-Xt)/(_e-Qt),Ot[Vt](nt,0,vt,Lt)}}static constructPostScript({xref:ft,isEvalSupported:wt,fn:b,dict:pt}){const Ot=d(pt.getArray("Domain")),kt=d(pt.getArray("Range"));if(!Ot)throw new bt.FormatError("No domain.");if(!kt)throw new bt.FormatError("No range.");const st=new St.PostScriptLexer(b),nt=new St.PostScriptParser(st).parse();if(wt&&bt.FeatureTest.isEvalSupported){const Ht=new Tt().compile(nt,Ot,kt);if(Ht)return new Function("src","srcOffset","dest","destOffset",Ht)}(0,bt.info)("Unable to compile PS function");const gt=kt.length>>1,Ft=Ot.length>>1,yt=new et(nt),vt=Object.create(null);let Lt=8192;const jt=new Float32Array(Ft);return function(Vt,Qt,_e,Xt){let Dt,It,j="";const At=jt;for(Dt=0;Dt<Ft;Dt++)It=Vt[Qt+Dt],At[Dt]=It,j+=It+"_";const Mt=vt[j];if(Mt!==void 0){_e.set(Mt,Xt);return}const Rt=new Float32Array(gt),$t=yt.execute(At),zt=$t.length-gt;for(Dt=0;Dt<gt;Dt++){It=$t[zt+Dt];let qt=kt[2*Dt];It<qt?It=qt:(qt=kt[2*Dt+1],It>qt&&(It=qt)),Rt[Dt]=It}Lt>0&&(Lt--,vt[j]=Rt),_e.set(Rt,Xt)}}}const Et=class Et{constructor(ft){this.stack=ft?Array.from(ft):[]}push(ft){if(this.stack.length>=Et.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(ft)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(ft){if(this.stack.length+ft>=Et.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const wt=this.stack;for(let b=wt.length-ft,pt=ft-1;pt>=0;pt--,b++)wt.push(wt[b])}index(ft){this.push(this.stack[this.stack.length-ft-1])}roll(ft,wt){const b=this.stack,pt=b.length-ft,Ot=b.length-1,kt=pt+(wt-Math.floor(wt/ft)*ft);for(let st=pt,nt=Ot;st<nt;st++,nt--){const gt=b[st];b[st]=b[nt],b[nt]=gt}for(let st=pt,nt=kt-1;st<nt;st++,nt--){const gt=b[st];b[st]=b[nt],b[nt]=gt}for(let st=kt,nt=Ot;st<nt;st++,nt--){const gt=b[st];b[st]=b[nt],b[nt]=gt}}};ir(Et,"MAX_STACK_SIZE",100);let dt=Et;class et{constructor(ft){this.operators=ft}execute(ft){const wt=new dt(ft);let b=0;const pt=this.operators,Ot=pt.length;let kt,st,nt;for(;b<Ot;)if(kt=pt[b++],typeof kt!="number")switch(kt){case"jz":nt=wt.pop(),st=wt.pop(),st||(b=nt);break;case"j":st=wt.pop(),b=st;break;case"abs":st=wt.pop(),wt.push(Math.abs(st));break;case"add":nt=wt.pop(),st=wt.pop(),wt.push(st+nt);break;case"and":nt=wt.pop(),st=wt.pop(),typeof st=="boolean"&&typeof nt=="boolean"?wt.push(st&&nt):wt.push(st&nt);break;case"atan":nt=wt.pop(),st=wt.pop(),st=Math.atan2(st,nt)/Math.PI*180,st<0&&(st+=360),wt.push(st);break;case"bitshift":nt=wt.pop(),st=wt.pop(),st>0?wt.push(st<<nt):wt.push(st>>nt);break;case"ceiling":st=wt.pop(),wt.push(Math.ceil(st));break;case"copy":st=wt.pop(),wt.copy(st);break;case"cos":st=wt.pop(),wt.push(Math.cos(st%360/180*Math.PI));break;case"cvi":st=0|wt.pop(),wt.push(st);break;case"cvr":break;case"div":nt=wt.pop(),st=wt.pop(),wt.push(st/nt);break;case"dup":wt.copy(1);break;case"eq":nt=wt.pop(),st=wt.pop(),wt.push(st===nt);break;case"exch":wt.roll(2,1);break;case"exp":nt=wt.pop(),st=wt.pop(),wt.push(st**nt);break;case"false":wt.push(!1);break;case"floor":st=wt.pop(),wt.push(Math.floor(st));break;case"ge":nt=wt.pop(),st=wt.pop(),wt.push(st>=nt);break;case"gt":nt=wt.pop(),st=wt.pop(),wt.push(st>nt);break;case"idiv":nt=wt.pop(),st=wt.pop(),wt.push(st/nt|0);break;case"index":st=wt.pop(),wt.index(st);break;case"le":nt=wt.pop(),st=wt.pop(),wt.push(st<=nt);break;case"ln":st=wt.pop(),wt.push(Math.log(st));break;case"log":st=wt.pop(),wt.push(Math.log10(st));break;case"lt":nt=wt.pop(),st=wt.pop(),wt.push(st<nt);break;case"mod":nt=wt.pop(),st=wt.pop(),wt.push(st%nt);break;case"mul":nt=wt.pop(),st=wt.pop(),wt.push(st*nt);break;case"ne":nt=wt.pop(),st=wt.pop(),wt.push(st!==nt);break;case"neg":st=wt.pop(),wt.push(-st);break;case"not":st=wt.pop(),typeof st=="boolean"?wt.push(!st):wt.push(~st);break;case"or":nt=wt.pop(),st=wt.pop(),typeof st=="boolean"&&typeof nt=="boolean"?wt.push(st||nt):wt.push(st|nt);break;case"pop":wt.pop();break;case"roll":nt=wt.pop(),st=wt.pop(),wt.roll(st,nt);break;case"round":st=wt.pop(),wt.push(Math.round(st));break;case"sin":st=wt.pop(),wt.push(Math.sin(st%360/180*Math.PI));break;case"sqrt":st=wt.pop(),wt.push(Math.sqrt(st));break;case"sub":nt=wt.pop(),st=wt.pop(),wt.push(st-nt);break;case"true":wt.push(!0);break;case"truncate":st=wt.pop(),st=st<0?Math.ceil(st):Math.floor(st),wt.push(st);break;case"xor":nt=wt.pop(),st=wt.pop(),typeof st=="boolean"&&typeof nt=="boolean"?wt.push(st!==nt):wt.push(st^nt);break;default:throw new bt.FormatError(`Unknown operator ${kt}`)}else wt.push(kt);return wt.stack}}$.PostScriptEvaluator=et;class _{constructor(ft){this.type=ft}visit(ft){(0,bt.unreachable)("abstract method")}}class c extends _{constructor(ft,wt,b){super("args"),this.index=ft,this.min=wt,this.max=b}visit(ft){ft.visitArgument(this)}}class lt extends _{constructor(ft){super("literal"),this.number=ft,this.min=ft,this.max=ft}visit(ft){ft.visitLiteral(this)}}class at extends _{constructor(ft,wt,b,pt,Ot){super("binary"),this.op=ft,this.arg1=wt,this.arg2=b,this.min=pt,this.max=Ot}visit(ft){ft.visitBinaryOperation(this)}}class ct extends _{constructor(ft,wt){super("max"),this.arg=ft,this.min=ft.min,this.max=wt}visit(ft){ft.visitMin(this)}}class it extends _{constructor(ft,wt,b){super("var"),this.index=ft,this.min=wt,this.max=b}visit(ft){ft.visitVariable(this)}}class tt extends _{constructor(ft,wt){super("definition"),this.variable=ft,this.arg=wt}visit(ft){ft.visitVariableDefinition(this)}}class ot{constructor(){this.parts=[]}visitArgument(ft){this.parts.push("Math.max(",ft.min,", Math.min(",ft.max,", src[srcOffset + ",ft.index,"]))")}visitVariable(ft){this.parts.push("v",ft.index)}visitLiteral(ft){this.parts.push(ft.number)}visitBinaryOperation(ft){this.parts.push("("),ft.arg1.visit(this),this.parts.push(" ",ft.op," "),ft.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(ft){this.parts.push("var "),ft.variable.visit(this),this.parts.push(" = "),ft.arg.visit(this),this.parts.push(";")}visitMin(ft){this.parts.push("Math.min("),ft.arg.visit(this),this.parts.push(", ",ft.max,")")}toString(){return this.parts.join("")}}function mt(rt,ft){return ft.type==="literal"&&ft.number===0?rt:rt.type==="literal"&&rt.number===0?ft:ft.type==="literal"&&rt.type==="literal"?new lt(rt.number+ft.number):new at("+",rt,ft,rt.min+ft.min,rt.max+ft.max)}function Ct(rt,ft){if(ft.type==="literal"){if(ft.number===0)return new lt(0);if(ft.number===1)return rt;if(rt.type==="literal")return new lt(rt.number*ft.number)}if(rt.type==="literal"){if(rt.number===0)return new lt(0);if(rt.number===1)return ft}const wt=Math.min(rt.min*ft.min,rt.min*ft.max,rt.max*ft.min,rt.max*ft.max),b=Math.max(rt.min*ft.min,rt.min*ft.max,rt.max*ft.min,rt.max*ft.max);return new at("*",rt,ft,wt,b)}function Nt(rt,ft){if(ft.type==="literal"){if(ft.number===0)return rt;if(rt.type==="literal")return new lt(rt.number-ft.number)}return ft.type==="binary"&&ft.op==="-"&&rt.type==="literal"&&rt.number===1&&ft.arg1.type==="literal"&&ft.arg1.number===1?ft.arg2:new at("-",rt,ft,rt.min-ft.max,rt.max-ft.min)}function Pt(rt,ft){return rt.min>=ft?new lt(ft):rt.max<=ft?rt:new ct(rt,ft)}class Tt{compile(ft,wt,b){const pt=[],Ot=[],kt=wt.length>>1,st=b.length>>1;let nt,gt,Ft,yt,vt,Lt,jt,Ht,Vt=0;for(let _e=0;_e<kt;_e++)pt.push(new c(_e,wt[2*_e],wt[2*_e+1]));for(let _e=0,Xt=ft.length;_e<Xt;_e++)if(Ht=ft[_e],typeof Ht!="number")switch(Ht){case"add":if(pt.length<2)return null;yt=pt.pop(),Ft=pt.pop(),pt.push(mt(Ft,yt));break;case"cvr":if(pt.length<1)return null;break;case"mul":if(pt.length<2)return null;yt=pt.pop(),Ft=pt.pop(),pt.push(Ct(Ft,yt));break;case"sub":if(pt.length<2)return null;yt=pt.pop(),Ft=pt.pop(),pt.push(Nt(Ft,yt));break;case"exch":if(pt.length<2)return null;vt=pt.pop(),Lt=pt.pop(),pt.push(vt,Lt);break;case"pop":if(pt.length<1)return null;pt.pop();break;case"index":if(pt.length<1||(Ft=pt.pop(),Ft.type!=="literal")||(nt=Ft.number,nt<0||!Number.isInteger(nt)||pt.length<nt))return null;if(vt=pt[pt.length-nt-1],vt.type==="literal"||vt.type==="var"){pt.push(vt);break}jt=new it(Vt++,vt.min,vt.max),pt[pt.length-nt-1]=jt,pt.push(jt),Ot.push(new tt(jt,vt));break;case"dup":if(pt.length<1)return null;if(typeof ft[_e+1]=="number"&&ft[_e+2]==="gt"&&ft[_e+3]===_e+7&&ft[_e+4]==="jz"&&ft[_e+5]==="pop"&&ft[_e+6]===ft[_e+1]){Ft=pt.pop(),pt.push(Pt(Ft,ft[_e+1])),_e+=6;break}if(vt=pt.at(-1),vt.type==="literal"||vt.type==="var"){pt.push(vt);break}jt=new it(Vt++,vt.min,vt.max),pt[pt.length-1]=jt,pt.push(jt),Ot.push(new tt(jt,vt));break;case"roll":if(pt.length<2||(yt=pt.pop(),Ft=pt.pop(),yt.type!=="literal"||Ft.type!=="literal")||(gt=yt.number,nt=Ft.number,nt<=0||!Number.isInteger(nt)||!Number.isInteger(gt)||pt.length<nt))return null;if(gt=(gt%nt+nt)%nt,gt===0)break;pt.push(...pt.splice(pt.length-nt,nt-gt));break;default:return null}else pt.push(new lt(Ht));if(pt.length!==st)return null;const Qt=[];for(const _e of Ot){const Xt=new ot;_e.visit(Xt),Qt.push(Xt.toString())}for(let _e=0,Xt=pt.length;_e<Xt;_e++){const Dt=pt[_e],It=new ot;Dt.visit(It);const j=b[2*_e],At=b[2*_e+1],Mt=[It.toString()];j>Dt.min&&(Mt.unshift("Math.max(",j,", "),Mt.push(")")),At<Dt.max&&(Mt.unshift("Math.min(",At,", "),Mt.push(")")),Mt.unshift("dest[destOffset + ",_e,"] = "),Mt.push(";"),Qt.push(Mt.join(""))}return Qt.join(`
`)}}$.PostScriptCompiler=Tt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PostScriptParser=$.PostScriptLexer=void 0;var s=_t(2),bt=_t(4),St=_t(3);$.PostScriptParser=class{constructor(ut){this.lexer=ut,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(ut){return this.token.type===ut?(this.nextToken(),!0):!1}expect(ut){if(this.accept(ut))return!0;throw new s.FormatError(`Unexpected symbol: found ${this.token.type} expected ${ut}.`)}parse(){return this.nextToken(),this.expect(e.LBRACE),this.parseBlock(),this.expect(e.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(e.NUMBER))this.operators.push(this.prev.value);else if(this.accept(e.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(e.LBRACE))return;this.parseCondition()}}parseCondition(){const ut=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(e.RBRACE),this.accept(e.IF))this.operators[ut]=this.operators.length,this.operators[ut+1]="jz";else{if(!this.accept(e.LBRACE))throw new s.FormatError("PS Function: error parsing conditional.");{const dt=this.operators.length;this.operators.push(null,null);const et=this.operators.length;this.parseBlock(),this.expect(e.RBRACE),this.expect(e.IFELSE),this.operators[dt]=this.operators.length,this.operators[dt+1]="j",this.operators[ut]=et,this.operators[ut+1]="jz"}}}};const e={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class i{static get opCache(){return(0,s.shadow)(this,"opCache",Object.create(null))}constructor(ut,dt){this.type=ut,this.value=dt}static getOperator(ut){var dt;return(dt=i.opCache)[ut]||(dt[ut]=new i(e.OPERATOR,ut))}static get LBRACE(){return(0,s.shadow)(this,"LBRACE",new i(e.LBRACE,"{"))}static get RBRACE(){return(0,s.shadow)(this,"RBRACE",new i(e.RBRACE,"}"))}static get IF(){return(0,s.shadow)(this,"IF",new i(e.IF,"IF"))}static get IFELSE(){return(0,s.shadow)(this,"IFELSE",new i(e.IFELSE,"IFELSE"))}}$.PostScriptLexer=class{constructor(ut){this.stream=ut,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let ut=!1,dt=this.currentChar;for(;;){if(dt<0)return bt.EOF;if(ut)dt!==10&&dt!==13||(ut=!1);else if(dt===37)ut=!0;else if(!(0,St.isWhiteSpace)(dt))break;dt=this.nextChar()}switch(0|dt){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new i(e.NUMBER,this.getNumber());case 123:return this.nextChar(),i.LBRACE;case 125:return this.nextChar(),i.RBRACE}const et=this.strBuf;for(et.length=0,et[0]=String.fromCharCode(dt);(dt=this.nextChar())>=0&&(dt>=65&&dt<=90||dt>=97&&dt<=122);)et.push(String.fromCharCode(dt));const _=et.join("");switch(_.toLowerCase()){case"if":return i.IF;case"ifelse":return i.IFELSE;default:return i.getOperator(_)}}getNumber(){let ut=this.currentChar;const dt=this.strBuf;for(dt.length=0,dt[0]=String.fromCharCode(ut);(ut=this.nextChar())>=0&&(ut>=48&&ut<=57||ut===45||ut===46);)dt.push(String.fromCharCode(ut));const et=parseFloat(dt.join(""));if(isNaN(et))throw new s.FormatError(`Invalid floating point number: ${et}`);return et}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.RegionalImageCache=$.LocalTilingPatternCache=$.LocalImageCache=$.LocalGStateCache=$.LocalFunctionCache=$.LocalColorSpaceCache=$.GlobalImageCache=void 0;var s=_t(2),bt=_t(4);class St{constructor(ut){this.constructor===St&&(0,s.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(ut==null?void 0:ut.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new bt.RefSetCache}getByName(ut){this._onlyRefs&&(0,s.unreachable)("Should not call `getByName` method.");const dt=this._nameRefMap.get(ut);return dt?this.getByRef(dt):this._imageMap.get(ut)||null}getByRef(ut){return this._imageCache.get(ut)||null}set(ut,dt,et){(0,s.unreachable)("Abstract method `set` called.")}}$.LocalImageCache=class extends St{set(ut,dt=null,et){if(typeof ut!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(dt){if(this._imageCache.has(dt))return;this._nameRefMap.set(ut,dt),this._imageCache.put(dt,et)}else this._imageMap.has(ut)||this._imageMap.set(ut,et)}},$.LocalColorSpaceCache=class extends St{set(ut=null,dt=null,et){if(typeof ut!="string"&&!dt)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(dt){if(this._imageCache.has(dt))return;ut!==null&&this._nameRefMap.set(ut,dt),this._imageCache.put(dt,et)}else this._imageMap.has(ut)||this._imageMap.set(ut,et)}},$.LocalFunctionCache=class extends St{constructor(ut){super({onlyRefs:!0})}set(ut=null,dt,et){if(!dt)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(dt)||this._imageCache.put(dt,et)}},$.LocalGStateCache=class extends St{set(ut,dt=null,et){if(typeof ut!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(dt){if(this._imageCache.has(dt))return;this._nameRefMap.set(ut,dt),this._imageCache.put(dt,et)}else this._imageMap.has(ut)||this._imageMap.set(ut,et)}},$.LocalTilingPatternCache=class extends St{constructor(ut){super({onlyRefs:!0})}set(ut=null,dt,et){if(!dt)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(dt)||this._imageCache.put(dt,et)}},$.RegionalImageCache=class extends St{constructor(ut){super({onlyRefs:!0})}set(ut=null,dt,et){if(!dt)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(dt)||this._imageCache.put(dt,et)}};const i=class i{constructor(){this._refCache=new bt.RefSetCache,this._imageCache=new bt.RefSetCache}get _byteSize(){let ut=0;for(const dt of this._imageCache)ut+=dt.byteSize;return ut}get _cacheLimitReached(){return!(this._imageCache.size<i.MIN_IMAGES_TO_CACHE)&&!(this._byteSize<i.MAX_BYTE_SIZE)}shouldCache(ut,dt){let et=this._refCache.get(ut);return et||(et=new Set,this._refCache.put(ut,et)),et.add(dt),!(et.size<i.NUM_PAGES_THRESHOLD)&&!(!this._imageCache.has(ut)&&this._cacheLimitReached)}addByteSize(ut,dt){const et=this._imageCache.get(ut);et&&(et.byteSize||(et.byteSize=dt))}getData(ut,dt){const et=this._refCache.get(ut);if(!et||et.size<i.NUM_PAGES_THRESHOLD)return null;const _=this._imageCache.get(ut);return _?(et.add(dt),_):null}setData(ut,dt){if(!this._refCache.has(ut))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');this._imageCache.has(ut)||(this._cacheLimitReached?(0,s.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(ut,dt))}clear(ut=!1){ut||this._refCache.clear(),this._imageCache.clear()}};ir(i,"NUM_PAGES_THRESHOLD",2),ir(i,"MIN_IMAGES_TO_CACHE",10),ir(i,"MAX_BYTE_SIZE",5*s.MAX_IMAGE_SIZE_TO_CACHE);let e=i;$.GlobalImageCache=e},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.bidi=function(at,ct=-1,it=!1){let tt=!0;const ot=at.length;if(ot===0||it)return et(at,tt,it);_.length=ot,c.length=ot;let mt,Ct,Nt=0;for(mt=0;mt<ot;++mt){_[mt]=at.charAt(mt);const kt=at.charCodeAt(mt);let st="L";kt<=255?st=bt[kt]:1424<=kt&&kt<=1524?st="R":1536<=kt&&kt<=1791?(st=St[255&kt],st||(0,s.warn)("Bidi: invalid Unicode character "+kt.toString(16))):(1792<=kt&&kt<=2220||64336<=kt&&kt<=65023||65136<=kt&&kt<=65279)&&(st="AL"),st!=="R"&&st!=="AL"&&st!=="AN"||Nt++,c[mt]=st}if(Nt===0)return tt=!0,et(at,tt);ct===-1&&(Nt/ot<.3&&ot>4?(tt=!0,ct=0):(tt=!1,ct=1));const Pt=[];for(mt=0;mt<ot;++mt)Pt[mt]=ct;const Tt=e(ct)?"R":"L",Et=Tt,rt=Et;let ft,wt=Et;for(mt=0;mt<ot;++mt)c[mt]==="NSM"?c[mt]=wt:wt=c[mt];for(wt=Et,mt=0;mt<ot;++mt)ft=c[mt],ft==="EN"?c[mt]=wt==="AL"?"AN":"EN":ft!=="R"&&ft!=="L"&&ft!=="AL"||(wt=ft);for(mt=0;mt<ot;++mt)ft=c[mt],ft==="AL"&&(c[mt]="R");for(mt=1;mt<ot-1;++mt)c[mt]==="ES"&&c[mt-1]==="EN"&&c[mt+1]==="EN"&&(c[mt]="EN"),c[mt]!=="CS"||c[mt-1]!=="EN"&&c[mt-1]!=="AN"||c[mt+1]!==c[mt-1]||(c[mt]=c[mt-1]);for(mt=0;mt<ot;++mt)if(c[mt]==="EN"){for(let kt=mt-1;kt>=0&&c[kt]==="ET";--kt)c[kt]="EN";for(let kt=mt+1;kt<ot&&c[kt]==="ET";++kt)c[kt]="EN"}for(mt=0;mt<ot;++mt)ft=c[mt],ft!=="WS"&&ft!=="ES"&&ft!=="ET"&&ft!=="CS"||(c[mt]="ON");for(wt=Et,mt=0;mt<ot;++mt)ft=c[mt],ft==="EN"?c[mt]=wt==="L"?"L":"EN":ft!=="R"&&ft!=="L"||(wt=ft);for(mt=0;mt<ot;++mt)if(c[mt]==="ON"){const kt=d(c,mt+1,"ON");let st=Et;mt>0&&(st=c[mt-1]);let nt=rt;kt+1<ot&&(nt=c[kt+1]),st!=="L"&&(st="R"),nt!=="L"&&(nt="R"),st===nt&&ut(c,mt,kt,st),mt=kt-1}for(mt=0;mt<ot;++mt)c[mt]==="ON"&&(c[mt]=Tt);for(mt=0;mt<ot;++mt)ft=c[mt],i(Pt[mt])?ft==="R"?Pt[mt]+=1:ft!=="AN"&&ft!=="EN"||(Pt[mt]+=2):ft!=="L"&&ft!=="AN"&&ft!=="EN"||(Pt[mt]+=1);let b,pt=-1,Ot=99;for(mt=0,Ct=Pt.length;mt<Ct;++mt)b=Pt[mt],pt<b&&(pt=b),Ot>b&&e(b)&&(Ot=b);for(b=pt;b>=Ot;--b){let kt=-1;for(mt=0,Ct=Pt.length;mt<Ct;++mt)Pt[mt]<b?kt>=0&&(dt(_,kt,mt),kt=-1):kt<0&&(kt=mt);kt>=0&&dt(_,kt,Pt.length)}for(mt=0,Ct=_.length;mt<Ct;++mt){const kt=_[mt];kt!=="<"&&kt!==">"||(_[mt]="")}return et(_.join(""),tt)};var s=_t(2);const bt=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],St=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(lt){return(1&lt)!=0}function i(lt){return(1&lt)==0}function d(lt,at,ct){let it,tt;for(it=at,tt=lt.length;it<tt;++it)if(lt[it]!==ct)return it;return it}function ut(lt,at,ct,it){for(let tt=at;tt<ct;++tt)lt[tt]=it}function dt(lt,at,ct){for(let it=at,tt=ct-1;it<tt;++it,--tt){const ot=lt[it];lt[it]=lt[tt],lt[tt]=ot}}function et(lt,at,ct=!1){let it="ltr";return ct?it="ttb":at||(it="rtl"),{str:lt,dir:it}}const _=[],c=[]},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFontSubstitution=function(c,lt,at,ct,it){const tt=ct=(0,s.normalizeFontName)(ct);let ot=c.get(tt);if(ot)return ot;let mt=ut.get(ct);if(!mt){for(const[ft,wt]of dt)if(ct.startsWith(ft)){ct=`${wt}${ct.substring(ft.length)}`,mt=ut.get(ct);break}}let Ct=!1;mt||(mt=ut.get(it),Ct=!0);const Nt=`${lt.getDocId()}_s${lt.createFontId()}`;if(!mt){if(!(0,bt.validateFontName)(ct))return c.set(tt,null),null;const ft=/bold/gi.test(ct),wt=/oblique|italic/gi.test(ct);return ot={css:Nt,guessFallback:!0,loadedName:Nt,baseFontName:ct,src:`local(${ct})`,style:ft&&wt&&d||ft&&e||wt&&i||St},c.set(tt,ot),ot}const Pt=[];Ct&&(0,bt.validateFontName)(ct)&&Pt.push(`local(${ct})`);const{style:Tt,ultimate:Et}=et(mt,Pt,at),rt=Et===null;return ot={css:`${Nt}${rt?"":`,${Et}`}`,guessFallback:rt,loadedName:Nt,baseFontName:ct,src:Pt.join(","),style:Tt},c.set(tt,ot),ot};var s=_t(38),bt=_t(3);const St={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},i={style:"italic",weight:"normal"},d={style:"italic",weight:"bold"},ut=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:St,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:i,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:d,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:St,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:i,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:d,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:St,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:i,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:d,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:St,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:i,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:d,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:St,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:i,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:d,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:St}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),dt=new Map([["Arial-Black","ArialBlack"]]);function et({alias:_,local:c,path:lt,fallback:at,style:ct,ultimate:it},tt,ot,mt=!0,Ct=!0,Nt=""){const Pt={style:null,ultimate:null};if(c){const Tt=Nt?` ${Nt}`:"";for(const Et of c)tt.push(`local(${Et}${Tt})`)}if(_){const Tt=ut.get(_),Et=Nt||function(ft){switch(ft){case e:return"Bold";case i:return"Italic";case d:return"Bold Italic";default:if((ft==null?void 0:ft.weight)==="bold")return"Bold";if((ft==null?void 0:ft.style)==="italic")return"Italic"}return""}(ct);Object.assign(Pt,et(Tt,tt,ot,mt&&!at,Ct&&!lt,Et))}if(ct&&(Pt.style=ct),it&&(Pt.ultimate=it),mt&&at){const Tt=ut.get(at),{ultimate:Et}=et(Tt,tt,ot,mt,Ct&&!lt,Nt);Pt.ultimate||(Pt.ultimate=Et)}return Ct&&lt&&ot&&tt.push(`url(${ot}${lt})`),Pt}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ImageResizer=void 0;var s=_t(2);class bt{constructor(e,i){this._imgData=e,this._isMask=i}static needsToBeResized(e,i){if(e<=this._goodSquareLength&&i<=this._goodSquareLength)return!1;const{MAX_DIM:d}=this;if(e>d||i>d)return!0;const ut=e*i;return this._hasMaxArea?ut>this.MAX_AREA:ut<this._goodSquareLength**2?!1:this._areGoodDims(e,i)?(this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(e*i))),!1):(this._goodSquareLength=this._guessMax(this._goodSquareLength,d,128,0),ut>(this.MAX_AREA=this._goodSquareLength**2))}static get MAX_DIM(){return(0,s.shadow)(this,"MAX_DIM",this._guessMax(2048,65537,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,s.shadow)(this,"MAX_AREA",this._guessMax(bt._goodSquareLength,this.MAX_DIM,128,0)**2)}static set MAX_AREA(e){e>=0&&(this._hasMaxArea=!0,(0,s.shadow)(this,"MAX_AREA",e))}static setMaxArea(e){this._hasMaxArea||(this.MAX_AREA=e>>2)}static _areGoodDims(e,i){try{const d=new OffscreenCanvas(e,i),ut=d.getContext("2d");ut.fillRect(0,0,1,1);const dt=ut.getImageData(0,0,1,1).data[3];return d.width=d.height=1,dt!==0}catch{return!1}}static _guessMax(e,i,d,ut){for(;e+d+1<i;){const dt=Math.floor((e+i)/2),et=ut||dt;this._areGoodDims(dt,et)?e=dt:i=dt}return e}static async createImage(e,i=!1){return new bt(e,i)._createImage()}async _createImage(){const e=this._encodeBMP(),i=new Blob([e.buffer],{type:"image/bmp"}),d=createImageBitmap(i),{MAX_AREA:ut,MAX_DIM:dt}=bt,{_imgData:et}=this,{width:_,height:c}=et,lt=Math.max(_/dt,c/dt,Math.sqrt(_*c/ut)),at=Math.max(lt,2),ct=Math.round(10*(lt+1.25))/10/at,it=Math.floor(Math.log2(ct)),tt=new Array(it+2).fill(2);tt[0]=at,tt.splice(-1,1,ct/(1<<it));let ot=_,mt=c,Ct=await d;for(const Nt of tt){const Pt=ot,Tt=mt;ot=Math.floor(ot/Nt)-1,mt=Math.floor(mt/Nt)-1;const Et=new OffscreenCanvas(ot,mt);Et.getContext("2d").drawImage(Ct,0,0,Pt,Tt,0,0,ot,mt),Ct=Et.transferToImageBitmap()}return et.data=null,et.bitmap=Ct,et.width=ot,et.height=mt,et}_encodeBMP(){const{width:e,height:i,kind:d}=this._imgData;let ut,dt=this._imgData.data,et=new Uint8Array(0),_=et,c=0;switch(d){case s.ImageKind.GRAYSCALE_1BPP:{ut=1,et=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const mt=e+7>>3,Ct=mt+3&-4;if(mt!==Ct){const Nt=new Uint8Array(Ct*i);let Pt=0;for(let Tt=0,Et=i*mt;Tt<Et;Tt+=mt,Pt+=Ct)Nt.set(dt.subarray(Tt,Tt+mt),Pt);dt=Nt}break}case s.ImageKind.RGB_24BPP:if(ut=24,3&e){const mt=3*e,Ct=mt+3&-4,Nt=Ct-mt,Pt=new Uint8Array(Ct*i);let Tt=0;for(let Et=0,rt=i*mt;Et<rt;Et+=mt){const ft=dt.subarray(Et,Et+mt);for(let wt=0;wt<mt;wt+=3)Pt[Tt++]=ft[wt+2],Pt[Tt++]=ft[wt+1],Pt[Tt++]=ft[wt];Tt+=Nt}dt=Pt}else for(let mt=0,Ct=dt.length;mt<Ct;mt+=3){const Nt=dt[mt];dt[mt]=dt[mt+2],dt[mt+2]=Nt}break;case s.ImageKind.RGBA_32BPP:ut=32,c=3,_=new Uint8Array(68);const ot=new DataView(_.buffer);s.FeatureTest.isLittleEndian?(ot.setUint32(0,255,!0),ot.setUint32(4,65280,!0),ot.setUint32(8,16711680,!0),ot.setUint32(12,4278190080,!0)):(ot.setUint32(0,4278190080,!0),ot.setUint32(4,16711680,!0),ot.setUint32(8,65280,!0),ot.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let lt=0;const at=40+_.length,ct=14+at+et.length+dt.length,it=new Uint8Array(ct),tt=new DataView(it.buffer);return tt.setUint16(lt,19778,!0),lt+=2,tt.setUint32(lt,ct,!0),lt+=4,tt.setUint32(lt,0,!0),lt+=4,tt.setUint32(lt,14+at+et.length,!0),lt+=4,tt.setUint32(lt,at,!0),lt+=4,tt.setInt32(lt,e,!0),lt+=4,tt.setInt32(lt,-i,!0),lt+=4,tt.setUint16(lt,1,!0),lt+=2,tt.setUint16(lt,ut,!0),lt+=2,tt.setUint32(lt,c,!0),lt+=4,tt.setUint32(lt,0,!0),lt+=4,tt.setInt32(lt,0,!0),lt+=4,tt.setInt32(lt,0,!0),lt+=4,tt.setUint32(lt,et.length/4,!0),lt+=4,tt.setUint32(lt,0,!0),lt+=4,it.set(_,lt),lt+=_.length,it.set(et,lt),lt+=et.length,it.set(dt,lt),it}}$.ImageResizer=bt,bt._goodSquareLength=2048},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var s=_t(2);const bt=3285377520,St=4294901760,e=65535;$.MurmurHash3_64=class{constructor(d){this.h1=d?4294967295&d:bt,this.h2=d?4294967295&d:bt}update(d){let ut,dt;if(typeof d=="string"){ut=new Uint8Array(2*d.length),dt=0;for(let Nt=0,Pt=d.length;Nt<Pt;Nt++){const Tt=d.charCodeAt(Nt);Tt<=255?ut[dt++]=Tt:(ut[dt++]=Tt>>>8,ut[dt++]=255&Tt)}}else{if(!(0,s.isArrayBuffer)(d))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");ut=d.slice(),dt=ut.byteLength}const et=dt>>2,_=dt-4*et,c=new Uint32Array(ut.buffer,0,et);let lt=0,at=0,ct=this.h1,it=this.h2;const tt=3432918353,ot=461845907,mt=11601,Ct=13715;for(let Nt=0;Nt<et;Nt++)1&Nt?(lt=c[Nt],lt=lt*tt&St|lt*mt&e,lt=lt<<15|lt>>>17,lt=lt*ot&St|lt*Ct&e,ct^=lt,ct=ct<<13|ct>>>19,ct=5*ct+3864292196):(at=c[Nt],at=at*tt&St|at*mt&e,at=at<<15|at>>>17,at=at*ot&St|at*Ct&e,it^=at,it=it<<13|it>>>19,it=5*it+3864292196);switch(lt=0,_){case 3:lt^=ut[4*et+2]<<16;case 2:lt^=ut[4*et+1]<<8;case 1:lt^=ut[4*et],lt=lt*tt&St|lt*mt&e,lt=lt<<15|lt>>>17,lt=lt*ot&St|lt*Ct&e,1&et?ct^=lt:it^=lt}this.h1=ct,this.h2=it}hexdigest(){let d=this.h1,ut=this.h2;return d^=ut>>>1,d=3981806797*d&St|36045*d&e,ut=4283543511*ut&St|(2950163797*(ut<<16|d>>>16)&St)>>>16,d^=ut>>>1,d=444984403*d&St|60499*d&e,ut=3301882366*ut&St|(3120437893*(ut<<16|d>>>16)&St)>>>16,d^=ut>>>1,(d>>>0).toString(16).padStart(8,"0")+(ut>>>0).toString(16).padStart(8,"0")}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.OperatorList=void 0;var s=_t(2);function bt(dt,et,_,c,lt){let at=dt;for(let ct=0,it=et.length-1;ct<it;ct++){const tt=et[ct];at=at[tt]||(at[tt]=[])}at[et.at(-1)]={checkFn:_,iterateFn:c,processFn:lt}}const St=[];bt(St,[s.OPS.save,s.OPS.transform,s.OPS.paintInlineImageXObject,s.OPS.restore],null,function(et,_){const c=et.fnArray,lt=(_-(et.iCurr-3))%4;switch(lt){case 0:return c[_]===s.OPS.save;case 1:return c[_]===s.OPS.transform;case 2:return c[_]===s.OPS.paintInlineImageXObject;case 3:return c[_]===s.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${lt}`)},function(et,_){const c=et.fnArray,lt=et.argsArray,at=et.iCurr,ct=at-3,it=at-2,tt=at-1,ot=Math.min(Math.floor((_-ct)/4),200);if(ot<10)return _-(_-ct)%4;let mt=0;const Ct=[];let Nt=0,Pt=1,Tt=1;for(let pt=0;pt<ot;pt++){const Ot=lt[it+(pt<<2)],kt=lt[tt+(pt<<2)][0];Pt+kt.width>1e3&&(mt=Math.max(mt,Pt),Tt+=Nt+2,Pt=0,Nt=0),Ct.push({transform:Ot,x:Pt,y:Tt,w:kt.width,h:kt.height}),Pt+=kt.width+2,Nt=Math.max(Nt,kt.height)}const Et=Math.max(mt,Pt)+1,rt=Tt+Nt+1,ft=new Uint8Array(Et*rt*4),wt=Et<<2;for(let pt=0;pt<ot;pt++){const Ot=lt[tt+(pt<<2)][0].data,kt=Ct[pt].w<<2;let st=0,nt=Ct[pt].x+Ct[pt].y*Et<<2;ft.set(Ot.subarray(0,kt),nt-wt);for(let gt=0,Ft=Ct[pt].h;gt<Ft;gt++)ft.set(Ot.subarray(st,st+kt),nt),st+=kt,nt+=wt;for(ft.set(Ot.subarray(st-kt,st),nt);nt>=0;)Ot[nt-4]=Ot[nt],Ot[nt-3]=Ot[nt+1],Ot[nt-2]=Ot[nt+2],Ot[nt-1]=Ot[nt+3],Ot[nt+kt]=Ot[nt+kt-4],Ot[nt+kt+1]=Ot[nt+kt-3],Ot[nt+kt+2]=Ot[nt+kt-2],Ot[nt+kt+3]=Ot[nt+kt-1],nt-=wt}const b={width:Et,height:rt};if(et.isOffscreenCanvasSupported){const pt=new OffscreenCanvas(Et,rt);pt.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(ft.buffer),Et,rt),0,0),b.bitmap=pt.transferToImageBitmap(),b.data=null}else b.kind=s.ImageKind.RGBA_32BPP,b.data=ft;return c.splice(ct,4*ot,s.OPS.paintInlineImageXObjectGroup),lt.splice(ct,4*ot,[b,Ct]),ct+1}),bt(St,[s.OPS.save,s.OPS.transform,s.OPS.paintImageMaskXObject,s.OPS.restore],null,function(et,_){const c=et.fnArray,lt=(_-(et.iCurr-3))%4;switch(lt){case 0:return c[_]===s.OPS.save;case 1:return c[_]===s.OPS.transform;case 2:return c[_]===s.OPS.paintImageMaskXObject;case 3:return c[_]===s.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${lt}`)},function(et,_){const c=et.fnArray,lt=et.argsArray,at=et.iCurr,ct=at-3,it=at-2,tt=at-1;let ot=Math.floor((_-ct)/4);if(ot<10)return _-(_-ct)%4;let mt,Ct,Nt=!1;const Pt=lt[tt][0],Tt=lt[it][0],Et=lt[it][1],rt=lt[it][2],ft=lt[it][3];if(Et===rt){Nt=!0,mt=it+4;let wt=tt+4;for(let b=1;b<ot;b++,mt+=4,wt+=4)if(Ct=lt[mt],lt[wt][0]!==Pt||Ct[0]!==Tt||Ct[1]!==Et||Ct[2]!==rt||Ct[3]!==ft){b<10?Nt=!1:ot=b;break}}if(Nt){ot=Math.min(ot,1e3);const wt=new Float32Array(2*ot);mt=it;for(let b=0;b<ot;b++,mt+=4)Ct=lt[mt],wt[b<<1]=Ct[4],wt[1+(b<<1)]=Ct[5];c.splice(ct,4*ot,s.OPS.paintImageMaskXObjectRepeat),lt.splice(ct,4*ot,[Pt,Tt,Et,rt,ft,wt])}else{ot=Math.min(ot,100);const wt=[];for(let b=0;b<ot;b++){Ct=lt[it+(b<<2)];const pt=lt[tt+(b<<2)][0];wt.push({data:pt.data,width:pt.width,height:pt.height,interpolate:pt.interpolate,count:pt.count,transform:Ct})}c.splice(ct,4*ot,s.OPS.paintImageMaskXObjectGroup),lt.splice(ct,4*ot,[wt])}return ct+1}),bt(St,[s.OPS.save,s.OPS.transform,s.OPS.paintImageXObject,s.OPS.restore],function(dt){const et=dt.argsArray,_=dt.iCurr-2;return et[_][1]===0&&et[_][2]===0},function(et,_){const c=et.fnArray,lt=et.argsArray,at=(_-(et.iCurr-3))%4;switch(at){case 0:return c[_]===s.OPS.save;case 1:if(c[_]!==s.OPS.transform)return!1;const ct=et.iCurr-2,it=lt[ct][0],tt=lt[ct][3];return lt[_][0]===it&&lt[_][1]===0&&lt[_][2]===0&&lt[_][3]===tt;case 2:if(c[_]!==s.OPS.paintImageXObject)return!1;const ot=lt[et.iCurr-1][0];return lt[_][0]===ot;case 3:return c[_]===s.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${at}`)},function(dt,et){const _=dt.fnArray,c=dt.argsArray,lt=dt.iCurr,at=lt-3,ct=lt-2,it=c[lt-1][0],tt=c[ct][0],ot=c[ct][3],mt=Math.min(Math.floor((et-at)/4),1e3);if(mt<3)return et-(et-at)%4;const Ct=new Float32Array(2*mt);let Nt=ct;for(let Tt=0;Tt<mt;Tt++,Nt+=4){const Et=c[Nt];Ct[Tt<<1]=Et[4],Ct[1+(Tt<<1)]=Et[5]}const Pt=[it,tt,ot,Ct];return _.splice(at,4*mt,s.OPS.paintImageXObjectRepeat),c.splice(at,4*mt,Pt),at+1}),bt(St,[s.OPS.beginText,s.OPS.setFont,s.OPS.setTextMatrix,s.OPS.showText,s.OPS.endText],null,function(et,_){const c=et.fnArray,lt=et.argsArray,at=(_-(et.iCurr-4))%5;switch(at){case 0:return c[_]===s.OPS.beginText;case 1:return c[_]===s.OPS.setFont;case 2:return c[_]===s.OPS.setTextMatrix;case 3:if(c[_]!==s.OPS.showText)return!1;const ct=et.iCurr-3,it=lt[ct][0],tt=lt[ct][1];return lt[_][0]===it&&lt[_][1]===tt;case 4:return c[_]===s.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${at}`)},function(dt,et){const _=dt.fnArray,c=dt.argsArray,lt=dt.iCurr,at=lt-4,ct=lt-3,it=lt-2,tt=lt-1,ot=lt,mt=c[ct][0],Ct=c[ct][1];let Nt=Math.min(Math.floor((et-at)/5),1e3);if(Nt<3)return et-(et-at)%5;let Pt=at;at>=4&&_[at-4]===_[ct]&&_[at-3]===_[it]&&_[at-2]===_[tt]&&_[at-1]===_[ot]&&c[at-4][0]===mt&&c[at-4][1]===Ct&&(Nt++,Pt-=5);let Tt=Pt+4;for(let Et=1;Et<Nt;Et++)_.splice(Tt,3),c.splice(Tt,3),Tt+=2;return Tt+1});class e{constructor(et){this.queue=et}_optimize(){}push(et,_){this.queue.fnArray.push(et),this.queue.argsArray.push(_),this._optimize()}flush(){}reset(){}}class i extends e{constructor(et){super(et),this.state=null,this.context={iCurr:0,fnArray:et.fnArray,argsArray:et.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(et){this.context.isOffscreenCanvasSupported=et}_optimize(){const et=this.queue.fnArray;let _=this.lastProcessed,c=et.length,lt=this.state,at=this.match;if(!lt&&!at&&_+1===c&&!St[et[_]]){this.lastProcessed=c;return}const ct=this.context;for(;_<c;){if(at){if((0,at.iterateFn)(ct,_)){_++;continue}if(_=(0,at.processFn)(ct,_+1),c=et.length,at=null,lt=null,_>=c)break}lt=(lt||St)[et[_]],lt&&!Array.isArray(lt)?(ct.iCurr=_,_++,(!lt.checkFn||(0,lt.checkFn)(ct))&&(at=lt),lt=null):_++}this.state=lt,this.match=at,this.lastProcessed=_}flush(){for(;this.match;){const et=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,et),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const ut=class ut{constructor(et=0,_){this._streamSink=_,this.fnArray=[],this.argsArray=[],this.optimizer=!_||et&s.RenderingIntentFlag.OPLIST?new e(this):new i(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=_?null:Promise.resolve()}set isOffscreenCanvasSupported(et){this.optimizer.isOffscreenCanvasSupported=et}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(et,_){this.optimizer.push(et,_),this.weight++,this._streamSink&&(this.weight>=ut.CHUNK_SIZE||this.weight>=ut.CHUNK_SIZE_ABOUT&&(et===s.OPS.restore||et===s.OPS.endText))&&this.flush()}addImageOps(et,_,c){c!==void 0&&this.addOp(s.OPS.beginMarkedContentProps,["OC",c]),this.addOp(et,_),c!==void 0&&this.addOp(s.OPS.endMarkedContent,[])}addDependency(et){this.dependencies.has(et)||(this.dependencies.add(et),this.addOp(s.OPS.dependency,[et]))}addDependencies(et){for(const _ of et)this.addDependency(_)}addOpList(et){if(et instanceof ut){for(const _ of et.dependencies)this.dependencies.add(_);for(let _=0,c=et.length;_<c;_++)this.addOp(et.fnArray[_],et.argsArray[_])}else(0,s.warn)('addOpList - ignoring invalid "opList" parameter.')}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var at;const et=[],{fnArray:_,argsArray:c,length:lt}=this;for(let ct=0;ct<lt;ct++)switch(_[ct]){case s.OPS.paintInlineImageXObject:case s.OPS.paintInlineImageXObjectGroup:case s.OPS.paintImageMaskXObject:const it=c[ct][0];!it.cached&&((at=it.data)==null?void 0:at.buffer)instanceof ArrayBuffer&&et.push(it.data.buffer)}return et}flush(et=!1,_=null){this.optimizer.flush();const c=this.length;this._totalLength+=c,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:et,separateAnnots:_,length:c},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};ir(ut,"CHUNK_SIZE",1e3),ir(ut,"CHUNK_SIZE_ABOUT",ut.CHUNK_SIZE-5);let d=ut;$.OperatorList=d},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFImage=void 0;var s=_t(2),bt=_t(28),St=_t(5),e=_t(12),i=_t(18),d=_t(62),ut=_t(26),dt=_t(30),et=_t(4);function _(at,ct,it,tt){return(at=ct+at*it)<0?at=0:at>tt&&(at=tt),at}function c(at,ct,it,tt,ot,mt){const Ct=ot*mt;let Nt;Nt=ct<=8?new Uint8Array(Ct):ct<=16?new Uint16Array(Ct):new Uint32Array(Ct);const Pt=it/ot,Tt=tt/mt;let Et,rt,ft,wt,b=0;const pt=new Uint16Array(ot),Ot=it;for(Et=0;Et<ot;Et++)pt[Et]=Math.floor(Et*Pt);for(Et=0;Et<mt;Et++)for(ft=Math.floor(Et*Tt)*Ot,rt=0;rt<ot;rt++)wt=ft+pt[rt],Nt[b++]=at[wt];return Nt}class lt{constructor({xref:ct,res:it,image:tt,isInline:ot=!1,smask:mt=null,mask:Ct=null,isMask:Nt=!1,pdfFunctionFactory:Pt,localColorSpaceCache:Tt}){var Ot;this.image=tt;const Et=tt.dict,rt=Et.get("F","Filter");let ft;if(rt instanceof et.Name)ft=rt.name;else if(Array.isArray(rt)){const kt=ct.fetchIfRef(rt[0]);kt instanceof et.Name&&(ft=kt.name)}switch(ft){case"JPXDecode":const kt=new dt.JpxImage;kt.parseImageProperties(tt.stream),tt.stream.reset(),tt.width=kt.width,tt.height=kt.height,tt.bitsPerComponent=kt.bitsPerComponent,tt.numComps=kt.componentsCount;break;case"JBIG2Decode":tt.bitsPerComponent=1,tt.numComps=1}let wt=Et.get("W","Width"),b=Et.get("H","Height");if(Number.isInteger(tt.width)&&tt.width>0&&Number.isInteger(tt.height)&&tt.height>0&&(tt.width!==wt||tt.height!==b)&&((0,s.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),wt=tt.width,b=tt.height),wt<1||b<1)throw new s.FormatError(`Invalid image width: ${wt} or height: ${b}`);this.width=wt,this.height=b,this.interpolate=Et.get("I","Interpolate"),this.imageMask=Et.get("IM","ImageMask")||!1,this.matte=Et.get("Matte")||!1;let pt=tt.bitsPerComponent;if(!pt&&(pt=Et.get("BPC","BitsPerComponent"),!pt)){if(!this.imageMask)throw new s.FormatError(`Bits per component missing in image: ${this.imageMask}`);pt=1}if(this.bpc=pt,!this.imageMask){let kt=Et.getRaw("CS")||Et.getRaw("ColorSpace");if(!kt)switch((0,s.info)("JPX images (which do not require color spaces)"),tt.numComps){case 1:kt=et.Name.get("DeviceGray");break;case 3:kt=et.Name.get("DeviceRGB");break;case 4:kt=et.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${tt.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:kt,xref:ct,resources:ot?it:null,pdfFunctionFactory:Pt,localColorSpaceCache:Tt}),this.numComps=this.colorSpace.numComps}if(this.decode=Et.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,pt)||Nt&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const kt=(1<<pt)-1;this.decodeCoefficients=[],this.decodeAddends=[];const st=((Ot=this.colorSpace)==null?void 0:Ot.name)==="Indexed";for(let nt=0,gt=0;nt<this.decode.length;nt+=2,++gt){const Ft=this.decode[nt],yt=this.decode[nt+1];this.decodeCoefficients[gt]=st?(yt-Ft)/kt:yt-Ft,this.decodeAddends[gt]=st?Ft:kt*Ft}}mt?this.smask=new lt({xref:ct,res:it,image:mt,isInline:ot,pdfFunctionFactory:Pt,localColorSpaceCache:Tt}):Ct&&(Ct instanceof St.BaseStream?Ct.dict.get("IM","ImageMask")?this.mask=new lt({xref:ct,res:it,image:Ct,isInline:ot,isMask:!0,pdfFunctionFactory:Pt,localColorSpaceCache:Tt}):(0,s.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=Ct)}static async buildImage({xref:ct,res:it,image:tt,isInline:ot=!1,pdfFunctionFactory:mt,localColorSpaceCache:Ct}){const Nt=tt;let Pt=null,Tt=null;const Et=tt.dict.get("SMask"),rt=tt.dict.get("Mask");return Et?Et instanceof St.BaseStream?Pt=Et:(0,s.warn)("Unsupported /SMask format."):rt&&(rt instanceof St.BaseStream||Array.isArray(rt)?Tt=rt:(0,s.warn)("Unsupported /Mask format.")),new lt({xref:ct,res:it,image:Nt,isInline:ot,smask:Pt,mask:Tt,pdfFunctionFactory:mt,localColorSpaceCache:Ct})}static createRawMask({imgArray:ct,width:it,height:tt,imageIsFromDecodeStream:ot,inverseDecode:mt,interpolate:Ct}){const Nt=(it+7>>3)*tt,Pt=ct.byteLength;let Tt,Et;if(!ot||mt&&Nt!==Pt?mt?(Tt=new Uint8Array(Nt),Tt.set(ct),Tt.fill(255,Pt)):Tt=new Uint8Array(ct):Tt=ct,mt)for(Et=0;Et<Pt;Et++)Tt[Et]^=255;return{data:Tt,width:it,height:tt,interpolate:Ct}}static async createMask({imgArray:ct,width:it,height:tt,imageIsFromDecodeStream:ot,inverseDecode:mt,interpolate:Ct,isOffscreenCanvasSupported:Nt=!1}){const Pt=it===1&&tt===1&&mt===(ct.length===0||!!(128&ct[0]));if(Pt)return{isSingleOpaquePixel:Pt};if(Nt){if(d.ImageResizer.needsToBeResized(it,tt)){const ft=new Uint8ClampedArray(it*tt*4);return(0,bt.convertBlackAndWhiteToRGBA)({src:ct,dest:ft,width:it,height:tt,nonBlackColor:0,inverseDecode:mt}),d.ImageResizer.createImage({kind:s.ImageKind.RGBA_32BPP,data:ft,width:it,height:tt,interpolate:Ct})}const Tt=new OffscreenCanvas(it,tt),Et=Tt.getContext("2d"),rt=Et.createImageData(it,tt);return(0,bt.convertBlackAndWhiteToRGBA)({src:ct,dest:rt.data,width:it,height:tt,nonBlackColor:0,inverseDecode:mt}),Et.putImageData(rt,0,0),{data:null,width:it,height:tt,interpolate:Ct,bitmap:Tt.transferToImageBitmap()}}return this.createRawMask({imgArray:ct,width:it,height:tt,inverseDecode:mt,imageIsFromDecodeStream:ot,interpolate:Ct})}get drawWidth(){var ct,it;return Math.max(this.width,((ct=this.smask)==null?void 0:ct.width)||0,((it=this.mask)==null?void 0:it.width)||0)}get drawHeight(){var ct,it;return Math.max(this.height,((ct=this.smask)==null?void 0:ct.height)||0,((it=this.mask)==null?void 0:it.height)||0)}decodeBuffer(ct){const it=this.bpc,tt=this.numComps,ot=this.decodeAddends,mt=this.decodeCoefficients,Ct=(1<<it)-1;let Nt,Pt;if(it===1){for(Nt=0,Pt=ct.length;Nt<Pt;Nt++)ct[Nt]=+!ct[Nt];return}let Tt=0;for(Nt=0,Pt=this.width*this.height;Nt<Pt;Nt++)for(let Et=0;Et<tt;Et++)ct[Tt]=_(ct[Tt],ot[Et],mt[Et],Ct),Tt++}getComponents(ct){const it=this.bpc;if(it===8)return ct;const tt=this.width,ot=this.height,mt=this.numComps,Ct=tt*ot*mt;let Nt,Pt=0;Nt=it<=8?new Uint8Array(Ct):it<=16?new Uint16Array(Ct):new Uint32Array(Ct);const Tt=tt*mt,Et=(1<<it)-1;let rt,ft,wt=0;if(it===1){let b,pt,Ot;for(let kt=0;kt<ot;kt++){for(pt=wt+(-8&Tt),Ot=wt+Tt;wt<pt;)ft=ct[Pt++],Nt[wt]=ft>>7&1,Nt[wt+1]=ft>>6&1,Nt[wt+2]=ft>>5&1,Nt[wt+3]=ft>>4&1,Nt[wt+4]=ft>>3&1,Nt[wt+5]=ft>>2&1,Nt[wt+6]=ft>>1&1,Nt[wt+7]=1&ft,wt+=8;if(wt<Ot)for(ft=ct[Pt++],b=128;wt<Ot;)Nt[wt++]=+!!(ft&b),b>>=1}}else{let b=0;for(ft=0,wt=0,rt=Ct;wt<rt;++wt){for(wt%Tt==0&&(ft=0,b=0);b<it;)ft=ft<<8|ct[Pt++],b+=8;const pt=b-it;let Ot=ft>>pt;Ot<0?Ot=0:Ot>Et&&(Ot=Et),Nt[wt]=Ot,ft&=(1<<pt)-1,b=pt}}return Nt}fillOpacity(ct,it,tt,ot,mt){const Ct=this.smask,Nt=this.mask;let Pt,Tt,Et,rt,ft,wt;if(Ct)Tt=Ct.width,Et=Ct.height,Pt=new Uint8ClampedArray(Tt*Et),Ct.fillGrayBuffer(Pt),Tt===it&&Et===tt||(Pt=c(Pt,Ct.bpc,Tt,Et,it,tt));else if(Nt)if(Nt instanceof lt){for(Tt=Nt.width,Et=Nt.height,Pt=new Uint8ClampedArray(Tt*Et),Nt.numComps=1,Nt.fillGrayBuffer(Pt),rt=0,ft=Tt*Et;rt<ft;++rt)Pt[rt]=255-Pt[rt];Tt===it&&Et===tt||(Pt=c(Pt,Nt.bpc,Tt,Et,it,tt))}else{if(!Array.isArray(Nt))throw new s.FormatError("Unknown mask format.");{Pt=new Uint8ClampedArray(it*tt);const b=this.numComps;for(rt=0,ft=it*tt;rt<ft;++rt){let pt=0;const Ot=rt*b;for(wt=0;wt<b;++wt){const kt=mt[Ot+wt],st=2*wt;if(kt<Nt[st]||kt>Nt[st+1]){pt=255;break}}Pt[rt]=pt}}}if(Pt)for(rt=0,wt=3,ft=it*ot;rt<ft;++rt,wt+=4)ct[wt]=Pt[rt];else for(rt=0,wt=3,ft=it*ot;rt<ft;++rt,wt+=4)ct[wt]=255}undoPreblend(ct,it,tt){var Et;const ot=(Et=this.smask)==null?void 0:Et.matte;if(!ot)return;const mt=this.colorSpace.getRgb(ot,0),Ct=mt[0],Nt=mt[1],Pt=mt[2],Tt=it*tt*4;for(let rt=0;rt<Tt;rt+=4){const ft=ct[rt+3];if(ft===0){ct[rt]=255,ct[rt+1]=255,ct[rt+2]=255;continue}const wt=255/ft;ct[rt]=(ct[rt]-Ct)*wt+Ct,ct[rt+1]=(ct[rt+1]-Nt)*wt+Nt,ct[rt+2]=(ct[rt+2]-Pt)*wt+Pt}}async createImageData(ct=!1,it=!1){const tt=this.drawWidth,ot=this.drawHeight,mt={width:tt,height:ot,interpolate:this.interpolate,kind:0,data:null},Ct=this.numComps,Nt=this.width,Pt=this.height,Tt=this.bpc,Et=Nt*Ct*Tt+7>>3,rt=it&&d.ImageResizer.needsToBeResized(tt,ot);if(!ct){let Ft;if(this.colorSpace.name==="DeviceGray"&&Tt===1?Ft=s.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name!=="DeviceRGB"||Tt!==8||this.needsDecode||(Ft=s.ImageKind.RGB_24BPP),Ft&&!this.smask&&!this.mask&&tt===Nt&&ot===Pt){const yt=this.getImageBytes(Pt*Et,{});if(it)return rt?d.ImageResizer.createImage({data:yt,kind:Ft,width:tt,height:ot,interpolate:this.interpolate},this.needsDecode):this.createBitmap(Ft,Nt,Pt,yt);if(mt.kind=Ft,mt.data=yt,this.needsDecode){(0,s.assert)(Ft===s.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const vt=mt.data;for(let Lt=0,jt=vt.length;Lt<jt;Lt++)vt[Lt]^=255}return mt}if(this.image instanceof ut.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let yt=Pt*Et;if(it&&!rt){let vt=!1;switch(this.colorSpace.name){case"DeviceGray":yt*=4,vt=!0;break;case"DeviceRGB":yt=yt/3*4,vt=!0;break;case"DeviceCMYK":vt=!0}if(vt){const Lt=this.getImageBytes(yt,{drawWidth:tt,drawHeight:ot,forceRGBA:!0});return this.createBitmap(s.ImageKind.RGBA_32BPP,tt,ot,Lt)}}else switch(this.colorSpace.name){case"DeviceGray":yt*=3;case"DeviceRGB":case"DeviceCMYK":return mt.kind=s.ImageKind.RGB_24BPP,mt.data=this.getImageBytes(yt,{drawWidth:tt,drawHeight:ot,forceRGB:!0}),rt?d.ImageResizer.createImage(mt):mt}}}const ft=this.getImageBytes(Pt*Et,{internal:!0}),wt=0|ft.length/Et*ot/Pt,b=this.getComponents(ft);let pt,Ot,kt,st,nt,gt;return it&&!rt&&(kt=new OffscreenCanvas(tt,ot),st=kt.getContext("2d"),nt=st.createImageData(tt,ot),gt=nt.data),mt.kind=s.ImageKind.RGBA_32BPP,ct||this.smask||this.mask?(it&&!rt||(gt=new Uint8ClampedArray(tt*ot*4)),pt=1,Ot=!0,this.fillOpacity(gt,tt,ot,wt,b)):(!it||rt?(mt.kind=s.ImageKind.RGB_24BPP,gt=new Uint8ClampedArray(tt*ot*3),pt=0):(new Uint32Array(gt.buffer).fill(s.FeatureTest.isLittleEndian?4278190080:255),pt=1),Ot=!1),this.needsDecode&&this.decodeBuffer(b),this.colorSpace.fillRgb(gt,Nt,Pt,tt,ot,wt,Tt,b,pt),Ot&&this.undoPreblend(gt,tt,wt),it&&!rt?(st.putImageData(nt,0,0),{data:null,width:tt,height:ot,bitmap:kt.transferToImageBitmap(),interpolate:this.interpolate}):(mt.data=gt,rt?d.ImageResizer.createImage(mt):mt)}fillGrayBuffer(ct){const it=this.numComps;if(it!==1)throw new s.FormatError(`Reading gray scale from a color image: ${it}`);const tt=this.width,ot=this.height,mt=this.bpc,Ct=tt*it*mt+7>>3,Nt=this.getImageBytes(ot*Ct,{internal:!0}),Pt=this.getComponents(Nt);let Tt,Et;if(mt===1){if(Et=tt*ot,this.needsDecode)for(Tt=0;Tt<Et;++Tt)ct[Tt]=Pt[Tt]-1&255;else for(Tt=0;Tt<Et;++Tt)ct[Tt]=255&-Pt[Tt];return}this.needsDecode&&this.decodeBuffer(Pt),Et=tt*ot;const rt=255/((1<<mt)-1);for(Tt=0;Tt<Et;++Tt)ct[Tt]=rt*Pt[Tt]}createBitmap(ct,it,tt,ot){const mt=new OffscreenCanvas(it,tt),Ct=mt.getContext("2d");let Nt;return ct===s.ImageKind.RGBA_32BPP?Nt=new ImageData(ot,it,tt):(Nt=Ct.createImageData(it,tt),(0,bt.convertToRGBA)({kind:ct,src:ot,dest:new Uint32Array(Nt.data.buffer),width:it,height:tt,inverseDecode:this.needsDecode})),Ct.putImageData(Nt,0,0),{data:null,width:it,height:tt,bitmap:mt.transferToImageBitmap(),interpolate:this.interpolate}}getImageBytes(ct,{drawWidth:it,drawHeight:tt,forceRGBA:ot=!1,forceRGB:mt=!1,internal:Ct=!1}){this.image.reset(),this.image.drawWidth=it||this.width,this.image.drawHeight=tt||this.height,this.image.forceRGBA=!!ot,this.image.forceRGB=!!mt;const Nt=this.image.getBytes(ct);return Ct||this.image instanceof i.DecodeStream?Nt:((0,s.assert)(Nt instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(Nt))}}$.PDFImage=lt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Catalog=void 0;var s=_t(3),bt=_t(2),St=_t(4),e=_t(67),i=_t(5),d=_t(68),ut=_t(12),dt=_t(69),et=_t(59),_=_t(70),c=_t(72);function lt(ct){return ct instanceof St.Dict&&(ct=ct.get("D")),Array.isArray(ct)?ct:null}class at{constructor(it,tt){if(this.pdfManager=it,this.xref=tt,this._catDict=tt.getCatalogObj(),!(this._catDict instanceof St.Dict))throw new bt.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new St.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new et.GlobalImageCache,this.pageKidsCountCache=new St.RefSetCache,this.pageIndexCache=new St.RefSetCache,this.nonBlendModesSet=new St.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const it=this._catDict.get("Version");if(it instanceof St.Name){if(s.PDF_VERSION_REGEXP.test(it.name))return(0,bt.shadow)(this,"version",it.name);(0,bt.warn)(`Invalid PDF catalog version: ${it.name}`)}return(0,bt.shadow)(this,"version",null)}get lang(){const it=this._catDict.get("Lang");return(0,bt.shadow)(this,"lang",typeof it=="string"?(0,bt.stringToPDFString)(it):null)}get needsRendering(){const it=this._catDict.get("NeedsRendering");return(0,bt.shadow)(this,"needsRendering",typeof it=="boolean"&&it)}get collection(){let it=null;try{const tt=this._catDict.get("Collection");tt instanceof St.Dict&&tt.size>0&&(it=tt)}catch(tt){if(tt instanceof s.MissingDataException)throw tt;(0,bt.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,bt.shadow)(this,"collection",it)}get acroForm(){let it=null;try{const tt=this._catDict.get("AcroForm");tt instanceof St.Dict&&tt.size>0&&(it=tt)}catch(tt){if(tt instanceof s.MissingDataException)throw tt;(0,bt.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,bt.shadow)(this,"acroForm",it)}get acroFormRef(){const it=this._catDict.getRaw("AcroForm");return(0,bt.shadow)(this,"acroFormRef",it instanceof St.Ref?it:null)}get metadata(){var ot;const it=this._catDict.getRaw("Metadata");if(!(it instanceof St.Ref))return(0,bt.shadow)(this,"metadata",null);let tt=null;try{const mt=this.xref.fetch(it,!((ot=this.xref.encrypt)!=null&&ot.encryptMetadata));if(mt instanceof i.BaseStream&&mt.dict instanceof St.Dict){const Ct=mt.dict.get("Type"),Nt=mt.dict.get("Subtype");if((0,St.isName)(Ct,"Metadata")&&(0,St.isName)(Nt,"XML")){const Pt=(0,bt.stringToUTF8String)(mt.getString());Pt&&(tt=new _.MetadataParser(Pt).serializable)}}}catch(mt){if(mt instanceof s.MissingDataException)throw mt;(0,bt.info)(`Skipping invalid Metadata: "${mt}".`)}return(0,bt.shadow)(this,"metadata",tt)}get markInfo(){let it=null;try{it=this._readMarkInfo()}catch(tt){if(tt instanceof s.MissingDataException)throw tt;(0,bt.warn)("Unable to read mark info.")}return(0,bt.shadow)(this,"markInfo",it)}_readMarkInfo(){const it=this._catDict.get("MarkInfo");if(!(it instanceof St.Dict))return null;const tt={Marked:!1,UserProperties:!1,Suspects:!1};for(const ot in tt){const mt=it.get(ot);typeof mt=="boolean"&&(tt[ot]=mt)}return tt}get structTreeRoot(){let it=null;try{it=this._readStructTreeRoot()}catch(tt){if(tt instanceof s.MissingDataException)throw tt;(0,bt.warn)("Unable read to structTreeRoot info.")}return(0,bt.shadow)(this,"structTreeRoot",it)}_readStructTreeRoot(){const it=this._catDict.getRaw("StructTreeRoot"),tt=this.xref.fetchIfRef(it);if(!(tt instanceof St.Dict))return null;const ot=new c.StructTreeRoot(tt,it);return ot.init(),ot}get toplevelPagesDict(){const it=this._catDict.get("Pages");if(!(it instanceof St.Dict))throw new bt.FormatError("Invalid top-level pages dictionary.");return(0,bt.shadow)(this,"toplevelPagesDict",it)}get documentOutline(){let it=null;try{it=this._readDocumentOutline()}catch(tt){if(tt instanceof s.MissingDataException)throw tt;(0,bt.warn)("Unable to read document outline.")}return(0,bt.shadow)(this,"documentOutline",it)}_readDocumentOutline(){let it=this._catDict.get("Outlines");if(!(it instanceof St.Dict)||(it=it.getRaw("First"),!(it instanceof St.Ref)))return null;const tt={items:[]},ot=[{obj:it,parent:tt}],mt=new St.RefSet;mt.put(it);const Ct=this.xref,Nt=new Uint8ClampedArray(3);for(;ot.length>0;){const Pt=ot.shift(),Tt=Ct.fetchIfRef(Pt.obj);if(Tt===null)continue;if(!Tt.has("Title"))throw new bt.FormatError("Invalid outline item encountered.");const Et={url:null,dest:null,action:null};at.parseDestDictionary({destDict:Tt,resultObj:Et,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const rt=Tt.get("Title"),ft=Tt.get("F")||0,wt=Tt.getArray("C"),b=Tt.get("Count");let pt=Nt;!Array.isArray(wt)||wt.length!==3||wt[0]===0&&wt[1]===0&&wt[2]===0||(pt=ut.ColorSpace.singletons.rgb.getRgb(wt,0));const Ot={action:Et.action,attachment:Et.attachment,dest:Et.dest,url:Et.url,unsafeUrl:Et.unsafeUrl,newWindow:Et.newWindow,setOCGState:Et.setOCGState,title:(0,bt.stringToPDFString)(rt),color:pt,count:Number.isInteger(b)?b:void 0,bold:!!(2&ft),italic:!!(1&ft),items:[]};Pt.parent.items.push(Ot),it=Tt.getRaw("First"),it instanceof St.Ref&&!mt.has(it)&&(ot.push({obj:it,parent:Ot}),mt.put(it)),it=Tt.getRaw("Next"),it instanceof St.Ref&&!mt.has(it)&&(ot.push({obj:it,parent:Pt.parent}),mt.put(it))}return tt.items.length>0?tt.items:null}get permissions(){let it=null;try{it=this._readPermissions()}catch(tt){if(tt instanceof s.MissingDataException)throw tt;(0,bt.warn)("Unable to read permissions.")}return(0,bt.shadow)(this,"permissions",it)}_readPermissions(){const it=this.xref.trailer.get("Encrypt");if(!(it instanceof St.Dict))return null;let tt=it.get("P");if(typeof tt!="number")return null;tt+=4294967296;const ot=[];for(const mt in bt.PermissionFlag){const Ct=bt.PermissionFlag[mt];tt&Ct&&ot.push(Ct)}return ot}get optionalContentConfig(){let it=null;try{const tt=this._catDict.get("OCProperties");if(!tt)return(0,bt.shadow)(this,"optionalContentConfig",null);const ot=tt.get("D");if(!ot)return(0,bt.shadow)(this,"optionalContentConfig",null);const mt=tt.get("OCGs");if(!Array.isArray(mt))return(0,bt.shadow)(this,"optionalContentConfig",null);const Ct=[],Nt=[];for(const Pt of mt){if(!(Pt instanceof St.Ref))continue;Nt.push(Pt);const Tt=this.xref.fetchIfRef(Pt);Ct.push({id:Pt.toString(),name:typeof Tt.get("Name")=="string"?(0,bt.stringToPDFString)(Tt.get("Name")):null,intent:typeof Tt.get("Intent")=="string"?(0,bt.stringToPDFString)(Tt.get("Intent")):null})}it=this._readOptionalContentConfig(ot,Nt),it.groups=Ct}catch(tt){if(tt instanceof s.MissingDataException)throw tt;(0,bt.warn)(`Unable to read optional content config: ${tt}`)}return(0,bt.shadow)(this,"optionalContentConfig",it)}_readOptionalContentConfig(it,tt){function ot(Et){const rt=[];if(Array.isArray(Et))for(const ft of Et)ft instanceof St.Ref&&tt.includes(ft)&&rt.push(ft.toString());return rt}function mt(Et,rt=0){if(!Array.isArray(Et))return null;const ft=[];for(const b of Et){if(b instanceof St.Ref&&tt.includes(b)){Pt.put(b),ft.push(b.toString());continue}const pt=Ct(b,rt);pt&&ft.push(pt)}if(rt>0)return ft;const wt=[];for(const b of tt)Pt.has(b)||wt.push(b.toString());return wt.length&&ft.push({name:null,order:wt}),ft}function Ct(Et,rt){if(++rt>Tt)return(0,bt.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const ft=Nt.fetchIfRef(Et);if(!Array.isArray(ft))return null;const wt=Nt.fetchIfRef(ft[0]);if(typeof wt!="string")return null;const b=mt(ft.slice(1),rt);return b&&b.length?{name:(0,bt.stringToPDFString)(wt),order:b}:null}const Nt=this.xref,Pt=new St.RefSet,Tt=10;return{name:typeof it.get("Name")=="string"?(0,bt.stringToPDFString)(it.get("Name")):null,creator:typeof it.get("Creator")=="string"?(0,bt.stringToPDFString)(it.get("Creator")):null,baseState:it.get("BaseState")instanceof St.Name?it.get("BaseState").name:null,on:ot(it.get("ON")),off:ot(it.get("OFF")),order:mt(it.get("Order")),groups:null}}setActualNumPages(it=null){this._actualNumPages=it}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const it=this.toplevelPagesDict.get("Count");if(!Number.isInteger(it))throw new bt.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,bt.shadow)(this,"_pagesCount",it)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const it=this._readDests(),tt=Object.create(null);if(it instanceof e.NameTree)for(const[ot,mt]of it.getAll()){const Ct=lt(mt);Ct&&(tt[(0,bt.stringToPDFString)(ot)]=Ct)}else it instanceof St.Dict&&it.forEach(function(ot,mt){const Ct=lt(mt);Ct&&(tt[ot]=Ct)});return(0,bt.shadow)(this,"destinations",tt)}getDestination(it){const tt=this._readDests();if(tt instanceof e.NameTree){const ot=lt(tt.get(it));if(ot)return ot;const mt=this.destinations[it];if(mt)return(0,bt.warn)(`Found "${it}" at an incorrect position in the NameTree.`),mt}else if(tt instanceof St.Dict){const ot=lt(tt.get(it));if(ot)return ot}return null}_readDests(){const it=this._catDict.get("Names");return it!=null&&it.has("Dests")?new e.NameTree(it.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}get pageLabels(){let it=null;try{it=this._readPageLabels()}catch(tt){if(tt instanceof s.MissingDataException)throw tt;(0,bt.warn)("Unable to read page labels.")}return(0,bt.shadow)(this,"pageLabels",it)}_readPageLabels(){const it=this._catDict.getRaw("PageLabels");if(!it)return null;const tt=new Array(this.numPages);let ot=null,mt="";const Ct=new e.NumberTree(it,this.xref).getAll();let Nt="",Pt=1;for(let Tt=0,Et=this.numPages;Tt<Et;Tt++){const rt=Ct.get(Tt);if(rt!==void 0){if(!(rt instanceof St.Dict))throw new bt.FormatError("PageLabel is not a dictionary.");if(rt.has("Type")&&!(0,St.isName)(rt.get("Type"),"PageLabel"))throw new bt.FormatError("Invalid type in PageLabel dictionary.");if(rt.has("S")){const ft=rt.get("S");if(!(ft instanceof St.Name))throw new bt.FormatError("Invalid style in PageLabel dictionary.");ot=ft.name}else ot=null;if(rt.has("P")){const ft=rt.get("P");if(typeof ft!="string")throw new bt.FormatError("Invalid prefix in PageLabel dictionary.");mt=(0,bt.stringToPDFString)(ft)}else mt="";if(rt.has("St")){const ft=rt.get("St");if(!(Number.isInteger(ft)&&ft>=1))throw new bt.FormatError("Invalid start in PageLabel dictionary.");Pt=ft}else Pt=1}switch(ot){case"D":Nt=Pt;break;case"R":case"r":Nt=(0,s.toRomanNumerals)(Pt,ot==="r");break;case"A":case"a":const ft=26,wt=ot==="a"?97:65,b=Pt-1;Nt=String.fromCharCode(wt+b%ft).repeat(Math.floor(b/ft)+1);break;default:if(ot)throw new bt.FormatError(`Invalid style "${ot}" in PageLabel dictionary.`);Nt=""}tt[Tt]=mt+Nt,Pt++}return tt}get pageLayout(){const it=this._catDict.get("PageLayout");let tt="";if(it instanceof St.Name)switch(it.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":tt=it.name}return(0,bt.shadow)(this,"pageLayout",tt)}get pageMode(){const it=this._catDict.get("PageMode");let tt="UseNone";if(it instanceof St.Name)switch(it.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":tt=it.name}return(0,bt.shadow)(this,"pageMode",tt)}get viewerPreferences(){const it=this._catDict.get("ViewerPreferences");if(!(it instanceof St.Dict))return(0,bt.shadow)(this,"viewerPreferences",null);let tt=null;for(const ot of it.getKeys()){const mt=it.get(ot);let Ct;switch(ot){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof mt=="boolean"&&(Ct=mt);break;case"NonFullScreenPageMode":if(mt instanceof St.Name)switch(mt.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":Ct=mt.name;break;default:Ct="UseNone"}break;case"Direction":if(mt instanceof St.Name)switch(mt.name){case"L2R":case"R2L":Ct=mt.name;break;default:Ct="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(mt instanceof St.Name)switch(mt.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":Ct=mt.name;break;default:Ct="CropBox"}break;case"PrintScaling":if(mt instanceof St.Name)switch(mt.name){case"None":case"AppDefault":Ct=mt.name;break;default:Ct="AppDefault"}break;case"Duplex":if(mt instanceof St.Name)switch(mt.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":Ct=mt.name;break;default:Ct="None"}break;case"PrintPageRange":Array.isArray(mt)&&mt.length%2==0&&mt.every((Nt,Pt,Tt)=>Number.isInteger(Nt)&&Nt>0&&(Pt===0||Nt>=Tt[Pt-1])&&Nt<=this.numPages)&&(Ct=mt);break;case"NumCopies":Number.isInteger(mt)&&mt>0&&(Ct=mt);break;default:(0,bt.warn)(`Ignoring non-standard key in ViewerPreferences: ${ot}.`);continue}Ct!==void 0?(tt||(tt=Object.create(null)),tt[ot]=Ct):(0,bt.warn)(`Bad value, for key "${ot}", in ViewerPreferences: ${mt}.`)}return(0,bt.shadow)(this,"viewerPreferences",tt)}get openAction(){const it=this._catDict.get("OpenAction"),tt=Object.create(null);if(it instanceof St.Dict){const ot=new St.Dict(this.xref);ot.set("A",it);const mt={url:null,dest:null,action:null};at.parseDestDictionary({destDict:ot,resultObj:mt}),Array.isArray(mt.dest)?tt.dest=mt.dest:mt.action&&(tt.action=mt.action)}else Array.isArray(it)&&(tt.dest=it);return(0,bt.shadow)(this,"openAction",(0,bt.objectSize)(tt)>0?tt:null)}get attachments(){const it=this._catDict.get("Names");let tt=null;if(it instanceof St.Dict&&it.has("EmbeddedFiles")){const ot=new e.NameTree(it.getRaw("EmbeddedFiles"),this.xref);for(const[mt,Ct]of ot.getAll()){const Nt=new dt.FileSpec(Ct,this.xref);tt||(tt=Object.create(null)),tt[(0,bt.stringToPDFString)(mt)]=Nt.serializable}}return(0,bt.shadow)(this,"attachments",tt)}get xfaImages(){const it=this._catDict.get("Names");let tt=null;if(it instanceof St.Dict&&it.has("XFAImages")){const ot=new e.NameTree(it.getRaw("XFAImages"),this.xref);for(const[mt,Ct]of ot.getAll())tt||(tt=new St.Dict(this.xref)),tt.set((0,bt.stringToPDFString)(mt),Ct)}return(0,bt.shadow)(this,"xfaImages",tt)}_collectJavaScript(){const it=this._catDict.get("Names");let tt=null;function ot(Ct,Nt){if(!(Nt instanceof St.Dict)||!(0,St.isName)(Nt.get("S"),"JavaScript"))return;let Pt=Nt.get("JS");if(Pt instanceof i.BaseStream)Pt=Pt.getString();else if(typeof Pt!="string")return;Pt=(0,bt.stringToPDFString)(Pt).replaceAll("\0",""),Pt&&(tt||(tt=new Map)).set(Ct,Pt)}if(it instanceof St.Dict&&it.has("JavaScript")){const Ct=new e.NameTree(it.getRaw("JavaScript"),this.xref);for(const[Nt,Pt]of Ct.getAll())ot((0,bt.stringToPDFString)(Nt),Pt)}const mt=this._catDict.get("OpenAction");return mt&&ot("OpenAction",mt),tt}get jsActions(){const it=this._collectJavaScript();let tt=(0,s.collectActions)(this.xref,this._catDict,bt.DocumentActionEventType);if(it){tt||(tt=Object.create(null));for(const[ot,mt]of it)ot in tt?tt[ot].push(mt):tt[ot]=[mt]}return(0,bt.shadow)(this,"jsActions",tt)}async fontFallback(it,tt){const ot=await Promise.all(this.fontCache);for(const mt of ot)if(mt.loadedName===it){mt.fallback(tt);return}}async cleanup(it=!1){(0,d.clearGlobalCaches)(),this.globalImageCache.clear(it),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const tt=await Promise.all(this.fontCache);for(const{dict:ot}of tt)delete ot.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(it){const tt=[this.toplevelPagesDict],ot=new St.RefSet,mt=this._catDict.getRaw("Pages");mt instanceof St.Ref&&ot.put(mt);const Ct=this.xref,Nt=this.pageKidsCountCache,Pt=this.pageIndexCache;let Tt=0;for(;tt.length;){const Et=tt.pop();if(Et instanceof St.Ref){const b=Nt.get(Et);if(b>=0&&Tt+b<=it){Tt+=b;continue}if(ot.has(Et))throw new bt.FormatError("Pages tree contains circular reference.");ot.put(Et);const pt=await Ct.fetchAsync(Et);if(pt instanceof St.Dict){let Ot=pt.getRaw("Type");if(Ot instanceof St.Ref&&(Ot=await Ct.fetchAsync(Ot)),(0,St.isName)(Ot,"Page")||!pt.has("Kids")){if(Nt.has(Et)||Nt.put(Et,1),Pt.has(Et)||Pt.put(Et,Tt),Tt===it)return[pt,Et];Tt++;continue}}tt.push(pt);continue}if(!(Et instanceof St.Dict))throw new bt.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:rt}=Et;let ft=Et.getRaw("Count");if(ft instanceof St.Ref&&(ft=await Ct.fetchAsync(ft)),Number.isInteger(ft)&&ft>=0&&(rt&&!Nt.has(rt)&&Nt.put(rt,ft),Tt+ft<=it)){Tt+=ft;continue}let wt=Et.getRaw("Kids");if(wt instanceof St.Ref&&(wt=await Ct.fetchAsync(wt)),!Array.isArray(wt)){let b=Et.getRaw("Type");if(b instanceof St.Ref&&(b=await Ct.fetchAsync(b)),(0,St.isName)(b,"Page")||!Et.has("Kids")){if(Tt===it)return[Et,null];Tt++;continue}throw new bt.FormatError("Page dictionary kids object is not an array.")}for(let b=wt.length-1;b>=0;b--)tt.push(wt[b])}throw new Error(`Page index ${it} not found.`)}async getAllPageDicts(it=!1){const{ignoreErrors:tt}=this.pdfManager.evaluatorOptions,ot=[{currentNode:this.toplevelPagesDict,posInKids:0}],mt=new St.RefSet,Ct=this._catDict.getRaw("Pages");Ct instanceof St.Ref&&mt.put(Ct);const Nt=new Map,Pt=this.xref,Tt=this.pageIndexCache;let Et=0;function rt(wt,b){b&&!Tt.has(b)&&Tt.put(b,Et),Nt.set(Et++,[wt,b])}function ft(wt){if(wt instanceof s.XRefEntryException&&!it)throw wt;it&&tt&&Et===0&&((0,bt.warn)(`getAllPageDicts - Skipping invalid first page: "${wt}".`),wt=St.Dict.empty),Nt.set(Et++,[wt,null])}for(;ot.length>0;){const wt=ot.at(-1),{currentNode:b,posInKids:pt}=wt;let Ot=b.getRaw("Kids");if(Ot instanceof St.Ref)try{Ot=await Pt.fetchAsync(Ot)}catch(gt){ft(gt);break}if(!Array.isArray(Ot)){ft(new bt.FormatError("Page dictionary kids object is not an array."));break}if(pt>=Ot.length){ot.pop();continue}const kt=Ot[pt];let st;if(kt instanceof St.Ref){if(mt.has(kt)){ft(new bt.FormatError("Pages tree contains circular reference."));break}mt.put(kt);try{st=await Pt.fetchAsync(kt)}catch(gt){ft(gt);break}}else st=kt;if(!(st instanceof St.Dict)){ft(new bt.FormatError("Page dictionary kid reference points to wrong type of object."));break}let nt=st.getRaw("Type");if(nt instanceof St.Ref)try{nt=await Pt.fetchAsync(nt)}catch(gt){ft(gt);break}(0,St.isName)(nt,"Page")||!st.has("Kids")?rt(st,kt instanceof St.Ref?kt:null):ot.push({currentNode:st,posInKids:0}),wt.posInKids++}return Nt}getPageIndex(it){const tt=this.pageIndexCache.get(it);if(tt!==void 0)return Promise.resolve(tt);const ot=this.xref;let mt=0;const Ct=Nt=>function(Tt){let Et,rt=0;return ot.fetchAsync(Tt).then(function(ft){if((0,St.isRefsEqual)(Tt,it)&&!(0,St.isDict)(ft,"Page")&&!(ft instanceof St.Dict&&!ft.has("Type")&&ft.has("Contents")))throw new bt.FormatError("The reference does not point to a /Page dictionary.");if(!ft)return null;if(!(ft instanceof St.Dict))throw new bt.FormatError("Node must be a dictionary.");return Et=ft.getRaw("Parent"),ft.getAsync("Parent")}).then(function(ft){if(!ft)return null;if(!(ft instanceof St.Dict))throw new bt.FormatError("Parent must be a dictionary.");return ft.getAsync("Kids")}).then(function(ft){if(!ft)return null;const wt=[];let b=!1;for(const pt of ft){if(!(pt instanceof St.Ref))throw new bt.FormatError("Kid must be a reference.");if((0,St.isRefsEqual)(pt,Tt)){b=!0;break}wt.push(ot.fetchAsync(pt).then(function(Ot){if(!(Ot instanceof St.Dict))throw new bt.FormatError("Kid node must be a dictionary.");Ot.has("Count")?rt+=Ot.get("Count"):rt++}))}if(!b)throw new bt.FormatError("Kid reference not found in parent's kids.");return Promise.all(wt).then(function(){return[rt,Et]})})}(Nt).then(Pt=>{if(!Pt)return this.pageIndexCache.put(it,mt),mt;const[Tt,Et]=Pt;return mt+=Tt,Ct(Et)});return Ct(it)}get baseUrl(){const it=this._catDict.get("URI");if(it instanceof St.Dict){const tt=it.get("Base");if(typeof tt=="string"){const ot=(0,bt.createValidAbsoluteUrl)(tt,null,{tryConvertEncoding:!0});if(ot)return(0,bt.shadow)(this,"baseUrl",ot.href)}}return(0,bt.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:it,resultObj:tt,docBaseUrl:ot=null,docAttachments:mt=null}){if(!(it instanceof St.Dict)){(0,bt.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let Ct,Nt,Pt=it.get("A");if(Pt instanceof St.Dict||(it.has("Dest")?Pt=it.get("Dest"):(Pt=it.get("AA"),Pt instanceof St.Dict&&(Pt.has("D")?Pt=Pt.get("D"):Pt.has("U")&&(Pt=Pt.get("U"))))),Pt instanceof St.Dict){const Tt=Pt.get("S");if(!(Tt instanceof St.Name)){(0,bt.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Et=Tt.name;switch(Et){case"ResetForm":const rt=Pt.get("Flags"),ft=(1&(typeof rt=="number"?rt:0))==0,wt=[],b=[];for(const Vt of Pt.get("Fields")||[])Vt instanceof St.Ref?b.push(Vt.toString()):typeof Vt=="string"&&wt.push((0,bt.stringToPDFString)(Vt));tt.resetForm={fields:wt,refs:b,include:ft};break;case"URI":Ct=Pt.get("URI"),Ct instanceof St.Name&&(Ct="/"+Ct.name);break;case"GoTo":Nt=Pt.get("D");break;case"Launch":case"GoToR":const pt=Pt.get("F");pt instanceof St.Dict?Ct=pt.get("F")||null:typeof pt=="string"&&(Ct=pt);let Ot=Pt.get("D");if(Ot&&(Ot instanceof St.Name&&(Ot=Ot.name),typeof Ct=="string")){const Vt=Ct.split("#")[0];typeof Ot=="string"?Ct=Vt+"#"+Ot:Array.isArray(Ot)&&(Ct=Vt+"#"+JSON.stringify(Ot))}const kt=Pt.get("NewWindow");typeof kt=="boolean"&&(tt.newWindow=kt);break;case"GoToE":const st=Pt.get("T");let nt;if(mt&&st instanceof St.Dict){const Vt=st.get("R"),Qt=st.get("N");(0,St.isName)(Vt,"C")&&typeof Qt=="string"&&(nt=mt[(0,bt.stringToPDFString)(Qt)])}nt?tt.attachment=nt:(0,bt.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const gt=Pt.get("N");gt instanceof St.Name&&(tt.action=gt.name);break;case"SetOCGState":const Ft=Pt.get("State"),yt=Pt.get("PreserveRB");if(!Array.isArray(Ft)||Ft.length===0)break;const vt=[];for(const Vt of Ft)if(Vt instanceof St.Name)switch(Vt.name){case"ON":case"OFF":case"Toggle":vt.push(Vt.name)}else Vt instanceof St.Ref&&vt.push(Vt.toString());if(vt.length!==Ft.length)break;tt.setOCGState={state:vt,preserveRB:typeof yt!="boolean"||yt};break;case"JavaScript":const Lt=Pt.get("JS");let jt;Lt instanceof i.BaseStream?jt=Lt.getString():typeof Lt=="string"&&(jt=Lt);const Ht=jt&&(0,s.recoverJsURL)((0,bt.stringToPDFString)(jt));if(Ht){Ct=Ht.url,tt.newWindow=Ht.newWindow;break}default:if(Et==="JavaScript"||Et==="SubmitForm")break;(0,bt.warn)(`parseDestDictionary - unsupported action: "${Et}".`)}}else it.has("Dest")&&(Nt=it.get("Dest"));if(typeof Ct=="string"){const Tt=(0,bt.createValidAbsoluteUrl)(Ct,ot,{addDefaultProtocol:!0,tryConvertEncoding:!0});Tt&&(tt.url=Tt.href),tt.unsafeUrl=Ct}Nt&&(Nt instanceof St.Name&&(Nt=Nt.name),typeof Nt=="string"?tt.dest=(0,bt.stringToPDFString)(Nt):Array.isArray(Nt)&&(tt.dest=Nt))}}$.Catalog=at},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NumberTree=$.NameTree=void 0;var s=_t(4),bt=_t(2);class St{constructor(i,d,ut){this.constructor===St&&(0,bt.unreachable)("Cannot initialize NameOrNumberTree."),this.root=i,this.xref=d,this._type=ut}getAll(){const i=new Map;if(!this.root)return i;const d=this.xref,ut=new s.RefSet;ut.put(this.root);const dt=[this.root];for(;dt.length>0;){const et=d.fetchIfRef(dt.shift());if(!(et instanceof s.Dict))continue;if(et.has("Kids")){const c=et.get("Kids");if(!Array.isArray(c))continue;for(const lt of c){if(ut.has(lt))throw new bt.FormatError(`Duplicate entry in "${this._type}" tree.`);dt.push(lt),ut.put(lt)}continue}const _=et.get(this._type);if(Array.isArray(_))for(let c=0,lt=_.length;c<lt;c+=2)i.set(d.fetchIfRef(_[c]),d.fetchIfRef(_[c+1]))}return i}get(i){if(!this.root)return null;const d=this.xref;let ut=d.fetchIfRef(this.root),dt=0;for(;ut.has("Kids");){if(++dt>10)return(0,bt.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const _=ut.get("Kids");if(!Array.isArray(_))return null;let c=0,lt=_.length-1;for(;c<=lt;){const at=c+lt>>1,ct=d.fetchIfRef(_[at]),it=ct.get("Limits");if(i<d.fetchIfRef(it[0]))lt=at-1;else{if(!(i>d.fetchIfRef(it[1]))){ut=ct;break}c=at+1}}if(c>lt)return null}const et=ut.get(this._type);if(Array.isArray(et)){let _=0,c=et.length-2;for(;_<=c;){const lt=_+c>>1,at=lt+(1&lt),ct=d.fetchIfRef(et[at]);if(i<ct)c=at-2;else{if(!(i>ct))return d.fetchIfRef(et[at+1]);_=at+2}}}return null}}$.NameTree=class extends St{constructor(i,d){super(i,d,"Names")}},$.NumberTree=class extends St{constructor(i,d){super(i,d,"Nums")}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.clearGlobalCaches=function(){(0,s.clearPatternCaches)(),(0,bt.clearPrimitiveCaches)(),(0,St.clearUnicodeCaches)()};var s=_t(50),bt=_t(4),St=_t(40)},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FileSpec=void 0;var s=_t(2),bt=_t(5),St=_t(4);function e(i){return i.has("UF")?i.get("UF"):i.has("F")?i.get("F"):i.has("Unix")?i.get("Unix"):i.has("Mac")?i.get("Mac"):i.has("DOS")?i.get("DOS"):null}$.FileSpec=class{constructor(d,ut){d instanceof St.Dict&&(this.xref=ut,this.root=d,d.has("FS")&&(this.fs=d.get("FS")),this.description=d.has("Desc")?(0,s.stringToPDFString)(d.get("Desc")):"",d.has("RF")&&(0,s.warn)("Related file specifications are not supported"),this.contentAvailable=!0,d.has("EF")||(this.contentAvailable=!1,(0,s.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const d=e(this.root)||"unnamed";this._filename=(0,s.stringToPDFString)(d).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let d=null;if(this.contentRef){const ut=this.xref.fetchIfRef(this.contentRef);ut instanceof bt.BaseStream?d=ut.getBytes():(0,s.warn)("Embedded file specification points to non-existing/invalid content")}else(0,s.warn)("Embedded file specification does not have a content");return d}get serializable(){return{filename:this.filename,content:this.content}}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MetadataParser=void 0;var s=_t(71);$.MetadataParser=class{constructor(St){St=this._repair(St);const e=new s.SimpleXMLParser({lowerCaseName:!0}).parseFromString(St);this._metadataMap=new Map,this._data=St,e&&this._parse(e)}_repair(St){return St.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(e,i){const d=i.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(dt,et,_,c){return String.fromCharCode(64*et+8*_+1*c)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(dt,et){switch(et){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${et} isn't defined.`)}),ut=[">"];for(let dt=0,et=d.length;dt<et;dt+=2){const _=256*d.charCodeAt(dt)+d.charCodeAt(dt+1);_>=32&&_<127&&_!==60&&_!==62&&_!==38?ut.push(String.fromCharCode(_)):ut.push("&#x"+(65536+_).toString(16).substring(1)+";")}return ut.join("")})}_getSequence(St){const e=St.nodeName;return e!=="rdf:bag"&&e!=="rdf:seq"&&e!=="rdf:alt"?null:St.childNodes.filter(i=>i.nodeName==="rdf:li")}_parseArray(St){if(!St.hasChildNodes())return;const[e]=St.childNodes,i=this._getSequence(e)||[];this._metadataMap.set(St.nodeName,i.map(d=>d.textContent.trim()))}_parse(St){let e=St.documentElement;if(e.nodeName!=="rdf:rdf")for(e=e.firstChild;e&&e.nodeName!=="rdf:rdf";)e=e.nextSibling;if(e&&e.nodeName==="rdf:rdf"&&e.hasChildNodes()){for(const i of e.childNodes)if(i.nodeName==="rdf:description")for(const d of i.childNodes){const ut=d.nodeName;switch(ut){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(d);continue}this._metadataMap.set(ut,d.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XMLParserErrorCode=$.XMLParserBase=$.SimpleXMLParser=$.SimpleDOMNode=void 0;var s=_t(3);const bt={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};$.XMLParserErrorCode=bt;function St(d,ut){const dt=d[ut];return dt===" "||dt===`
`||dt==="\r"||dt==="	"}class e{_resolveEntities(ut){return ut.replaceAll(/&([^;]+);/g,(dt,et)=>{if(et.substring(0,2)==="#x")return String.fromCodePoint(parseInt(et.substring(2),16));if(et.substring(0,1)==="#")return String.fromCodePoint(parseInt(et.substring(1),10));switch(et){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(et)})}_parseContent(ut,dt){const et=[];let _=dt;function c(){for(;_<ut.length&&St(ut,_);)++_}for(;_<ut.length&&!St(ut,_)&&ut[_]!==">"&&ut[_]!=="/";)++_;const lt=ut.substring(dt,_);for(c();_<ut.length&&ut[_]!==">"&&ut[_]!=="/"&&ut[_]!=="?";){c();let at="",ct="";for(;_<ut.length&&!St(ut,_)&&ut[_]!=="=";)at+=ut[_],++_;if(c(),ut[_]!=="=")return null;++_,c();const it=ut[_];if(it!=='"'&&it!=="'")return null;const tt=ut.indexOf(it,++_);if(tt<0)return null;ct=ut.substring(_,tt),et.push({name:at,value:this._resolveEntities(ct)}),_=tt+1,c()}return{name:lt,attributes:et,parsed:_-dt}}_parseProcessingInstruction(ut,dt){let et=dt;for(;et<ut.length&&!St(ut,et)&&ut[et]!==">"&&ut[et]!=="?"&&ut[et]!=="/";)++et;const _=ut.substring(dt,et);(function(){for(;et<ut.length&&St(ut,et);)++et})();const c=et;for(;et<ut.length&&(ut[et]!=="?"||ut[et+1]!==">");)++et;return{name:_,value:ut.substring(c,et),parsed:et-dt}}parseXml(ut){let dt=0;for(;dt<ut.length;){let et=dt;if(ut[dt]==="<"){++et;let _;switch(ut[et]){case"/":if(++et,_=ut.indexOf(">",et),_<0){this.onError(bt.UnterminatedElement);return}this.onEndElement(ut.substring(et,_)),et=_+1;break;case"?":++et;const c=this._parseProcessingInstruction(ut,et);if(ut.substring(et+c.parsed,et+c.parsed+2)!=="?>"){this.onError(bt.UnterminatedXmlDeclaration);return}this.onPi(c.name,c.value),et+=c.parsed+2;break;case"!":if(ut.substring(et+1,et+3)==="--"){if(_=ut.indexOf("-->",et+3),_<0){this.onError(bt.UnterminatedComment);return}this.onComment(ut.substring(et+3,_)),et=_+3}else if(ut.substring(et+1,et+8)==="[CDATA["){if(_=ut.indexOf("]]>",et+8),_<0){this.onError(bt.UnterminatedCdat);return}this.onCdata(ut.substring(et+8,_)),et=_+3}else{if(ut.substring(et+1,et+8)!=="DOCTYPE"){this.onError(bt.MalformedElement);return}{const ct=ut.indexOf("[",et+8);let it=!1;if(_=ut.indexOf(">",et+8),_<0){this.onError(bt.UnterminatedDoctypeDeclaration);return}if(ct>0&&_>ct){if(_=ut.indexOf("]>",et+8),_<0){this.onError(bt.UnterminatedDoctypeDeclaration);return}it=!0}const tt=ut.substring(et+8,_+(it?1:0));this.onDoctype(tt),et=_+(it?2:1)}}break;default:const lt=this._parseContent(ut,et);if(lt===null){this.onError(bt.MalformedElement);return}let at=!1;if(ut.substring(et+lt.parsed,et+lt.parsed+2)==="/>")at=!0;else if(ut.substring(et+lt.parsed,et+lt.parsed+1)!==">"){this.onError(bt.UnterminatedElement);return}this.onBeginElement(lt.name,lt.attributes,at),et+=lt.parsed+(at?2:1)}}else{for(;et<ut.length&&ut[et]!=="<";)et++;const _=ut.substring(dt,et);this.onText(this._resolveEntities(_))}dt=et}}onResolveEntity(ut){return`&${ut};`}onPi(ut,dt){}onComment(ut){}onCdata(ut){}onDoctype(ut){}onText(ut){}onBeginElement(ut,dt,et){}onEndElement(ut){}onError(ut){}}$.XMLParserBase=e;class i{constructor(ut,dt){this.nodeName=ut,this.nodeValue=dt,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var ut;return(ut=this.childNodes)==null?void 0:ut[0]}get nextSibling(){const ut=this.parentNode.childNodes;if(!ut)return;const dt=ut.indexOf(this);return dt!==-1?ut[dt+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(ut){return ut.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var ut;return((ut=this.childNodes)==null?void 0:ut.length)>0}searchNode(ut,dt){var lt;if(dt>=ut.length)return this;const et=ut[dt];if(et.name.startsWith("#")&&dt<ut.length-1)return this.searchNode(ut,dt+1);const _=[];let c=this;for(;;){if(et.name===c.nodeName){if(et.pos!==0){if(_.length===0)return null;{const[at]=_.pop();let ct=0;for(const it of at.childNodes)if(et.name===it.nodeName){if(ct===et.pos)return it.searchNode(ut,dt+1);ct++}return c.searchNode(ut,dt+1)}}{const at=c.searchNode(ut,dt+1);if(at!==null)return at}}if(((lt=c.childNodes)==null?void 0:lt.length)>0)_.push([c,0]),c=c.childNodes[0];else{if(_.length===0)return null;for(;_.length!==0;){const[at,ct]=_.pop(),it=ct+1;if(it<at.childNodes.length){_.push([at,it]),c=at.childNodes[it];break}}if(_.length===0)return null}}}dump(ut){if(this.nodeName!=="#text"){if(ut.push(`<${this.nodeName}`),this.attributes)for(const dt of this.attributes)ut.push(` ${dt.name}="${(0,s.encodeToXmlString)(dt.value)}"`);if(this.hasChildNodes()){ut.push(">");for(const dt of this.childNodes)dt.dump(ut);ut.push(`</${this.nodeName}>`)}else this.nodeValue?ut.push(`>${(0,s.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):ut.push("/>")}else ut.push((0,s.encodeToXmlString)(this.nodeValue))}}$.SimpleDOMNode=i,$.SimpleXMLParser=class extends e{constructor({hasAttributes:ut=!1,lowerCaseName:dt=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=bt.NoError,this._hasAttributes=ut,this._lowerCaseName=dt}parseFromString(ut){if(this._currentFragment=[],this._stack=[],this._errorCode=bt.NoError,this.parseXml(ut),this._errorCode!==bt.NoError)return;const[dt]=this._currentFragment;return dt?{documentElement:dt}:void 0}onText(ut){if(function(_){for(let c=0,lt=_.length;c<lt;c++)if(!St(_,c))return!1;return!0}(ut))return;const dt=new i("#text",ut);this._currentFragment.push(dt)}onCdata(ut){const dt=new i("#text",ut);this._currentFragment.push(dt)}onBeginElement(ut,dt,et){this._lowerCaseName&&(ut=ut.toLowerCase());const _=new i(ut);_.childNodes=[],this._hasAttributes&&(_.attributes=dt),this._currentFragment.push(_),et||(this._stack.push(this._currentFragment),this._currentFragment=_.childNodes)}onEndElement(ut){this._currentFragment=this._stack.pop()||[];const dt=this._currentFragment.at(-1);if(!dt)return null;for(const et of dt.childNodes)et.parentNode=dt;return dt}onError(ut){this._errorCode=ut}}},(Ut,$,_t)=>{var at,$l,it,Po,Ul,Hl;Object.defineProperty($,"__esModule",{value:!0}),$.StructTreeRoot=$.StructTreePage=void 0;var s=_t(2),bt=_t(4),St=_t(67),e=_t(73);const i=1,d=2,ut=3,dt=4,et=5,Ct=class Ct{constructor(Pt,Tt){Fn(this,at);this.dict=Pt,this.ref=Tt instanceof bt.Ref?Tt:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(Pt,Tt){xn(this,at,$l).call(this,Pt,Tt,dt)}readRoleMap(){const Pt=this.dict.get("RoleMap");Pt instanceof bt.Dict&&Pt.forEach((Tt,Et)=>{Et instanceof bt.Name&&this.roleMap.set(Tt,Et.name)})}static async canCreateStructureTree({catalogRef:Pt,pdfManager:Tt,newAnnotationsByPage:Et}){var wt;if(!(Pt instanceof bt.Ref))return(0,s.warn)("Cannot save the struct tree: no catalog reference."),!1;let rt=0,ft=!0;for(const[b,pt]of Et){const{ref:Ot}=await Tt.getPage(b);if(!(Ot instanceof bt.Ref)){(0,s.warn)(`Cannot save the struct tree: page ${b} has no ref.`),ft=!0;break}for(const kt of pt)(wt=kt.accessibilityData)!=null&&wt.type&&(kt.parentTreeId=rt++,ft=!1)}if(ft){for(const b of Et.values())for(const pt of b)delete pt.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:Pt,xref:Tt,catalogRef:Et,pdfManager:rt,newRefs:ft}){const wt=rt.catalog.cloneDict(),b=Tt.getNewTemporaryRef();wt.set("StructTreeRoot",b);const pt=[];await(0,e.writeObject)(Et,wt,pt,Tt),ft.push({ref:Et,data:pt.join("")});const Ot=new bt.Dict(Tt);Ot.set("Type",bt.Name.get("StructTreeRoot"));const kt=Tt.getNewTemporaryRef();Ot.set("ParentTree",kt);const st=[];Ot.set("K",st);const nt=new bt.Dict(Tt),gt=[];nt.set("Nums",gt);const Ft=await xn(this,it,Po).call(this,{newAnnotationsByPage:Pt,structTreeRootRef:b,kids:st,nums:gt,xref:Tt,pdfManager:rt,newRefs:ft,buffer:pt});Ot.set("ParentTreeNextKey",Ft),pt.length=0,await(0,e.writeObject)(kt,nt,pt,Tt),ft.push({ref:kt,data:pt.join("")}),pt.length=0,await(0,e.writeObject)(b,Ot,pt,Tt),ft.push({ref:b,data:pt.join("")})}async canUpdateStructTree({pdfManager:Pt,newAnnotationsByPage:Tt}){var pt,Ot;if(!this.ref)return(0,s.warn)("Cannot update the struct tree: no root reference."),!1;let Et=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(Et)||Et<0)return(0,s.warn)("Cannot update the struct tree: invalid next key."),!1;const rt=this.dict.get("ParentTree");if(!(rt instanceof bt.Dict))return(0,s.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const ft=rt.get("Nums");if(!Array.isArray(ft))return(0,s.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:wt}=Pt.catalog;for(const kt of Tt.keys()){const{pageDict:st,ref:nt}=await Pt.getPage(kt);if(!(nt instanceof bt.Ref))return(0,s.warn)(`Cannot save the struct tree: page ${kt} has no ref.`),!1;const gt=st.get("StructParents");if(!Number.isInteger(gt)||gt<0||gt>=wt)return(0,s.warn)(`Cannot save the struct tree: page ${kt} has no id.`),!1}let b=!0;for(const[kt,st]of Tt){const{pageDict:nt}=await Pt.getPage(kt);xn(pt=Ct,it,Ul).call(pt,{elements:st,xref:this.dict.xref,pageDict:nt,parentTree:rt});for(const gt of st)(Ot=gt.accessibilityData)!=null&&Ot.type&&(gt.parentTreeId=Et++,b=!1)}if(b){for(const kt of Tt.values())for(const st of kt)delete st.parentTreeId,delete st.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:Pt,pdfManager:Tt,newRefs:Et}){var yt;const rt=this.dict.xref,ft=this.dict.clone(),wt=this.ref;let b,pt=ft.getRaw("ParentTree");pt instanceof bt.Ref?b=rt.fetch(pt):(b=pt,pt=rt.getNewTemporaryRef(),ft.set("ParentTree",pt)),b=b.clone();let Ot=b.getRaw("Nums"),kt=null;Ot instanceof bt.Ref&&(kt=Ot,Ot=rt.fetch(kt)),Ot=Ot.slice(),kt||b.set("Nums",Ot);let st=ft.getRaw("K"),nt=null;st instanceof bt.Ref?(nt=st,st=rt.fetch(nt)):(nt=rt.getNewTemporaryRef(),ft.set("K",nt)),st=Array.isArray(st)?st.slice():[st];const gt=[],Ft=await xn(yt=Ct,it,Po).call(yt,{newAnnotationsByPage:Pt,structTreeRootRef:wt,kids:st,nums:Ot,xref:rt,pdfManager:Tt,newRefs:Et,buffer:gt});ft.set("ParentTreeNextKey",Ft),gt.length=0,await(0,e.writeObject)(nt,st,gt,rt),Et.push({ref:nt,data:gt.join("")}),kt&&(gt.length=0,await(0,e.writeObject)(kt,Ot,gt,rt),Et.push({ref:kt,data:gt.join("")})),gt.length=0,await(0,e.writeObject)(pt,b,gt,rt),Et.push({ref:pt,data:gt.join("")}),gt.length=0,await(0,e.writeObject)(wt,ft,gt,rt),Et.push({ref:wt,data:gt.join("")})}};at=new WeakSet,$l=function(Pt,Tt,Et){if(!(Pt instanceof bt.Ref)||Tt<0)return;this.structParentIds||(this.structParentIds=new bt.RefSetCache);let rt=this.structParentIds.get(Pt);rt||(rt=[],this.structParentIds.put(Pt,rt)),rt.push([Tt,Et])},it=new WeakSet,Po=async function({newAnnotationsByPage:Pt,structTreeRootRef:Tt,kids:Et,nums:rt,xref:ft,pdfManager:wt,newRefs:b,buffer:pt}){const Ot=bt.Name.get("OBJR");let kt=-1/0;for(const[st,nt]of Pt){const{ref:gt}=await wt.getPage(st);for(const{accessibilityData:{type:Ft,title:yt,lang:vt,alt:Lt,expanded:jt,actualText:Ht},ref:Vt,parentTreeId:Qt,structTreeParent:_e}of nt){kt=Math.max(kt,Qt);const Xt=ft.getNewTemporaryRef(),Dt=new bt.Dict(ft);Dt.set("S",bt.Name.get(Ft)),yt&&Dt.set("T",yt),vt&&Dt.set("Lang",vt),Lt&&Dt.set("Alt",Lt),jt&&Dt.set("E",jt),Ht&&Dt.set("ActualText",Ht),_e?await xn(this,it,Hl).call(this,{structTreeParent:_e,tagDict:Dt,newTagRef:Xt,fallbackRef:Tt,xref:ft,newRefs:b,buffer:pt}):Dt.set("P",Tt);const It=new bt.Dict(ft);Dt.set("K",It),It.set("Type",Ot),It.set("Pg",gt),It.set("Obj",Vt),pt.length=0,await(0,e.writeObject)(Xt,Dt,pt,ft),b.push({ref:Xt,data:pt.join("")}),rt.push(Qt,Xt),Et.push(Xt)}}return kt+1},Ul=function({elements:Pt,xref:Tt,pageDict:Et,parentTree:rt}){const ft=new Map;for(const Ot of Pt)if(Ot.structTreeParentId){const kt=parseInt(Ot.structTreeParentId.split("_mc")[1],10);ft.set(kt,Ot)}const wt=Et.get("StructParents"),b=new St.NumberTree(rt,Tt).get(wt);if(!Array.isArray(b))return;const pt=(Ot,kt,st)=>{const nt=ft.get(Ot);if(nt){const gt=kt.getRaw("P"),Ft=Tt.fetchIfRef(gt);return gt instanceof bt.Ref&&Ft instanceof bt.Dict&&(nt.structTreeParent={ref:st,dict:kt}),!0}return!1};for(const Ot of b){if(!(Ot instanceof bt.Ref))continue;const kt=Tt.fetch(Ot),st=kt.get("K");if(Number.isInteger(st))pt(st,kt,Ot);else if(Array.isArray(st)){for(let nt of st)if(nt=Tt.fetchIfRef(nt),Number.isInteger(nt)&&pt(nt,kt,Ot))break}}},Hl=async function({structTreeParent:{ref:Pt,dict:Tt},tagDict:Et,newTagRef:rt,fallbackRef:ft,xref:wt,newRefs:b,buffer:pt}){const Ot=Tt.getRaw("P");let kt=wt.fetchIfRef(Ot);Et.set("P",Ot);let st,nt=!1,gt=kt.getRaw("K");if(gt instanceof bt.Ref?st=wt.fetch(gt):(st=gt,gt=wt.getNewTemporaryRef(),kt=kt.clone(),kt.set("K",gt),nt=!0),Array.isArray(st)){const Ft=st.indexOf(Pt);if(!(Ft>=0)){(0,s.warn)("Cannot update the struct tree: parent kid not found."),Et.set("P",ft);return}st=st.slice(),st.splice(Ft+1,0,rt)}else st instanceof bt.Dict&&(st=[gt,rt],gt=wt.getNewTemporaryRef(),kt.set("K",gt),nt=!0);pt.length=0,await(0,e.writeObject)(gt,st,pt,wt),b.push({ref:gt,data:pt.join("")}),nt&&(pt.length=0,await(0,e.writeObject)(Ot,kt,pt,wt),b.push({ref:Ot,data:pt.join("")}))},Fn(Ct,it);let _=Ct;$.StructTreeRoot=_;class c{constructor(Pt,Tt){this.tree=Pt,this.dict=Tt,this.kids=[],this.parseKids()}get role(){const Pt=this.dict.get("S"),Tt=Pt instanceof bt.Name?Pt.name:"",{root:Et}=this.tree;return Et.roleMap.has(Tt)?Et.roleMap.get(Tt):Tt}parseKids(){let Pt=null;const Tt=this.dict.getRaw("Pg");Tt instanceof bt.Ref&&(Pt=Tt.toString());const Et=this.dict.get("K");if(Array.isArray(Et))for(const rt of Et){const ft=this.parseKid(Pt,rt);ft&&this.kids.push(ft)}else{const rt=this.parseKid(Pt,Et);rt&&this.kids.push(rt)}}parseKid(Pt,Tt){if(Number.isInteger(Tt))return this.tree.pageDict.objId!==Pt?null:new lt({type:i,mcid:Tt,pageObjId:Pt});let Et=null;if(Tt instanceof bt.Ref?Et=this.dict.xref.fetch(Tt):Tt instanceof bt.Dict&&(Et=Tt),!Et)return null;const rt=Et.getRaw("Pg");rt instanceof bt.Ref&&(Pt=rt.toString());const ft=Et.get("Type")instanceof bt.Name?Et.get("Type").name:null;if(ft==="MCR"){if(this.tree.pageDict.objId!==Pt)return null;const wt=Et.getRaw("Stm");return new lt({type:d,refObjId:wt instanceof bt.Ref?wt.toString():null,pageObjId:Pt,mcid:Et.get("MCID")})}if(ft==="OBJR"){if(this.tree.pageDict.objId!==Pt)return null;const wt=Et.getRaw("Obj");return new lt({type:ut,refObjId:wt instanceof bt.Ref?wt.toString():null,pageObjId:Pt})}return new lt({type:et,dict:Et})}}class lt{constructor({type:Pt,dict:Tt=null,mcid:Et=null,pageObjId:rt=null,refObjId:ft=null}){this.type=Pt,this.dict=Tt,this.mcid=Et,this.pageObjId=rt,this.refObjId=ft,this.parentNode=null}}$.StructTreePage=class{constructor(Pt,Tt){this.root=Pt,this.rootDict=Pt?Pt.dict:null,this.pageDict=Tt,this.nodes=[]}parse(Pt){var b,pt;if(!this.root||!this.rootDict)return;const Tt=this.rootDict.get("ParentTree");if(!Tt)return;const Et=this.pageDict.get("StructParents"),rt=Pt instanceof bt.Ref&&((b=this.root.structParentIds)==null?void 0:b.get(Pt));if(!Number.isInteger(Et)&&!rt)return;const ft=new Map,wt=new St.NumberTree(Tt,this.rootDict.xref);if(Number.isInteger(Et)){const Ot=wt.get(Et);if(Array.isArray(Ot))for(const kt of Ot)kt instanceof bt.Ref&&this.addNode(this.rootDict.xref.fetch(kt),ft)}if(rt)for(const[Ot,kt]of rt){const st=wt.get(Ot);if(st){const nt=this.addNode(this.rootDict.xref.fetchIfRef(st),ft);((pt=nt==null?void 0:nt.kids)==null?void 0:pt.length)===1&&nt.kids[0].type===ut&&(nt.kids[0].type=kt)}}}addNode(Pt,Tt,Et=0){if(Et>40)return(0,s.warn)("StructTree MAX_DEPTH reached."),null;if(Tt.has(Pt))return Tt.get(Pt);const rt=new c(this,Pt);Tt.set(Pt,rt);const ft=Pt.get("P");if(!ft||(0,bt.isName)(ft.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(Pt,rt)||Tt.delete(Pt),rt;const wt=this.addNode(ft,Tt,Et+1);if(!wt)return rt;let b=!1;for(const pt of wt.kids)pt.type===et&&pt.dict===Pt&&(pt.parentNode=rt,b=!0);return b||Tt.delete(Pt),rt}addTopLevelNode(Pt,Tt){const Et=this.rootDict.get("K");if(!Et)return!1;if(Et instanceof bt.Dict)return Et.objId!==Pt.objId?!1:(this.nodes[0]=Tt,!0);if(!Array.isArray(Et))return!0;let rt=!1;for(let ft=0;ft<Et.length;ft++){const wt=Et[ft];(wt==null?void 0:wt.toString())===Pt.objId&&(this.nodes[ft]=Tt,rt=!0)}return rt}get serializable(){function Pt(Et,rt,ft=0){if(ft>40){(0,s.warn)("StructTree too deep to be fully serialized.");return}const wt=Object.create(null);wt.role=Et.role,wt.children=[],rt.children.push(wt);const b=Et.dict.get("Alt");typeof b=="string"&&(wt.alt=(0,s.stringToPDFString)(b));const pt=Et.dict.get("Lang");typeof pt=="string"&&(wt.lang=(0,s.stringToPDFString)(pt));for(const Ot of Et.kids){const kt=Ot.type===et?Ot.parentNode:null;kt?Pt(kt,wt,ft+1):Ot.type===i||Ot.type===d?wt.children.push({type:"content",id:`p${Ot.pageObjId}_mc${Ot.mcid}`}):Ot.type===ut?wt.children.push({type:"object",id:Ot.refObjId}):Ot.type===dt&&wt.children.push({type:"annotation",id:`${s.AnnotationPrefix}${Ot.refObjId}`})}}const Tt=Object.create(null);Tt.children=[],Tt.role="Root";for(const Et of this.nodes)Et&&Pt(Et,Tt);return Tt}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.incrementalUpdate=async function({originalData:it,xrefInfo:tt,newRefs:ot,xref:mt=null,hasXfa:Ct=!1,xfaDatasetsRef:Nt=null,hasXfaDatasetsEntry:Pt=!1,needAppearances:Tt,acroFormRef:Et=null,acroForm:rt=null,xfaData:ft=null}){await async function({xref:Qt,acroForm:_e,acroFormRef:Xt,hasXfa:Dt,hasXfaDatasetsEntry:It,xfaDatasetsRef:j,needAppearances:At,newRefs:Mt}){if(!Dt||It||j||(0,s.warn)("XFA - Cannot save it"),!At&&(!Dt||!j||It))return;const Rt=_e.clone();if(Dt&&!It){const zt=_e.get("XFA").slice();zt.splice(2,0,"datasets"),zt.splice(3,0,j),Rt.set("XFA",zt)}At&&Rt.set("NeedAppearances",!0);const $t=[];await ut(Xt,Rt,$t,Qt),Mt.push({ref:Xt,data:$t.join("")})}({xref:mt,acroForm:rt,acroFormRef:Et,hasXfa:Ct,hasXfaDatasetsEntry:Pt,xfaDatasetsRef:Nt,needAppearances:Tt,newRefs:ot}),Ct&&function({xfaData:Qt,xfaDatasetsRef:_e,newRefs:Xt,xref:Dt}){Qt===null&&(Qt=function(Mt,Rt){const $t=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(Mt);for(const{xfa:qt}of Rt){if(!qt)continue;const{path:Wt,value:Gt}=qt;if(!Wt)continue;const Zt=(0,St.parseXFAPath)(Wt);let Yt=$t.documentElement.searchNode(Zt,0);!Yt&&Zt.length>1&&(Yt=$t.documentElement.searchNode([Zt.at(-1)],0)),Yt?Yt.childNodes=Array.isArray(Gt)?Gt.map(tn=>new e.SimpleDOMNode("value",tn)):[new e.SimpleDOMNode("#text",Gt)]:(0,s.warn)(`Node not found for path: ${Wt}`)}const zt=[];return $t.documentElement.dump(zt),zt.join("")}(Dt.fetchIfRef(_e).getString(),Xt));const It=Dt.encrypt;It&&(Qt=It.createCipherTransform(_e.num,_e.gen).encryptString(Qt));const j=`${_e.num} ${_e.gen} obj
<< /Type /EmbeddedFile /Length ${Qt.length}>>
stream
`+Qt+`
endstream
endobj
`;Xt.push({ref:_e,data:j})}({xfaData:ft,xfaDatasetsRef:Nt,newRefs:ot,xref:mt});const wt=new bt.Dict(null),b=tt.newRef;let pt,Ot;const kt=it.at(-1);kt===10||kt===13?(pt=[],Ot=it.length):(pt=[`
`],Ot=it.length+1),wt.set("Size",b.num+1),wt.set("Prev",tt.startXRef),wt.set("Type",bt.Name.get("XRef")),tt.rootRef!==null&&wt.set("Root",tt.rootRef),tt.infoRef!==null&&wt.set("Info",tt.infoRef),tt.encryptRef!==null&&wt.set("Encrypt",tt.encryptRef),ot.push({ref:b,data:""}),ot=ot.sort((Vt,Qt)=>Vt.ref.num-Qt.ref.num);const st=[[0,1,65535]],nt=[0,1];let gt=0;for(const{ref:Vt,data:Qt}of ot)gt=Math.max(gt,Ot),st.push([1,Ot,Math.min(Vt.gen,65535)]),Ot+=Qt.length,nt.push(Vt.num,1),pt.push(Qt);if(wt.set("Index",nt),Array.isArray(tt.fileIds)&&tt.fileIds.length>0){const Vt=function(_e,Xt){const Dt=Math.floor(Date.now()/1e3),It=Xt.filename||"",j=[Dt.toString(),It,_e.toString()];let At=j.reduce(($t,zt)=>$t+zt.length,0);for(const $t of Object.values(Xt.info))j.push($t),At+=$t.length;const Mt=new Uint8Array(At);let Rt=0;for(const $t of j)at($t,Rt,Mt),Rt+=$t.length;return(0,s.bytesToString)((0,d.calculateMD5)(Mt))}(Ot,tt);wt.set("ID",[tt.fileIds[0],Vt])}const Ft=[1,Math.ceil(Math.log2(gt)/8),2],yt=(Ft[0]+Ft[1]+Ft[2])*st.length;wt.set("W",Ft),wt.set("Length",yt),pt.push(`${b.num} ${b.gen} obj
`),await dt(wt,pt,null),pt.push(` stream
`);const vt=pt.reduce((Vt,Qt)=>Vt+Qt.length,0),Lt=`
endstream
endobj
startxref
${Ot}
%%EOF
`,jt=new Uint8Array(it.length+vt+yt+Lt.length);jt.set(it);let Ht=it.length;for(const Vt of pt)at(Vt,Ht,jt),Ht+=Vt.length;for(const[Vt,Qt,_e]of st)Ht=lt(Vt,Ft[0],Ht,jt),Ht=lt(Qt,Ft[1],Ht,jt),Ht=lt(_e,Ft[2],Ht,jt);return at(Lt,Ht,jt),jt},$.writeDict=dt,$.writeObject=ut;var s=_t(2),bt=_t(4),St=_t(3),e=_t(71),i=_t(5),d=_t(74);async function ut(ct,it,tt,{encrypt:ot=null}){const mt=ot==null?void 0:ot.createCipherTransform(ct.num,ct.gen);tt.push(`${ct.num} ${ct.gen} obj
`),it instanceof bt.Dict?await dt(it,tt,mt):it instanceof i.BaseStream?await et(it,tt,mt):Array.isArray(it)&&await _(it,tt,mt),tt.push(`
endobj
`)}async function dt(ct,it,tt){it.push("<<");for(const ot of ct.getKeys())it.push(` /${(0,St.escapePDFName)(ot)} `),await c(ct.getRaw(ot),it,tt);it.push(">>")}async function et(ct,it,tt){let ot=ct.getString();const{dict:mt}=ct,[Ct,Nt]=await Promise.all([mt.getAsync("Filter"),mt.getAsync("DecodeParms")]),Pt=Array.isArray(Ct)?await mt.xref.fetchIfRefAsync(Ct[0]):Ct,Tt=(0,bt.isName)(Pt,"FlateDecode");if(typeof CompressionStream<"u"&&(ot.length>=256||Tt))try{const Et=(0,s.stringToBytes)(ot),rt=new CompressionStream("deflate"),ft=rt.writable.getWriter();ft.write(Et),ft.close();const wt=await new Response(rt.readable).arrayBuffer();ot=(0,s.bytesToString)(new Uint8Array(wt));let b,pt;Ct?Tt||(b=Array.isArray(Ct)?[bt.Name.get("FlateDecode"),...Ct]:[bt.Name.get("FlateDecode"),Ct],Nt&&(pt=Array.isArray(Nt)?[null,...Nt]:[null,Nt])):b=bt.Name.get("FlateDecode"),b&&mt.set("Filter",b),pt&&mt.set("DecodeParms",pt)}catch(Et){(0,s.info)(`writeStream - cannot compress data: "${Et}".`)}tt&&(ot=tt.encryptString(ot)),mt.set("Length",ot.length),await dt(mt,it,tt),it.push(` stream
`,ot,`
endstream`)}async function _(ct,it,tt){it.push("[");let ot=!0;for(const mt of ct)ot?ot=!1:it.push(" "),await c(mt,it,tt);it.push("]")}async function c(ct,it,tt){ct instanceof bt.Name?it.push(`/${(0,St.escapePDFName)(ct.name)}`):ct instanceof bt.Ref?it.push(`${ct.num} ${ct.gen} R`):Array.isArray(ct)?await _(ct,it,tt):typeof ct=="string"?(tt&&(ct=tt.encryptString(ct)),it.push(`(${(0,St.escapeString)(ct)})`)):typeof ct=="number"?it.push((0,St.numberToString)(ct)):typeof ct=="boolean"?it.push(ct.toString()):ct instanceof bt.Dict?await dt(ct,it,tt):ct instanceof i.BaseStream?await et(ct,it,tt):ct===null?it.push("null"):(0,s.warn)(`Unhandled value in writer: ${typeof ct}, please file a bug.`)}function lt(ct,it,tt,ot){for(let mt=it+tt-1;mt>tt-1;mt--)ot[mt]=255&ct,ct>>=8;return tt+it}function at(ct,it,tt){for(let ot=0,mt=ct.length;ot<mt;ot++)tt[it+ot]=255&ct.charCodeAt(ot)}},(Ut,$,_t)=>{var mt,Ct,Xl,Oo,zl,ps,Io;Object.defineProperty($,"__esModule",{value:!0}),$.calculateSHA256=$.calculateMD5=$.PDF20=$.PDF17=$.CipherTransformFactory=$.ARCFourCipher=$.AES256Cipher=$.AES128Cipher=void 0,$.calculateSHA384=et,$.calculateSHA512=void 0;var s=_t(2),bt=_t(4),St=_t(75);class e{constructor(b){this.a=0,this.b=0;const pt=new Uint8Array(256),Ot=b.length;for(let kt=0;kt<256;++kt)pt[kt]=kt;for(let kt=0,st=0;kt<256;++kt){const nt=pt[kt];st=st+nt+b[kt%Ot]&255,pt[kt]=pt[st],pt[st]=nt}this.s=pt}encryptBlock(b){let pt=this.a,Ot=this.b;const kt=this.s,st=b.length,nt=new Uint8Array(st);for(let gt=0;gt<st;++gt){pt=pt+1&255;const Ft=kt[pt];Ot=Ot+Ft&255;const yt=kt[Ot];kt[pt]=yt,kt[Ot]=Ft,nt[gt]=b[gt]^kt[Ft+yt&255]}return this.a=pt,this.b=Ot,nt}decryptBlock(b){return this.encryptBlock(b)}encrypt(b){return this.encryptBlock(b)}}$.ARCFourCipher=e;const i=function(){const b=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),pt=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function(kt,st,nt){let gt=1732584193,Ft=-271733879,yt=-1732584194,vt=271733878;const Lt=nt+72&-64,jt=new Uint8Array(Lt);let Ht,Vt;for(Ht=0;Ht<nt;++Ht)jt[Ht]=kt[st++];jt[Ht++]=128;const Qt=Lt-8;for(;Ht<Qt;)jt[Ht++]=0;jt[Ht++]=nt<<3&255,jt[Ht++]=nt>>5&255,jt[Ht++]=nt>>13&255,jt[Ht++]=nt>>21&255,jt[Ht++]=nt>>>29&255,jt[Ht++]=0,jt[Ht++]=0,jt[Ht++]=0;const _e=new Int32Array(16);for(Ht=0;Ht<Lt;){for(Vt=0;Vt<16;++Vt,Ht+=4)_e[Vt]=jt[Ht]|jt[Ht+1]<<8|jt[Ht+2]<<16|jt[Ht+3]<<24;let Xt,Dt,It=gt,j=Ft,At=yt,Mt=vt;for(Vt=0;Vt<64;++Vt){Vt<16?(Xt=j&At|~j&Mt,Dt=Vt):Vt<32?(Xt=Mt&j|~Mt&At,Dt=5*Vt+1&15):Vt<48?(Xt=j^At^Mt,Dt=3*Vt+5&15):(Xt=At^(j|~Mt),Dt=7*Vt&15);const Rt=Mt,$t=It+Xt+pt[Vt]+_e[Dt]|0,zt=b[Vt];Mt=At,At=j,j=j+($t<<zt|$t>>>32-zt)|0,It=Rt}gt=gt+It|0,Ft=Ft+j|0,yt=yt+At|0,vt=vt+Mt|0}return new Uint8Array([255&gt,gt>>8&255,gt>>16&255,gt>>>24&255,255&Ft,Ft>>8&255,Ft>>16&255,Ft>>>24&255,255&yt,yt>>8&255,yt>>16&255,yt>>>24&255,255&vt,vt>>8&255,vt>>16&255,vt>>>24&255])}}();$.calculateMD5=i;class d{constructor(b,pt){this.high=0|b,this.low=0|pt}and(b){this.high&=b.high,this.low&=b.low}xor(b){this.high^=b.high,this.low^=b.low}or(b){this.high|=b.high,this.low|=b.low}shiftRight(b){b>=32?(this.low=this.high>>>b-32|0,this.high=0):(this.low=this.low>>>b|this.high<<32-b,this.high=this.high>>>b|0)}shiftLeft(b){b>=32?(this.high=this.low<<b-32,this.low=0):(this.high=this.high<<b|this.low>>>32-b,this.low<<=b)}rotateRight(b){let pt,Ot;32&b?(Ot=this.low,pt=this.high):(pt=this.low,Ot=this.high),b&=31,this.low=pt>>>b|Ot<<32-b,this.high=Ot>>>b|pt<<32-b}not(){this.high=~this.high,this.low=~this.low}add(b){const pt=(this.low>>>0)+(b.low>>>0);let Ot=(this.high>>>0)+(b.high>>>0);pt>4294967295&&(Ot+=1),this.low=0|pt,this.high=0|Ot}copyTo(b,pt){b[pt]=this.high>>>24&255,b[pt+1]=this.high>>16&255,b[pt+2]=this.high>>8&255,b[pt+3]=255&this.high,b[pt+4]=this.low>>>24&255,b[pt+5]=this.low>>16&255,b[pt+6]=this.low>>8&255,b[pt+7]=255&this.low}assign(b){this.high=b.high,this.low=b.low}}const ut=function(){function b(Ft,yt){return Ft>>>yt|Ft<<32-yt}function pt(Ft,yt,vt){return Ft&yt^~Ft&vt}function Ot(Ft,yt,vt){return Ft&yt^Ft&vt^yt&vt}function kt(Ft){return b(Ft,2)^b(Ft,13)^b(Ft,22)}function st(Ft){return b(Ft,6)^b(Ft,11)^b(Ft,25)}function nt(Ft){return b(Ft,7)^b(Ft,18)^Ft>>>3}const gt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(yt,vt,Lt){let jt=1779033703,Ht=3144134277,Vt=1013904242,Qt=2773480762,_e=1359893119,Xt=2600822924,Dt=528734635,It=1541459225;const j=64*Math.ceil((Lt+9)/64),At=new Uint8Array(j);let Mt,Rt;for(Mt=0;Mt<Lt;++Mt)At[Mt]=yt[vt++];At[Mt++]=128;const $t=j-8;for(;Mt<$t;)At[Mt++]=0;At[Mt++]=0,At[Mt++]=0,At[Mt++]=0,At[Mt++]=Lt>>>29&255,At[Mt++]=Lt>>21&255,At[Mt++]=Lt>>13&255,At[Mt++]=Lt>>5&255,At[Mt++]=Lt<<3&255;const zt=new Uint32Array(64);for(Mt=0;Mt<j;){for(Rt=0;Rt<16;++Rt)zt[Rt]=At[Mt]<<24|At[Mt+1]<<16|At[Mt+2]<<8|At[Mt+3],Mt+=4;for(Rt=16;Rt<64;++Rt)zt[Rt]=(b(qt=zt[Rt-2],17)^b(qt,19)^qt>>>10)+zt[Rt-7]+nt(zt[Rt-15])+zt[Rt-16]|0;let Wt,Gt,Zt=jt,Yt=Ht,tn=Vt,nn=Qt,en=_e,an=Xt,vn=Dt,An=It;for(Rt=0;Rt<64;++Rt)Wt=An+st(en)+pt(en,an,vn)+gt[Rt]+zt[Rt],Gt=kt(Zt)+Ot(Zt,Yt,tn),An=vn,vn=an,an=en,en=nn+Wt|0,nn=tn,tn=Yt,Yt=Zt,Zt=Wt+Gt|0;jt=jt+Zt|0,Ht=Ht+Yt|0,Vt=Vt+tn|0,Qt=Qt+nn|0,_e=_e+en|0,Xt=Xt+an|0,Dt=Dt+vn|0,It=It+An|0}var qt;return new Uint8Array([jt>>24&255,jt>>16&255,jt>>8&255,255&jt,Ht>>24&255,Ht>>16&255,Ht>>8&255,255&Ht,Vt>>24&255,Vt>>16&255,Vt>>8&255,255&Vt,Qt>>24&255,Qt>>16&255,Qt>>8&255,255&Qt,_e>>24&255,_e>>16&255,_e>>8&255,255&_e,Xt>>24&255,Xt>>16&255,Xt>>8&255,255&Xt,Dt>>24&255,Dt>>16&255,Dt>>8&255,255&Dt,It>>24&255,It>>16&255,It>>8&255,255&It])}}();$.calculateSHA256=ut;const dt=function(){function b(Ft,yt,vt,Lt,jt){Ft.assign(yt),Ft.and(vt),jt.assign(yt),jt.not(),jt.and(Lt),Ft.xor(jt)}function pt(Ft,yt,vt,Lt,jt){Ft.assign(yt),Ft.and(vt),jt.assign(yt),jt.and(Lt),Ft.xor(jt),jt.assign(vt),jt.and(Lt),Ft.xor(jt)}function Ot(Ft,yt,vt){Ft.assign(yt),Ft.rotateRight(28),vt.assign(yt),vt.rotateRight(34),Ft.xor(vt),vt.assign(yt),vt.rotateRight(39),Ft.xor(vt)}function kt(Ft,yt,vt){Ft.assign(yt),Ft.rotateRight(14),vt.assign(yt),vt.rotateRight(18),Ft.xor(vt),vt.assign(yt),vt.rotateRight(41),Ft.xor(vt)}function st(Ft,yt,vt){Ft.assign(yt),Ft.rotateRight(1),vt.assign(yt),vt.rotateRight(8),Ft.xor(vt),vt.assign(yt),vt.shiftRight(7),Ft.xor(vt)}function nt(Ft,yt,vt){Ft.assign(yt),Ft.rotateRight(19),vt.assign(yt),vt.rotateRight(61),Ft.xor(vt),vt.assign(yt),vt.shiftRight(6),Ft.xor(vt)}const gt=[new d(1116352408,3609767458),new d(1899447441,602891725),new d(3049323471,3964484399),new d(3921009573,2173295548),new d(961987163,4081628472),new d(1508970993,3053834265),new d(2453635748,2937671579),new d(2870763221,3664609560),new d(3624381080,2734883394),new d(310598401,1164996542),new d(607225278,1323610764),new d(1426881987,3590304994),new d(1925078388,4068182383),new d(2162078206,991336113),new d(2614888103,633803317),new d(3248222580,3479774868),new d(3835390401,2666613458),new d(4022224774,944711139),new d(264347078,2341262773),new d(604807628,2007800933),new d(770255983,1495990901),new d(1249150122,1856431235),new d(1555081692,3175218132),new d(1996064986,2198950837),new d(2554220882,3999719339),new d(2821834349,766784016),new d(2952996808,2566594879),new d(3210313671,3203337956),new d(3336571891,1034457026),new d(3584528711,2466948901),new d(113926993,3758326383),new d(338241895,168717936),new d(666307205,1188179964),new d(773529912,1546045734),new d(1294757372,1522805485),new d(1396182291,2643833823),new d(1695183700,2343527390),new d(1986661051,1014477480),new d(2177026350,1206759142),new d(2456956037,344077627),new d(2730485921,1290863460),new d(2820302411,3158454273),new d(3259730800,3505952657),new d(3345764771,106217008),new d(3516065817,3606008344),new d(3600352804,1432725776),new d(4094571909,1467031594),new d(275423344,851169720),new d(430227734,3100823752),new d(506948616,1363258195),new d(659060556,3750685593),new d(883997877,3785050280),new d(958139571,3318307427),new d(1322822218,3812723403),new d(1537002063,2003034995),new d(1747873779,3602036899),new d(1955562222,1575990012),new d(2024104815,1125592928),new d(2227730452,2716904306),new d(2361852424,442776044),new d(2428436474,593698344),new d(2756734187,3733110249),new d(3204031479,2999351573),new d(3329325298,3815920427),new d(3391569614,3928383900),new d(3515267271,566280711),new d(3940187606,3454069534),new d(4118630271,4000239992),new d(116418474,1914138554),new d(174292421,2731055270),new d(289380356,3203993006),new d(460393269,320620315),new d(685471733,587496836),new d(852142971,1086792851),new d(1017036298,365543100),new d(1126000580,2618297676),new d(1288033470,3409855158),new d(1501505948,4234509866),new d(1607167915,987167468),new d(1816402316,1246189591)];return function(yt,vt,Lt,jt=!1){let Ht,Vt,Qt,_e,Xt,Dt,It,j;jt?(Ht=new d(3418070365,3238371032),Vt=new d(1654270250,914150663),Qt=new d(2438529370,812702999),_e=new d(355462360,4144912697),Xt=new d(1731405415,4290775857),Dt=new d(2394180231,1750603025),It=new d(3675008525,1694076839),j=new d(1203062813,3204075428)):(Ht=new d(1779033703,4089235720),Vt=new d(3144134277,2227873595),Qt=new d(1013904242,4271175723),_e=new d(2773480762,1595750129),Xt=new d(1359893119,2917565137),Dt=new d(2600822924,725511199),It=new d(528734635,4215389547),j=new d(1541459225,327033209));const At=128*Math.ceil((Lt+17)/128),Mt=new Uint8Array(At);let Rt,$t;for(Rt=0;Rt<Lt;++Rt)Mt[Rt]=yt[vt++];Mt[Rt++]=128;const zt=At-16;for(;Rt<zt;)Mt[Rt++]=0;Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=0,Mt[Rt++]=Lt>>>29&255,Mt[Rt++]=Lt>>21&255,Mt[Rt++]=Lt>>13&255,Mt[Rt++]=Lt>>5&255,Mt[Rt++]=Lt<<3&255;const qt=new Array(80);for(Rt=0;Rt<80;Rt++)qt[Rt]=new d(0,0);let Wt=new d(0,0),Gt=new d(0,0),Zt=new d(0,0),Yt=new d(0,0),tn=new d(0,0),nn=new d(0,0),en=new d(0,0),an=new d(0,0);const vn=new d(0,0),An=new d(0,0),cn=new d(0,0),hn=new d(0,0);let fn,Cn;for(Rt=0;Rt<At;){for($t=0;$t<16;++$t)qt[$t].high=Mt[Rt]<<24|Mt[Rt+1]<<16|Mt[Rt+2]<<8|Mt[Rt+3],qt[$t].low=Mt[Rt+4]<<24|Mt[Rt+5]<<16|Mt[Rt+6]<<8|Mt[Rt+7],Rt+=8;for($t=16;$t<80;++$t)fn=qt[$t],nt(fn,qt[$t-2],hn),fn.add(qt[$t-7]),st(cn,qt[$t-15],hn),fn.add(cn),fn.add(qt[$t-16]);for(Wt.assign(Ht),Gt.assign(Vt),Zt.assign(Qt),Yt.assign(_e),tn.assign(Xt),nn.assign(Dt),en.assign(It),an.assign(j),$t=0;$t<80;++$t)vn.assign(an),kt(cn,tn,hn),vn.add(cn),b(cn,tn,nn,en,hn),vn.add(cn),vn.add(gt[$t]),vn.add(qt[$t]),Ot(An,Wt,hn),pt(cn,Wt,Gt,Zt,hn),An.add(cn),fn=an,an=en,en=nn,nn=tn,Yt.add(vn),tn=Yt,Yt=Zt,Zt=Gt,Gt=Wt,fn.assign(vn),fn.add(An),Wt=fn;Ht.add(Wt),Vt.add(Gt),Qt.add(Zt),_e.add(Yt),Xt.add(tn),Dt.add(nn),It.add(en),j.add(an)}return jt?(Cn=new Uint8Array(48),Ht.copyTo(Cn,0),Vt.copyTo(Cn,8),Qt.copyTo(Cn,16),_e.copyTo(Cn,24),Xt.copyTo(Cn,32),Dt.copyTo(Cn,40)):(Cn=new Uint8Array(64),Ht.copyTo(Cn,0),Vt.copyTo(Cn,8),Qt.copyTo(Cn,16),_e.copyTo(Cn,24),Xt.copyTo(Cn,32),Dt.copyTo(Cn,40),It.copyTo(Cn,48),j.copyTo(Cn,56)),Cn}}();$.calculateSHA512=dt;function et(wt,b,pt){return dt(wt,b,pt,!0)}class _{decryptBlock(b){return b}encrypt(b){return b}}class c{constructor(){this.constructor===c&&(0,s.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let b=0;b<256;b++)this._mixCol[b]=b<128?b<<1:b<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(b){(0,s.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(b,pt){let Ot,kt,st;const nt=new Uint8Array(16);nt.set(b);for(let gt=0,Ft=this._keySize;gt<16;++gt,++Ft)nt[gt]^=pt[Ft];for(let gt=this._cyclesOfRepetition-1;gt>=1;--gt){Ot=nt[13],nt[13]=nt[9],nt[9]=nt[5],nt[5]=nt[1],nt[1]=Ot,Ot=nt[14],kt=nt[10],nt[14]=nt[6],nt[10]=nt[2],nt[6]=Ot,nt[2]=kt,Ot=nt[15],kt=nt[11],st=nt[7],nt[15]=nt[3],nt[11]=Ot,nt[7]=kt,nt[3]=st;for(let Ft=0;Ft<16;++Ft)nt[Ft]=this._inv_s[nt[Ft]];for(let Ft=0,yt=16*gt;Ft<16;++Ft,++yt)nt[Ft]^=pt[yt];for(let Ft=0;Ft<16;Ft+=4){const yt=this._mix[nt[Ft]],vt=this._mix[nt[Ft+1]],Lt=this._mix[nt[Ft+2]],jt=this._mix[nt[Ft+3]];Ot=yt^vt>>>8^vt<<24^Lt>>>16^Lt<<16^jt>>>24^jt<<8,nt[Ft]=Ot>>>24&255,nt[Ft+1]=Ot>>16&255,nt[Ft+2]=Ot>>8&255,nt[Ft+3]=255&Ot}}Ot=nt[13],nt[13]=nt[9],nt[9]=nt[5],nt[5]=nt[1],nt[1]=Ot,Ot=nt[14],kt=nt[10],nt[14]=nt[6],nt[10]=nt[2],nt[6]=Ot,nt[2]=kt,Ot=nt[15],kt=nt[11],st=nt[7],nt[15]=nt[3],nt[11]=Ot,nt[7]=kt,nt[3]=st;for(let gt=0;gt<16;++gt)nt[gt]=this._inv_s[nt[gt]],nt[gt]^=pt[gt];return nt}_encrypt(b,pt){const Ot=this._s;let kt,st,nt;const gt=new Uint8Array(16);gt.set(b);for(let Ft=0;Ft<16;++Ft)gt[Ft]^=pt[Ft];for(let Ft=1;Ft<this._cyclesOfRepetition;Ft++){for(let yt=0;yt<16;++yt)gt[yt]=Ot[gt[yt]];nt=gt[1],gt[1]=gt[5],gt[5]=gt[9],gt[9]=gt[13],gt[13]=nt,nt=gt[2],st=gt[6],gt[2]=gt[10],gt[6]=gt[14],gt[10]=nt,gt[14]=st,nt=gt[3],st=gt[7],kt=gt[11],gt[3]=gt[15],gt[7]=nt,gt[11]=st,gt[15]=kt;for(let yt=0;yt<16;yt+=4){const vt=gt[yt+0],Lt=gt[yt+1],jt=gt[yt+2],Ht=gt[yt+3];kt=vt^Lt^jt^Ht,gt[yt+0]^=kt^this._mixCol[vt^Lt],gt[yt+1]^=kt^this._mixCol[Lt^jt],gt[yt+2]^=kt^this._mixCol[jt^Ht],gt[yt+3]^=kt^this._mixCol[Ht^vt]}for(let yt=0,vt=16*Ft;yt<16;++yt,++vt)gt[yt]^=pt[vt]}for(let Ft=0;Ft<16;++Ft)gt[Ft]=Ot[gt[Ft]];nt=gt[1],gt[1]=gt[5],gt[5]=gt[9],gt[9]=gt[13],gt[13]=nt,nt=gt[2],st=gt[6],gt[2]=gt[10],gt[6]=gt[14],gt[10]=nt,gt[14]=st,nt=gt[3],st=gt[7],kt=gt[11],gt[3]=gt[15],gt[7]=nt,gt[11]=st,gt[15]=kt;for(let Ft=0,yt=this._keySize;Ft<16;++Ft,++yt)gt[Ft]^=pt[yt];return gt}_decryptBlock2(b,pt){const Ot=b.length;let kt=this.buffer,st=this.bufferPosition;const nt=[];let gt=this.iv;for(let vt=0;vt<Ot;++vt){if(kt[st]=b[vt],++st,st<16)continue;const Lt=this._decrypt(kt,this._key);for(let jt=0;jt<16;++jt)Lt[jt]^=gt[jt];gt=kt,nt.push(Lt),kt=new Uint8Array(16),st=0}if(this.buffer=kt,this.bufferLength=st,this.iv=gt,nt.length===0)return new Uint8Array(0);let Ft=16*nt.length;if(pt){const vt=nt.at(-1);let Lt=vt[15];if(Lt<=16){for(let jt=15,Ht=16-Lt;jt>=Ht;--jt)if(vt[jt]!==Lt){Lt=0;break}Ft-=Lt,nt[nt.length-1]=vt.subarray(0,16-Lt)}}const yt=new Uint8Array(Ft);for(let vt=0,Lt=0,jt=nt.length;vt<jt;++vt,Lt+=16)yt.set(nt[vt],Lt);return yt}decryptBlock(b,pt,Ot=null){const kt=b.length,st=this.buffer;let nt=this.bufferPosition;if(Ot)this.iv=Ot;else{for(let gt=0;nt<16&&gt<kt;++gt,++nt)st[nt]=b[gt];if(nt<16)return this.bufferLength=nt,new Uint8Array(0);this.iv=st,b=b.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(b,pt)}encrypt(b,pt){const Ot=b.length;let kt=this.buffer,st=this.bufferPosition;const nt=[];pt||(pt=new Uint8Array(16));for(let yt=0;yt<Ot;++yt){if(kt[st]=b[yt],++st,st<16)continue;for(let Lt=0;Lt<16;++Lt)kt[Lt]^=pt[Lt];const vt=this._encrypt(kt,this._key);pt=vt,nt.push(vt),kt=new Uint8Array(16),st=0}if(this.buffer=kt,this.bufferLength=st,this.iv=pt,nt.length===0)return new Uint8Array(0);const gt=16*nt.length,Ft=new Uint8Array(gt);for(let yt=0,vt=0,Lt=nt.length;yt<Lt;++yt,vt+=16)Ft.set(nt[yt],vt);return Ft}}class lt extends c{constructor(b){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(b)}_expandKey(b){const pt=this._s,Ot=this._rcon,kt=new Uint8Array(176);kt.set(b);for(let st=16,nt=1;st<176;++nt){let gt=kt[st-3],Ft=kt[st-2],yt=kt[st-1],vt=kt[st-4];gt=pt[gt],Ft=pt[Ft],yt=pt[yt],vt=pt[vt],gt^=Ot[nt];for(let Lt=0;Lt<4;++Lt)kt[st]=gt^=kt[st-16],st++,kt[st]=Ft^=kt[st-16],st++,kt[st]=yt^=kt[st-16],st++,kt[st]=vt^=kt[st-16],st++}return kt}}$.AES128Cipher=lt;class at extends c{constructor(b){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(b)}_expandKey(b){const pt=this._s,Ot=new Uint8Array(240);Ot.set(b);let kt,st,nt,gt,Ft=1;for(let yt=32,vt=1;yt<240;++vt){yt%32==16?(kt=pt[kt],st=pt[st],nt=pt[nt],gt=pt[gt]):yt%32==0&&(kt=Ot[yt-3],st=Ot[yt-2],nt=Ot[yt-1],gt=Ot[yt-4],kt=pt[kt],st=pt[st],nt=pt[nt],gt=pt[gt],kt^=Ft,(Ft<<=1)>=256&&(Ft=255&(27^Ft)));for(let Lt=0;Lt<4;++Lt)Ot[yt]=kt^=Ot[yt-32],yt++,Ot[yt]=st^=Ot[yt-32],yt++,Ot[yt]=nt^=Ot[yt-32],yt++,Ot[yt]=gt^=Ot[yt-32],yt++}return Ot}}$.AES256Cipher=at;class ct{checkOwnerPassword(b,pt,Ot,kt){const st=new Uint8Array(b.length+56);st.set(b,0),st.set(pt,b.length),st.set(Ot,b.length+pt.length);const nt=ut(st,0,st.length);return(0,s.isArrayEqual)(nt,kt)}checkUserPassword(b,pt,Ot){const kt=new Uint8Array(b.length+8);kt.set(b,0),kt.set(pt,b.length);const st=ut(kt,0,kt.length);return(0,s.isArrayEqual)(st,Ot)}getOwnerKey(b,pt,Ot,kt){const st=new Uint8Array(b.length+56);st.set(b,0),st.set(pt,b.length),st.set(Ot,b.length+pt.length);const nt=ut(st,0,st.length);return new at(nt).decryptBlock(kt,!1,new Uint8Array(16))}getUserKey(b,pt,Ot){const kt=new Uint8Array(b.length+8);kt.set(b,0),kt.set(pt,b.length);const st=ut(kt,0,kt.length);return new at(st).decryptBlock(Ot,!1,new Uint8Array(16))}}$.PDF17=ct;class it{_hash(b,pt,Ot){let kt=ut(pt,0,pt.length).subarray(0,32),st=[0],nt=0;for(;nt<64||st.at(-1)>nt-32;){const gt=b.length+kt.length+Ot.length,Ft=new Uint8Array(gt);let yt=0;Ft.set(b,yt),yt+=b.length,Ft.set(kt,yt),yt+=kt.length,Ft.set(Ot,yt);const vt=new Uint8Array(64*gt);for(let jt=0,Ht=0;jt<64;jt++,Ht+=gt)vt.set(Ft,Ht);st=new lt(kt.subarray(0,16)).encrypt(vt,kt.subarray(16,32));const Lt=st.slice(0,16).reduce((jt,Ht)=>jt+Ht,0)%3;Lt===0?kt=ut(st,0,st.length):Lt===1?kt=et(st,0,st.length):Lt===2&&(kt=dt(st,0,st.length)),nt++}return kt.subarray(0,32)}checkOwnerPassword(b,pt,Ot,kt){const st=new Uint8Array(b.length+56);st.set(b,0),st.set(pt,b.length),st.set(Ot,b.length+pt.length);const nt=this._hash(b,st,Ot);return(0,s.isArrayEqual)(nt,kt)}checkUserPassword(b,pt,Ot){const kt=new Uint8Array(b.length+8);kt.set(b,0),kt.set(pt,b.length);const st=this._hash(b,kt,[]);return(0,s.isArrayEqual)(st,Ot)}getOwnerKey(b,pt,Ot,kt){const st=new Uint8Array(b.length+56);st.set(b,0),st.set(pt,b.length),st.set(Ot,b.length+pt.length);const nt=this._hash(b,st,Ot);return new at(nt).decryptBlock(kt,!1,new Uint8Array(16))}getUserKey(b,pt,Ot){const kt=new Uint8Array(b.length+8);kt.set(b,0),kt.set(pt,b.length);const st=this._hash(b,kt,[]);return new at(st).decryptBlock(Ot,!1,new Uint8Array(16))}}$.PDF20=it;class tt{constructor(b,pt){this.StringCipherConstructor=b,this.StreamCipherConstructor=pt}createStream(b,pt){const Ot=new this.StreamCipherConstructor;return new St.DecryptStream(b,pt,function(st,nt){return Ot.decryptBlock(st,nt)})}decryptString(b){const pt=new this.StringCipherConstructor;let Ot=(0,s.stringToBytes)(b);return Ot=pt.decryptBlock(Ot,!0),(0,s.bytesToString)(Ot)}encryptString(b){const pt=new this.StringCipherConstructor;if(pt instanceof c){const kt=16-b.length%16;b+=String.fromCharCode(kt).repeat(kt);const st=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(st);else for(let Ft=0;Ft<16;Ft++)st[Ft]=Math.floor(256*Math.random());let nt=(0,s.stringToBytes)(b);nt=pt.encrypt(nt,st);const gt=new Uint8Array(16+nt.length);return gt.set(st),gt.set(nt,16),(0,s.bytesToString)(gt)}let Ot=(0,s.stringToBytes)(b);return Ot=pt.encrypt(Ot),(0,s.bytesToString)(Ot)}}const ft=class ft{constructor(b,pt,Ot){Fn(this,Ct);const kt=b.get("Filter");if(!(0,bt.isName)(kt,"Standard"))throw new s.FormatError("unknown encryption method");this.filterName=kt.name,this.dict=b;const st=b.get("V");if(!Number.isInteger(st)||st!==1&&st!==2&&st!==4&&st!==5)throw new s.FormatError("unsupported encryption algorithm");this.algorithm=st;let nt=b.get("Length");if(!nt)if(st<=3)nt=40;else{const Xt=b.get("CF"),Dt=b.get("StmF");if(Xt instanceof bt.Dict&&Dt instanceof bt.Name){Xt.suppressEncryption=!0;const It=Xt.get(Dt.name);nt=(It==null?void 0:It.get("Length"))||128,nt<40&&(nt<<=3)}}if(!Number.isInteger(nt)||nt<40||nt%8!=0)throw new s.FormatError("invalid key length");const gt=(0,s.stringToBytes)(b.get("O")),Ft=(0,s.stringToBytes)(b.get("U")),yt=gt.subarray(0,32),vt=Ft.subarray(0,32),Lt=b.get("P"),jt=b.get("R"),Ht=(st===4||st===5)&&b.get("EncryptMetadata")!==!1;this.encryptMetadata=Ht;const Vt=(0,s.stringToBytes)(pt);let Qt,_e;if(Ot){if(jt===6)try{Ot=(0,s.utf8StringToString)(Ot)}catch{(0,s.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}Qt=(0,s.stringToBytes)(Ot)}if(st!==5)_e=xn(this,Ct,Oo).call(this,Vt,Qt,yt,vt,Lt,jt,nt,Ht);else{const Xt=gt.subarray(32,40),Dt=gt.subarray(40,48),It=Ft.subarray(0,48),j=Ft.subarray(32,40),At=Ft.subarray(40,48),Mt=(0,s.stringToBytes)(b.get("OE")),Rt=(0,s.stringToBytes)(b.get("UE")),$t=(0,s.stringToBytes)(b.get("Perms"));_e=xn(this,Ct,Xl).call(this,jt,Qt,yt,Xt,Dt,It,vt,j,At,Mt,Rt,$t)}if(!_e&&!Ot)throw new s.PasswordException("No password given",s.PasswordResponses.NEED_PASSWORD);if(!_e&&Ot){const Xt=xn(this,Ct,zl).call(this,Qt,yt,jt,nt);_e=xn(this,Ct,Oo).call(this,Vt,Xt,yt,vt,Lt,jt,nt,Ht)}if(!_e)throw new s.PasswordException("Incorrect Password",s.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=_e,st>=4){const Xt=b.get("CF");Xt instanceof bt.Dict&&(Xt.suppressEncryption=!0),this.cf=Xt,this.stmf=b.get("StmF")||bt.Name.get("Identity"),this.strf=b.get("StrF")||bt.Name.get("Identity"),this.eff=b.get("EFF")||this.stmf}}createCipherTransform(b,pt){if(this.algorithm===4||this.algorithm===5)return new tt(xn(this,Ct,Io).call(this,this.cf,this.strf,b,pt,this.encryptionKey),xn(this,Ct,Io).call(this,this.cf,this.stmf,b,pt,this.encryptionKey));const Ot=xn(this,Ct,ps).call(this,b,pt,this.encryptionKey,!1),kt=function(){return new e(Ot)};return new tt(kt,kt)}};mt=new WeakMap,Ct=new WeakSet,Xl=function(b,pt,Ot,kt,st,nt,gt,Ft,yt,vt,Lt,jt){if(pt){const Vt=Math.min(127,pt.length);pt=pt.subarray(0,Vt)}else pt=[];const Ht=b===6?new it:new ct;return Ht.checkUserPassword(pt,Ft,gt)?Ht.getUserKey(pt,yt,Lt):pt.length&&Ht.checkOwnerPassword(pt,kt,nt,Ot)?Ht.getOwnerKey(pt,st,nt,vt):null},Oo=function(b,pt,Ot,kt,st,nt,gt,Ft){const yt=40+Ot.length+b.length,vt=new Uint8Array(yt);let Lt,jt,Ht=0;if(pt)for(jt=Math.min(32,pt.length);Ht<jt;++Ht)vt[Ht]=pt[Ht];for(Lt=0;Ht<32;)vt[Ht++]=Kt(ft,mt)[Lt++];for(Lt=0,jt=Ot.length;Lt<jt;++Lt)vt[Ht++]=Ot[Lt];for(vt[Ht++]=255&st,vt[Ht++]=st>>8&255,vt[Ht++]=st>>16&255,vt[Ht++]=st>>>24&255,Lt=0,jt=b.length;Lt<jt;++Lt)vt[Ht++]=b[Lt];nt>=4&&!Ft&&(vt[Ht++]=255,vt[Ht++]=255,vt[Ht++]=255,vt[Ht++]=255);let Vt=i(vt,0,Ht);const Qt=gt>>3;if(nt>=3)for(Lt=0;Lt<50;++Lt)Vt=i(Vt,0,Qt);const _e=Vt.subarray(0,Qt);let Xt,Dt;if(nt>=3){for(Ht=0;Ht<32;++Ht)vt[Ht]=Kt(ft,mt)[Ht];for(Lt=0,jt=b.length;Lt<jt;++Lt)vt[Ht++]=b[Lt];Xt=new e(_e),Dt=Xt.encryptBlock(i(vt,0,Ht)),jt=_e.length;const It=new Uint8Array(jt);for(Lt=1;Lt<=19;++Lt){for(let j=0;j<jt;++j)It[j]=_e[j]^Lt;Xt=new e(It),Dt=Xt.encryptBlock(Dt)}for(Lt=0,jt=Dt.length;Lt<jt;++Lt)if(kt[Lt]!==Dt[Lt])return null}else for(Xt=new e(_e),Dt=Xt.encryptBlock(Kt(ft,mt)),Lt=0,jt=Dt.length;Lt<jt;++Lt)if(kt[Lt]!==Dt[Lt])return null;return _e},zl=function(b,pt,Ot,kt){const st=new Uint8Array(32);let nt=0;const gt=Math.min(32,b.length);for(;nt<gt;++nt)st[nt]=b[nt];let Ft=0;for(;nt<32;)st[nt++]=Kt(ft,mt)[Ft++];let yt=i(st,0,nt);const vt=kt>>3;if(Ot>=3)for(Ft=0;Ft<50;++Ft)yt=i(yt,0,yt.length);let Lt,jt;if(Ot>=3){jt=pt;const Ht=new Uint8Array(vt);for(Ft=19;Ft>=0;Ft--){for(let Vt=0;Vt<vt;++Vt)Ht[Vt]=yt[Vt]^Ft;Lt=new e(Ht),jt=Lt.encryptBlock(jt)}}else Lt=new e(yt.subarray(0,vt)),jt=Lt.encryptBlock(pt);return jt},ps=function(b,pt,Ot,kt=!1){const st=new Uint8Array(Ot.length+9),nt=Ot.length;let gt;for(gt=0;gt<nt;++gt)st[gt]=Ot[gt];return st[gt++]=255&b,st[gt++]=b>>8&255,st[gt++]=b>>16&255,st[gt++]=255&pt,st[gt++]=pt>>8&255,kt&&(st[gt++]=115,st[gt++]=65,st[gt++]=108,st[gt++]=84),i(st,0,gt).subarray(0,Math.min(Ot.length+5,16))},Io=function(b,pt,Ot,kt,st){if(!(pt instanceof bt.Name))throw new s.FormatError("Invalid crypt filter name.");const nt=this,gt=b.get(pt.name),Ft=gt==null?void 0:gt.get("CFM");if(!Ft||Ft.name==="None")return function(){return new _};if(Ft.name==="V2")return function(){var yt;return new e(xn(yt=nt,Ct,ps).call(yt,Ot,kt,st,!1))};if(Ft.name==="AESV2")return function(){var yt;return new lt(xn(yt=nt,Ct,ps).call(yt,Ot,kt,st,!0))};if(Ft.name==="AESV3")return function(){return new at(st)};throw new s.FormatError("Unknown crypto method")},Fn(ft,mt,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let ot=ft;$.CipherTransformFactory=ot},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DecryptStream=void 0;var s=_t(18);class bt extends s.DecodeStream{constructor(e,i,d){super(i),this.str=e,this.dict=e.dict,this.decrypt=d,this.nextChunk=null,this.initialized=!1}readBlock(){var dt;let e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(512),this.initialized=!0),!e||e.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(512);const i=((dt=this.nextChunk)==null?void 0:dt.length)>0;e=(0,this.decrypt)(e,!i);const d=this.bufferLength,ut=d+e.length;this.ensureBuffer(ut).set(e,d),this.bufferLength=ut}}$.DecryptStream=bt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ObjectLoader=void 0;var s=_t(4),bt=_t(5),St=_t(3),e=_t(2);function i(d,ut){if(d instanceof s.Dict)d=d.getRawValues();else if(d instanceof bt.BaseStream)d=d.dict.getRawValues();else if(!Array.isArray(d))return;for(const et of d)((dt=et)instanceof s.Ref||dt instanceof s.Dict||dt instanceof bt.BaseStream||Array.isArray(dt))&&ut.push(et);var dt}$.ObjectLoader=class{constructor(ut,dt,et){this.dict=ut,this.keys=dt,this.xref=et,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:ut,dict:dt}=this;this.refSet=new s.RefSet;const et=[];for(const _ of ut){const c=dt.getRaw(_);c!==void 0&&et.push(c)}return this._walk(et)}async _walk(ut){const dt=[],et=[];for(;ut.length;){let _=ut.pop();if(_ instanceof s.Ref){if(this.refSet.has(_))continue;try{this.refSet.put(_),_=this.xref.fetch(_)}catch(c){if(!(c instanceof St.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${c}".`),this.refSet=null;const{manager:lt}=this.xref.stream;return lt.requestAllChunks()}dt.push(_),et.push({begin:c.begin,end:c.end})}}if(_ instanceof bt.BaseStream){const c=_.getBaseStreams();if(c){let lt=!1;for(const at of c)at.isDataLoaded||(lt=!0,et.push({begin:at.start,end:at.end}));lt&&dt.push(_)}}i(_,ut)}if(et.length){await this.xref.stream.manager.requestRanges(et);for(const _ of dt)_ instanceof s.Ref&&this.refSet.remove(_);return this._walk(dt)}this.refSet=null}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XFAFactory=void 0;var s=_t(78),bt=_t(79),St=_t(89),e=_t(85),i=_t(84),d=_t(2),ut=_t(90),dt=_t(100);class et{constructor(c){try{this.root=new ut.XFAParser().parse(et._createDocument(c));const lt=new bt.Binder(this.root);this.form=lt.bind(),this.dataHandler=new St.DataHandler(this.root,lt.getData()),this.form[s.$globalData].template=this.form}catch(lt){(0,d.warn)(`XFA - an error occurred during parsing and binding: ${lt}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const c=this.form[s.$toPages]();return new Promise((lt,at)=>{const ct=()=>{try{const it=c.next();it.done?lt(it.value):setTimeout(ct,0)}catch(it){at(it)}};setTimeout(ct,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(c=>{const{width:lt,height:at}=c.attributes.style;return[0,0,parseInt(lt),parseInt(at)]})}catch(c){(0,d.warn)(`XFA - an error occurred during layout: ${c}`)}}getBoundingBox(c){return this.dims[c]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(c){this.form[s.$globalData].images=c}setFonts(c){this.form[s.$globalData].fontFinder=new e.FontFinder(c);const lt=[];for(let at of this.form[s.$globalData].usedTypefaces)at=(0,i.stripQuotes)(at),this.form[s.$globalData].fontFinder.find(at)||lt.push(at);return lt.length>0?lt:null}appendFonts(c,lt){this.form[s.$globalData].fontFinder.add(c,lt)}async getPages(){this.pages||await this._createPages();const c=this.pages;return this.pages=null,c}serializeData(c){return this.dataHandler.serialize(c)}static _createDocument(c){return c["/xdp:xdp"]?Object.values(c).join(""):c["xdp:xdp"]}static getRichTextAsHtml(c){if(!c||typeof c!="string")return null;try{let lt=new ut.XFAParser(dt.XhtmlNamespace,!0).parse(c);if(!["body","xhtml"].includes(lt[s.$nodeName])){const tt=dt.XhtmlNamespace.body({});tt[s.$appendChild](lt),lt=tt}const at=lt[s.$toHTML]();if(!at.success)return null;const{html:ct}=at,{attributes:it}=ct;return it&&(it.class&&(it.class=it.class.filter(tt=>!tt.startsWith("xfa"))),it.dir="auto"),{html:ct,str:lt[s.$text]()}}catch(lt){(0,d.warn)(`XFA - an error occurred during parsing of rich text: ${lt}`)}return null}}$.XFAFactory=et},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.$uid=$.$toStyle=$.$toString=$.$toPages=$.$toHTML=$.$text=$.$tabIndex=$.$setValue=$.$setSetAttributes=$.$setId=$.$searchNode=$.$root=$.$resolvePrototypes=$.$removeChild=$.$pushPara=$.$pushGlyphs=$.$popPara=$.$onText=$.$onChildCheck=$.$onChild=$.$nsAttributes=$.$nodeName=$.$namespaceId=$.$lastAttribute=$.$isUsable=$.$isTransparent=$.$isThereMoreWidth=$.$isSplittable=$.$isNsAgnostic=$.$isDescendent=$.$isDataValue=$.$isCDATAXml=$.$isBindable=$.$insertAt=$.$indexOf=$.$ids=$.$hasSettableValue=$.$globalData=$.$getTemplateRoot=$.$getSubformParent=$.$getRealChildrenByNameIt=$.$getParent=$.$getNextPage=$.$getExtra=$.$getDataValue=$.$getContainedChildren=$.$getChildrenByNameIt=$.$getChildrenByName=$.$getChildrenByClass=$.$getChildren=$.$getAvailableSpace=$.$getAttributes=$.$getAttributeIt=$.$flushHTML=$.$finalize=$.$extra=$.$dump=$.$data=$.$content=$.$consumed=$.$clone=$.$cleanup=$.$cleanPage=$.$clean=$.$childrenToHTML=$.$appendChild=$.$addHTML=$.$acceptWhitespace=void 0;const _t=Symbol();$.$acceptWhitespace=_t;const s=Symbol();$.$addHTML=s;const bt=Symbol();$.$appendChild=bt;const St=Symbol();$.$childrenToHTML=St;const e=Symbol();$.$clean=e;const i=Symbol();$.$cleanPage=i;const d=Symbol();$.$cleanup=d;const ut=Symbol();$.$clone=ut;const dt=Symbol();$.$consumed=dt;const et=Symbol("content");$.$content=et;const _=Symbol("data");$.$data=_;const c=Symbol();$.$dump=c;const lt=Symbol("extra");$.$extra=lt;const at=Symbol();$.$finalize=at;const ct=Symbol();$.$flushHTML=ct;const it=Symbol();$.$getAttributeIt=it;const tt=Symbol();$.$getAttributes=tt;const ot=Symbol();$.$getAvailableSpace=ot;const mt=Symbol();$.$getChildrenByClass=mt;const Ct=Symbol();$.$getChildrenByName=Ct;const Nt=Symbol();$.$getChildrenByNameIt=Nt;const Pt=Symbol();$.$getDataValue=Pt;const Tt=Symbol();$.$getExtra=Tt;const Et=Symbol();$.$getRealChildrenByNameIt=Et;const rt=Symbol();$.$getChildren=rt;const ft=Symbol();$.$getContainedChildren=ft;const wt=Symbol();$.$getNextPage=wt;const b=Symbol();$.$getSubformParent=b;const pt=Symbol();$.$getParent=pt;const Ot=Symbol();$.$getTemplateRoot=Ot;const kt=Symbol();$.$globalData=kt;const st=Symbol();$.$hasSettableValue=st;const nt=Symbol();$.$ids=nt;const gt=Symbol();$.$indexOf=gt;const Ft=Symbol();$.$insertAt=Ft;const yt=Symbol();$.$isCDATAXml=yt;const vt=Symbol();$.$isBindable=vt;const Lt=Symbol();$.$isDataValue=Lt;const jt=Symbol();$.$isDescendent=jt;const Ht=Symbol();$.$isNsAgnostic=Ht;const Vt=Symbol();$.$isSplittable=Vt;const Qt=Symbol();$.$isThereMoreWidth=Qt;const _e=Symbol();$.$isTransparent=_e;const Xt=Symbol();$.$isUsable=Xt;const Dt=Symbol();$.$lastAttribute=Dt;const It=Symbol("namespaceId");$.$namespaceId=It;const j=Symbol("nodeName");$.$nodeName=j;const At=Symbol();$.$nsAttributes=At;const Mt=Symbol();$.$onChild=Mt;const Rt=Symbol();$.$onChildCheck=Rt;const $t=Symbol();$.$onText=$t;const zt=Symbol();$.$pushGlyphs=zt;const qt=Symbol();$.$popPara=qt;const Wt=Symbol();$.$pushPara=Wt;const Gt=Symbol();$.$removeChild=Gt;const Zt=Symbol("root");$.$root=Zt;const Yt=Symbol();$.$resolvePrototypes=Yt;const tn=Symbol();$.$searchNode=tn;const nn=Symbol();$.$setId=nn;const en=Symbol();$.$setSetAttributes=en;const an=Symbol();$.$setValue=an;const vn=Symbol();$.$tabIndex=vn;const An=Symbol();$.$text=An;const cn=Symbol();$.$toPages=cn;const hn=Symbol();$.$toHTML=hn;const fn=Symbol();$.$toString=fn;const Cn=Symbol();$.$toStyle=Cn;const kn=Symbol("uid");$.$uid=kn},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Binder=void 0;var s=_t(78),bt=_t(80),St=_t(88),e=_t(87),i=_t(81),d=_t(2);const ut=i.NamespaceIds.datasets.id;function dt(et){const _=new bt.Text({});return _[s.$content]=et,_}$.Binder=class{constructor(_){var c;this.root=_,this.datasets=_.datasets,this.data=((c=_.datasets)==null?void 0:c.data)||new e.XmlObject(i.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[s.$getChildren]().length===0,this.root.form=this.form=_.template[s.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(_,c,lt){var at,ct;if(_[s.$data]=c,_[s.$hasSettableValue]())if(c[s.$isDataValue]()){const it=c[s.$getDataValue]();_[s.$setValue](dt(it))}else if(_ instanceof bt.Field&&((ct=(at=_.ui)==null?void 0:at.choiceList)==null?void 0:ct.open)==="multiSelect"){const it=c[s.$getChildren]().map(tt=>tt[s.$content].trim()).join(`
`);_[s.$setValue](dt(it))}else this._isConsumeData()&&(0,d.warn)("XFA - Nodes haven't the same type.");else!c[s.$isDataValue]()||this._isMatchTemplate()?this._bindElement(_,c):(0,d.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(_,c,lt,at){if(!_)return null;let ct,it;for(let tt=0;tt<3;tt++){for(ct=lt[s.$getRealChildrenByNameIt](_,!1,!0);it=ct.next().value,!!it;)if(c===it[s.$isDataValue]())return it;if(lt[s.$namespaceId]===i.NamespaceIds.datasets.id&&lt[s.$nodeName]==="data")break;lt=lt[s.$getParent]()}return at?(ct=this.data[s.$getRealChildrenByNameIt](_,!0,!1),it=ct.next().value,it||(ct=this.data[s.$getAttributeIt](_,!0),it=ct.next().value,it!=null&&it[s.$isDataValue]()?it:null)):null}_setProperties(_,c){if(_.hasOwnProperty("setProperty"))for(const{ref:lt,target:at,connection:ct}of _.setProperty.children){if(ct||!lt)continue;const it=(0,St.searchNode)(this.root,c,lt,!1,!1);if(!it){(0,d.warn)(`XFA - Invalid reference: ${lt}.`);continue}const[tt]=it;if(!tt[s.$isDescendent](this.data)){(0,d.warn)("XFA - Invalid node: must be a data node.");continue}const ot=(0,St.searchNode)(this.root,_,at,!1,!1);if(!ot){(0,d.warn)(`XFA - Invalid target: ${at}.`);continue}const[mt]=ot;if(!mt[s.$isDescendent](_)){(0,d.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const Ct=mt[s.$getParent]();if(mt instanceof bt.SetProperty||Ct instanceof bt.SetProperty){(0,d.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(mt instanceof bt.BindItems||Ct instanceof bt.BindItems){(0,d.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const Nt=tt[s.$text](),Pt=mt[s.$nodeName];if(mt instanceof e.XFAAttribute){const Tt=Object.create(null);Tt[Pt]=Nt;const Et=Reflect.construct(Object.getPrototypeOf(Ct).constructor,[Tt]);Ct[Pt]=Et[Pt]}else mt.hasOwnProperty(s.$content)?(mt[s.$data]=tt,mt[s.$content]=Nt,mt[s.$finalize]()):(0,d.warn)("XFA - Invalid node to use in setProperty")}}_bindItems(_,c){if(!_.hasOwnProperty("items")||!_.hasOwnProperty("bindItems")||_.bindItems.isEmpty())return;for(const ct of _.items.children)_[s.$removeChild](ct);_.items.clear();const lt=new bt.Items({}),at=new bt.Items({});_[s.$appendChild](lt),_.items.push(lt),_[s.$appendChild](at),_.items.push(at);for(const{ref:ct,labelRef:it,valueRef:tt,connection:ot}of _.bindItems.children){if(ot||!ct)continue;const mt=(0,St.searchNode)(this.root,c,ct,!1,!1);if(mt)for(const Ct of mt){if(!Ct[s.$isDescendent](this.datasets)){(0,d.warn)(`XFA - Invalid ref (${ct}): must be a datasets child.`);continue}const Nt=(0,St.searchNode)(this.root,Ct,it,!0,!1);if(!Nt){(0,d.warn)(`XFA - Invalid label: ${it}.`);continue}const[Pt]=Nt;if(!Pt[s.$isDescendent](this.datasets)){(0,d.warn)("XFA - Invalid label: must be a datasets child.");continue}const Tt=(0,St.searchNode)(this.root,Ct,tt,!0,!1);if(!Tt){(0,d.warn)(`XFA - Invalid value: ${tt}.`);continue}const[Et]=Tt;if(!Et[s.$isDescendent](this.datasets)){(0,d.warn)("XFA - Invalid value: must be a datasets child.");continue}const rt=dt(Pt[s.$text]()),ft=dt(Et[s.$text]());lt[s.$appendChild](rt),lt.text.push(rt),at[s.$appendChild](ft),at.text.push(ft)}else(0,d.warn)(`XFA - Invalid reference: ${ct}.`)}}_bindOccurrences(_,c,lt){let at;if(c.length>1&&(at=_[s.$clone](),at[s.$removeChild](at.occur),at.occur=null),this._bindValue(_,c[0],lt),this._setProperties(_,c[0]),this._bindItems(_,c[0]),c.length===1)return;const ct=_[s.$getParent](),it=_[s.$nodeName],tt=ct[s.$indexOf](_);for(let ot=1,mt=c.length;ot<mt;ot++){const Ct=c[ot],Nt=at[s.$clone]();ct[it].push(Nt),ct[s.$insertAt](tt+ot,Nt),this._bindValue(Nt,Ct,lt),this._setProperties(Nt,Ct),this._bindItems(Nt,Ct)}}_createOccurrences(_){if(!this.emptyMerge)return;const{occur:c}=_;if(!c||c.initial<=1)return;const lt=_[s.$getParent](),at=_[s.$nodeName];if(!(lt[at]instanceof e.XFAObjectArray))return;let ct;ct=_.name?lt[at].children.filter(ot=>ot.name===_.name).length:lt[at].children.length;const it=lt[s.$indexOf](_)+1,tt=c.initial-ct;if(tt){const ot=_[s.$clone]();ot[s.$removeChild](ot.occur),ot.occur=null,lt[at].push(ot),lt[s.$insertAt](it,ot);for(let mt=1;mt<tt;mt++){const Ct=ot[s.$clone]();lt[at].push(Ct),lt[s.$insertAt](it+mt,Ct)}}}_getOccurInfo(_){const{name:c,occur:lt}=_;if(!lt||!c)return[1,1];const at=lt.max===-1?1/0:lt.max;return[lt.min,at]}_setAndBind(_,c){this._setProperties(_,c),this._bindItems(_,c),this._bindElement(_,c)}_bindElement(_,c){const lt=[];this._createOccurrences(_);for(const at of _[s.$getChildren]()){if(at[s.$data])continue;if(this._mergeMode===void 0&&at[s.$nodeName]==="subform"){this._mergeMode=at.mergeMode==="consumeData";const Nt=c[s.$getChildren]();if(Nt.length>0)this._bindOccurrences(at,[Nt[0]],null);else if(this.emptyMerge){const Pt=c[s.$namespaceId]===ut?-1:c[s.$namespaceId],Tt=at[s.$data]=new e.XmlObject(Pt,at.name||"root");c[s.$appendChild](Tt),this._bindElement(at,Tt)}continue}if(!at[s.$isBindable]())continue;let ct=!1,it=null,tt=null,ot=null;if(at.bind){switch(at.bind.match){case"none":this._setAndBind(at,c);continue;case"global":ct=!0;break;case"dataRef":if(!at.bind.ref){(0,d.warn)(`XFA - ref is empty in node ${at[s.$nodeName]}.`),this._setAndBind(at,c);continue}tt=at.bind.ref}at.bind.picture&&(it=at.bind.picture[s.$content])}const[mt,Ct]=this._getOccurInfo(at);if(tt){if(ot=(0,St.searchNode)(this.root,c,tt,!0,!1),ot===null){if(ot=(0,St.createDataNode)(this.data,c,tt),!ot)continue;this._isConsumeData()&&(ot[s.$consumed]=!0),this._setAndBind(at,ot);continue}this._isConsumeData()&&(ot=ot.filter(Nt=>!Nt[s.$consumed])),ot.length>Ct?ot=ot.slice(0,Ct):ot.length===0&&(ot=null),ot&&this._isConsumeData()&&ot.forEach(Nt=>{Nt[s.$consumed]=!0})}else{if(!at.name){this._setAndBind(at,c);continue}if(this._isConsumeData()){const Nt=[];for(;Nt.length<Ct;){const Pt=this._findDataByNameToConsume(at.name,at[s.$hasSettableValue](),c,ct);if(!Pt)break;Pt[s.$consumed]=!0,Nt.push(Pt)}ot=Nt.length>0?Nt:null}else{if(ot=c[s.$getRealChildrenByNameIt](at.name,!1,this.emptyMerge).next().value,!ot){if(mt===0){lt.push(at);continue}const Nt=c[s.$namespaceId]===ut?-1:c[s.$namespaceId];ot=at[s.$data]=new e.XmlObject(Nt,at.name),this.emptyMerge&&(ot[s.$consumed]=!0),c[s.$appendChild](ot),this._setAndBind(at,ot);continue}this.emptyMerge&&(ot[s.$consumed]=!0),ot=[ot]}}ot?this._bindOccurrences(at,ot,it):mt>0?this._setAndBind(at,c):lt.push(at)}lt.forEach(at=>at[s.$getParent]()[s.$removeChild](at))}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Value=$.Text=$.TemplateNamespace=$.Template=$.SetProperty=$.Items=$.Field=$.BindItems=void 0;var s=_t(78),bt=_t(81),St=_t(82),e=_t(83),i=_t(87),d=_t(84),ut=_t(2),dt=_t(85),et=_t(3),_=_t(88);const c=bt.NamespaceIds.template.id,lt="http://www.w3.org/2000/svg",at=/^H(\d+)$/,ct=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),it=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function tt(In){if(!In||!In.border)return{w:0,h:0};const ht=In.border[s.$getExtra]();return ht?{w:ht.widths[0]+ht.widths[2]+ht.insets[0]+ht.insets[2],h:ht.widths[1]+ht.widths[3]+ht.insets[1]+ht.insets[3]}:{w:0,h:0}}function ot(In){return In.margin&&(In.margin.topInset||In.margin.rightInset||In.margin.bottomInset||In.margin.leftInset)}function mt(In,ht){if(!In.value){const un=new _r({});In[s.$appendChild](un),In.value=un}In.value[s.$setValue](ht)}function*Ct(In){for(const ht of In[s.$getChildren]())ht instanceof $r?yield*ht[s.$getContainedChildren]():yield ht}function Nt(In){var ht;return((ht=In.validate)==null?void 0:ht.nullTest)==="error"}function Pt(In){for(;In;){if(!In.traversal){In[s.$tabIndex]=In[s.$getParent]()[s.$tabIndex];return}if(In[s.$tabIndex])return;let ht=null;for(const wn of In.traversal[s.$getChildren]())if(wn.operation==="next"){ht=wn;break}if(!ht||!ht.ref){In[s.$tabIndex]=In[s.$getParent]()[s.$tabIndex];return}const un=In[s.$getTemplateRoot]();In[s.$tabIndex]=++un[s.$tabIndex];const Mn=un[s.$searchNode](ht.ref,In);if(!Mn)return;In=Mn[0]}}function Tt(In,ht){var Mn;const un=In.assist;if(un){const wn=un[s.$toHTML]();wn&&(ht.title=wn);const Jt=un.role.match(at);if(Jt){const Bn="heading",Gn=Jt[1];ht.role=Bn,ht["aria-level"]=Gn}}if(In.layout==="table")ht.role="table";else if(In.layout==="row")ht.role="row";else{const wn=In[s.$getParent]();wn.layout==="row"&&(ht.role=((Mn=wn.assist)==null?void 0:Mn.role)==="TH"?"columnheader":"cell")}}function Et(In){if(!In.assist)return null;const ht=In.assist;return ht.speak&&ht.speak[s.$content]!==""?ht.speak[s.$content]:ht.toolTip?ht.toolTip[s.$content]:null}function rt(In){return d.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:In}]})}function ft(In){const ht=In[s.$getTemplateRoot]();ht[s.$extra].firstUnsplittable===null&&(ht[s.$extra].firstUnsplittable=In,ht[s.$extra].noLayoutFailure=!0)}function wt(In){const ht=In[s.$getTemplateRoot]();ht[s.$extra].firstUnsplittable===In&&(ht[s.$extra].noLayoutFailure=!1)}function b(In){if(In[s.$extra]||(In[s.$extra]=Object.create(null),In.targetType==="auto"))return!1;const ht=In[s.$getTemplateRoot]();let un=null;if(In.target){if(un=ht[s.$searchNode](In.target,In[s.$getParent]()),!un)return!1;un=un[0]}const{currentPageArea:Mn,currentContentArea:wn}=ht[s.$extra];if(In.targetType==="pageArea")return un instanceof vr||(un=null),In.startNew?(In[s.$extra].target=un||Mn,!0):un&&un!==Mn?(In[s.$extra].target=un,!0):!1;un instanceof qt||(un=null);const Jt=un&&un[s.$getParent]();let Bn,Gn=Jt;if(In.startNew)if(un){const Jn=Jt.contentArea.children,nr=Jn.indexOf(wn),ar=Jn.indexOf(un);nr!==-1&&nr<ar&&(Gn=null),Bn=ar-1}else Bn=Mn.contentArea.children.indexOf(wn);else{if(!un||un===wn)return!1;Bn=Jt.contentArea.children.indexOf(un)-1,Gn=Jt===Mn?null:Jt}return In[s.$extra].target=Gn,In[s.$extra].index=Bn,!0}function pt(In,ht,un){const Mn=In[s.$getTemplateRoot](),wn=Mn[s.$extra].noLayoutFailure,Jt=ht[s.$getSubformParent];ht[s.$getSubformParent]=()=>In,Mn[s.$extra].noLayoutFailure=!0;const Bn=ht[s.$toHTML](un);In[s.$addHTML](Bn.html,Bn.bbox),Mn[s.$extra].noLayoutFailure=wn,ht[s.$getSubformParent]=Jt}class Ot extends i.StringObject{constructor(ht){super(c,"appearanceFilter"),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||""}}class kt extends i.XFAObject{constructor(ht){super(c,"arc",!0),this.circular=(0,d.getInteger)({data:ht.circular,defaultValue:0,validate:un=>un===1}),this.hand=(0,d.getStringOption)(ht.hand,["even","left","right"]),this.id=ht.id||"",this.startAngle=(0,d.getFloat)({data:ht.startAngle,defaultValue:0,validate:un=>!0}),this.sweepAngle=(0,d.getFloat)({data:ht.sweepAngle,defaultValue:360,validate:un=>!0}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.edge=null,this.fill=null}[s.$toHTML](){var Gn;const ht=this.edge||new cn({}),un=ht[s.$toStyle](),Mn=Object.create(null);((Gn=this.fill)==null?void 0:Gn.presence)==="visible"?Object.assign(Mn,this.fill[s.$toStyle]()):Mn.fill="transparent",Mn.strokeWidth=(0,e.measureToString)(ht.presence==="visible"?ht.thickness:0),Mn.stroke=un.color;let wn;const Jt={xmlns:lt,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)wn={name:"ellipse",attributes:{xmlns:lt,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Mn}};else{const Jn=this.startAngle*Math.PI/180,nr=this.sweepAngle*Math.PI/180,ar=this.sweepAngle>180?1:0,[cr,ur,dr,fr]=[50*(1+Math.cos(Jn)),50*(1-Math.sin(Jn)),50*(1+Math.cos(Jn+nr)),50*(1-Math.sin(Jn+nr))];wn={name:"path",attributes:{xmlns:lt,d:`M ${cr} ${ur} A 50 50 0 ${ar} 0 ${dr} ${fr}`,vectorEffect:"non-scaling-stroke",style:Mn}},Object.assign(Jt,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const Bn={name:"svg",children:[wn],attributes:Jt};return ot(this[s.$getParent]()[s.$getParent]())?d.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Bn]}):(Bn.attributes.style.position="absolute",d.HTMLResult.success(Bn))}}class st extends i.XFAObject{constructor(ht){super(c,"area",!0),this.colSpan=(0,d.getInteger)({data:ht.colSpan,defaultValue:1,validate:un=>un>=1||un===-1}),this.id=ht.id||"",this.name=ht.name||"",this.relevant=(0,d.getRelevant)(ht.relevant),this.use=ht.use||"",this.usehref=ht.usehref||"",this.x=(0,d.getMeasurement)(ht.x,"0pt"),this.y=(0,d.getMeasurement)(ht.y,"0pt"),this.desc=null,this.extras=null,this.area=new i.XFAObjectArray,this.draw=new i.XFAObjectArray,this.exObject=new i.XFAObjectArray,this.exclGroup=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.subform=new i.XFAObjectArray,this.subformSet=new i.XFAObjectArray}*[s.$getContainedChildren](){yield*Ct(this)}[s.$isTransparent](){return!0}[s.$isBindable](){return!0}[s.$addHTML](ht,un){const[Mn,wn,Jt,Bn]=un;this[s.$extra].width=Math.max(this[s.$extra].width,Mn+Jt),this[s.$extra].height=Math.max(this[s.$extra].height,wn+Bn),this[s.$extra].children.push(ht)}[s.$getAvailableSpace](){return this[s.$extra].availableSpace}[s.$toHTML](ht){const un=(0,e.toStyle)(this,"position"),Mn={style:un,id:this[s.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&Mn.class.push("xfaPrintOnly"),this.name&&(Mn.xfaName=this.name);const wn=[];this[s.$extra]={children:wn,width:0,height:0,availableSpace:ht};const Jt=this[s.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Jt.success)return Jt.isBreak()?Jt:(delete this[s.$extra],d.HTMLResult.FAILURE);un.width=(0,e.measureToString)(this[s.$extra].width),un.height=(0,e.measureToString)(this[s.$extra].height);const Bn={name:"div",attributes:Mn,children:wn},Gn=[this.x,this.y,this[s.$extra].width,this[s.$extra].height];return delete this[s.$extra],d.HTMLResult.success(Bn,Gn)}}class nt extends i.XFAObject{constructor(ht){super(c,"assist",!0),this.id=ht.id||"",this.role=ht.role||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.speak=null,this.toolTip=null}[s.$toHTML](){var ht;return((ht=this.toolTip)==null?void 0:ht[s.$content])||null}}class gt extends i.XFAObject{constructor(ht){super(c,"barcode",!0),this.charEncoding=(0,d.getKeyword)({data:ht.charEncoding?ht.charEncoding.toLowerCase():"",defaultValue:"",validate:un=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(un)||un.match(/iso-8859-\d{2}/)}),this.checksum=(0,d.getStringOption)(ht.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,d.getInteger)({data:ht.dataColumnCount,defaultValue:-1,validate:un=>un>=0}),this.dataLength=(0,d.getInteger)({data:ht.dataLength,defaultValue:-1,validate:un=>un>=0}),this.dataPrep=(0,d.getStringOption)(ht.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,d.getInteger)({data:ht.dataRowCount,defaultValue:-1,validate:un=>un>=0}),this.endChar=ht.endChar||"",this.errorCorrectionLevel=(0,d.getInteger)({data:ht.errorCorrectionLevel,defaultValue:-1,validate:un=>un>=0&&un<=8}),this.id=ht.id||"",this.moduleHeight=(0,d.getMeasurement)(ht.moduleHeight,"5mm"),this.moduleWidth=(0,d.getMeasurement)(ht.moduleWidth,"0.25mm"),this.printCheckDigit=(0,d.getInteger)({data:ht.printCheckDigit,defaultValue:0,validate:un=>un===1}),this.rowColumnRatio=(0,d.getRatio)(ht.rowColumnRatio),this.startChar=ht.startChar||"",this.textLocation=(0,d.getStringOption)(ht.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,d.getInteger)({data:ht.truncate,defaultValue:0,validate:un=>un===1}),this.type=(0,d.getStringOption)(ht.type?ht.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,d.getStringOption)(ht.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.wideNarrowRatio=(0,d.getRatio)(ht.wideNarrowRatio),this.encrypt=null,this.extras=null}}class Ft extends i.XFAObject{constructor(ht){super(c,"bind",!0),this.match=(0,d.getStringOption)(ht.match,["once","dataRef","global","none"]),this.ref=ht.ref||"",this.picture=null}}class yt extends i.XFAObject{constructor(ht){super(c,"bindItems"),this.connection=ht.connection||"",this.labelRef=ht.labelRef||"",this.ref=ht.ref||"",this.valueRef=ht.valueRef||""}}$.BindItems=yt;class vt extends i.XFAObject{constructor(ht){super(c,"bookend"),this.id=ht.id||"",this.leader=ht.leader||"",this.trailer=ht.trailer||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class Lt extends i.Option01{constructor(ht){super(c,"boolean"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$toHTML](ht){return rt(this[s.$content]===1?"1":"0")}}class jt extends i.XFAObject{constructor(ht){super(c,"border",!0),this.break=(0,d.getStringOption)(ht.break,["close","open"]),this.hand=(0,d.getStringOption)(ht.hand,["even","left","right"]),this.id=ht.id||"",this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,d.getRelevant)(ht.relevant),this.use=ht.use||"",this.usehref=ht.usehref||"",this.corner=new i.XFAObjectArray(4),this.edge=new i.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[s.$getExtra](){if(!this[s.$extra]){const ht=this.edge.children.slice();if(ht.length<4){const wn=ht.at(-1)||new cn({});for(let Jt=ht.length;Jt<4;Jt++)ht.push(wn)}const un=ht.map(wn=>wn.thickness),Mn=[0,0,0,0];this.margin&&(Mn[0]=this.margin.topInset,Mn[1]=this.margin.rightInset,Mn[2]=this.margin.bottomInset,Mn[3]=this.margin.leftInset),this[s.$extra]={widths:un,insets:Mn,edges:ht}}return this[s.$extra]}[s.$toStyle](){var wn;const{edges:ht}=this[s.$getExtra](),un=ht.map(Jt=>{const Bn=Jt[s.$toStyle]();return Bn.color||(Bn.color="#000000"),Bn}),Mn=Object.create(null);if(this.margin&&Object.assign(Mn,this.margin[s.$toStyle]()),((wn=this.fill)==null?void 0:wn.presence)==="visible"&&Object.assign(Mn,this.fill[s.$toStyle]()),this.corner.children.some(Jt=>Jt.radius!==0)){const Jt=this.corner.children.map(Bn=>Bn[s.$toStyle]());if(Jt.length===2||Jt.length===3){const Bn=Jt.at(-1);for(let Gn=Jt.length;Gn<4;Gn++)Jt.push(Bn)}Mn.borderRadius=Jt.map(Bn=>Bn.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Mn.borderStyle="";break;case"inactive":Mn.borderStyle="none";break;default:Mn.borderStyle=un.map(Jt=>Jt.style).join(" ")}return Mn.borderWidth=un.map(Jt=>Jt.width).join(" "),Mn.borderColor=un.map(Jt=>Jt.color).join(" "),Mn}}class Ht extends i.XFAObject{constructor(ht){super(c,"break",!0),this.after=(0,d.getStringOption)(ht.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=ht.afterTarget||"",this.before=(0,d.getStringOption)(ht.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=ht.beforeTarget||"",this.bookendLeader=ht.bookendLeader||"",this.bookendTrailer=ht.bookendTrailer||"",this.id=ht.id||"",this.overflowLeader=ht.overflowLeader||"",this.overflowTarget=ht.overflowTarget||"",this.overflowTrailer=ht.overflowTrailer||"",this.startNew=(0,d.getInteger)({data:ht.startNew,defaultValue:0,validate:un=>un===1}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null}}class Vt extends i.XFAObject{constructor(ht){super(c,"breakAfter",!0),this.id=ht.id||"",this.leader=ht.leader||"",this.startNew=(0,d.getInteger)({data:ht.startNew,defaultValue:0,validate:un=>un===1}),this.target=ht.target||"",this.targetType=(0,d.getStringOption)(ht.targetType,["auto","contentArea","pageArea"]),this.trailer=ht.trailer||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.script=null}}class Qt extends i.XFAObject{constructor(ht){super(c,"breakBefore",!0),this.id=ht.id||"",this.leader=ht.leader||"",this.startNew=(0,d.getInteger)({data:ht.startNew,defaultValue:0,validate:un=>un===1}),this.target=ht.target||"",this.targetType=(0,d.getStringOption)(ht.targetType,["auto","contentArea","pageArea"]),this.trailer=ht.trailer||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.script=null}[s.$toHTML](ht){return this[s.$extra]={},d.HTMLResult.FAILURE}}class _e extends i.XFAObject{constructor(ht){super(c,"button",!0),this.highlight=(0,d.getStringOption)(ht.highlight,["inverted","none","outline","push"]),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null}[s.$toHTML](ht){const un=this[s.$getParent]()[s.$getParent](),Mn={name:"button",attributes:{id:this[s.$uid],class:["xfaButton"],style:{}},children:[]};for(const wn of un.event.children){if(wn.activity!=="click"||!wn.script)continue;const Jt=(0,et.recoverJsURL)(wn.script[s.$content]);if(!Jt)continue;const Bn=(0,e.fixURL)(Jt.url);Bn&&Mn.children.push({name:"a",attributes:{id:"link"+this[s.$uid],href:Bn,newWindow:Jt.newWindow,class:["xfaLink"],style:{}},children:[]})}return d.HTMLResult.success(Mn)}}class Xt extends i.XFAObject{constructor(ht){super(c,"calculate",!0),this.id=ht.id||"",this.override=(0,d.getStringOption)(ht.override,["disabled","error","ignore","warning"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.message=null,this.script=null}}class Dt extends i.XFAObject{constructor(ht){super(c,"caption",!0),this.id=ht.id||"",this.placement=(0,d.getStringOption)(ht.placement,["left","bottom","inline","right","top"]),this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,d.getMeasurement)(ht.reserve)),this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[s.$setValue](ht){mt(this,ht)}[s.$getExtra](ht){if(!this[s.$extra]){let{width:un,height:Mn}=ht;switch(this.placement){case"left":case"right":case"inline":un=this.reserve<=0?un:this.reserve;break;case"top":case"bottom":Mn=this.reserve<=0?Mn:this.reserve}this[s.$extra]=(0,e.layoutNode)(this,{width:un,height:Mn})}return this[s.$extra]}[s.$toHTML](ht){if(!this.value)return d.HTMLResult.EMPTY;this[s.$pushPara]();const un=this.value[s.$toHTML](ht).html;if(!un)return this[s.$popPara](),d.HTMLResult.EMPTY;const Mn=this.reserve;if(this.reserve<=0){const{w:Bn,h:Gn}=this[s.$getExtra](ht);switch(this.placement){case"left":case"right":case"inline":this.reserve=Bn;break;case"top":case"bottom":this.reserve=Gn}}const wn=[];typeof un=="string"?wn.push({name:"#text",value:un}):wn.push(un);const Jt=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Jt.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Jt.height=(0,e.measureToString)(this.reserve))}return(0,e.setPara)(this,null,un),this[s.$popPara](),this.reserve=Mn,d.HTMLResult.success({name:"div",attributes:{style:Jt,class:["xfaCaption"]},children:wn})}}class It extends i.StringObject{constructor(ht){super(c,"certificate"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class j extends i.XFAObject{constructor(ht){super(c,"certificates",!0),this.credentialServerPolicy=(0,d.getStringOption)(ht.credentialServerPolicy,["optional","required"]),this.id=ht.id||"",this.url=ht.url||"",this.urlPolicy=ht.urlPolicy||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class At extends i.XFAObject{constructor(ht){super(c,"checkButton",!0),this.id=ht.id||"",this.mark=(0,d.getStringOption)(ht.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,d.getStringOption)(ht.shape,["square","round"]),this.size=(0,d.getMeasurement)(ht.size,"10pt"),this.use=ht.use||"",this.usehref=ht.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](ht){var sr,mr,hr;const un=(0,e.toStyle)("margin"),Mn=(0,e.measureToString)(this.size);un.width=un.height=Mn;let wn,Jt,Bn;const Gn=this[s.$getParent]()[s.$getParent](),Jn=Gn.items.children.length&&Gn.items.children[0][s.$toHTML]().html||[],nr={on:(Jn[0]!==void 0?Jn[0]:"on").toString(),off:(Jn[1]!==void 0?Jn[1]:"off").toString()},ar=(((sr=Gn.value)==null?void 0:sr[s.$text]())||"off")===nr.on||void 0,cr=Gn[s.$getSubformParent](),ur=Gn[s.$uid];let dr;cr instanceof Nn?(Bn=cr[s.$uid],wn="radio",Jt="xfaRadio",dr=((mr=cr[s.$data])==null?void 0:mr[s.$uid])||cr[s.$uid]):(wn="checkbox",Jt="xfaCheckbox",dr=((hr=Gn[s.$data])==null?void 0:hr[s.$uid])||Gn[s.$uid]);const fr={name:"input",attributes:{class:[Jt],style:un,fieldId:ur,dataId:dr,type:wn,checked:ar,xfaOn:nr.on,xfaOff:nr.off,"aria-label":Et(Gn),"aria-required":!1}};return Bn&&(fr.attributes.name=Bn),Nt(Gn)&&(fr.attributes["aria-required"]=!0,fr.attributes.required=!0),d.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[fr]})}}class Mt extends i.XFAObject{constructor(ht){super(c,"choiceList",!0),this.commitOn=(0,d.getStringOption)(ht.commitOn,["select","exit"]),this.id=ht.id||"",this.open=(0,d.getStringOption)(ht.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,d.getInteger)({data:ht.textEntry,defaultValue:0,validate:un=>un===1}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](ht){var Gn,Jn,nr;const un=(0,e.toStyle)(this,"border","margin"),Mn=this[s.$getParent]()[s.$getParent](),wn={fontSize:`calc(${((Gn=Mn.font)==null?void 0:Gn.size)||10}px * var(--scale-factor))`},Jt=[];if(Mn.items.children.length>0){const ar=Mn.items;let cr=0,ur=0;ar.children.length===2&&(cr=ar.children[0].save,ur=1-cr);const dr=ar.children[cr][s.$toHTML]().html,fr=ar.children[ur][s.$toHTML]().html;let sr=!1;const mr=((Jn=Mn.value)==null?void 0:Jn[s.$text]())||"";for(let hr=0,Sr=dr.length;hr<Sr;hr++){const br={name:"option",attributes:{value:fr[hr]||dr[hr],style:wn},value:dr[hr]};fr[hr]===mr&&(br.attributes.selected=sr=!0),Jt.push(br)}sr||Jt.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const Bn={class:["xfaSelect"],fieldId:Mn[s.$uid],dataId:((nr=Mn[s.$data])==null?void 0:nr[s.$uid])||Mn[s.$uid],style:un,"aria-label":Et(Mn),"aria-required":!1};return Nt(Mn)&&(Bn["aria-required"]=!0,Bn.required=!0),this.open==="multiSelect"&&(Bn.multiple=!0),d.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:Jt,attributes:Bn}]})}}class Rt extends i.XFAObject{constructor(ht){super(c,"color",!0),this.cSpace=(0,d.getStringOption)(ht.cSpace,["SRGB"]),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.value=ht.value?(0,d.getColor)(ht.value):"",this.extras=null}[s.$hasSettableValue](){return!1}[s.$toStyle](){return this.value?ut.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class $t extends i.XFAObject{constructor(ht){super(c,"comb"),this.id=ht.id||"",this.numberOfCells=(0,d.getInteger)({data:ht.numberOfCells,defaultValue:0,validate:un=>un>=0}),this.use=ht.use||"",this.usehref=ht.usehref||""}}class zt extends i.XFAObject{constructor(ht){super(c,"connect",!0),this.connection=ht.connection||"",this.id=ht.id||"",this.ref=ht.ref||"",this.usage=(0,d.getStringOption)(ht.usage,["exportAndImport","exportOnly","importOnly"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.picture=null}}class qt extends i.XFAObject{constructor(ht){super(c,"contentArea",!0),this.h=(0,d.getMeasurement)(ht.h),this.id=ht.id||"",this.name=ht.name||"",this.relevant=(0,d.getRelevant)(ht.relevant),this.use=ht.use||"",this.usehref=ht.usehref||"",this.w=(0,d.getMeasurement)(ht.w),this.x=(0,d.getMeasurement)(ht.x,"0pt"),this.y=(0,d.getMeasurement)(ht.y,"0pt"),this.desc=null,this.extras=null}[s.$toHTML](ht){const un={left:(0,e.measureToString)(this.x),top:(0,e.measureToString)(this.y),width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},Mn=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&Mn.push("xfaPrintOnly"),d.HTMLResult.success({name:"div",children:[],attributes:{style:un,class:Mn,id:this[s.$uid]}})}}class Wt extends i.XFAObject{constructor(ht){super(c,"corner",!0),this.id=ht.id||"",this.inverted=(0,d.getInteger)({data:ht.inverted,defaultValue:0,validate:un=>un===1}),this.join=(0,d.getStringOption)(ht.join,["square","round"]),this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,d.getMeasurement)(ht.radius),this.stroke=(0,d.getStringOption)(ht.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,d.getMeasurement)(ht.thickness,"0.5pt"),this.use=ht.use||"",this.usehref=ht.usehref||"",this.color=null,this.extras=null}[s.$toStyle](){const ht=(0,e.toStyle)(this,"visibility");return ht.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),ht}}class Gt extends i.ContentObject{constructor(ht){super(c,"date"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$finalize](){const ht=this[s.$content].trim();this[s.$content]=ht?new Date(ht):null}[s.$toHTML](ht){return rt(this[s.$content]?this[s.$content].toString():"")}}class Zt extends i.ContentObject{constructor(ht){super(c,"dateTime"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$finalize](){const ht=this[s.$content].trim();this[s.$content]=ht?new Date(ht):null}[s.$toHTML](ht){return rt(this[s.$content]?this[s.$content].toString():"")}}class Yt extends i.XFAObject{constructor(ht){super(c,"dateTimeEdit",!0),this.hScrollPolicy=(0,d.getStringOption)(ht.hScrollPolicy,["auto","off","on"]),this.id=ht.id||"",this.picker=(0,d.getStringOption)(ht.picker,["host","none"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](ht){var Jt;const un=(0,e.toStyle)(this,"border","font","margin"),Mn=this[s.$getParent]()[s.$getParent](),wn={name:"input",attributes:{type:"text",fieldId:Mn[s.$uid],dataId:((Jt=Mn[s.$data])==null?void 0:Jt[s.$uid])||Mn[s.$uid],class:["xfaTextfield"],style:un,"aria-label":Et(Mn),"aria-required":!1}};return Nt(Mn)&&(wn.attributes["aria-required"]=!0,wn.attributes.required=!0),d.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[wn]})}}class tn extends i.ContentObject{constructor(ht){super(c,"decimal"),this.fracDigits=(0,d.getInteger)({data:ht.fracDigits,defaultValue:2,validate:un=>!0}),this.id=ht.id||"",this.leadDigits=(0,d.getInteger)({data:ht.leadDigits,defaultValue:-1,validate:un=>!0}),this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$finalize](){const ht=parseFloat(this[s.$content].trim());this[s.$content]=isNaN(ht)?null:ht}[s.$toHTML](ht){return rt(this[s.$content]!==null?this[s.$content].toString():"")}}class nn extends i.XFAObject{constructor(ht){super(c,"defaultUi",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null}}class en extends i.XFAObject{constructor(ht){super(c,"desc",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}}class an extends i.OptionObject{constructor(ht){super(c,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class vn extends i.XFAObject{constructor(ht){super(c,"digestMethods",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.digestMethod=new i.XFAObjectArray}}class An extends i.XFAObject{constructor(ht){super(c,"draw",!0),this.anchorType=(0,d.getStringOption)(ht.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,d.getInteger)({data:ht.colSpan,defaultValue:1,validate:un=>un>=1||un===-1}),this.h=ht.h?(0,d.getMeasurement)(ht.h):"",this.hAlign=(0,d.getStringOption)(ht.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ht.id||"",this.locale=ht.locale||"",this.maxH=(0,d.getMeasurement)(ht.maxH,"0pt"),this.maxW=(0,d.getMeasurement)(ht.maxW,"0pt"),this.minH=(0,d.getMeasurement)(ht.minH,"0pt"),this.minW=(0,d.getMeasurement)(ht.minW,"0pt"),this.name=ht.name||"",this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,d.getRelevant)(ht.relevant),this.rotate=(0,d.getInteger)({data:ht.rotate,defaultValue:0,validate:un=>un%90==0}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.w=ht.w?(0,d.getMeasurement)(ht.w):"",this.x=(0,d.getMeasurement)(ht.x,"0pt"),this.y=(0,d.getMeasurement)(ht.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new i.XFAObjectArray}[s.$setValue](ht){mt(this,ht)}[s.$toHTML](ht){if(Pt(this),this.presence==="hidden"||this.presence==="inactive")return d.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[s.$pushPara]();const un=this.w,Mn=this.h,{w:wn,h:Jt,isBroken:Bn}=(0,e.layoutNode)(this,ht);if(wn&&this.w===""){if(Bn&&this[s.$getSubformParent]()[s.$isThereMoreWidth]())return this[s.$popPara](),d.HTMLResult.FAILURE;this.w=wn}if(Jt&&this.h===""&&(this.h=Jt),ft(this),!(0,St.checkDimensions)(this,ht))return this.w=un,this.h=Mn,this[s.$popPara](),d.HTMLResult.FAILURE;wt(this);const Gn=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,Gn),Gn.margin&&(Gn.padding=Gn.margin,delete Gn.margin);const Jn=["xfaDraw"];this.font&&Jn.push("xfaFont"),(0,e.isPrintOnly)(this)&&Jn.push("xfaPrintOnly");const nr={style:Gn,id:this[s.$uid],class:Jn};this.name&&(nr.xfaName=this.name);const ar={name:"div",attributes:nr,children:[]};Tt(this,nr);const cr=(0,e.computeBbox)(this,ar,ht),ur=this.value?this.value[s.$toHTML](ht).html:null;return ur===null?(this.w=un,this.h=Mn,this[s.$popPara](),d.HTMLResult.success((0,e.createWrapper)(this,ar),cr)):(ar.children.push(ur),(0,e.setPara)(this,Gn,ur),this.w=un,this.h=Mn,this[s.$popPara](),d.HTMLResult.success((0,e.createWrapper)(this,ar),cr))}}class cn extends i.XFAObject{constructor(ht){super(c,"edge",!0),this.cap=(0,d.getStringOption)(ht.cap,["square","butt","round"]),this.id=ht.id||"",this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,d.getStringOption)(ht.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,d.getMeasurement)(ht.thickness,"0.5pt"),this.use=ht.use||"",this.usehref=ht.usehref||"",this.color=null,this.extras=null}[s.$toStyle](){const ht=(0,e.toStyle)(this,"visibility");if(Object.assign(ht,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[s.$toStyle]():"#000000",style:""}),this.presence!=="visible")ht.style="none";else switch(this.stroke){case"solid":ht.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":ht.style="dashed";break;case"dotted":ht.style="dotted";break;case"embossed":ht.style="ridge";break;case"etched":ht.style="groove";break;case"lowered":ht.style="inset";break;case"raised":ht.style="outset"}return ht}}class hn extends i.OptionObject{constructor(ht){super(c,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class fn extends i.XFAObject{constructor(ht){super(c,"encodings",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.encoding=new i.XFAObjectArray}}class Cn extends i.XFAObject{constructor(ht){super(c,"encrypt",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.certificate=null}}class kn extends i.XFAObject{constructor(ht){super(c,"encryptData",!0),this.id=ht.id||"",this.operation=(0,d.getStringOption)(ht.operation,["encrypt","decrypt"]),this.target=ht.target||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.filter=null,this.manifest=null}}class Rn extends i.XFAObject{constructor(ht){super(c,"encryption",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.certificate=new i.XFAObjectArray}}class sn extends i.OptionObject{constructor(ht){super(c,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class En extends i.XFAObject{constructor(ht){super(c,"encryptionMethods",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.encryptionMethod=new i.XFAObjectArray}}class Pn extends i.XFAObject{constructor(ht){super(c,"event",!0),this.activity=(0,d.getStringOption)(ht.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=ht.id||"",this.listen=(0,d.getStringOption)(ht.listen,["refOnly","refAndDescendents"]),this.name=ht.name||"",this.ref=ht.ref||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Ln extends i.ContentObject{constructor(ht){super(c,"exData"),this.contentType=ht.contentType||"",this.href=ht.href||"",this.id=ht.id||"",this.maxLength=(0,d.getInteger)({data:ht.maxLength,defaultValue:-1,validate:un=>un>=-1}),this.name=ht.name||"",this.rid=ht.rid||"",this.transferEncoding=(0,d.getStringOption)(ht.transferEncoding,["none","base64","package"]),this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$isCDATAXml](){return this.contentType==="text/html"}[s.$onChild](ht){return this.contentType==="text/html"&&ht[s.$namespaceId]===bt.NamespaceIds.xhtml.id?(this[s.$content]=ht,!0):this.contentType==="text/xml"?(this[s.$content]=ht,!0):!1}[s.$toHTML](ht){return this.contentType==="text/html"&&this[s.$content]?this[s.$content][s.$toHTML](ht):d.HTMLResult.EMPTY}}class jn extends i.XFAObject{constructor(ht){super(c,"exObject",!0),this.archive=ht.archive||"",this.classId=ht.classId||"",this.codeBase=ht.codeBase||"",this.codeType=ht.codeType||"",this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.exObject=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}}class Nn extends i.XFAObject{constructor(ht){super(c,"exclGroup",!0),this.access=(0,d.getStringOption)(ht.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=ht.accessKey||"",this.anchorType=(0,d.getStringOption)(ht.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,d.getInteger)({data:ht.colSpan,defaultValue:1,validate:un=>un>=1||un===-1}),this.h=ht.h?(0,d.getMeasurement)(ht.h):"",this.hAlign=(0,d.getStringOption)(ht.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ht.id||"",this.layout=(0,d.getStringOption)(ht.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,d.getMeasurement)(ht.maxH,"0pt"),this.maxW=(0,d.getMeasurement)(ht.maxW,"0pt"),this.minH=(0,d.getMeasurement)(ht.minH,"0pt"),this.minW=(0,d.getMeasurement)(ht.minW,"0pt"),this.name=ht.name||"",this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,d.getRelevant)(ht.relevant),this.use=ht.use||"",this.usehref=ht.usehref||"",this.w=ht.w?(0,d.getMeasurement)(ht.w):"",this.x=(0,d.getMeasurement)(ht.x,"0pt"),this.y=(0,d.getMeasurement)(ht.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new i.XFAObjectArray,this.event=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.setProperty=new i.XFAObjectArray}[s.$isBindable](){return!0}[s.$hasSettableValue](){return!0}[s.$setValue](ht){for(const un of this.field.children){if(!un.value){const Mn=new _r({});un[s.$appendChild](Mn),un.value=Mn}un.value[s.$setValue](ht)}}[s.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine>0||this[s.$getParent]()[s.$isThereMoreWidth]()}[s.$isSplittable](){var un;const ht=this[s.$getSubformParent]();return ht[s.$isSplittable]()?this[s.$extra]._isSplittable!==void 0?this[s.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[s.$extra]._isSplittable=!1,!1):(un=ht.layout)!=null&&un.endsWith("-tb")&&ht[s.$extra].numberInLine!==0?!1:(this[s.$extra]._isSplittable=!0,!0):!1}[s.$flushHTML](){return(0,St.flushHTML)(this)}[s.$addHTML](ht,un){(0,St.addHTML)(this,ht,un)}[s.$getAvailableSpace](){return(0,St.getAvailableSpace)(this)}[s.$toHTML](ht){if(Pt(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return d.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const un=[],Mn={id:this[s.$uid],class:[]};(0,e.setAccess)(this,Mn.class),this[s.$extra]||(this[s.$extra]=Object.create(null)),Object.assign(this[s.$extra],{children:un,attributes:Mn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,ht.width),height:Math.min(this.h||1/0,ht.height)},width:0,height:0,prevHeight:0,currentWidth:0});const wn=this[s.$isSplittable]();if(wn||ft(this),!(0,St.checkDimensions)(this,ht))return d.HTMLResult.FAILURE;const Jt=new Set(["field"]);if(this.layout.includes("row")){const hr=this[s.$getSubformParent]().columnWidths;Array.isArray(hr)&&hr.length>0&&(this[s.$extra].columnWidths=hr,this[s.$extra].currentColumn=0)}const Bn=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Gn=["xfaExclgroup"],Jn=(0,e.layoutClass)(this);Jn&&Gn.push(Jn),(0,e.isPrintOnly)(this)&&Gn.push("xfaPrintOnly"),Mn.style=Bn,Mn.class=Gn,this.name&&(Mn.xfaName=this.name),this[s.$pushPara]();const nr=this.layout==="lr-tb"||this.layout==="rl-tb",ar=nr?2:1;for(;this[s.$extra].attempt<ar;this[s.$extra].attempt++){nr&&this[s.$extra].attempt===1&&(this[s.$extra].numberInLine=0);const hr=this[s.$childrenToHTML]({filter:Jt,include:!0});if(hr.success)break;if(hr.isBreak())return this[s.$popPara](),hr;if(nr&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine===0&&!this[s.$getTemplateRoot]()[s.$extra].noLayoutFailure){this[s.$extra].attempt=ar;break}}if(this[s.$popPara](),wn||wt(this),this[s.$extra].attempt===ar)return wn||delete this[s.$extra],d.HTMLResult.FAILURE;let cr=0,ur=0;this.margin&&(cr=this.margin.leftInset+this.margin.rightInset,ur=this.margin.topInset+this.margin.bottomInset);const dr=Math.max(this[s.$extra].width+cr,this.w||0),fr=Math.max(this[s.$extra].height+ur,this.h||0),sr=[this.x,this.y,dr,fr];this.w===""&&(Bn.width=(0,e.measureToString)(dr)),this.h===""&&(Bn.height=(0,e.measureToString)(fr));const mr={name:"div",attributes:Mn,children:un};return Tt(this,Mn),delete this[s.$extra],d.HTMLResult.success((0,e.createWrapper)(this,mr),sr)}}class ln extends i.XFAObject{constructor(ht){super(c,"execute"),this.connection=ht.connection||"",this.executeType=(0,d.getStringOption)(ht.executeType,["import","remerge"]),this.id=ht.id||"",this.runAt=(0,d.getStringOption)(ht.runAt,["client","both","server"]),this.use=ht.use||"",this.usehref=ht.usehref||""}}class rn extends i.XFAObject{constructor(ht){super(c,"extras",!0),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.extras=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}}class on extends i.XFAObject{constructor(ht){super(c,"field",!0),this.access=(0,d.getStringOption)(ht.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=ht.accessKey||"",this.anchorType=(0,d.getStringOption)(ht.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,d.getInteger)({data:ht.colSpan,defaultValue:1,validate:un=>un>=1||un===-1}),this.h=ht.h?(0,d.getMeasurement)(ht.h):"",this.hAlign=(0,d.getStringOption)(ht.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ht.id||"",this.locale=ht.locale||"",this.maxH=(0,d.getMeasurement)(ht.maxH,"0pt"),this.maxW=(0,d.getMeasurement)(ht.maxW,"0pt"),this.minH=(0,d.getMeasurement)(ht.minH,"0pt"),this.minW=(0,d.getMeasurement)(ht.minW,"0pt"),this.name=ht.name||"",this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,d.getRelevant)(ht.relevant),this.rotate=(0,d.getInteger)({data:ht.rotate,defaultValue:0,validate:un=>un%90==0}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.w=ht.w?(0,d.getMeasurement)(ht.w):"",this.x=(0,d.getMeasurement)(ht.x,"0pt"),this.y=(0,d.getMeasurement)(ht.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new i.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new i.XFAObjectArray,this.connect=new i.XFAObjectArray,this.event=new i.XFAObjectArray,this.setProperty=new i.XFAObjectArray}[s.$isBindable](){return!0}[s.$setValue](ht){mt(this,ht)}[s.$toHTML](ht){var hr,Sr,br;if(Pt(this),!this.ui){this.ui=new Hr({}),this.ui[s.$globalData]=this[s.$globalData],this[s.$appendChild](this.ui);let or;switch(this.items.children.length){case 0:or=new ga({}),this.ui.textEdit=or;break;case 1:or=new At({}),this.ui.checkButton=or;break;case 2:or=new Mt({}),this.ui.choiceList=or}this.ui[s.$appendChild](or)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return d.HTMLResult.EMPTY;this.caption&&delete this.caption[s.$extra],this[s.$pushPara]();const un=this.caption?this.caption[s.$toHTML](ht).html:null,Mn=this.w,wn=this.h;let Jt=0,Bn=0;this.margin&&(Jt=this.margin.leftInset+this.margin.rightInset,Bn=this.margin.topInset+this.margin.bottomInset);let Gn=null;if(this.w===""||this.h===""){let or=null,tr=null,xr=0,yr=0;if(this.ui.checkButton)xr=yr=this.ui.checkButton.size;else{const{w:Er,h:Ar}=(0,e.layoutNode)(this,ht);Er!==null?(xr=Er,yr=Ar):yr=(0,dt.getMetrics)(this.font,!0).lineNoGap}if(Gn=tt(this.ui[s.$getExtra]()),xr+=Gn.w,yr+=Gn.h,this.caption){const{w:Er,h:Ar,isBroken:gr}=this.caption[s.$getExtra](ht);if(gr&&this[s.$getSubformParent]()[s.$isThereMoreWidth]())return this[s.$popPara](),d.HTMLResult.FAILURE;switch(or=Er,tr=Ar,this.caption.placement){case"left":case"right":case"inline":or+=xr;break;case"top":case"bottom":tr+=yr}}else or=xr,tr=yr;or&&this.w===""&&(or+=Jt,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<or?or:this.minW)),tr&&this.h===""&&(tr+=Bn,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<tr?tr:this.minH))}if(this[s.$popPara](),(0,e.fixDimensions)(this),ft(this),!(0,St.checkDimensions)(this,ht))return this.w=Mn,this.h=wn,this[s.$popPara](),d.HTMLResult.FAILURE;wt(this);const Jn=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,Jn);const nr=["xfaField"];this.font&&nr.push("xfaFont"),(0,e.isPrintOnly)(this)&&nr.push("xfaPrintOnly");const ar={style:Jn,id:this[s.$uid],class:nr};Jn.margin&&(Jn.padding=Jn.margin,delete Jn.margin),(0,e.setAccess)(this,nr),this.name&&(ar.xfaName=this.name);const cr=[],ur={name:"div",attributes:ar,children:cr};Tt(this,ar);const dr=this.border?this.border[s.$toStyle]():null,fr=(0,e.computeBbox)(this,ur,ht),sr=this.ui[s.$toHTML]().html;if(!sr)return Object.assign(Jn,dr),d.HTMLResult.success((0,e.createWrapper)(this,ur),fr);this[s.$tabIndex]&&((hr=sr.children)!=null&&hr[0]?sr.children[0].attributes.tabindex=this[s.$tabIndex]:sr.attributes.tabindex=this[s.$tabIndex]),sr.attributes.style||(sr.attributes.style=Object.create(null));let mr=null;if(this.ui.button?(sr.children.length===1&&([mr]=sr.children.splice(0,1)),Object.assign(sr.attributes.style,dr)):Object.assign(Jn,dr),cr.push(sr),this.value){if(this.ui.imageEdit)sr.children.push(this.value[s.$toHTML]().html);else if(!this.ui.button){let or="";if(this.value.exData)or=this.value.exData[s.$text]();else if(this.value.text)or=this.value.text[s.$getExtra]();else{const tr=this.value[s.$toHTML]().html;tr!==null&&(or=tr.children[0].value)}this.ui.textEdit&&((Sr=this.value.text)!=null&&Sr.maxChars)&&(sr.children[0].attributes.maxLength=this.value.text.maxChars),or&&(this.ui.numericEdit&&(or=parseFloat(or),or=isNaN(or)?"":or.toString()),sr.children[0].name==="textarea"?sr.children[0].attributes.textContent=or:sr.children[0].attributes.value=or)}}if(!this.ui.imageEdit&&((br=sr.children)!=null&&br[0])&&this.h){Gn=Gn||tt(this.ui[s.$getExtra]());let or=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){or=this.caption.reserve,or<=0&&(or=this.caption[s.$getExtra](ht).h);const tr=this.h-or-Bn-Gn.h;sr.children[0].attributes.style.height=(0,e.measureToString)(tr)}else sr.children[0].attributes.style.height="100%"}if(mr&&sr.children.push(mr),!un)return sr.attributes.class&&sr.attributes.class.push("xfaLeft"),this.w=Mn,this.h=wn,d.HTMLResult.success((0,e.createWrapper)(this,ur),fr);if(this.ui.button)return Jn.padding&&delete Jn.padding,un.name==="div"&&(un.name="span"),sr.children.push(un),d.HTMLResult.success(ur,fr);switch(this.ui.checkButton&&(un.attributes.class[0]="xfaCaptionForCheckButton"),sr.attributes.class||(sr.attributes.class=[]),sr.children.splice(0,0,un),this.caption.placement){case"left":case"inline":sr.attributes.class.push("xfaLeft");break;case"right":sr.attributes.class.push("xfaRight");break;case"top":sr.attributes.class.push("xfaTop");break;case"bottom":sr.attributes.class.push("xfaBottom")}return this.w=Mn,this.h=wn,d.HTMLResult.success((0,e.createWrapper)(this,ur),fr)}}$.Field=on;class mn extends i.XFAObject{constructor(ht){super(c,"fill",!0),this.id=ht.id||"",this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[s.$toStyle](){var Bn;const ht=this[s.$getParent](),un=ht[s.$getParent]()[s.$getParent](),Mn=Object.create(null);let wn="color",Jt=wn;ht instanceof jt&&(wn="background-color",Jt="background",un instanceof Hr&&(Mn.backgroundColor="white")),(ht instanceof Zr||ht instanceof kt)&&(wn=Jt="fill",Mn.fill="white");for(const Gn of Object.getOwnPropertyNames(this)){if(Gn==="extras"||Gn==="color")continue;const Jn=this[Gn];if(!(Jn instanceof i.XFAObject))continue;const nr=Jn[s.$toStyle](this.color);return nr&&(Mn[nr.startsWith("#")?wn:Jt]=nr),Mn}if((Bn=this.color)!=null&&Bn.value){const Gn=this.color[s.$toStyle]();Mn[Gn.startsWith("#")?wn:Jt]=Gn}return Mn}}class gn extends i.XFAObject{constructor(ht){super(c,"filter",!0),this.addRevocationInfo=(0,d.getStringOption)(ht.addRevocationInfo,["","required","optional","none"]),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.version=(0,d.getInteger)({data:this.version,defaultValue:5,validate:un=>un>=1&&un<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class dn extends i.ContentObject{constructor(ht){super(c,"float"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$finalize](){const ht=parseFloat(this[s.$content].trim());this[s.$content]=isNaN(ht)?null:ht}[s.$toHTML](ht){return rt(this[s.$content]!==null?this[s.$content].toString():"")}}class Sn extends i.XFAObject{constructor(ht){super(c,"font",!0),this.baselineShift=(0,d.getMeasurement)(ht.baselineShift),this.fontHorizontalScale=(0,d.getFloat)({data:ht.fontHorizontalScale,defaultValue:100,validate:un=>un>=0}),this.fontVerticalScale=(0,d.getFloat)({data:ht.fontVerticalScale,defaultValue:100,validate:un=>un>=0}),this.id=ht.id||"",this.kerningMode=(0,d.getStringOption)(ht.kerningMode,["none","pair"]),this.letterSpacing=(0,d.getMeasurement)(ht.letterSpacing,"0"),this.lineThrough=(0,d.getInteger)({data:ht.lineThrough,defaultValue:0,validate:un=>un===1||un===2}),this.lineThroughPeriod=(0,d.getStringOption)(ht.lineThroughPeriod,["all","word"]),this.overline=(0,d.getInteger)({data:ht.overline,defaultValue:0,validate:un=>un===1||un===2}),this.overlinePeriod=(0,d.getStringOption)(ht.overlinePeriod,["all","word"]),this.posture=(0,d.getStringOption)(ht.posture,["normal","italic"]),this.size=(0,d.getMeasurement)(ht.size,"10pt"),this.typeface=ht.typeface||"Courier",this.underline=(0,d.getInteger)({data:ht.underline,defaultValue:0,validate:un=>un===1||un===2}),this.underlinePeriod=(0,d.getStringOption)(ht.underlinePeriod,["all","word"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.weight=(0,d.getStringOption)(ht.weight,["normal","bold"]),this.extras=null,this.fill=null}[s.$clean](ht){super[s.$clean](ht),this[s.$globalData].usedTypefaces.add(this.typeface)}[s.$toStyle](){const ht=(0,e.toStyle)(this,"fill"),un=ht.color;return un&&(un==="#000000"?delete ht.color:un.startsWith("#")||(ht.background=un,ht.backgroundClip="text",ht.color="transparent")),this.baselineShift&&(ht.verticalAlign=(0,e.measureToString)(this.baselineShift)),ht.fontKerning=this.kerningMode==="none"?"none":"normal",ht.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(ht.textDecoration="line-through",this.lineThrough===2&&(ht.textDecorationStyle="double")),this.overline!==0&&(ht.textDecoration="overline",this.overline===2&&(ht.textDecorationStyle="double")),ht.fontStyle=this.posture,ht.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[s.$globalData].fontFinder,ht),this.underline!==0&&(ht.textDecoration="underline",this.underline===2&&(ht.textDecorationStyle="double")),ht.fontWeight=this.weight,ht}}class bn extends i.XFAObject{constructor(ht){super(c,"format",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.picture=null}}class yn extends i.StringObject{constructor(ht){super(c,"handler"),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||""}}class pn extends i.XFAObject{constructor(ht){super(c,"hyphenation"),this.excludeAllCaps=(0,d.getInteger)({data:ht.excludeAllCaps,defaultValue:0,validate:un=>un===1}),this.excludeInitialCap=(0,d.getInteger)({data:ht.excludeInitialCap,defaultValue:0,validate:un=>un===1}),this.hyphenate=(0,d.getInteger)({data:ht.hyphenate,defaultValue:0,validate:un=>un===1}),this.id=ht.id||"",this.pushCharacterCount=(0,d.getInteger)({data:ht.pushCharacterCount,defaultValue:3,validate:un=>un>=0}),this.remainCharacterCount=(0,d.getInteger)({data:ht.remainCharacterCount,defaultValue:3,validate:un=>un>=0}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.wordCharacterCount=(0,d.getInteger)({data:ht.wordCharacterCount,defaultValue:7,validate:un=>un>=0})}}class Dn extends i.StringObject{constructor(ht){super(c,"image"),this.aspect=(0,d.getStringOption)(ht.aspect,["fit","actual","height","none","width"]),this.contentType=ht.contentType||"",this.href=ht.href||"",this.id=ht.id||"",this.name=ht.name||"",this.transferEncoding=(0,d.getStringOption)(ht.transferEncoding,["base64","none","package"]),this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$toHTML](){if(this.contentType&&!ct.has(this.contentType.toLowerCase()))return d.HTMLResult.EMPTY;let ht=this[s.$globalData].images&&this[s.$globalData].images.get(this.href);if(!ht&&(this.href||!this[s.$content])||(ht||this.transferEncoding!=="base64"||(ht=(0,ut.stringToBytes)(atob(this[s.$content]))),!ht))return d.HTMLResult.EMPTY;if(!this.contentType){for(const[Jt,Bn]of it)if(ht.length>Jt.length&&Jt.every((Gn,Jn)=>Gn===ht[Jn])){this.contentType=Bn;break}if(!this.contentType)return d.HTMLResult.EMPTY}const un=new Blob([ht],{type:this.contentType});let Mn;switch(this.aspect){case"fit":case"actual":break;case"height":Mn={height:"100%",objectFit:"fill"};break;case"none":Mn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Mn={width:"100%",objectFit:"fill"}}const wn=this[s.$getParent]();return d.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Mn,src:URL.createObjectURL(un),alt:wn?Et(wn[s.$getParent]()):null}})}}class Tn extends i.XFAObject{constructor(ht){super(c,"imageEdit",!0),this.data=(0,d.getStringOption)(ht.data,["link","embed"]),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](ht){return this.data==="embed"?d.HTMLResult.success({name:"div",children:[],attributes:{}}):d.HTMLResult.EMPTY}}class _n extends i.ContentObject{constructor(ht){super(c,"integer"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$finalize](){const ht=parseInt(this[s.$content].trim(),10);this[s.$content]=isNaN(ht)?null:ht}[s.$toHTML](ht){return rt(this[s.$content]!==null?this[s.$content].toString():"")}}class $n extends i.XFAObject{constructor(ht){super(c,"issuers",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.certificate=new i.XFAObjectArray}}class Xn extends i.XFAObject{constructor(ht){super(c,"items",!0),this.id=ht.id||"",this.name=ht.name||"",this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.ref=ht.ref||"",this.save=(0,d.getInteger)({data:ht.save,defaultValue:0,validate:un=>un===1}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}[s.$toHTML](){const ht=[];for(const un of this[s.$getChildren]())ht.push(un[s.$text]());return d.HTMLResult.success(ht)}}$.Items=Xn;class Un extends i.XFAObject{constructor(ht){super(c,"keep",!0),this.id=ht.id||"";const un=["none","contentArea","pageArea"];this.intact=(0,d.getStringOption)(ht.intact,un),this.next=(0,d.getStringOption)(ht.next,un),this.previous=(0,d.getStringOption)(ht.previous,un),this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null}}class zn extends i.XFAObject{constructor(ht){super(c,"keyUsage");const un=["","yes","no"];this.crlSign=(0,d.getStringOption)(ht.crlSign,un),this.dataEncipherment=(0,d.getStringOption)(ht.dataEncipherment,un),this.decipherOnly=(0,d.getStringOption)(ht.decipherOnly,un),this.digitalSignature=(0,d.getStringOption)(ht.digitalSignature,un),this.encipherOnly=(0,d.getStringOption)(ht.encipherOnly,un),this.id=ht.id||"",this.keyAgreement=(0,d.getStringOption)(ht.keyAgreement,un),this.keyCertSign=(0,d.getStringOption)(ht.keyCertSign,un),this.keyEncipherment=(0,d.getStringOption)(ht.keyEncipherment,un),this.nonRepudiation=(0,d.getStringOption)(ht.nonRepudiation,un),this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||""}}class Wn extends i.XFAObject{constructor(ht){super(c,"line",!0),this.hand=(0,d.getStringOption)(ht.hand,["even","left","right"]),this.id=ht.id||"",this.slope=(0,d.getStringOption)(ht.slope,["\\","/"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.edge=null}[s.$toHTML](){const ht=this[s.$getParent]()[s.$getParent](),un=this.edge||new cn({}),Mn=un[s.$toStyle](),wn=Object.create(null),Jt=un.presence==="visible"?un.thickness:0;wn.strokeWidth=(0,e.measureToString)(Jt),wn.stroke=Mn.color;let Bn,Gn,Jn,nr,ar="100%",cr="100%";ht.w<=Jt?([Bn,Gn,Jn,nr]=["50%",0,"50%","100%"],ar=wn.strokeWidth):ht.h<=Jt?([Bn,Gn,Jn,nr]=[0,"50%","100%","50%"],cr=wn.strokeWidth):this.slope==="\\"?[Bn,Gn,Jn,nr]=[0,0,"100%","100%"]:[Bn,Gn,Jn,nr]=[0,"100%","100%",0];const ur={name:"svg",children:[{name:"line",attributes:{xmlns:lt,x1:Bn,y1:Gn,x2:Jn,y2:nr,style:wn}}],attributes:{xmlns:lt,width:ar,height:cr,style:{overflow:"visible"}}};return ot(ht)?d.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ur]}):(ur.attributes.style.position="absolute",d.HTMLResult.success(ur))}}class Kn extends i.XFAObject{constructor(ht){super(c,"linear",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["toRight","toBottom","toLeft","toTop"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.color=null,this.extras=null}[s.$toStyle](ht){return ht=ht?ht[s.$toStyle]():"#FFFFFF",`linear-gradient(${this.type.replace(/([RBLT])/," $1").toLowerCase()}, ${ht}, ${this.color?this.color[s.$toStyle]():"#000000"})`}}class rr extends i.ContentObject{constructor(ht){super(c,"lockDocument"),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$finalize](){this[s.$content]=(0,d.getStringOption)(this[s.$content],["auto","0","1"])}}class Vn extends i.XFAObject{constructor(ht){super(c,"manifest",!0),this.action=(0,d.getStringOption)(ht.action,["include","all","exclude"]),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.ref=new i.XFAObjectArray}}class Hn extends i.XFAObject{constructor(ht){super(c,"margin",!0),this.bottomInset=(0,d.getMeasurement)(ht.bottomInset,"0"),this.id=ht.id||"",this.leftInset=(0,d.getMeasurement)(ht.leftInset,"0"),this.rightInset=(0,d.getMeasurement)(ht.rightInset,"0"),this.topInset=(0,d.getMeasurement)(ht.topInset,"0"),this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null}[s.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class qn extends i.XFAObject{constructor(ht){super(c,"mdp"),this.id=ht.id||"",this.permissions=(0,d.getInteger)({data:ht.permissions,defaultValue:2,validate:un=>un===1||un===3}),this.signatureType=(0,d.getStringOption)(ht.signatureType,["filler","author"]),this.use=ht.use||"",this.usehref=ht.usehref||""}}class Qn extends i.XFAObject{constructor(ht){super(c,"medium"),this.id=ht.id||"",this.imagingBBox=(0,d.getBBox)(ht.imagingBBox),this.long=(0,d.getMeasurement)(ht.long),this.orientation=(0,d.getStringOption)(ht.orientation,["portrait","landscape"]),this.short=(0,d.getMeasurement)(ht.short),this.stock=ht.stock||"",this.trayIn=(0,d.getStringOption)(ht.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,d.getStringOption)(ht.trayOut,["auto","delegate"]),this.use=ht.use||"",this.usehref=ht.usehref||""}}class Yn extends i.XFAObject{constructor(ht){super(c,"message",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.text=new i.XFAObjectArray}}class Zn extends i.XFAObject{constructor(ht){super(c,"numericEdit",!0),this.hScrollPolicy=(0,d.getStringOption)(ht.hScrollPolicy,["auto","off","on"]),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](ht){var Jt;const un=(0,e.toStyle)(this,"border","font","margin"),Mn=this[s.$getParent]()[s.$getParent](),wn={name:"input",attributes:{type:"text",fieldId:Mn[s.$uid],dataId:((Jt=Mn[s.$data])==null?void 0:Jt[s.$uid])||Mn[s.$uid],class:["xfaTextfield"],style:un,"aria-label":Et(Mn),"aria-required":!1}};return Nt(Mn)&&(wn.attributes["aria-required"]=!0,wn.attributes.required=!0),d.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[wn]})}}class er extends i.XFAObject{constructor(ht){super(c,"occur",!0),this.id=ht.id||"",this.initial=ht.initial!==""?(0,d.getInteger)({data:ht.initial,defaultValue:"",validate:un=>!0}):"",this.max=ht.max!==""?(0,d.getInteger)({data:ht.max,defaultValue:1,validate:un=>!0}):"",this.min=ht.min!==""?(0,d.getInteger)({data:ht.min,defaultValue:1,validate:un=>!0}):"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null}[s.$clean](){const ht=this[s.$getParent](),un=this.min;this.min===""&&(this.min=ht instanceof vr||ht instanceof Fr?0:1),this.max===""&&(this.max=un===""?ht instanceof vr||ht instanceof Fr?-1:1:this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=ht instanceof Ur?1:this.min)}}class lr extends i.StringObject{constructor(ht){super(c,"oid"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class pr extends i.XFAObject{constructor(ht){super(c,"oids",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.oid=new i.XFAObjectArray}}class Cr extends i.XFAObject{constructor(ht){super(c,"overflow"),this.id=ht.id||"",this.leader=ht.leader||"",this.target=ht.target||"",this.trailer=ht.trailer||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$getExtra](){if(!this[s.$extra]){const ht=this[s.$getParent](),un=this[s.$getTemplateRoot](),Mn=un[s.$searchNode](this.target,ht),wn=un[s.$searchNode](this.leader,ht),Jt=un[s.$searchNode](this.trailer,ht);this[s.$extra]={target:(Mn==null?void 0:Mn[0])||null,leader:(wn==null?void 0:wn[0])||null,trailer:(Jt==null?void 0:Jt[0])||null,addLeader:!1,addTrailer:!1}}return this[s.$extra]}}class vr extends i.XFAObject{constructor(ht){super(c,"pageArea",!0),this.blankOrNotBlank=(0,d.getStringOption)(ht.blankOrNotBlank,["any","blank","notBlank"]),this.id=ht.id||"",this.initialNumber=(0,d.getInteger)({data:ht.initialNumber,defaultValue:1,validate:un=>!0}),this.name=ht.name||"",this.numbered=(0,d.getInteger)({data:ht.numbered,defaultValue:1,validate:un=>!0}),this.oddOrEven=(0,d.getStringOption)(ht.oddOrEven,["any","even","odd"]),this.pagePosition=(0,d.getStringOption)(ht.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,d.getRelevant)(ht.relevant),this.use=ht.use||"",this.usehref=ht.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new i.XFAObjectArray,this.contentArea=new i.XFAObjectArray,this.draw=new i.XFAObjectArray,this.exclGroup=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.subform=new i.XFAObjectArray}[s.$isUsable](){return this[s.$extra]?!this.occur||this.occur.max===-1||this[s.$extra].numberOfUse<this.occur.max:(this[s.$extra]={numberOfUse:0},!0)}[s.$cleanPage](){delete this[s.$extra]}[s.$getNextPage](){this[s.$extra]||(this[s.$extra]={numberOfUse:0});const ht=this[s.$getParent]();return ht.relation==="orderedOccurrence"&&this[s.$isUsable]()?(this[s.$extra].numberOfUse+=1,this):ht[s.$getNextPage]()}[s.$getAvailableSpace](){return this[s.$extra].space||{width:0,height:0}}[s.$toHTML](){this[s.$extra]||(this[s.$extra]={numberOfUse:1});const ht=[];this[s.$extra].children=ht;const un=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(un.width=(0,e.measureToString)(this.medium.short),un.height=(0,e.measureToString)(this.medium.long),this[s.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const Mn=un.width;un.width=un.height,un.height=Mn,this[s.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,ut.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[s.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[s.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),d.HTMLResult.success({name:"div",children:ht,attributes:{class:["xfaPage"],id:this[s.$uid],style:un,xfaName:this.name}})}}class Fr extends i.XFAObject{constructor(ht){super(c,"pageSet",!0),this.duplexImposition=(0,d.getStringOption)(ht.duplexImposition,["longEdge","shortEdge"]),this.id=ht.id||"",this.name=ht.name||"",this.relation=(0,d.getStringOption)(ht.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,d.getRelevant)(ht.relevant),this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.occur=null,this.pageArea=new i.XFAObjectArray,this.pageSet=new i.XFAObjectArray}[s.$cleanPage](){for(const ht of this.pageArea.children)ht[s.$cleanPage]();for(const ht of this.pageSet.children)ht[s.$cleanPage]()}[s.$isUsable](){return!this.occur||this.occur.max===-1||this[s.$extra].numberOfUse<this.occur.max}[s.$getNextPage](){if(this[s.$extra]||(this[s.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[s.$extra].pageIndex+1<this.pageArea.children.length)return this[s.$extra].pageIndex+=1,this.pageArea.children[this[s.$extra].pageIndex][s.$getNextPage]();if(this[s.$extra].pageSetIndex+1<this.pageSet.children.length)return this[s.$extra].pageSetIndex+=1,this.pageSet.children[this[s.$extra].pageSetIndex][s.$getNextPage]();if(this[s.$isUsable]())return this[s.$extra].numberOfUse+=1,this[s.$extra].pageIndex=-1,this[s.$extra].pageSetIndex=-1,this[s.$getNextPage]();const Jt=this[s.$getParent]();return Jt instanceof Fr?Jt[s.$getNextPage]():(this[s.$cleanPage](),this[s.$getNextPage]())}const ht=this[s.$getTemplateRoot]()[s.$extra].pageNumber,un=ht%2==0?"even":"odd",Mn=ht===0?"first":"rest";let wn=this.pageArea.children.find(Jt=>Jt.oddOrEven===un&&Jt.pagePosition===Mn);return wn||(wn=this.pageArea.children.find(Jt=>Jt.oddOrEven==="any"&&Jt.pagePosition===Mn),wn)?wn:(wn=this.pageArea.children.find(Jt=>Jt.oddOrEven==="any"&&Jt.pagePosition==="any"),wn||this.pageArea.children[0])}}class ms extends i.XFAObject{constructor(ht){super(c,"para",!0),this.hAlign=(0,d.getStringOption)(ht.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ht.id||"",this.lineHeight=ht.lineHeight?(0,d.getMeasurement)(ht.lineHeight,"0pt"):"",this.marginLeft=ht.marginLeft?(0,d.getMeasurement)(ht.marginLeft,"0pt"):"",this.marginRight=ht.marginRight?(0,d.getMeasurement)(ht.marginRight,"0pt"):"",this.orphans=(0,d.getInteger)({data:ht.orphans,defaultValue:0,validate:un=>un>=0}),this.preserve=ht.preserve||"",this.radixOffset=ht.radixOffset?(0,d.getMeasurement)(ht.radixOffset,"0pt"):"",this.spaceAbove=ht.spaceAbove?(0,d.getMeasurement)(ht.spaceAbove,"0pt"):"",this.spaceBelow=ht.spaceBelow?(0,d.getMeasurement)(ht.spaceBelow,"0pt"):"",this.tabDefault=ht.tabDefault?(0,d.getMeasurement)(this.tabDefault):"",this.tabStops=(ht.tabStops||"").trim().split(/\s+/).map((un,Mn)=>Mn%2==1?(0,d.getMeasurement)(un):un),this.textIndent=ht.textIndent?(0,d.getMeasurement)(ht.textIndent,"0pt"):"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.vAlign=(0,d.getStringOption)(ht.vAlign,["top","bottom","middle"]),this.widows=(0,d.getInteger)({data:ht.widows,defaultValue:0,validate:un=>un>=0}),this.hyphenation=null}[s.$toStyle](){const ht=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(ht.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(ht.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(ht.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(ht.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(ht.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(ht)),this.lineHeight>0&&(ht.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(ht.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length,this.hyphenatation&&Object.assign(ht,this.hyphenatation[s.$toStyle]()),ht}}class bs extends i.XFAObject{constructor(ht){super(c,"passwordEdit",!0),this.hScrollPolicy=(0,d.getStringOption)(ht.hScrollPolicy,["auto","off","on"]),this.id=ht.id||"",this.passwordChar=ht.passwordChar||"*",this.use=ht.use||"",this.usehref=ht.usehref||"",this.border=null,this.extras=null,this.margin=null}}class ys extends i.XFAObject{constructor(ht){super(c,"pattern",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.color=null,this.extras=null}[s.$toStyle](ht){ht=ht?ht[s.$toStyle]():"#FFFFFF";const un=this.color?this.color[s.$toStyle]():"#000000",Mn="repeating-linear-gradient",wn=`${ht},${ht} 5px,${un} 5px,${un} 10px`;switch(this.type){case"crossHatch":return`${Mn}(to top,${wn}) ${Mn}(to right,${wn})`;case"crossDiagonal":return`${Mn}(45deg,${wn}) ${Mn}(-45deg,${wn})`;case"diagonalLeft":return`${Mn}(45deg,${wn})`;case"diagonalRight":return`${Mn}(-45deg,${wn})`;case"horizontal":return`${Mn}(to top,${wn})`;case"vertical":return`${Mn}(to right,${wn})`}return""}}class ws extends i.StringObject{constructor(ht){super(c,"picture"),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class xs extends i.XFAObject{constructor(ht){super(c,"proto",!0),this.appearanceFilter=new i.XFAObjectArray,this.arc=new i.XFAObjectArray,this.area=new i.XFAObjectArray,this.assist=new i.XFAObjectArray,this.barcode=new i.XFAObjectArray,this.bindItems=new i.XFAObjectArray,this.bookend=new i.XFAObjectArray,this.boolean=new i.XFAObjectArray,this.border=new i.XFAObjectArray,this.break=new i.XFAObjectArray,this.breakAfter=new i.XFAObjectArray,this.breakBefore=new i.XFAObjectArray,this.button=new i.XFAObjectArray,this.calculate=new i.XFAObjectArray,this.caption=new i.XFAObjectArray,this.certificate=new i.XFAObjectArray,this.certificates=new i.XFAObjectArray,this.checkButton=new i.XFAObjectArray,this.choiceList=new i.XFAObjectArray,this.color=new i.XFAObjectArray,this.comb=new i.XFAObjectArray,this.connect=new i.XFAObjectArray,this.contentArea=new i.XFAObjectArray,this.corner=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.dateTimeEdit=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.defaultUi=new i.XFAObjectArray,this.desc=new i.XFAObjectArray,this.digestMethod=new i.XFAObjectArray,this.digestMethods=new i.XFAObjectArray,this.draw=new i.XFAObjectArray,this.edge=new i.XFAObjectArray,this.encoding=new i.XFAObjectArray,this.encodings=new i.XFAObjectArray,this.encrypt=new i.XFAObjectArray,this.encryptData=new i.XFAObjectArray,this.encryption=new i.XFAObjectArray,this.encryptionMethod=new i.XFAObjectArray,this.encryptionMethods=new i.XFAObjectArray,this.event=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.exObject=new i.XFAObjectArray,this.exclGroup=new i.XFAObjectArray,this.execute=new i.XFAObjectArray,this.extras=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.fill=new i.XFAObjectArray,this.filter=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.font=new i.XFAObjectArray,this.format=new i.XFAObjectArray,this.handler=new i.XFAObjectArray,this.hyphenation=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.imageEdit=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.issuers=new i.XFAObjectArray,this.items=new i.XFAObjectArray,this.keep=new i.XFAObjectArray,this.keyUsage=new i.XFAObjectArray,this.line=new i.XFAObjectArray,this.linear=new i.XFAObjectArray,this.lockDocument=new i.XFAObjectArray,this.manifest=new i.XFAObjectArray,this.margin=new i.XFAObjectArray,this.mdp=new i.XFAObjectArray,this.medium=new i.XFAObjectArray,this.message=new i.XFAObjectArray,this.numericEdit=new i.XFAObjectArray,this.occur=new i.XFAObjectArray,this.oid=new i.XFAObjectArray,this.oids=new i.XFAObjectArray,this.overflow=new i.XFAObjectArray,this.pageArea=new i.XFAObjectArray,this.pageSet=new i.XFAObjectArray,this.para=new i.XFAObjectArray,this.passwordEdit=new i.XFAObjectArray,this.pattern=new i.XFAObjectArray,this.picture=new i.XFAObjectArray,this.radial=new i.XFAObjectArray,this.reason=new i.XFAObjectArray,this.reasons=new i.XFAObjectArray,this.rectangle=new i.XFAObjectArray,this.ref=new i.XFAObjectArray,this.script=new i.XFAObjectArray,this.setProperty=new i.XFAObjectArray,this.signData=new i.XFAObjectArray,this.signature=new i.XFAObjectArray,this.signing=new i.XFAObjectArray,this.solid=new i.XFAObjectArray,this.speak=new i.XFAObjectArray,this.stipple=new i.XFAObjectArray,this.subform=new i.XFAObjectArray,this.subformSet=new i.XFAObjectArray,this.subjectDN=new i.XFAObjectArray,this.subjectDNs=new i.XFAObjectArray,this.submit=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.textEdit=new i.XFAObjectArray,this.time=new i.XFAObjectArray,this.timeStamp=new i.XFAObjectArray,this.toolTip=new i.XFAObjectArray,this.traversal=new i.XFAObjectArray,this.traverse=new i.XFAObjectArray,this.ui=new i.XFAObjectArray,this.validate=new i.XFAObjectArray,this.value=new i.XFAObjectArray,this.variables=new i.XFAObjectArray}}class vs extends i.XFAObject{constructor(ht){super(c,"radial",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["toEdge","toCenter"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.color=null,this.extras=null}[s.$toStyle](ht){ht=ht?ht[s.$toStyle]():"#FFFFFF";const un=this.color?this.color[s.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${ht},${un}`:`${un},${ht}`})`}}class Ss extends i.StringObject{constructor(ht){super(c,"reason"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class As extends i.XFAObject{constructor(ht){super(c,"reasons",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.reason=new i.XFAObjectArray}}class Zr extends i.XFAObject{constructor(ht){super(c,"rectangle",!0),this.hand=(0,d.getStringOption)(ht.hand,["even","left","right"]),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.corner=new i.XFAObjectArray(4),this.edge=new i.XFAObjectArray(4),this.fill=null}[s.$toHTML](){var Bn;const ht=this.edge.children.length?this.edge.children[0]:new cn({}),un=ht[s.$toStyle](),Mn=Object.create(null);((Bn=this.fill)==null?void 0:Bn.presence)==="visible"?Object.assign(Mn,this.fill[s.$toStyle]()):Mn.fill="transparent",Mn.strokeWidth=(0,e.measureToString)(ht.presence==="visible"?ht.thickness:0),Mn.stroke=un.color;const wn=(this.corner.children.length?this.corner.children[0]:new Wt({}))[s.$toStyle](),Jt={name:"svg",children:[{name:"rect",attributes:{xmlns:lt,width:"100%",height:"100%",x:0,y:0,rx:wn.radius,ry:wn.radius,style:Mn}}],attributes:{xmlns:lt,style:{overflow:"visible"},width:"100%",height:"100%"}};return ot(this[s.$getParent]()[s.$getParent]())?d.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Jt]}):(Jt.attributes.style.position="absolute",d.HTMLResult.success(Jt))}}class ks extends i.StringObject{constructor(ht){super(c,"ref"),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class Cs extends i.StringObject{constructor(ht){super(c,"script"),this.binding=ht.binding||"",this.contentType=ht.contentType||"",this.id=ht.id||"",this.name=ht.name||"",this.runAt=(0,d.getStringOption)(ht.runAt,["client","both","server"]),this.use=ht.use||"",this.usehref=ht.usehref||""}}class Qr extends i.XFAObject{constructor(ht){super(c,"setProperty"),this.connection=ht.connection||"",this.ref=ht.ref||"",this.target=ht.target||""}}$.SetProperty=Qr;class Es extends i.XFAObject{constructor(ht){super(c,"signData",!0),this.id=ht.id||"",this.operation=(0,d.getStringOption)(ht.operation,["sign","clear","verify"]),this.ref=ht.ref||"",this.target=ht.target||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.filter=null,this.manifest=null}}class Fs extends i.XFAObject{constructor(ht){super(c,"signature",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["PDF1.3","PDF1.6"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Ts extends i.XFAObject{constructor(ht){super(c,"signing",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.certificate=new i.XFAObjectArray}}class _s extends i.XFAObject{constructor(ht){super(c,"solid",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null}[s.$toStyle](ht){return ht?ht[s.$toStyle]():"#FFFFFF"}}class Ps extends i.StringObject{constructor(ht){super(c,"speak"),this.disable=(0,d.getInteger)({data:ht.disable,defaultValue:0,validate:un=>un===1}),this.id=ht.id||"",this.priority=(0,d.getStringOption)(ht.priority,["custom","caption","name","toolTip"]),this.rid=ht.rid||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class Os extends i.XFAObject{constructor(ht){super(c,"stipple",!0),this.id=ht.id||"",this.rate=(0,d.getInteger)({data:ht.rate,defaultValue:50,validate:un=>un>=0&&un<=100}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.color=null,this.extras=null}[s.$toStyle](ht){const un=this.rate/100;return ut.Util.makeHexColor(Math.round(ht.value.r*(1-un)+this.value.r*un),Math.round(ht.value.g*(1-un)+this.value.g*un),Math.round(ht.value.b*(1-un)+this.value.b*un))}}class _i extends i.XFAObject{constructor(ht){super(c,"subform",!0),this.access=(0,d.getStringOption)(ht.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,d.getInteger)({data:ht.allowMacro,defaultValue:0,validate:un=>un===1}),this.anchorType=(0,d.getStringOption)(ht.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,d.getInteger)({data:ht.colSpan,defaultValue:1,validate:un=>un>=1||un===-1}),this.columnWidths=(ht.columnWidths||"").trim().split(/\s+/).map(un=>un==="-1"?-1:(0,d.getMeasurement)(un)),this.h=ht.h?(0,d.getMeasurement)(ht.h):"",this.hAlign=(0,d.getStringOption)(ht.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=ht.id||"",this.layout=(0,d.getStringOption)(ht.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=ht.locale||"",this.maxH=(0,d.getMeasurement)(ht.maxH,"0pt"),this.maxW=(0,d.getMeasurement)(ht.maxW,"0pt"),this.mergeMode=(0,d.getStringOption)(ht.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,d.getMeasurement)(ht.minH,"0pt"),this.minW=(0,d.getMeasurement)(ht.minW,"0pt"),this.name=ht.name||"",this.presence=(0,d.getStringOption)(ht.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,d.getRelevant)(ht.relevant),this.restoreState=(0,d.getStringOption)(ht.restoreState,["manual","auto"]),this.scope=(0,d.getStringOption)(ht.scope,["name","none"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.w=ht.w?(0,d.getMeasurement)(ht.w):"",this.x=(0,d.getMeasurement)(ht.x,"0pt"),this.y=(0,d.getMeasurement)(ht.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new i.XFAObjectArray,this.breakAfter=new i.XFAObjectArray,this.breakBefore=new i.XFAObjectArray,this.connect=new i.XFAObjectArray,this.draw=new i.XFAObjectArray,this.event=new i.XFAObjectArray,this.exObject=new i.XFAObjectArray,this.exclGroup=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.proto=new i.XFAObjectArray,this.setProperty=new i.XFAObjectArray,this.subform=new i.XFAObjectArray,this.subformSet=new i.XFAObjectArray}[s.$getSubformParent](){const ht=this[s.$getParent]();return ht instanceof $r?ht[s.$getSubformParent]():ht}[s.$isBindable](){return!0}[s.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine>0||this[s.$getParent]()[s.$isThereMoreWidth]()}*[s.$getContainedChildren](){yield*Ct(this)}[s.$flushHTML](){return(0,St.flushHTML)(this)}[s.$addHTML](ht,un){(0,St.addHTML)(this,ht,un)}[s.$getAvailableSpace](){return(0,St.getAvailableSpace)(this)}[s.$isSplittable](){var un;const ht=this[s.$getSubformParent]();return ht[s.$isSplittable]()?this[s.$extra]._isSplittable!==void 0?this[s.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[s.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[s.$extra]._isSplittable=!1,!1):(un=ht.layout)!=null&&un.endsWith("-tb")&&ht[s.$extra].numberInLine!==0?!1:(this[s.$extra]._isSplittable=!0,!0):!1}[s.$toHTML](ht){var or;if(Pt(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const tr=new Vt({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});tr[s.$globalData]=this[s.$globalData],this[s.$appendChild](tr),this.breakAfter.push(tr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const tr=new Qt({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});tr[s.$globalData]=this[s.$globalData],this[s.$appendChild](tr),this.breakBefore.push(tr)}if(this.break.overflowTarget!==""){const tr=new Cr({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});tr[s.$globalData]=this[s.$globalData],this[s.$appendChild](tr),this.overflow.push(tr)}this[s.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return d.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,ut.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const tr=this.breakBefore.children[0];if(b(tr))return d.HTMLResult.breakNode(tr)}if((or=this[s.$extra])!=null&&or.afterBreakAfter)return d.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const un=[],Mn={id:this[s.$uid],class:[]};(0,e.setAccess)(this,Mn.class),this[s.$extra]||(this[s.$extra]=Object.create(null)),Object.assign(this[s.$extra],{children:un,line:null,attributes:Mn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,ht.width),height:Math.min(this.h||1/0,ht.height)},width:0,height:0,prevHeight:0,currentWidth:0});const wn=this[s.$getTemplateRoot](),Jt=wn[s.$extra].noLayoutFailure,Bn=this[s.$isSplittable]();if(Bn||ft(this),!(0,St.checkDimensions)(this,ht))return d.HTMLResult.FAILURE;const Gn=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const tr=this[s.$getSubformParent]().columnWidths;Array.isArray(tr)&&tr.length>0&&(this[s.$extra].columnWidths=tr,this[s.$extra].currentColumn=0)}const Jn=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),nr=["xfaSubform"],ar=(0,e.layoutClass)(this);if(ar&&nr.push(ar),Mn.style=Jn,Mn.class=nr,this.name&&(Mn.xfaName=this.name),this.overflow){const tr=this.overflow[s.$getExtra]();tr.addLeader&&(tr.addLeader=!1,pt(this,tr.leader,ht))}this[s.$pushPara]();const cr=this.layout==="lr-tb"||this.layout==="rl-tb",ur=cr?2:1;for(;this[s.$extra].attempt<ur;this[s.$extra].attempt++){cr&&this[s.$extra].attempt===1&&(this[s.$extra].numberInLine=0);const tr=this[s.$childrenToHTML]({filter:Gn,include:!0});if(tr.success)break;if(tr.isBreak())return this[s.$popPara](),tr;if(cr&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine===0&&!wn[s.$extra].noLayoutFailure){this[s.$extra].attempt=ur;break}}if(this[s.$popPara](),Bn||wt(this),wn[s.$extra].noLayoutFailure=Jt,this[s.$extra].attempt===ur)return this.overflow&&(this[s.$getTemplateRoot]()[s.$extra].overflowNode=this.overflow),Bn||delete this[s.$extra],d.HTMLResult.FAILURE;if(this.overflow){const tr=this.overflow[s.$getExtra]();tr.addTrailer&&(tr.addTrailer=!1,pt(this,tr.trailer,ht))}let dr=0,fr=0;this.margin&&(dr=this.margin.leftInset+this.margin.rightInset,fr=this.margin.topInset+this.margin.bottomInset);const sr=Math.max(this[s.$extra].width+dr,this.w||0),mr=Math.max(this[s.$extra].height+fr,this.h||0),hr=[this.x,this.y,sr,mr];if(this.w===""&&(Jn.width=(0,e.measureToString)(sr)),this.h===""&&(Jn.height=(0,e.measureToString)(mr)),(Jn.width==="0px"||Jn.height==="0px")&&un.length===0)return d.HTMLResult.EMPTY;const Sr={name:"div",attributes:Mn,children:un};Tt(this,Mn);const br=d.HTMLResult.success((0,e.createWrapper)(this,Sr),hr);if(this.breakAfter.children.length>=1){const tr=this.breakAfter.children[0];if(b(tr))return this[s.$extra].afterBreakAfter=br,d.HTMLResult.breakNode(tr)}return delete this[s.$extra],br}}class $r extends i.XFAObject{constructor(ht){super(c,"subformSet",!0),this.id=ht.id||"",this.name=ht.name||"",this.relation=(0,d.getStringOption)(ht.relation,["ordered","choice","unordered"]),this.relevant=(0,d.getRelevant)(ht.relevant),this.use=ht.use||"",this.usehref=ht.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new i.XFAObjectArray,this.breakBefore=new i.XFAObjectArray,this.subform=new i.XFAObjectArray,this.subformSet=new i.XFAObjectArray}*[s.$getContainedChildren](){yield*Ct(this)}[s.$getSubformParent](){let ht=this[s.$getParent]();for(;!(ht instanceof _i);)ht=ht[s.$getParent]();return ht}[s.$isBindable](){return!0}}class Is extends i.ContentObject{constructor(ht){super(c,"subjectDN"),this.delimiter=ht.delimiter||",",this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$finalize](){this[s.$content]=new Map(this[s.$content].split(this.delimiter).map(ht=>((ht=ht.split("=",2))[0]=ht[0].trim(),ht)))}}class Ms extends i.XFAObject{constructor(ht){super(c,"subjectDNs",!0),this.id=ht.id||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.subjectDN=new i.XFAObjectArray}}class Rs extends i.XFAObject{constructor(ht){super(c,"submit",!0),this.embedPDF=(0,d.getInteger)({data:ht.embedPDF,defaultValue:0,validate:un=>un===1}),this.format=(0,d.getStringOption)(ht.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=ht.id||"",this.target=ht.target||"",this.textEncoding=(0,d.getKeyword)({data:ht.textEncoding?ht.textEncoding.toLowerCase():"",defaultValue:"",validate:un=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(un)||un.match(/iso-8859-\d{2}/)}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.xdpContent=ht.xdpContent||"",this.encrypt=null,this.encryptData=new i.XFAObjectArray,this.signData=new i.XFAObjectArray}}class Ur extends i.XFAObject{constructor(ht){super(c,"template",!0),this.baseProfile=(0,d.getStringOption)(ht.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new i.XFAObjectArray}[s.$finalize](){this.subform.children.length===0&&(0,ut.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,ut.warn)("XFA - Several subforms in template node: please file a bug."),this[s.$tabIndex]=5e3}[s.$isSplittable](){return!0}[s.$searchNode](ht,un){return ht.startsWith("#")?[this[s.$ids].get(ht.slice(1))]:(0,_.searchNode)(this,un,ht,!0,!0)}*[s.$toPages](){var fr,sr,mr;if(!this.subform.children.length)return d.HTMLResult.success({name:"div",children:[]});this[s.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const ht=this.subform.children[0];ht.pageSet[s.$cleanPage]();const un=ht.pageSet.pageArea.children,Mn={name:"div",children:[]};let wn=null,Jt=null,Bn=null;if(ht.breakBefore.children.length>=1?(Jt=ht.breakBefore.children[0],Bn=Jt.target):ht.subform.children.length>=1&&ht.subform.children[0].breakBefore.children.length>=1?(Jt=ht.subform.children[0].breakBefore.children[0],Bn=Jt.target):(fr=ht.break)!=null&&fr.beforeTarget?(Jt=ht.break,Bn=Jt.beforeTarget):ht.subform.children.length>=1&&((sr=ht.subform.children[0].break)!=null&&sr.beforeTarget)&&(Jt=ht.subform.children[0].break,Bn=Jt.beforeTarget),Jt){const hr=this[s.$searchNode](Bn,Jt[s.$getParent]());hr instanceof vr&&(wn=hr,Jt[s.$extra]={})}wn||(wn=un[0]),wn[s.$extra]={numberOfUse:1};const Gn=wn[s.$getParent]();Gn[s.$extra]={numberOfUse:1,pageIndex:Gn.pageArea.children.indexOf(wn),pageSetIndex:0};let Jn,nr=null,ar=null,cr=!0,ur=0,dr=0;for(;;){if(cr)ur=0;else if(Mn.children.pop(),++ur==3)return(0,ut.warn)("XFA - Something goes wrong: please file a bug."),Mn;Jn=null,this[s.$extra].currentPageArea=wn;const hr=wn[s.$toHTML]().html;Mn.children.push(hr),nr&&(this[s.$extra].noLayoutFailure=!0,hr.children.push(nr[s.$toHTML](wn[s.$extra].space).html),nr=null),ar&&(this[s.$extra].noLayoutFailure=!0,hr.children.push(ar[s.$toHTML](wn[s.$extra].space).html),ar=null);const Sr=wn.contentArea.children,br=hr.children.filter(tr=>tr.attributes.class.includes("xfaContentarea"));cr=!1,this[s.$extra].firstUnsplittable=null,this[s.$extra].noLayoutFailure=!1;const or=tr=>{var yr;const xr=ht[s.$flushHTML]();xr&&(cr||(cr=((yr=xr.children)==null?void 0:yr.length)>0),br[tr].children.push(xr))};for(let tr=dr,xr=Sr.length;tr<xr;tr++){const yr=this[s.$extra].currentContentArea=Sr[tr],Er={width:yr.w,height:yr.h};dr=0,nr&&(br[tr].children.push(nr[s.$toHTML](Er).html),nr=null),ar&&(br[tr].children.push(ar[s.$toHTML](Er).html),ar=null);const Ar=ht[s.$toHTML](Er);if(Ar.success)return Ar.html?(cr||(cr=((mr=Ar.html.children)==null?void 0:mr.length)>0),br[tr].children.push(Ar.html)):!cr&&Mn.children.length>1&&Mn.children.pop(),Mn;if(Ar.isBreak()){const gr=Ar.breakNode;if(or(tr),gr.targetType==="auto")continue;gr.leader&&(nr=this[s.$searchNode](gr.leader,gr[s.$getParent]()),nr=nr?nr[0]:null),gr.trailer&&(ar=this[s.$searchNode](gr.trailer,gr[s.$getParent]()),ar=ar?ar[0]:null),gr.targetType==="pageArea"?(Jn=gr[s.$extra].target,tr=1/0):gr[s.$extra].target?(Jn=gr[s.$extra].target,dr=gr[s.$extra].index+1,tr=1/0):tr=gr[s.$extra].index}else if(this[s.$extra].overflowNode){const gr=this[s.$extra].overflowNode;this[s.$extra].overflowNode=null;const Xr=gr[s.$getExtra](),Or=Xr.target;Xr.addLeader=Xr.leader!==null,Xr.addTrailer=Xr.trailer!==null,or(tr);const Vl=tr;if(tr=1/0,Or instanceof vr)Jn=Or;else if(Or instanceof qt){const ba=Sr.indexOf(Or);ba!==-1?ba>Vl?tr=ba-1:dr=ba:(Jn=Or[s.$getParent](),dr=Jn.contentArea.children.indexOf(Or))}}else or(tr)}this[s.$extra].pageNumber+=1,Jn&&(Jn[s.$isUsable]()?Jn[s.$extra].numberOfUse+=1:Jn=null),wn=Jn||wn[s.$getNextPage](),yield null}}}$.Template=Ur;class na extends i.ContentObject{constructor(ht){super(c,"text"),this.id=ht.id||"",this.maxChars=(0,d.getInteger)({data:ht.maxChars,defaultValue:0,validate:un=>un>=0}),this.name=ht.name||"",this.rid=ht.rid||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$acceptWhitespace](){return!0}[s.$onChild](ht){return ht[s.$namespaceId]===bt.NamespaceIds.xhtml.id?(this[s.$content]=ht,!0):((0,ut.warn)(`XFA - Invalid content in Text: ${ht[s.$nodeName]}.`),!1)}[s.$onText](ht){this[s.$content]instanceof i.XFAObject||super[s.$onText](ht)}[s.$finalize](){typeof this[s.$content]=="string"&&(this[s.$content]=this[s.$content].replaceAll(`\r
`,`
`))}[s.$getExtra](){return typeof this[s.$content]=="string"?this[s.$content].split(/[\u2029\u2028\n]/).reduce((ht,un)=>(un&&ht.push(un),ht),[]).join(`
`):this[s.$content][s.$text]()}[s.$toHTML](ht){if(typeof this[s.$content]=="string"){const un=rt(this[s.$content]).html;return this[s.$content].includes("\u2029")?(un.name="div",un.children=[],this[s.$content].split("\u2029").map(Mn=>Mn.split(/[\u2028\n]/).reduce((wn,Jt)=>(wn.push({name:"span",value:Jt},{name:"br"}),wn),[])).forEach(Mn=>{un.children.push({name:"p",children:Mn})})):/[\u2028\n]/.test(this[s.$content])&&(un.name="div",un.children=[],this[s.$content].split(/[\u2028\n]/).forEach(Mn=>{un.children.push({name:"span",value:Mn},{name:"br"})})),d.HTMLResult.success(un)}return this[s.$content][s.$toHTML](ht)}}$.Text=na;class ga extends i.XFAObject{constructor(ht){super(c,"textEdit",!0),this.allowRichText=(0,d.getInteger)({data:ht.allowRichText,defaultValue:0,validate:un=>un===1}),this.hScrollPolicy=(0,d.getStringOption)(ht.hScrollPolicy,["auto","off","on"]),this.id=ht.id||"",this.multiLine=(0,d.getInteger)({data:ht.multiLine,defaultValue:"",validate:un=>un===0||un===1}),this.use=ht.use||"",this.usehref=ht.usehref||"",this.vScrollPolicy=(0,d.getStringOption)(ht.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](ht){var Jt,Bn;const un=(0,e.toStyle)(this,"border","font","margin");let Mn;const wn=this[s.$getParent]()[s.$getParent]();return this.multiLine===""&&(this.multiLine=wn instanceof An?1:0),Mn=this.multiLine===1?{name:"textarea",attributes:{dataId:((Jt=wn[s.$data])==null?void 0:Jt[s.$uid])||wn[s.$uid],fieldId:wn[s.$uid],class:["xfaTextfield"],style:un,"aria-label":Et(wn),"aria-required":!1}}:{name:"input",attributes:{type:"text",dataId:((Bn=wn[s.$data])==null?void 0:Bn[s.$uid])||wn[s.$uid],fieldId:wn[s.$uid],class:["xfaTextfield"],style:un,"aria-label":Et(wn),"aria-required":!1}},Nt(wn)&&(Mn.attributes["aria-required"]=!0,Mn.attributes.required=!0),d.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Mn]})}}class Ds extends i.StringObject{constructor(ht){super(c,"time"),this.id=ht.id||"",this.name=ht.name||"",this.use=ht.use||"",this.usehref=ht.usehref||""}[s.$finalize](){const ht=this[s.$content].trim();this[s.$content]=ht?new Date(ht):null}[s.$toHTML](ht){return rt(this[s.$content]?this[s.$content].toString():"")}}class Ns extends i.XFAObject{constructor(ht){super(c,"timeStamp"),this.id=ht.id||"",this.server=ht.server||"",this.type=(0,d.getStringOption)(ht.type,["optional","required"]),this.use=ht.use||"",this.usehref=ht.usehref||""}}class Ls extends i.StringObject{constructor(ht){super(c,"toolTip"),this.id=ht.id||"",this.rid=ht.rid||"",this.use=ht.use||"",this.usehref=ht.usehref||""}}class js extends i.XFAObject{constructor(ht){super(c,"traversal",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.traverse=new i.XFAObjectArray}}class Bs extends i.XFAObject{constructor(ht){super(c,"traverse",!0),this.id=ht.id||"",this.operation=(0,d.getStringOption)(ht.operation,["next","back","down","first","left","right","up"]),this.ref=ht.ref||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[s.$isTransparent](){return!1}}class Hr extends i.XFAObject{constructor(ht){super(c,"ui",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[s.$getExtra](){if(this[s.$extra]===void 0){for(const ht of Object.getOwnPropertyNames(this)){if(ht==="extras"||ht==="picture")continue;const un=this[ht];if(un instanceof i.XFAObject)return this[s.$extra]=un,un}this[s.$extra]=null}return this[s.$extra]}[s.$toHTML](ht){const un=this[s.$getExtra]();return un?un[s.$toHTML](ht):d.HTMLResult.EMPTY}}class $s extends i.XFAObject{constructor(ht){super(c,"validate",!0),this.formatTest=(0,d.getStringOption)(ht.formatTest,["warning","disabled","error"]),this.id=ht.id||"",this.nullTest=(0,d.getStringOption)(ht.nullTest,["disabled","error","warning"]),this.scriptTest=(0,d.getStringOption)(ht.scriptTest,["error","disabled","warning"]),this.use=ht.use||"",this.usehref=ht.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class _r extends i.XFAObject{constructor(ht){super(c,"value",!0),this.id=ht.id||"",this.override=(0,d.getInteger)({data:ht.override,defaultValue:0,validate:un=>un===1}),this.relevant=(0,d.getRelevant)(ht.relevant),this.use=ht.use||"",this.usehref=ht.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[s.$setValue](ht){var wn;const un=this[s.$getParent]();if(un instanceof on&&((wn=un.ui)!=null&&wn.imageEdit)){this.image||(this.image=new Dn({}),this[s.$appendChild](this.image)),this.image[s.$content]=ht[s.$content];return}const Mn=ht[s.$nodeName];if(this[Mn]===null){for(const Jt of Object.getOwnPropertyNames(this)){const Bn=this[Jt];Bn instanceof i.XFAObject&&(this[Jt]=null,this[s.$removeChild](Bn))}this[ht[s.$nodeName]]=ht,this[s.$appendChild](ht)}else this[Mn][s.$content]=ht[s.$content]}[s.$text](){if(this.exData)return typeof this.exData[s.$content]=="string"?this.exData[s.$content].trim():this.exData[s.$content][s.$text]().trim();for(const ht of Object.getOwnPropertyNames(this)){if(ht==="image")continue;const un=this[ht];if(un instanceof i.XFAObject)return(un[s.$content]||"").toString().trim()}return null}[s.$toHTML](ht){for(const un of Object.getOwnPropertyNames(this)){const Mn=this[un];if(Mn instanceof i.XFAObject)return Mn[s.$toHTML](ht)}return d.HTMLResult.EMPTY}}$.Value=_r;class Us extends i.XFAObject{constructor(ht){super(c,"variables",!0),this.id=ht.id||"",this.use=ht.use||"",this.usehref=ht.usehref||"",this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.manifest=new i.XFAObjectArray,this.script=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}[s.$isTransparent](){return!0}}class Pr{static[bt.$buildXFAObject](ht,un){if(Pr.hasOwnProperty(ht)){const Mn=Pr[ht](un);return Mn[s.$setSetAttributes](un),Mn}}static appearanceFilter(ht){return new Ot(ht)}static arc(ht){return new kt(ht)}static area(ht){return new st(ht)}static assist(ht){return new nt(ht)}static barcode(ht){return new gt(ht)}static bind(ht){return new Ft(ht)}static bindItems(ht){return new yt(ht)}static bookend(ht){return new vt(ht)}static boolean(ht){return new Lt(ht)}static border(ht){return new jt(ht)}static break(ht){return new Ht(ht)}static breakAfter(ht){return new Vt(ht)}static breakBefore(ht){return new Qt(ht)}static button(ht){return new _e(ht)}static calculate(ht){return new Xt(ht)}static caption(ht){return new Dt(ht)}static certificate(ht){return new It(ht)}static certificates(ht){return new j(ht)}static checkButton(ht){return new At(ht)}static choiceList(ht){return new Mt(ht)}static color(ht){return new Rt(ht)}static comb(ht){return new $t(ht)}static connect(ht){return new zt(ht)}static contentArea(ht){return new qt(ht)}static corner(ht){return new Wt(ht)}static date(ht){return new Gt(ht)}static dateTime(ht){return new Zt(ht)}static dateTimeEdit(ht){return new Yt(ht)}static decimal(ht){return new tn(ht)}static defaultUi(ht){return new nn(ht)}static desc(ht){return new en(ht)}static digestMethod(ht){return new an(ht)}static digestMethods(ht){return new vn(ht)}static draw(ht){return new An(ht)}static edge(ht){return new cn(ht)}static encoding(ht){return new hn(ht)}static encodings(ht){return new fn(ht)}static encrypt(ht){return new Cn(ht)}static encryptData(ht){return new kn(ht)}static encryption(ht){return new Rn(ht)}static encryptionMethod(ht){return new sn(ht)}static encryptionMethods(ht){return new En(ht)}static event(ht){return new Pn(ht)}static exData(ht){return new Ln(ht)}static exObject(ht){return new jn(ht)}static exclGroup(ht){return new Nn(ht)}static execute(ht){return new ln(ht)}static extras(ht){return new rn(ht)}static field(ht){return new on(ht)}static fill(ht){return new mn(ht)}static filter(ht){return new gn(ht)}static float(ht){return new dn(ht)}static font(ht){return new Sn(ht)}static format(ht){return new bn(ht)}static handler(ht){return new yn(ht)}static hyphenation(ht){return new pn(ht)}static image(ht){return new Dn(ht)}static imageEdit(ht){return new Tn(ht)}static integer(ht){return new _n(ht)}static issuers(ht){return new $n(ht)}static items(ht){return new Xn(ht)}static keep(ht){return new Un(ht)}static keyUsage(ht){return new zn(ht)}static line(ht){return new Wn(ht)}static linear(ht){return new Kn(ht)}static lockDocument(ht){return new rr(ht)}static manifest(ht){return new Vn(ht)}static margin(ht){return new Hn(ht)}static mdp(ht){return new qn(ht)}static medium(ht){return new Qn(ht)}static message(ht){return new Yn(ht)}static numericEdit(ht){return new Zn(ht)}static occur(ht){return new er(ht)}static oid(ht){return new lr(ht)}static oids(ht){return new pr(ht)}static overflow(ht){return new Cr(ht)}static pageArea(ht){return new vr(ht)}static pageSet(ht){return new Fr(ht)}static para(ht){return new ms(ht)}static passwordEdit(ht){return new bs(ht)}static pattern(ht){return new ys(ht)}static picture(ht){return new ws(ht)}static proto(ht){return new xs(ht)}static radial(ht){return new vs(ht)}static reason(ht){return new Ss(ht)}static reasons(ht){return new As(ht)}static rectangle(ht){return new Zr(ht)}static ref(ht){return new ks(ht)}static script(ht){return new Cs(ht)}static setProperty(ht){return new Qr(ht)}static signData(ht){return new Es(ht)}static signature(ht){return new Fs(ht)}static signing(ht){return new Ts(ht)}static solid(ht){return new _s(ht)}static speak(ht){return new Ps(ht)}static stipple(ht){return new Os(ht)}static subform(ht){return new _i(ht)}static subformSet(ht){return new $r(ht)}static subjectDN(ht){return new Is(ht)}static subjectDNs(ht){return new Ms(ht)}static submit(ht){return new Rs(ht)}static template(ht){return new Ur(ht)}static text(ht){return new na(ht)}static textEdit(ht){return new ga(ht)}static time(ht){return new Ds(ht)}static timeStamp(ht){return new Ns(ht)}static toolTip(ht){return new Ls(ht)}static traversal(ht){return new js(ht)}static traverse(ht){return new Bs(ht)}static ui(ht){return new Hr(ht)}static validate(ht){return new $s(ht)}static value(ht){return new _r(ht)}static variables(ht){return new Us(ht)}}$.TemplateNamespace=Pr},(Ut,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NamespaceIds=$.$buildXFAObject=void 0;const _t=Symbol();$.$buildXFAObject=_t,$.NamespaceIds={config:{id:0,check:s=>s.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:s=>s==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:s=>s==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:s=>s==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:s=>s.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:s=>s==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:s=>s==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:s=>s==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:s=>s==="http://ns.adobe.com/xmpmeta/"}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.addHTML=function(i,d,ut){const dt=i[s.$extra],et=dt.availableSpace,[_,c,lt,at]=ut;switch(i.layout){case"position":dt.width=Math.max(dt.width,_+lt),dt.height=Math.max(dt.height,c+at),dt.children.push(d);break;case"lr-tb":case"rl-tb":(!dt.line||dt.attempt===1)&&(dt.line=St(i,[]),dt.children.push(dt.line),dt.numberInLine=0),dt.numberInLine+=1,dt.line.children.push(d),dt.attempt===0?(dt.currentWidth+=lt,dt.height=Math.max(dt.height,dt.prevHeight+at)):(dt.currentWidth=lt,dt.prevHeight=dt.height,dt.height+=at,dt.attempt=0),dt.width=Math.max(dt.width,dt.currentWidth);break;case"rl-row":case"row":{dt.children.push(d),dt.width+=lt,dt.height=Math.max(dt.height,at);const ct=(0,bt.measureToString)(dt.height);for(const it of dt.children)it.attributes.style.height=ct;break}case"table":case"tb":dt.width=Math.min(et.width,Math.max(dt.width,lt)),dt.height+=at,dt.children.push(d)}},$.checkDimensions=function(i,d){var lt;if(i[s.$getTemplateRoot]()[s.$extra].firstUnsplittable===null||i.w===0||i.h===0)return!0;const ut=i[s.$getSubformParent](),dt=((lt=ut[s.$extra])==null?void 0:lt.attempt)||0,[,et,_,c]=function(ct){let it,tt,ot=ct.w===""?NaN:ct.w,mt=ct.h===""?NaN:ct.h,[Ct,Nt]=[0,0];switch(ct.anchorType||""){case"bottomCenter":[Ct,Nt]=[ot/2,mt];break;case"bottomLeft":[Ct,Nt]=[0,mt];break;case"bottomRight":[Ct,Nt]=[ot,mt];break;case"middleCenter":[Ct,Nt]=[ot/2,mt/2];break;case"middleLeft":[Ct,Nt]=[0,mt/2];break;case"middleRight":[Ct,Nt]=[ot,mt/2];break;case"topCenter":[Ct,Nt]=[ot/2,0];break;case"topRight":[Ct,Nt]=[ot,0]}switch(ct.rotate||0){case 0:[it,tt]=[-Ct,-Nt];break;case 90:[it,tt]=[-Nt,Ct],[ot,mt]=[mt,-ot];break;case 180:[it,tt]=[Ct,Nt],[ot,mt]=[-ot,-mt];break;case 270:[it,tt]=[Nt,-Ct],[ot,mt]=[-mt,ot]}return[ct.x+it+Math.min(0,ot),ct.y+tt+Math.min(0,mt),Math.abs(ot),Math.abs(mt)]}(i);switch(ut.layout){case"lr-tb":case"rl-tb":return dt===0?i[s.$getTemplateRoot]()[s.$extra].noLayoutFailure?i.w!==""?Math.round(_-d.width)<=2:d.width>2:!(i.h!==""&&Math.round(c-d.height)>2)&&(i.w!==""?Math.round(_-d.width)<=2||ut[s.$extra].numberInLine===0&&d.height>2:d.width>2):!!i[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||!(i.h!==""&&Math.round(c-d.height)>2)&&(i.w===""||Math.round(_-d.width)<=2||!ut[s.$isThereMoreWidth]())&&d.height>2;case"table":case"tb":return!!i[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||(i.h===""||i[s.$isSplittable]()?(i.w===""||Math.round(_-d.width)<=2||!ut[s.$isThereMoreWidth]())&&d.height>2:Math.round(c-d.height)<=2);case"position":return i[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||i.h===""||Math.round(c+et-d.height)<=2?!0:c+et>i[s.$getTemplateRoot]()[s.$extra].currentContentArea.h;case"rl-row":case"row":return!!i[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||i.h===""||Math.round(c-d.height)<=2;default:return!0}},$.flushHTML=function(i){if(!i[s.$extra])return null;const d={name:"div",attributes:i[s.$extra].attributes,children:i[s.$extra].children};if(i[s.$extra].failingNode){const ut=i[s.$extra].failingNode[s.$flushHTML]();ut&&(i.layout.endsWith("-tb")?d.children.push(St(i,[ut])):d.children.push(ut))}return d.children.length===0?null:d},$.getAvailableSpace=function(i){const d=i[s.$extra].availableSpace,ut=i.margin?i.margin.topInset+i.margin.bottomInset:0,dt=i.margin?i.margin.leftInset+i.margin.rightInset:0;switch(i.layout){case"lr-tb":case"rl-tb":return i[s.$extra].attempt===0?{width:d.width-dt-i[s.$extra].currentWidth,height:d.height-ut-i[s.$extra].prevHeight}:{width:d.width-dt,height:d.height-ut-i[s.$extra].height};case"rl-row":case"row":return{width:i[s.$extra].columnWidths.slice(i[s.$extra].currentColumn).reduce((et,_)=>et+_),height:d.height-dt};case"table":case"tb":return{width:d.width-dt,height:d.height-ut-i[s.$extra].height};default:return d}};var s=_t(78),bt=_t(83);function St(e,i){return{name:"div",attributes:{class:[e.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:i}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.computeBbox=function(at,ct,it){let tt;if(at.w!==""&&at.h!=="")tt=[at.x,at.y,at.w,at.h];else{if(!it)return null;let ot=at.w;if(ot===""){if(at.maxW===0){const Ct=at[s.$getSubformParent]();ot=Ct.layout==="position"&&Ct.w!==""?0:at.minW}else ot=Math.min(at.maxW,it.width);ct.attributes.style.width=ut(ot)}let mt=at.h;if(mt===""){if(at.maxH===0){const Ct=at[s.$getSubformParent]();mt=Ct.layout==="position"&&Ct.h!==""?0:at.minH}else mt=Math.min(at.maxH,it.height);ct.attributes.style.height=ut(mt)}tt=[at.x,at.y,ot,mt]}return tt},$.createWrapper=function(at,ct){const{attributes:it}=ct,{style:tt}=it,ot={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(it.class.push("xfaWrapped"),at.border){const{widths:mt,insets:Ct}=at.border[s.$extra];let Nt,Pt,Tt=Ct[0],Et=Ct[3];const rt=Ct[0]+Ct[2],ft=Ct[1]+Ct[3];switch(at.border.hand){case"even":Tt-=mt[0]/2,Et-=mt[3]/2,Nt=`calc(100% + ${(mt[1]+mt[3])/2-ft}px)`,Pt=`calc(100% + ${(mt[0]+mt[2])/2-rt}px)`;break;case"left":Tt-=mt[0],Et-=mt[3],Nt=`calc(100% + ${mt[1]+mt[3]-ft}px)`,Pt=`calc(100% + ${mt[0]+mt[2]-rt}px)`;break;case"right":Nt=ft?`calc(100% - ${ft}px)`:"100%",Pt=rt?`calc(100% - ${rt}px)`:"100%"}const wt=["xfaBorder"];_(at.border)&&wt.push("xfaPrintOnly");const b={name:"div",attributes:{class:wt,style:{top:`${Tt}px`,left:`${Et}px`,width:Nt,height:Pt}},children:[]};for(const pt of["border","borderWidth","borderColor","borderRadius","borderStyle"])tt[pt]!==void 0&&(b.attributes.style[pt]=tt[pt],delete tt[pt]);ot.children.push(b,ct)}else ot.children.push(ct);for(const mt of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])tt[mt]!==void 0&&(ot.attributes.style[mt]=tt[mt],delete tt[mt]);return ot.attributes.style.position=tt.position==="absolute"?"absolute":"relative",delete tt.position,tt.alignSelf&&(ot.attributes.style.alignSelf=tt.alignSelf,delete tt.alignSelf),ot},$.fixDimensions=function(at){var it;const ct=at[s.$getSubformParent]();if((it=ct.layout)!=null&&it.includes("row")){const tt=ct[s.$extra],ot=at.colSpan;let mt;mt=ot===-1?tt.columnWidths.slice(tt.currentColumn).reduce((Ct,Nt)=>Ct+Nt,0):tt.columnWidths.slice(tt.currentColumn,tt.currentColumn+ot).reduce((Ct,Nt)=>Ct+Nt,0),isNaN(mt)||(at.w=mt)}ct.layout&&ct.layout!=="position"&&(at.x=at.y=0),at.layout==="table"&&at.w===""&&Array.isArray(at.columnWidths)&&(at.w=at.columnWidths.reduce((tt,ot)=>tt+ot,0))},$.fixTextIndent=function(at){const ct=(0,St.getMeasurement)(at.textIndent,"0px");if(ct>=0)return;const it="padding"+((at.textAlign==="right"?"right":"left")=="left"?"Left":"Right"),tt=(0,St.getMeasurement)(at[it],"0px");at[it]=tt-ct+"px"},$.fixURL=function(at){const ct=(0,bt.createValidAbsoluteUrl)(at,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return ct?ct.href:null},$.isPrintOnly=_,$.layoutClass=function(at){switch(at.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},$.layoutNode=function(at,ct){let it=null,tt=null,ot=!1;if((!at.w||!at.h)&&at.value){let mt=0,Ct=0;at.margin&&(mt=at.margin.leftInset+at.margin.rightInset,Ct=at.margin.topInset+at.margin.bottomInset);let Nt=null,Pt=null;at.para&&(Pt=Object.create(null),Nt=at.para.lineHeight===""?null:at.para.lineHeight,Pt.top=at.para.spaceAbove===""?0:at.para.spaceAbove,Pt.bottom=at.para.spaceBelow===""?0:at.para.spaceBelow,Pt.left=at.para.marginLeft===""?0:at.para.marginLeft,Pt.right=at.para.marginRight===""?0:at.para.marginRight);let Tt=at.font;if(!Tt){const ft=at[s.$getTemplateRoot]();let wt=at[s.$getParent]();for(;wt&&wt!==ft;){if(wt.font){Tt=wt.font;break}wt=wt[s.$getParent]()}}const Et=(at.w||ct.width)-mt,rt=at[s.$globalData].fontFinder;if(at.value.exData&&at.value.exData[s.$content]&&at.value.exData.contentType==="text/html"){const ft=et(at.value.exData[s.$content],Tt,Pt,Nt,rt,Et);tt=ft.width,it=ft.height,ot=ft.isBroken}else{const ft=at.value[s.$text]();if(ft){const wt=et(ft,Tt,Pt,Nt,rt,Et);tt=wt.width,it=wt.height,ot=wt.isBroken}}tt===null||at.w||(tt+=mt),it===null||at.h||(it+=Ct)}return{w:tt,h:it,isBroken:ot}},$.measureToString=ut,$.setAccess=function(at,ct){switch(at.access){case"nonInteractive":ct.push("xfaNonInteractive");break;case"readOnly":ct.push("xfaReadOnly");break;case"protected":ct.push("xfaDisabled")}},$.setFontFamily=function(at,ct,it,tt){if(!it){delete tt.fontFamily;return}const ot=(0,St.stripQuotes)(at.typeface);tt.fontFamily=`"${ot}"`;const mt=it.find(ot);if(mt){const{fontFamily:Ct}=mt.regular.cssFontInfo;Ct!==ot&&(tt.fontFamily=`"${Ct}"`);const Nt=c(ct);if(Nt&&Nt.lineHeight!==""||tt.lineHeight)return;const Pt=(0,e.selectFont)(at,mt);Pt&&(tt.lineHeight=Math.max(1.2,Pt.lineHeight))}},$.setMinMaxDimensions=function(at,ct){at[s.$getSubformParent]().layout==="position"&&(at.minW>0&&(ct.minWidth=ut(at.minW)),at.maxW>0&&(ct.maxWidth=ut(at.maxW)),at.minH>0&&(ct.minHeight=ut(at.minH)),at.maxH>0&&(ct.maxHeight=ut(at.maxH)))},$.setPara=function(at,ct,it){var tt;if((tt=it.attributes.class)!=null&&tt.includes("xfaRich")){ct&&(at.h===""&&(ct.height="auto"),at.w===""&&(ct.width="auto"));const ot=c(at);if(ot){const mt=it.attributes.style;switch(mt.display="flex",mt.flexDirection="column",ot.vAlign){case"top":mt.justifyContent="start";break;case"bottom":mt.justifyContent="end";break;case"middle":mt.justifyContent="center"}const Ct=ot[s.$toStyle]();for(const[Nt,Pt]of Object.entries(Ct))Nt in mt||(mt[Nt]=Pt)}}},$.toStyle=function(at,...ct){const it=Object.create(null);for(const tt of ct){const ot=at[tt];if(ot!==null){if(dt.hasOwnProperty(tt))dt[tt](at,it);else if(ot instanceof d.XFAObject){const mt=ot[s.$toStyle]();mt?Object.assign(it,mt):(0,bt.warn)(`(DEBUG) - XFA - style for ${tt} not implemented yet`)}}}return it};var s=_t(78),bt=_t(2),St=_t(84),e=_t(85),i=_t(86),d=_t(87);function ut(lt){return typeof lt=="string"?"0px":Number.isInteger(lt)?`${lt}px`:`${lt.toFixed(2)}px`}const dt={anchorType(lt,at){const ct=lt[s.$getSubformParent]();if(ct&&(!ct.layout||ct.layout==="position"))switch("transform"in at||(at.transform=""),lt.anchorType){case"bottomCenter":at.transform+="translate(-50%, -100%)";break;case"bottomLeft":at.transform+="translate(0,-100%)";break;case"bottomRight":at.transform+="translate(-100%,-100%)";break;case"middleCenter":at.transform+="translate(-50%,-50%)";break;case"middleLeft":at.transform+="translate(0,-50%)";break;case"middleRight":at.transform+="translate(-100%,-50%)";break;case"topCenter":at.transform+="translate(-50%,0)";break;case"topRight":at.transform+="translate(-100%,0)"}},dimensions(lt,at){var ot;const ct=lt[s.$getSubformParent]();let it=lt.w;const tt=lt.h;if((ot=ct.layout)!=null&&ot.includes("row")){const mt=ct[s.$extra],Ct=lt.colSpan;let Nt;Ct===-1?(Nt=mt.columnWidths.slice(mt.currentColumn).reduce((Pt,Tt)=>Pt+Tt,0),mt.currentColumn=0):(Nt=mt.columnWidths.slice(mt.currentColumn,mt.currentColumn+Ct).reduce((Pt,Tt)=>Pt+Tt,0),mt.currentColumn=(mt.currentColumn+lt.colSpan)%mt.columnWidths.length),isNaN(Nt)||(it=lt.w=Nt)}at.width=it!==""?ut(it):"auto",at.height=tt!==""?ut(tt):"auto"},position(lt,at){const ct=lt[s.$getSubformParent]();(!(ct!=null&&ct.layout)||ct.layout==="position")&&(at.position="absolute",at.left=ut(lt.x),at.top=ut(lt.y))},rotate(lt,at){lt.rotate&&("transform"in at||(at.transform=""),at.transform+=`rotate(-${lt.rotate}deg)`,at.transformOrigin="top left")},presence(lt,at){switch(lt.presence){case"invisible":at.visibility="hidden";break;case"hidden":case"inactive":at.display="none"}},hAlign(lt,at){if(lt[s.$nodeName]==="para")switch(lt.hAlign){case"justifyAll":at.textAlign="justify-all";break;case"radix":at.textAlign="left";break;default:at.textAlign=lt.hAlign}else switch(lt.hAlign){case"left":at.alignSelf="start";break;case"center":at.alignSelf="center";break;case"right":at.alignSelf="end"}},margin(lt,at){lt.margin&&(at.margin=lt.margin[s.$toStyle]().margin)}};function et(lt,at,ct,it,tt,ot){const mt=new i.TextMeasure(at,ct,it,tt);return typeof lt=="string"?mt.addString(lt):lt[s.$pushGlyphs](mt),mt.compute(ot)}function _(lt){return lt.relevant.length>0&&!lt.relevant[0].excluded&&lt.relevant[0].viewname==="print"}function c(lt){const at=lt[s.$getTemplateRoot]()[s.$extra].paraStack;return at.length?at.at(-1):null}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.HTMLResult=void 0,$.getBBox=function(dt){if(!dt)return{x:-1,y:-1,width:-1,height:-1};const _=dt.trim().split(/\s*,\s*/).map(it=>i(it,"-1"));if(_.length<4||_[2]<0||_[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[c,lt,at,ct]=_;return{x:c,y:lt,width:at,height:ct}},$.getColor=function(dt,et=[0,0,0]){let[_,c,lt]=et;if(!dt)return{r:_,g:c,b:lt};const at=dt.trim().split(/\s*,\s*/).map(ct=>Math.min(Math.max(0,parseInt(ct.trim(),10)),255)).map(ct=>isNaN(ct)?0:ct);return at.length<3?{r:_,g:c,b:lt}:([_,c,lt]=at,{r:_,g:c,b:lt})},$.getFloat=function({data:dt,defaultValue:et,validate:_}){if(!dt)return et;dt=dt.trim();const c=parseFloat(dt);return!isNaN(c)&&_(c)?c:et},$.getInteger=function({data:dt,defaultValue:et,validate:_}){if(!dt)return et;dt=dt.trim();const c=parseInt(dt,10);return!isNaN(c)&&_(c)?c:et},$.getKeyword=e,$.getMeasurement=i,$.getRatio=function(dt){if(!dt)return{num:1,den:1};const et=dt.trim().split(/\s*:\s*/).map(lt=>parseFloat(lt)).filter(lt=>!isNaN(lt));if(et.length===1&&et.push(1),et.length===0)return{num:1,den:1};const[_,c]=et;return{num:_,den:c}},$.getRelevant=function(dt){return dt?dt.trim().split(/\s+/).map(et=>({excluded:et[0]==="-",viewname:et.substring(1)})):[]},$.getStringOption=function(dt,et){return e({data:dt,defaultValue:et[0],validate:_=>et.includes(_)})},$.stripQuotes=function(dt){return dt.startsWith("'")||dt.startsWith('"')?dt.slice(1,-1):dt};var s=_t(2);const bt={pt:ut=>ut,cm:ut=>ut/2.54*72,mm:ut=>ut/25.4*72,in:ut=>72*ut,px:ut=>ut},St=/([+-]?\d+\.?\d*)(.*)/;function e({data:ut,defaultValue:dt,validate:et}){return ut&&et(ut=ut.trim())?ut:dt}function i(ut,dt="0"){if(dt||(dt="0"),!ut)return i(dt);const et=ut.trim().match(St);if(!et)return i(dt);const[,_,c]=et,lt=parseFloat(_);if(isNaN(lt))return i(dt);if(lt===0)return 0;const at=bt[c];return at?at(lt):lt}class d{static get FAILURE(){return(0,s.shadow)(this,"FAILURE",new d(!1,null,null,null))}static get EMPTY(){return(0,s.shadow)(this,"EMPTY",new d(!0,null,null,null))}constructor(dt,et,_,c){this.success=dt,this.html=et,this.bbox=_,this.breakNode=c}isBreak(){return!!this.breakNode}static breakNode(dt){return new d(!1,null,null,dt)}static success(dt,et=null){return new d(!0,dt,et,null)}}$.HTMLResult=d},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontFinder=void 0,$.getMetrics=function(d,ut=!1){let dt=null;if(d){const lt=(0,bt.stripQuotes)(d.typeface),at=d[s.$globalData].fontFinder.find(lt);dt=e(d,at)}if(!dt)return{lineHeight:12,lineGap:2,lineNoGap:10};const et=d.size||10,_=dt.lineHeight?Math.max(ut?0:1.2,dt.lineHeight):1.2,c=dt.lineGap===void 0?.2:dt.lineGap;return{lineHeight:_*et,lineGap:c*et,lineNoGap:Math.max(1,_-c)*et}},$.selectFont=e;var s=_t(78),bt=_t(84),St=_t(2);$.FontFinder=class{constructor(d){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(d)}add(d,ut=null){for(const et of d)this.addPdfFont(et);for(const et of this.fonts.values())et.regular||(et.regular=et.italic||et.bold||et.bolditalic);if(!ut||ut.size===0)return;const dt=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const et of ut)this.fonts.set(et,dt)}addPdfFont(d){var lt,at,ct;const ut=d.cssFontInfo,dt=ut.fontFamily;let et=this.fonts.get(dt);et||(et=Object.create(null),this.fonts.set(dt,et),this.defaultFont||(this.defaultFont=et));let _="";const c=parseFloat(ut.fontWeight);parseFloat(ut.italicAngle)!==0?_=c>=700?"bolditalic":"italic":c>=700&&(_="bold"),_||((d.name.includes("Bold")||(lt=d.psName)!=null&&lt.includes("Bold"))&&(_="bold"),(d.name.includes("Italic")||d.name.endsWith("It")||(at=d.psName)!=null&&at.includes("Italic")||(ct=d.psName)!=null&&ct.endsWith("It"))&&(_+="italic")),_||(_="regular"),et[_]=d}getDefault(){return this.defaultFont}find(d,ut=!0){var lt,at;let dt=this.fonts.get(d)||this.cache.get(d);if(dt)return dt;const et=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let _=d.replaceAll(et,"");if(dt=this.fonts.get(_),dt)return this.cache.set(d,dt),dt;_=_.toLowerCase();const c=[];for(const[ct,it]of this.fonts.entries())ct.replaceAll(et,"").toLowerCase().startsWith(_)&&c.push(it);if(c.length===0)for(const[,ct]of this.fonts.entries())(lt=ct.regular.name)!=null&&lt.replaceAll(et,"").toLowerCase().startsWith(_)&&c.push(ct);if(c.length===0){_=_.replaceAll(/psmt|mt/gi,"");for(const[ct,it]of this.fonts.entries())ct.replaceAll(et,"").toLowerCase().startsWith(_)&&c.push(it)}if(c.length===0)for(const ct of this.fonts.values())(at=ct.regular.name)!=null&&at.replaceAll(et,"").toLowerCase().startsWith(_)&&c.push(ct);return c.length>=1?(c.length!==1&&ut&&(0,St.warn)(`XFA - Too many choices to guess the correct font: ${d}`),this.cache.set(d,c[0]),c[0]):(ut&&!this.warned.has(d)&&(this.warned.add(d),(0,St.warn)(`XFA - Cannot find the font: ${d}`)),null)}};function e(i,d){return i.posture==="italic"?i.weight==="bold"?d.bolditalic:d.italic:i.weight==="bold"?d.bold:d.regular}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextMeasure=void 0;var s=_t(85);class bt{constructor(i,d,ut,dt){if(this.lineHeight=ut,this.paraMargin=d||{top:0,bottom:0,left:0,right:0},!i){[this.pdfFont,this.xfaFont]=this.defaultFont(dt);return}this.xfaFont={typeface:i.typeface,posture:i.posture,weight:i.weight,size:i.size,letterSpacing:i.letterSpacing};const et=dt.find(i.typeface);et?(this.pdfFont=(0,s.selectFont)(i,et),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(dt))):[this.pdfFont,this.xfaFont]=this.defaultFont(dt)}defaultFont(i){const d=i.find("Helvetica",!1)||i.find("Myriad Pro",!1)||i.find("Arial",!1)||i.getDefault();if(d!=null&&d.regular){const ut=d.regular;return[ut,{typeface:ut.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0}]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class St{constructor(i,d,ut,dt){this.fontFinder=dt,this.stack=[new bt(i,d,ut,dt)]}pushData(i,d,ut){const dt=this.stack.at(-1);for(const _ of["typeface","posture","weight","size","letterSpacing"])i[_]||(i[_]=dt.xfaFont[_]);for(const _ of["top","bottom","left","right"])isNaN(d[_])&&(d[_]=dt.paraMargin[_]);const et=new bt(i,d,ut||dt.lineHeight,this.fontFinder);et.pdfFont||(et.pdfFont=dt.pdfFont),this.stack.push(et)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}$.TextMeasure=class{constructor(i,d,ut,dt){this.glyphs=[],this.fontSelector=new St(i,d,ut,dt),this.extraHeight=0}pushData(i,d,ut){this.fontSelector.pushData(i,d,ut)}popFont(i){return this.fontSelector.popFont()}addPara(){const i=this.fontSelector.topFont();this.extraHeight+=i.paraMargin.top+i.paraMargin.bottom}addString(i){if(!i)return;const d=this.fontSelector.topFont(),ut=d.xfaFont.size;if(d.pdfFont){const dt=d.xfaFont.letterSpacing,et=d.pdfFont,_=et.lineHeight||1.2,c=d.lineHeight||Math.max(1.2,_)*ut,lt=_-(et.lineGap===void 0?.2:et.lineGap),at=Math.max(1,lt)*ut,ct=ut/1e3,it=et.defaultWidth||et.charsToGlyphs(" ")[0].width;for(const tt of i.split(/[\u2029\n]/)){const ot=et.encodeString(tt).join(""),mt=et.charsToGlyphs(ot);for(const Ct of mt){const Nt=Ct.width||it;this.glyphs.push([Nt*ct+dt,c,at,Ct.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}else{for(const dt of i.split(/[\u2029\n]/)){for(const et of dt.split(""))this.glyphs.push([ut,1.2*ut,ut,et,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}}compute(i){let d=-1,ut=0,dt=0,et=0,_=0,c=0,lt=!1,at=!0;for(let ct=0,it=this.glyphs.length;ct<it;ct++){const[tt,ot,mt,Ct,Nt]=this.glyphs[ct],Pt=Ct===" ",Tt=at?mt:ot;Nt?(dt=Math.max(dt,_),_=0,et+=c,c=Tt,d=-1,ut=0,at=!1):Pt?_+tt>i?(dt=Math.max(dt,_),_=0,et+=c,c=Tt,d=-1,ut=0,lt=!0,at=!1):(c=Math.max(Tt,c),ut=_,_+=tt,d=ct):_+tt>i?(et+=c,c=Tt,d!==-1?(ct=d,dt=Math.max(dt,ut),_=0,d=-1,ut=0):(dt=Math.max(dt,_),_=tt),lt=!0,at=!1):(_+=tt,c=Math.max(Tt,c))}return dt=Math.max(dt,_),et+=c+this.extraHeight,{width:1.02*dt,height:et,isBroken:lt}}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XmlObject=$.XFAObjectArray=$.XFAObject=$.XFAAttribute=$.StringObject=$.OptionObject=$.Option10=$.Option01=$.IntegerObject=$.ContentObject=void 0;var s=_t(78),bt=_t(84),St=_t(2),e=_t(3),i=_t(81),d=_t(88);const ut=Symbol(),dt=Symbol(),et=Symbol(),_=Symbol("_children"),c=Symbol(),lt=Symbol(),at=Symbol(),ct=Symbol(),it=Symbol(),tt=Symbol(),ot=Symbol(),mt=Symbol(),Ct=Symbol(),Nt=Symbol("parent"),Pt=Symbol(),Tt=Symbol(),Et=Symbol();let rt=0;const ft=i.NamespaceIds.datasets.id;class wt{constructor(yt,vt,Lt=!1){this[s.$namespaceId]=yt,this[s.$nodeName]=vt,this[ot]=Lt,this[Nt]=null,this[_]=[],this[s.$uid]=`${vt}${rt++}`,this[s.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(yt){let vt=this,Lt=null;for(const{name:jt,index:Ht}of yt){for(let Vt=0,Qt=isFinite(Ht)?Ht:0;Vt<=Qt;Vt++){const _e=vt[s.$namespaceId]===ft?-1:vt[s.$namespaceId];Lt=new Ot(_e,jt),vt[s.$appendChild](Lt)}vt=Lt}return Lt}[s.$onChild](yt){if(!this[ot]||!this[s.$onChildCheck](yt))return!1;const vt=yt[s.$nodeName],Lt=this[vt];if(!(Lt instanceof b))return Lt!==null&&this[s.$removeChild](Lt),this[vt]=yt,this[s.$appendChild](yt),!0;if(Lt.push(yt))return this[s.$appendChild](yt),!0;let jt="";return this.id?jt=` (id: ${this.id})`:this.name&&(jt=` (name: ${this.name} ${this.h.value})`),(0,St.warn)(`XFA - node "${this[s.$nodeName]}"${jt} has already enough "${vt}"!`),!1}[s.$onChildCheck](yt){return this.hasOwnProperty(yt[s.$nodeName])&&yt[s.$namespaceId]===this[s.$namespaceId]}[s.$isNsAgnostic](){return!1}[s.$acceptWhitespace](){return!1}[s.$isCDATAXml](){return!1}[s.$isBindable](){return!1}[s.$popPara](){this.para&&this[s.$getTemplateRoot]()[s.$extra].paraStack.pop()}[s.$pushPara](){this[s.$getTemplateRoot]()[s.$extra].paraStack.push(this.para)}[s.$setId](yt){this.id&&this[s.$namespaceId]===i.NamespaceIds.template.id&&yt.set(this.id,this)}[s.$getTemplateRoot](){return this[s.$globalData].template}[s.$isSplittable](){return!1}[s.$isThereMoreWidth](){return!1}[s.$appendChild](yt){yt[Nt]=this,this[_].push(yt),!yt[s.$globalData]&&this[s.$globalData]&&(yt[s.$globalData]=this[s.$globalData])}[s.$removeChild](yt){const vt=this[_].indexOf(yt);this[_].splice(vt,1)}[s.$hasSettableValue](){return this.hasOwnProperty("value")}[s.$setValue](yt){}[s.$onText](yt){}[s.$finalize](){}[s.$clean](yt){delete this[ot],this[s.$cleanup]&&(yt.clean(this[s.$cleanup]),delete this[s.$cleanup])}[s.$indexOf](yt){return this[_].indexOf(yt)}[s.$insertAt](yt,vt){vt[Nt]=this,this[_].splice(yt,0,vt),!vt[s.$globalData]&&this[s.$globalData]&&(vt[s.$globalData]=this[s.$globalData])}[s.$isTransparent](){return!this.name}[s.$lastAttribute](){return""}[s.$text](){return this[_].length===0?this[s.$content]:this[_].map(yt=>yt[s.$text]()).join("")}get[et](){const yt=Object.getPrototypeOf(this);if(!yt._attributes){const vt=yt._attributes=new Set;for(const Lt of Object.getOwnPropertyNames(this)){if(this[Lt]===null||this[Lt]instanceof wt||this[Lt]instanceof b)break;vt.add(Lt)}}return(0,St.shadow)(this,et,yt._attributes)}[s.$isDescendent](yt){let vt=this;for(;vt;){if(vt===yt)return!0;vt=vt[s.$getParent]()}return!1}[s.$getParent](){return this[Nt]}[s.$getSubformParent](){return this[s.$getParent]()}[s.$getChildren](yt=null){return yt?this[yt]:this[_]}[s.$dump](){const yt=Object.create(null);this[s.$content]&&(yt.$content=this[s.$content]);for(const vt of Object.getOwnPropertyNames(this)){const Lt=this[vt];Lt!==null&&(Lt instanceof wt?yt[vt]=Lt[s.$dump]():Lt instanceof b?Lt.isEmpty()||(yt[vt]=Lt.dump()):yt[vt]=Lt)}return yt}[s.$toStyle](){return null}[s.$toHTML](){return bt.HTMLResult.EMPTY}*[s.$getContainedChildren](){for(const yt of this[s.$getChildren]())yield yt}*[ct](yt,vt){for(const Lt of this[s.$getContainedChildren]())if(!yt||vt===yt.has(Lt[s.$nodeName])){const jt=this[s.$getAvailableSpace](),Ht=Lt[s.$toHTML](jt);Ht.success||(this[s.$extra].failingNode=Lt),yield Ht}}[s.$flushHTML](){return null}[s.$addHTML](yt,vt){this[s.$extra].children.push(yt)}[s.$getAvailableSpace](){}[s.$childrenToHTML]({filter:yt=null,include:vt=!0}){if(this[s.$extra].generator){const Lt=this[s.$getAvailableSpace](),jt=this[s.$extra].failingNode[s.$toHTML](Lt);if(!jt.success)return jt;jt.html&&this[s.$addHTML](jt.html,jt.bbox),delete this[s.$extra].failingNode}else this[s.$extra].generator=this[ct](yt,vt);for(;;){const Lt=this[s.$extra].generator.next();if(Lt.done)break;const jt=Lt.value;if(!jt.success)return jt;jt.html&&this[s.$addHTML](jt.html,jt.bbox)}return this[s.$extra].generator=null,bt.HTMLResult.EMPTY}[s.$setSetAttributes](yt){this[Tt]=new Set(Object.keys(yt))}[tt](yt){const vt=this[et],Lt=this[Tt];return[...yt].filter(jt=>vt.has(jt)&&!Lt.has(jt))}[s.$resolvePrototypes](yt,vt=new Set){for(const Lt of this[_])Lt[Pt](yt,vt)}[Pt](yt,vt){const Lt=this[it](yt,vt);Lt?this[ut](Lt,yt,vt):this[s.$resolvePrototypes](yt,vt)}[it](yt,vt){const{use:Lt,usehref:jt}=this;if(!Lt&&!jt)return null;let Ht=null,Vt=null,Qt=null,_e=Lt;if(jt?(_e=jt,jt.startsWith("#som(")&&jt.endsWith(")")?Vt=jt.slice(5,-1):jt.startsWith(".#som(")&&jt.endsWith(")")?Vt=jt.slice(6,-1):jt.startsWith("#")?Qt=jt.slice(1):jt.startsWith(".#")&&(Qt=jt.slice(2))):Lt.startsWith("#")?Qt=Lt.slice(1):Vt=Lt,this.use=this.usehref="",Qt?Ht=yt.get(Qt):(Ht=(0,d.searchNode)(yt.get(s.$root),this,Vt,!0,!1),Ht&&(Ht=Ht[0])),!Ht)return(0,St.warn)(`XFA - Invalid prototype reference: ${_e}.`),null;if(Ht[s.$nodeName]!==this[s.$nodeName])return(0,St.warn)(`XFA - Incompatible prototype: ${Ht[s.$nodeName]} !== ${this[s.$nodeName]}.`),null;if(vt.has(Ht))return(0,St.warn)("XFA - Cycle detected in prototypes use."),null;vt.add(Ht);const Xt=Ht[it](yt,vt);return Xt&&Ht[ut](Xt,yt,vt),Ht[s.$resolvePrototypes](yt,vt),vt.delete(Ht),Ht}[ut](yt,vt,Lt){if(Lt.has(yt)){(0,St.warn)("XFA - Cycle detected in prototypes use.");return}!this[s.$content]&&yt[s.$content]&&(this[s.$content]=yt[s.$content]),new Set(Lt).add(yt);for(const jt of this[tt](yt[Tt]))this[jt]=yt[jt],this[Tt]&&this[Tt].add(jt);for(const jt of Object.getOwnPropertyNames(this)){if(this[et].has(jt))continue;const Ht=this[jt],Vt=yt[jt];if(Ht instanceof b){for(const Qt of Ht[_])Qt[Pt](vt,Lt);for(let Qt=Ht[_].length,_e=Vt[_].length;Qt<_e;Qt++){const Xt=yt[_][Qt][s.$clone]();if(!Ht.push(Xt))break;Xt[Nt]=this,this[_].push(Xt),Xt[Pt](vt,Lt)}}else if(Ht===null){if(Vt!==null){const Qt=Vt[s.$clone]();Qt[Nt]=this,this[jt]=Qt,this[_].push(Qt),Qt[Pt](vt,Lt)}}else Ht[s.$resolvePrototypes](vt,Lt),Vt&&Ht[ut](Vt,vt,Lt)}}static[c](yt){return Array.isArray(yt)?yt.map(vt=>wt[c](vt)):typeof yt=="object"&&yt!==null?Object.assign({},yt):yt}[s.$clone](){const yt=Object.create(Object.getPrototypeOf(this));for(const vt of Object.getOwnPropertySymbols(this))try{yt[vt]=this[vt]}catch{(0,St.shadow)(yt,vt,this[vt])}yt[s.$uid]=`${yt[s.$nodeName]}${rt++}`,yt[_]=[];for(const vt of Object.getOwnPropertyNames(this)){if(this[et].has(vt)){yt[vt]=wt[c](this[vt]);continue}const Lt=this[vt];yt[vt]=Lt instanceof b?new b(Lt[mt]):null}for(const vt of this[_]){const Lt=vt[s.$nodeName],jt=vt[s.$clone]();yt[_].push(jt),jt[Nt]=yt,yt[Lt]===null?yt[Lt]=jt:yt[Lt][_].push(jt)}return yt}[s.$getChildren](yt=null){return yt?this[_].filter(vt=>vt[s.$nodeName]===yt):this[_]}[s.$getChildrenByClass](yt){return this[yt]}[s.$getChildrenByName](yt,vt,Lt=!0){return Array.from(this[s.$getChildrenByNameIt](yt,vt,Lt))}*[s.$getChildrenByNameIt](yt,vt,Lt=!0){if(yt!=="parent"){for(const jt of this[_])jt[s.$nodeName]===yt&&(yield jt),jt.name===yt&&(yield jt),(vt||jt[s.$isTransparent]())&&(yield*jt[s.$getChildrenByNameIt](yt,vt,!1));Lt&&this[et].has(yt)&&(yield new pt(this,yt,this[yt]))}else yield this[Nt]}}$.XFAObject=wt;class b{constructor(yt=1/0){this[mt]=yt,this[_]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(yt){return this[_].length<=this[mt]?(this[_].push(yt),!0):((0,St.warn)(`XFA - node "${yt[s.$nodeName]}" accepts no more than ${this[mt]} children`),!1)}isEmpty(){return this[_].length===0}dump(){return this[_].length===1?this[_][0][s.$dump]():this[_].map(yt=>yt[s.$dump]())}[s.$clone](){const yt=new b(this[mt]);return yt[_]=this[_].map(vt=>vt[s.$clone]()),yt}get children(){return this[_]}clear(){this[_].length=0}}$.XFAObjectArray=b;class pt{constructor(yt,vt,Lt){this[Nt]=yt,this[s.$nodeName]=vt,this[s.$content]=Lt,this[s.$consumed]=!1,this[s.$uid]="attribute"+rt++}[s.$getParent](){return this[Nt]}[s.$isDataValue](){return!0}[s.$getDataValue](){return this[s.$content].trim()}[s.$setValue](yt){yt=yt.value||"",this[s.$content]=yt.toString()}[s.$text](){return this[s.$content]}[s.$isDescendent](yt){return this[Nt]===yt||this[Nt][s.$isDescendent](yt)}}$.XFAAttribute=pt;class Ot extends wt{constructor(yt,vt,Lt={}){if(super(yt,vt),this[s.$content]="",this[lt]=null,vt!=="#text"){const jt=new Map;this[dt]=jt;for(const[Ht,Vt]of Object.entries(Lt))jt.set(Ht,new pt(this,Ht,Vt));if(Lt.hasOwnProperty(s.$nsAttributes)){const Ht=Lt[s.$nsAttributes].xfa.dataNode;Ht!==void 0&&(Ht==="dataGroup"?this[lt]=!1:Ht==="dataValue"&&(this[lt]=!0))}}this[s.$consumed]=!1}[s.$toString](yt){const vt=this[s.$nodeName];if(vt==="#text"){yt.push((0,e.encodeToXmlString)(this[s.$content]));return}const Lt=(0,St.utf8StringToString)(vt),jt=this[s.$namespaceId]===ft?"xfa:":"";yt.push(`<${jt}${Lt}`);for(const[Ht,Vt]of this[dt].entries()){const Qt=(0,St.utf8StringToString)(Ht);yt.push(` ${Qt}="${(0,e.encodeToXmlString)(Vt[s.$content])}"`)}if(this[lt]!==null&&(this[lt]?yt.push(' xfa:dataNode="dataValue"'):yt.push(' xfa:dataNode="dataGroup"')),this[s.$content]||this[_].length!==0){if(yt.push(">"),this[s.$content])typeof this[s.$content]=="string"?yt.push((0,e.encodeToXmlString)(this[s.$content])):this[s.$content][s.$toString](yt);else for(const Ht of this[_])Ht[s.$toString](yt);yt.push(`</${jt}${Lt}>`)}else yt.push("/>")}[s.$onChild](yt){if(this[s.$content]){const vt=new Ot(this[s.$namespaceId],"#text");this[s.$appendChild](vt),vt[s.$content]=this[s.$content],this[s.$content]=""}return this[s.$appendChild](yt),!0}[s.$onText](yt){this[s.$content]+=yt}[s.$finalize](){if(this[s.$content]&&this[_].length>0){const yt=new Ot(this[s.$namespaceId],"#text");this[s.$appendChild](yt),yt[s.$content]=this[s.$content],delete this[s.$content]}}[s.$toHTML](){return this[s.$nodeName]==="#text"?bt.HTMLResult.success({name:"#text",value:this[s.$content]}):bt.HTMLResult.EMPTY}[s.$getChildren](yt=null){return yt?this[_].filter(vt=>vt[s.$nodeName]===yt):this[_]}[s.$getAttributes](){return this[dt]}[s.$getChildrenByClass](yt){const vt=this[dt].get(yt);return vt!==void 0?vt:this[s.$getChildren](yt)}*[s.$getChildrenByNameIt](yt,vt){const Lt=this[dt].get(yt);Lt&&(yield Lt);for(const jt of this[_])jt[s.$nodeName]===yt&&(yield jt),vt&&(yield*jt[s.$getChildrenByNameIt](yt,vt))}*[s.$getAttributeIt](yt,vt){const Lt=this[dt].get(yt);!Lt||vt&&Lt[s.$consumed]||(yield Lt);for(const jt of this[_])yield*jt[s.$getAttributeIt](yt,vt)}*[s.$getRealChildrenByNameIt](yt,vt,Lt){for(const jt of this[_])jt[s.$nodeName]!==yt||Lt&&jt[s.$consumed]||(yield jt),vt&&(yield*jt[s.$getRealChildrenByNameIt](yt,vt,Lt))}[s.$isDataValue](){return this[lt]===null?this[_].length===0||this[_][0][s.$namespaceId]===i.NamespaceIds.xhtml.id:this[lt]}[s.$getDataValue](){return this[lt]===null?this[_].length===0?this[s.$content].trim():this[_][0][s.$namespaceId]===i.NamespaceIds.xhtml.id?this[_][0][s.$text]().trim():null:this[s.$content].trim()}[s.$setValue](yt){yt=yt.value||"",this[s.$content]=yt.toString()}[s.$dump](yt=!1){const vt=Object.create(null);yt&&(vt.$ns=this[s.$namespaceId]),this[s.$content]&&(vt.$content=this[s.$content]),vt.$name=this[s.$nodeName],vt.children=[];for(const Lt of this[_])vt.children.push(Lt[s.$dump](yt));vt.attributes=Object.create(null);for(const[Lt,jt]of this[dt])vt.attributes[Lt]=jt[s.$content];return vt}}$.XmlObject=Ot;class kt extends wt{constructor(yt,vt){super(yt,vt),this[s.$content]=""}[s.$onText](yt){this[s.$content]+=yt}[s.$finalize](){}}$.ContentObject=kt;class st extends kt{constructor(yt,vt,Lt){super(yt,vt),this[Ct]=Lt}[s.$finalize](){this[s.$content]=(0,bt.getKeyword)({data:this[s.$content],defaultValue:this[Ct][0],validate:yt=>this[Ct].includes(yt)})}[s.$clean](yt){super[s.$clean](yt),delete this[Ct]}}$.OptionObject=st;class nt extends kt{[s.$finalize](){this[s.$content]=this[s.$content].trim()}}$.StringObject=nt;class gt extends kt{constructor(yt,vt,Lt,jt){super(yt,vt),this[at]=Lt,this[Et]=jt}[s.$finalize](){this[s.$content]=(0,bt.getInteger)({data:this[s.$content],defaultValue:this[at],validate:this[Et]})}[s.$clean](yt){super[s.$clean](yt),delete this[at],delete this[Et]}}$.IntegerObject=gt,$.Option01=class extends gt{constructor(yt,vt){super(yt,vt,0,Lt=>Lt===1)}},$.Option10=class extends gt{constructor(yt,vt){super(yt,vt,1,Lt=>Lt===0)}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createDataNode=function(_,c,lt){const at=dt(lt);if(!at||at.some(tt=>tt.operator===i.dotDot))return null;const ct=d.get(at[0].name);let it=0;ct?(_=ct(_,c),it=1):_=c||_;for(let tt=at.length;it<tt;it++){const{name:ot,operator:mt,index:Ct}=at[it];if(!isFinite(Ct))return at[it].index=0,_.createNodes(at.slice(it));let Nt;switch(mt){case i.dot:Nt=_[s.$getChildrenByName](ot,!1);break;case i.dotDot:Nt=_[s.$getChildrenByName](ot,!0);break;case i.dotHash:Nt=_[s.$getChildrenByClass](ot),Nt=Nt.isXFAObjectArray?Nt.children:[Nt]}if(Nt.length===0)return _.createNodes(at.slice(it));if(!(Ct<Nt.length))return at[it].index=Ct-Nt.length,_.createNodes(at.slice(it));{const Pt=Nt[Ct];if(!Pt.isXFAObject)return(0,bt.warn)("XFA - Cannot create a node."),null;_=Pt}}return null},$.searchNode=function(_,c,lt,at=!0,ct=!0){const it=dt(lt,at);if(!it)return null;const tt=d.get(it[0].name);let ot,mt=0;tt?(ot=!0,_=[tt(_,c)],mt=1):(ot=c===null,_=[c||_]);for(let Ct=it.length;mt<Ct;mt++){const{name:Nt,cacheName:Pt,operator:Tt,index:Et}=it[mt],rt=[];for(const ft of _){if(!ft.isXFAObject)continue;let wt,b;if(ct&&(b=ut.get(ft),b||(b=new Map,ut.set(ft,b)),wt=b.get(Pt)),!wt){switch(Tt){case i.dot:wt=ft[s.$getChildrenByName](Nt,!1);break;case i.dotDot:wt=ft[s.$getChildrenByName](Nt,!0);break;case i.dotHash:wt=ft[s.$getChildrenByClass](Nt),wt=wt.isXFAObjectArray?wt.children:[wt]}ct&&b.set(Pt,wt)}wt.length>0&&rt.push(wt)}if(rt.length!==0||ot||mt!==0)_=isFinite(Et)?rt.filter(ft=>Et<ft.length).map(ft=>ft[Et]):rt.flat();else{if(!(c=c[s.$getParent]()))return null;mt=-1,_=[c]}}return _.length===0?null:_};var s=_t(78),bt=_t(2);const St=/^[^.[]+/,e=/^[^\]]+/,i={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},d=new Map([["$data",(et,_)=>et.datasets?et.datasets.data:et],["$record",(et,_)=>(et.datasets?et.datasets.data:et)[s.$getChildren]()[0]],["$template",(et,_)=>et.template],["$connectionSet",(et,_)=>et.connectionSet],["$form",(et,_)=>et.form],["$layout",(et,_)=>et.layout],["$host",(et,_)=>et.host],["$dataWindow",(et,_)=>et.dataWindow],["$event",(et,_)=>et.event],["!",(et,_)=>et.datasets],["$xfa",(et,_)=>et],["xfa",(et,_)=>et],["$",(et,_)=>_]]),ut=new WeakMap;function dt(et,_,c=!0){let lt=et.match(St);if(!lt)return null;let[at]=lt;const ct=[{name:at,cacheName:"."+at,index:0,js:null,formCalc:null,operator:i.dot}];let it=at.length;for(;it<et.length;){const ot=it;if(et.charAt(it++)==="["){if(lt=et.slice(it).match(e),!lt)return(0,bt.warn)("XFA - Invalid index in SOM expression"),null;ct.at(-1).index=(tt=(tt=lt[0]).trim())==="*"?1/0:parseInt(tt,10)||0,it+=lt[0].length+1;continue}let mt;switch(et.charAt(it)){case".":if(!_)return null;it++,mt=i.dotDot;break;case"#":it++,mt=i.dotHash;break;case"[":if(c)return(0,bt.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;mt=i.dotBracket;break;case"(":if(c)return(0,bt.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;mt=i.dotParen;break;default:mt=i.dot}if(lt=et.slice(it).match(St),!lt)break;[at]=lt,it+=at.length,ct.push({name:at,cacheName:et.slice(ot,it),operator:mt,index:0,js:null,formCalc:null})}var tt;return ct}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DataHandler=void 0;var s=_t(78);$.DataHandler=class{constructor(St,e){this.data=e,this.dataset=St.datasets||null}serialize(St){const e=[[-1,this.data[s.$getChildren]()]];for(;e.length>0;){const d=e.at(-1),[ut,dt]=d;if(ut+1===dt.length){e.pop();continue}const et=dt[++d[0]],_=St.get(et[s.$uid]);if(_)et[s.$setValue](_);else{const lt=et[s.$getAttributes]();for(const at of lt.values()){const ct=St.get(at[s.$uid]);if(ct){at[s.$setValue](ct);break}}}const c=et[s.$getChildren]();c.length>0&&e.push([-1,c])}const i=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const d of this.dataset[s.$getChildren]())d[s.$nodeName]!=="data"&&d[s.$toString](i);return this.data[s.$toString](i),i.push("</xfa:datasets>"),i.join("")}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XFAParser=void 0;var s=_t(78),bt=_t(71),St=_t(91),e=_t(2);class i extends bt.XMLParserBase{constructor(ut=null,dt=!1){super(),this._builder=new St.Builder(ut),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=bt.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=dt}parse(ut){if(this.parseXml(ut),this._errorCode===bt.XMLParserErrorCode.NoError)return this._current[s.$finalize](),this._current.element}onText(ut){ut=ut.replace(this._nbsps,dt=>dt.slice(1)+" "),this._richText||this._current[s.$acceptWhitespace]()?this._current[s.$onText](ut,this._richText):this._whiteRegex.test(ut)||this._current[s.$onText](ut.trim())}onCdata(ut){this._current[s.$onText](ut)}_mkAttributes(ut,dt){let et=null,_=null;const c=Object.create({});for(const{name:lt,value:at}of ut)if(lt==="xmlns")et?(0,e.warn)(`XFA - multiple namespace definition in <${dt}>`):et=at;else if(lt.startsWith("xmlns:")){const ct=lt.substring(6);_||(_=[]),_.push({prefix:ct,value:at})}else{const ct=lt.indexOf(":");if(ct===-1)c[lt]=at;else{let it=c[s.$nsAttributes];it||(it=c[s.$nsAttributes]=Object.create(null));const[tt,ot]=[lt.slice(0,ct),lt.slice(ct+1)];(it[tt]||(it[tt]=Object.create(null)))[ot]=at}}return[et,_,c]}_getNameAndPrefix(ut,dt){const et=ut.indexOf(":");return et===-1?[ut,null]:[ut.substring(et+1),dt?"":ut.substring(0,et)]}onBeginElement(ut,dt,et){const[_,c,lt]=this._mkAttributes(dt,ut),[at,ct]=this._getNameAndPrefix(ut,this._builder.isNsAgnostic()),it=this._builder.build({nsPrefix:ct,name:at,attributes:lt,namespace:_,prefixes:c});it[s.$globalData]=this._globalData,et?(it[s.$finalize](),this._current[s.$onChild](it)&&it[s.$setId](this._ids),it[s.$clean](this._builder)):(this._stack.push(this._current),this._current=it)}onEndElement(ut){const dt=this._current;if(dt[s.$isCDATAXml]()&&typeof dt[s.$content]=="string"){const et=new i;et._globalData=this._globalData;const _=et.parse(dt[s.$content]);dt[s.$content]=null,dt[s.$onChild](_)}dt[s.$finalize](),this._current=this._stack.pop(),this._current[s.$onChild](dt)&&dt[s.$setId](this._ids),dt[s.$clean](this._builder)}onError(ut){this._errorCode=ut}}$.XFAParser=i},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Builder=void 0;var s=_t(81),bt=_t(78),St=_t(92),e=_t(80),i=_t(101),d=_t(2),ut=_t(87);class dt extends ut.XFAObject{constructor(c){super(-1,"root",Object.create(null)),this.element=null,this[bt.$ids]=c}[bt.$onChild](c){return this.element=c,!0}[bt.$finalize](){super[bt.$finalize](),this.element.template instanceof e.Template&&(this[bt.$ids].set(bt.$root,this.element),this.element.template[bt.$resolvePrototypes](this[bt.$ids]),this.element.template[bt.$ids]=this[bt.$ids])}}class et extends ut.XFAObject{constructor(){super(-1,"",Object.create(null))}[bt.$onChild](c){return!1}}$.Builder=class{constructor(c=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(s.NamespaceIds).map(({id:lt})=>lt)),this._currentNamespace=c||new i.UnknownNamespace(++this._nextNsId)}buildRoot(c){return new dt(c)}build({nsPrefix:c,name:lt,attributes:at,namespace:ct,prefixes:it}){const tt=ct!==null;if(tt&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(ct)),it&&this._addNamespacePrefix(it),at.hasOwnProperty(bt.$nsAttributes)){const Ct=St.NamespaceSetUp.datasets,Nt=at[bt.$nsAttributes];let Pt=null;for(const[Tt,Et]of Object.entries(Nt))if(this._getNamespaceToUse(Tt)===Ct){Pt={xfa:Et};break}Pt?at[bt.$nsAttributes]=Pt:delete at[bt.$nsAttributes]}const ot=this._getNamespaceToUse(c),mt=(ot==null?void 0:ot[s.$buildXFAObject](lt,at))||new et;return mt[bt.$isNsAgnostic]()&&this._nsAgnosticLevel++,(tt||it||mt[bt.$isNsAgnostic]())&&(mt[bt.$cleanup]={hasNamespace:tt,prefixes:it,nsAgnostic:mt[bt.$isNsAgnostic]()}),mt}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(c){let lt=this._namespaces.get(c);if(lt)return lt;for(const[at,{check:ct}]of Object.entries(s.NamespaceIds))if(ct(c)){if(lt=St.NamespaceSetUp[at],lt)return this._namespaces.set(c,lt),lt;break}return lt=new i.UnknownNamespace(++this._nextNsId),this._namespaces.set(c,lt),lt}_addNamespacePrefix(c){for(const{prefix:lt,value:at}of c){const ct=this._searchNamespace(at);let it=this._namespacePrefixes.get(lt);it||(it=[],this._namespacePrefixes.set(lt,it)),it.push(ct)}}_getNamespaceToUse(c){if(!c)return this._currentNamespace;const lt=this._namespacePrefixes.get(c);return(lt==null?void 0:lt.length)>0?lt.at(-1):((0,d.warn)(`Unknown namespace prefix: ${c}.`),null)}clean(c){const{hasNamespace:lt,prefixes:at,nsAgnostic:ct}=c;lt&&(this._currentNamespace=this._namespaceStack.pop()),at&&at.forEach(({prefix:it})=>{this._namespacePrefixes.get(it).pop()}),ct&&this._nsAgnosticLevel--}}},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NamespaceSetUp=void 0;var s=_t(93),bt=_t(94),St=_t(95),e=_t(96),i=_t(97),d=_t(98),ut=_t(80),dt=_t(99),et=_t(100);const _={config:s.ConfigNamespace,connection:bt.ConnectionSetNamespace,datasets:St.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:i.SignatureNamespace,stylesheet:d.StylesheetNamespace,template:ut.TemplateNamespace,xdp:dt.XdpNamespace,xhtml:et.XhtmlNamespace};$.NamespaceSetUp=_},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ConfigNamespace=void 0;var s=_t(81),bt=_t(78),St=_t(87),e=_t(84),i=_t(2);const d=s.NamespaceIds.config.id;class ut extends St.XFAObject{constructor(Jt){super(d,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new St.XFAObjectArray}}class dt extends St.XFAObject{constructor(Jt){super(d,"acrobat7",!0),this.dynamicRender=null}}class et extends St.OptionObject{constructor(Jt){super(d,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class _ extends St.OptionObject{constructor(Jt){super(d,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class c extends St.Option01{constructor(Jt){super(d,"addSilentPrint")}}class lt extends St.Option01{constructor(Jt){super(d,"addViewerPreferences")}}class at extends St.Option10{constructor(Jt){super(d,"adjustData")}}class ct extends St.IntegerObject{constructor(Jt){super(d,"adobeExtensionLevel",0,Bn=>Bn>=1&&Bn<=8)}}class it extends St.XFAObject{constructor(Jt){super(d,"agent",!0),this.name=Jt.name?Jt.name.trim():"",this.common=new St.XFAObjectArray}}class tt extends St.ContentObject{constructor(Jt){super(d,"alwaysEmbed")}}class ot extends St.StringObject{constructor(Jt){super(d,"amd")}}class mt extends St.XFAObject{constructor(Jt){super(d,"area"),this.level=(0,e.getInteger)({data:Jt.level,defaultValue:0,validate:Bn=>Bn>=1&&Bn<=3}),this.name=(0,e.getStringOption)(Jt.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Ct extends St.OptionObject{constructor(Jt){super(d,"attributes",["preserve","delegate","ignore"])}}class Nt extends St.OptionObject{constructor(Jt){super(d,"autoSave",["disabled","enabled"])}}class Pt extends St.StringObject{constructor(Jt){super(d,"base")}}class Tt extends St.XFAObject{constructor(Jt){super(d,"batchOutput"),this.format=(0,e.getStringOption)(Jt.format,["none","concat","zip","zipCompress"])}}class Et extends St.ContentObject{constructor(Jt){super(d,"behaviorOverride")}[bt.$finalize](){this[bt.$content]=new Map(this[bt.$content].trim().split(/\s+/).filter(Jt=>Jt.includes(":")).map(Jt=>Jt.split(":",2)))}}class rt extends St.XFAObject{constructor(Jt){super(d,"cache",!0),this.templateCache=null}}class ft extends St.Option01{constructor(Jt){super(d,"change")}}class wt extends St.XFAObject{constructor(Jt){super(d,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new St.XFAObjectArray}}class b extends St.XFAObject{constructor(Jt){super(d,"compress"),this.scope=(0,e.getStringOption)(Jt.scope,["imageOnly","document"])}}class pt extends St.Option01{constructor(Jt){super(d,"compressLogicalStructure")}}class Ot extends St.Option10{constructor(Jt){super(d,"compressObjectStream")}}class kt extends St.XFAObject{constructor(Jt){super(d,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class st extends St.XFAObject{constructor(Jt){super(d,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new St.XFAObjectArray}}class nt extends St.OptionObject{constructor(Jt){super(d,"conformance",["A","B"])}}class gt extends St.Option01{constructor(Jt){super(d,"contentCopy")}}class Ft extends St.IntegerObject{constructor(Jt){super(d,"copies",1,Bn=>Bn>=1)}}class yt extends St.StringObject{constructor(Jt){super(d,"creator")}}class vt extends St.IntegerObject{constructor(Jt){super(d,"currentPage",0,Bn=>Bn>=0)}}class Lt extends St.XFAObject{constructor(Jt){super(d,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new St.XFAObjectArray,this.transform=new St.XFAObjectArray}}class jt extends St.XFAObject{constructor(Jt){super(d,"debug",!0),this.uri=null}}class Ht extends St.ContentObject{constructor(Jt){super(d,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(Jt.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class Vt extends St.OptionObject{constructor(Jt){super(d,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Qt extends St.Option01{constructor(Jt){super(d,"documentAssembly")}}class _e extends St.XFAObject{constructor(Jt){super(d,"driver",!0),this.name=Jt.name?Jt.name.trim():"",this.fontInfo=null,this.xdc=null}}class Xt extends St.OptionObject{constructor(Jt){super(d,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Dt extends St.OptionObject{constructor(Jt){super(d,"dynamicRender",["forbidden","required"])}}class It extends St.Option01{constructor(Jt){super(d,"embed")}}class j extends St.Option01{constructor(Jt){super(d,"encrypt")}}class At extends St.XFAObject{constructor(Jt){super(d,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class Mt extends St.OptionObject{constructor(Jt){super(d,"encryptionLevel",["40bit","128bit"])}}class Rt extends St.StringObject{constructor(Jt){super(d,"enforce")}}class $t extends St.XFAObject{constructor(Jt){super(d,"equate"),this.force=(0,e.getInteger)({data:Jt.force,defaultValue:1,validate:Bn=>Bn===0}),this.from=Jt.from||"",this.to=Jt.to||""}}class zt extends St.XFAObject{constructor(Jt){super(d,"equateRange"),this.from=Jt.from||"",this.to=Jt.to||"",this._unicodeRange=Jt.unicodeRange||""}get unicodeRange(){const Jt=[],Bn=/U\+([0-9a-fA-F]+)/,Gn=this._unicodeRange;for(let Jn of Gn.split(",").map(nr=>nr.trim()).filter(nr=>!!nr))Jn=Jn.split("-",2).map(nr=>{const ar=nr.match(Bn);return ar?parseInt(ar[1],16):0}),Jn.length===1&&Jn.push(Jn[0]),Jt.push(Jn);return(0,i.shadow)(this,"unicodeRange",Jt)}}class qt extends St.ContentObject{constructor(Jt){super(d,"exclude")}[bt.$finalize](){this[bt.$content]=this[bt.$content].trim().split(/\s+/).filter(Jt=>Jt&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Jt))}}class Wt extends St.StringObject{constructor(Jt){super(d,"excludeNS")}}class Gt extends St.OptionObject{constructor(Jt){super(d,"flipLabel",["usePrinterSetting","on","off"])}}class Zt extends St.XFAObject{constructor(Jt){super(d,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new St.XFAObjectArray,this.defaultTypeface=new St.XFAObjectArray,this.neverEmbed=new St.XFAObjectArray}}class Yt extends St.Option01{constructor(Jt){super(d,"formFieldFilling")}}class tn extends St.StringObject{constructor(Jt){super(d,"groupParent")}}class nn extends St.OptionObject{constructor(Jt){super(d,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class en extends St.StringObject{constructor(Jt){super(d,"includeXDPContent")}}class an extends St.OptionObject{constructor(Jt){super(d,"incrementalLoad",["none","forwardOnly"])}}class vn extends St.Option01{constructor(Jt){super(d,"incrementalMerge")}}class An extends St.Option01{constructor(Jt){super(d,"interactive")}}class cn extends St.OptionObject{constructor(Jt){super(d,"jog",["usePrinterSetting","none","pageSet"])}}class hn extends St.XFAObject{constructor(Jt){super(d,"labelPrinter",!0),this.name=(0,e.getStringOption)(Jt.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class fn extends St.OptionObject{constructor(Jt){super(d,"layout",["paginate","panel"])}}class Cn extends St.IntegerObject{constructor(Jt){super(d,"level",0,Bn=>Bn>0)}}class kn extends St.Option01{constructor(Jt){super(d,"linearized")}}class Rn extends St.StringObject{constructor(Jt){super(d,"locale")}}class sn extends St.StringObject{constructor(Jt){super(d,"localeSet")}}class En extends St.XFAObject{constructor(Jt){super(d,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Pn extends St.XFAObject{constructor(Jt){super(d,"map",!0),this.equate=new St.XFAObjectArray,this.equateRange=new St.XFAObjectArray}}class Ln extends St.XFAObject{constructor(Jt){super(d,"mediumInfo",!0),this.map=null}}class jn extends St.XFAObject{constructor(Jt){super(d,"message",!0),this.msgId=null,this.severity=null}}class Nn extends St.XFAObject{constructor(Jt){super(d,"messaging",!0),this.message=new St.XFAObjectArray}}class ln extends St.OptionObject{constructor(Jt){super(d,"mode",["append","overwrite"])}}class rn extends St.Option01{constructor(Jt){super(d,"modifyAnnots")}}class on extends St.IntegerObject{constructor(Jt){super(d,"msgId",1,Bn=>Bn>=1)}}class mn extends St.StringObject{constructor(Jt){super(d,"nameAttr")}}class gn extends St.ContentObject{constructor(Jt){super(d,"neverEmbed")}}class dn extends St.IntegerObject{constructor(Jt){super(d,"numberOfCopies",null,Bn=>Bn>=2&&Bn<=5)}}class Sn extends St.XFAObject{constructor(Jt){super(d,"openAction",!0),this.destination=null}}class bn extends St.XFAObject{constructor(Jt){super(d,"output",!0),this.to=null,this.type=null,this.uri=null}}class yn extends St.StringObject{constructor(Jt){super(d,"outputBin")}}class pn extends St.XFAObject{constructor(Jt){super(d,"outputXSL",!0),this.uri=null}}class Dn extends St.OptionObject{constructor(Jt){super(d,"overprint",["none","both","draw","field"])}}class Tn extends St.StringObject{constructor(Jt){super(d,"packets")}[bt.$finalize](){this[bt.$content]!=="*"&&(this[bt.$content]=this[bt.$content].trim().split(/\s+/).filter(Jt=>["config","datasets","template","xfdf","xslt"].includes(Jt)))}}class _n extends St.XFAObject{constructor(Jt){super(d,"pageOffset"),this.x=(0,e.getInteger)({data:Jt.x,defaultValue:"useXDCSetting",validate:Bn=>!0}),this.y=(0,e.getInteger)({data:Jt.y,defaultValue:"useXDCSetting",validate:Bn=>!0})}}class $n extends St.StringObject{constructor(Jt){super(d,"pageRange")}[bt.$finalize](){const Jt=this[bt.$content].trim().split(/\s+/).map(Gn=>parseInt(Gn,10)),Bn=[];for(let Gn=0,Jn=Jt.length;Gn<Jn;Gn+=2)Bn.push(Jt.slice(Gn,Gn+2));this[bt.$content]=Bn}}class Xn extends St.OptionObject{constructor(Jt){super(d,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Un extends St.OptionObject{constructor(Jt){super(d,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class zn extends St.IntegerObject{constructor(Jt){super(d,"part",1,Bn=>!1)}}class Wn extends St.XFAObject{constructor(Jt){super(d,"pcl",!0),this.name=Jt.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Kn extends St.XFAObject{constructor(Jt){super(d,"pdf",!0),this.name=Jt.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class rr extends St.XFAObject{constructor(Jt){super(d,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Vn extends St.XFAObject{constructor(Jt){super(d,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Hn extends St.Option01{constructor(Jt){super(d,"pickTrayByPDFSize")}}class qn extends St.StringObject{constructor(Jt){super(d,"picture")}}class Qn extends St.Option01{constructor(Jt){super(d,"plaintextMetadata")}}class Yn extends St.OptionObject{constructor(Jt){super(d,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Zn extends St.XFAObject{constructor(Jt){super(d,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new St.XFAObjectArray,this.labelPrinter=new St.XFAObjectArray,this.pcl=new St.XFAObjectArray,this.pdf=new St.XFAObjectArray,this.ps=new St.XFAObjectArray,this.submitUrl=new St.XFAObjectArray,this.webClient=new St.XFAObjectArray,this.zpl=new St.XFAObjectArray}}class er extends St.Option01{constructor(Jt){super(d,"print")}}class lr extends St.Option01{constructor(Jt){super(d,"printHighQuality")}}class pr extends St.OptionObject{constructor(Jt){super(d,"printScaling",["appdefault","noScaling"])}}class Cr extends St.StringObject{constructor(Jt){super(d,"printerName")}}class vr extends St.StringObject{constructor(Jt){super(d,"producer")}}class Fr extends St.XFAObject{constructor(Jt){super(d,"ps",!0),this.name=Jt.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class ms extends St.ContentObject{constructor(Jt){super(d,"range")}[bt.$finalize](){this[bt.$content]=this[bt.$content].trim().split(/\s*,\s*/,2).map(Jt=>Jt.split("-").map(Bn=>parseInt(Bn.trim(),10))).filter(Jt=>Jt.every(Bn=>!isNaN(Bn))).map(Jt=>(Jt.length===1&&Jt.push(Jt[0]),Jt))}}class bs extends St.ContentObject{constructor(Jt){super(d,"record")}[bt.$finalize](){this[bt.$content]=this[bt.$content].trim();const Jt=parseInt(this[bt.$content],10);!isNaN(Jt)&&Jt>=0&&(this[bt.$content]=Jt)}}class ys extends St.ContentObject{constructor(Jt){super(d,"relevant")}[bt.$finalize](){this[bt.$content]=this[bt.$content].trim().split(/\s+/)}}class ws extends St.ContentObject{constructor(Jt){super(d,"rename")}[bt.$finalize](){this[bt.$content]=this[bt.$content].trim(),(this[bt.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[bt.$content]))&&(0,i.warn)("XFA - Rename: invalid XFA name")}}class xs extends St.OptionObject{constructor(Jt){super(d,"renderPolicy",["server","client"])}}class vs extends St.OptionObject{constructor(Jt){super(d,"runScripts",["both","client","none","server"])}}class Ss extends St.XFAObject{constructor(Jt){super(d,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class As extends St.OptionObject{constructor(Jt){super(d,"scriptModel",["XFA","none"])}}class Zr extends St.OptionObject{constructor(Jt){super(d,"severity",["ignore","error","information","trace","warning"])}}class ks extends St.XFAObject{constructor(Jt){super(d,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Cs extends St.XFAObject{constructor(Jt){super(d,"staple"),this.mode=(0,e.getStringOption)(Jt.mode,["usePrinterSetting","on","off"])}}class Qr extends St.StringObject{constructor(Jt){super(d,"startNode")}}class Es extends St.IntegerObject{constructor(Jt){super(d,"startPage",0,Bn=>!0)}}class Fs extends St.OptionObject{constructor(Jt){super(d,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Ts extends St.StringObject{constructor(Jt){super(d,"submitUrl")}}class _s extends St.IntegerObject{constructor(Jt){super(d,"subsetBelow",100,Bn=>Bn>=0&&Bn<=100)}}class Ps extends St.Option01{constructor(Jt){super(d,"suppressBanner")}}class Os extends St.Option01{constructor(Jt){super(d,"tagged")}}class _i extends St.XFAObject{constructor(Jt){super(d,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class $r extends St.OptionObject{constructor(Jt){super(d,"threshold",["trace","error","information","warning"])}}class Is extends St.OptionObject{constructor(Jt){super(d,"to",["null","memory","stderr","stdout","system","uri"])}}class Ms extends St.XFAObject{constructor(Jt){super(d,"templateCache"),this.maxEntries=(0,e.getInteger)({data:Jt.maxEntries,defaultValue:5,validate:Bn=>Bn>=0})}}class Rs extends St.XFAObject{constructor(Jt){super(d,"trace",!0),this.area=new St.XFAObjectArray}}class Ur extends St.XFAObject{constructor(Jt){super(d,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class na extends St.OptionObject{constructor(Jt){super(d,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class ga extends St.StringObject{constructor(Jt){super(d,"uri")}}class Ds extends St.OptionObject{constructor(Jt){super(d,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class Ns extends St.ContentObject{constructor(Jt){super(d,"validateApprovalSignatures")}[bt.$finalize](){this[bt.$content]=this[bt.$content].trim().split(/\s+/).filter(Jt=>["docReady","postSign"].includes(Jt))}}class Ls extends St.OptionObject{constructor(Jt){super(d,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class js extends St.OptionObject{constructor(Jt){super(d,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Bs extends St.XFAObject{constructor(Jt){super(d,"VersionControl"),this.outputBelow=(0,e.getStringOption)(Jt.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(Jt.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(Jt.sourceBelow,["update","maintain"])}}class Hr extends St.XFAObject{constructor(Jt){super(d,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class $s extends St.XFAObject{constructor(Jt){super(d,"webClient",!0),this.name=Jt.name?Jt.name.trim():"",this.fontInfo=null,this.xdc=null}}class _r extends St.OptionObject{constructor(Jt){super(d,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Us extends St.ContentObject{constructor(Jt){super(d,"window")}[bt.$finalize](){const Jt=this[bt.$content].trim().split(/\s*,\s*/,2).map(Bn=>parseInt(Bn,10));Jt.some(Bn=>isNaN(Bn))?this[bt.$content]=[0,0]:(Jt.length===1&&Jt.push(Jt[0]),this[bt.$content]=Jt)}}class Pr extends St.XFAObject{constructor(Jt){super(d,"xdc",!0),this.uri=new St.XFAObjectArray,this.xsl=new St.XFAObjectArray}}class In extends St.XFAObject{constructor(Jt){super(d,"xdp",!0),this.packets=null}}class ht extends St.XFAObject{constructor(Jt){super(d,"xsl",!0),this.debug=null,this.uri=null}}class un extends St.XFAObject{constructor(Jt){super(d,"zpl",!0),this.name=Jt.name?Jt.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Mn{static[s.$buildXFAObject](Jt,Bn){if(Mn.hasOwnProperty(Jt))return Mn[Jt](Bn)}static acrobat(Jt){return new ut(Jt)}static acrobat7(Jt){return new dt(Jt)}static ADBE_JSConsole(Jt){return new et(Jt)}static ADBE_JSDebugger(Jt){return new _(Jt)}static addSilentPrint(Jt){return new c(Jt)}static addViewerPreferences(Jt){return new lt(Jt)}static adjustData(Jt){return new at(Jt)}static adobeExtensionLevel(Jt){return new ct(Jt)}static agent(Jt){return new it(Jt)}static alwaysEmbed(Jt){return new tt(Jt)}static amd(Jt){return new ot(Jt)}static area(Jt){return new mt(Jt)}static attributes(Jt){return new Ct(Jt)}static autoSave(Jt){return new Nt(Jt)}static base(Jt){return new Pt(Jt)}static batchOutput(Jt){return new Tt(Jt)}static behaviorOverride(Jt){return new Et(Jt)}static cache(Jt){return new rt(Jt)}static change(Jt){return new ft(Jt)}static common(Jt){return new wt(Jt)}static compress(Jt){return new b(Jt)}static compressLogicalStructure(Jt){return new pt(Jt)}static compressObjectStream(Jt){return new Ot(Jt)}static compression(Jt){return new kt(Jt)}static config(Jt){return new st(Jt)}static conformance(Jt){return new nt(Jt)}static contentCopy(Jt){return new gt(Jt)}static copies(Jt){return new Ft(Jt)}static creator(Jt){return new yt(Jt)}static currentPage(Jt){return new vt(Jt)}static data(Jt){return new Lt(Jt)}static debug(Jt){return new jt(Jt)}static defaultTypeface(Jt){return new Ht(Jt)}static destination(Jt){return new Vt(Jt)}static documentAssembly(Jt){return new Qt(Jt)}static driver(Jt){return new _e(Jt)}static duplexOption(Jt){return new Xt(Jt)}static dynamicRender(Jt){return new Dt(Jt)}static embed(Jt){return new It(Jt)}static encrypt(Jt){return new j(Jt)}static encryption(Jt){return new At(Jt)}static encryptionLevel(Jt){return new Mt(Jt)}static enforce(Jt){return new Rt(Jt)}static equate(Jt){return new $t(Jt)}static equateRange(Jt){return new zt(Jt)}static exclude(Jt){return new qt(Jt)}static excludeNS(Jt){return new Wt(Jt)}static flipLabel(Jt){return new Gt(Jt)}static fontInfo(Jt){return new Zt(Jt)}static formFieldFilling(Jt){return new Yt(Jt)}static groupParent(Jt){return new tn(Jt)}static ifEmpty(Jt){return new nn(Jt)}static includeXDPContent(Jt){return new en(Jt)}static incrementalLoad(Jt){return new an(Jt)}static incrementalMerge(Jt){return new vn(Jt)}static interactive(Jt){return new An(Jt)}static jog(Jt){return new cn(Jt)}static labelPrinter(Jt){return new hn(Jt)}static layout(Jt){return new fn(Jt)}static level(Jt){return new Cn(Jt)}static linearized(Jt){return new kn(Jt)}static locale(Jt){return new Rn(Jt)}static localeSet(Jt){return new sn(Jt)}static log(Jt){return new En(Jt)}static map(Jt){return new Pn(Jt)}static mediumInfo(Jt){return new Ln(Jt)}static message(Jt){return new jn(Jt)}static messaging(Jt){return new Nn(Jt)}static mode(Jt){return new ln(Jt)}static modifyAnnots(Jt){return new rn(Jt)}static msgId(Jt){return new on(Jt)}static nameAttr(Jt){return new mn(Jt)}static neverEmbed(Jt){return new gn(Jt)}static numberOfCopies(Jt){return new dn(Jt)}static openAction(Jt){return new Sn(Jt)}static output(Jt){return new bn(Jt)}static outputBin(Jt){return new yn(Jt)}static outputXSL(Jt){return new pn(Jt)}static overprint(Jt){return new Dn(Jt)}static packets(Jt){return new Tn(Jt)}static pageOffset(Jt){return new _n(Jt)}static pageRange(Jt){return new $n(Jt)}static pagination(Jt){return new Xn(Jt)}static paginationOverride(Jt){return new Un(Jt)}static part(Jt){return new zn(Jt)}static pcl(Jt){return new Wn(Jt)}static pdf(Jt){return new Kn(Jt)}static pdfa(Jt){return new rr(Jt)}static permissions(Jt){return new Vn(Jt)}static pickTrayByPDFSize(Jt){return new Hn(Jt)}static picture(Jt){return new qn(Jt)}static plaintextMetadata(Jt){return new Qn(Jt)}static presence(Jt){return new Yn(Jt)}static present(Jt){return new Zn(Jt)}static print(Jt){return new er(Jt)}static printHighQuality(Jt){return new lr(Jt)}static printScaling(Jt){return new pr(Jt)}static printerName(Jt){return new Cr(Jt)}static producer(Jt){return new vr(Jt)}static ps(Jt){return new Fr(Jt)}static range(Jt){return new ms(Jt)}static record(Jt){return new bs(Jt)}static relevant(Jt){return new ys(Jt)}static rename(Jt){return new ws(Jt)}static renderPolicy(Jt){return new xs(Jt)}static runScripts(Jt){return new vs(Jt)}static script(Jt){return new Ss(Jt)}static scriptModel(Jt){return new As(Jt)}static severity(Jt){return new Zr(Jt)}static silentPrint(Jt){return new ks(Jt)}static staple(Jt){return new Cs(Jt)}static startNode(Jt){return new Qr(Jt)}static startPage(Jt){return new Es(Jt)}static submitFormat(Jt){return new Fs(Jt)}static submitUrl(Jt){return new Ts(Jt)}static subsetBelow(Jt){return new _s(Jt)}static suppressBanner(Jt){return new Ps(Jt)}static tagged(Jt){return new Os(Jt)}static template(Jt){return new _i(Jt)}static templateCache(Jt){return new Ms(Jt)}static threshold(Jt){return new $r(Jt)}static to(Jt){return new Is(Jt)}static trace(Jt){return new Rs(Jt)}static transform(Jt){return new Ur(Jt)}static type(Jt){return new na(Jt)}static uri(Jt){return new ga(Jt)}static validate(Jt){return new Ds(Jt)}static validateApprovalSignatures(Jt){return new Ns(Jt)}static validationMessaging(Jt){return new Ls(Jt)}static version(Jt){return new js(Jt)}static versionControl(Jt){return new Bs(Jt)}static viewerPreferences(Jt){return new Hr(Jt)}static webClient(Jt){return new $s(Jt)}static whitespace(Jt){return new _r(Jt)}static window(Jt){return new Us(Jt)}static xdc(Jt){return new Pr(Jt)}static xdp(Jt){return new In(Jt)}static xsl(Jt){return new ht(Jt)}static zpl(Jt){return new un(Jt)}}$.ConfigNamespace=Mn},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ConnectionSetNamespace=void 0;var s=_t(81),bt=_t(87);const St=s.NamespaceIds.connectionSet.id;class e extends bt.XFAObject{constructor(mt){super(St,"connectionSet",!0),this.wsdlConnection=new bt.XFAObjectArray,this.xmlConnection=new bt.XFAObjectArray,this.xsdConnection=new bt.XFAObjectArray}}class i extends bt.XFAObject{constructor(mt){super(St,"effectiveInputPolicy"),this.id=mt.id||"",this.name=mt.name||"",this.use=mt.use||"",this.usehref=mt.usehref||""}}class d extends bt.XFAObject{constructor(mt){super(St,"effectiveOutputPolicy"),this.id=mt.id||"",this.name=mt.name||"",this.use=mt.use||"",this.usehref=mt.usehref||""}}class ut extends bt.StringObject{constructor(mt){super(St,"operation"),this.id=mt.id||"",this.input=mt.input||"",this.name=mt.name||"",this.output=mt.output||"",this.use=mt.use||"",this.usehref=mt.usehref||""}}class dt extends bt.StringObject{constructor(mt){super(St,"rootElement"),this.id=mt.id||"",this.name=mt.name||"",this.use=mt.use||"",this.usehref=mt.usehref||""}}class et extends bt.StringObject{constructor(mt){super(St,"soapAction"),this.id=mt.id||"",this.name=mt.name||"",this.use=mt.use||"",this.usehref=mt.usehref||""}}class _ extends bt.StringObject{constructor(mt){super(St,"soapAddress"),this.id=mt.id||"",this.name=mt.name||"",this.use=mt.use||"",this.usehref=mt.usehref||""}}class c extends bt.StringObject{constructor(mt){super(St,"uri"),this.id=mt.id||"",this.name=mt.name||"",this.use=mt.use||"",this.usehref=mt.usehref||""}}class lt extends bt.StringObject{constructor(mt){super(St,"wsdlAddress"),this.id=mt.id||"",this.name=mt.name||"",this.use=mt.use||"",this.usehref=mt.usehref||""}}class at extends bt.XFAObject{constructor(mt){super(St,"wsdlConnection",!0),this.dataDescription=mt.dataDescription||"",this.name=mt.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class ct extends bt.XFAObject{constructor(mt){super(St,"xmlConnection",!0),this.dataDescription=mt.dataDescription||"",this.name=mt.name||"",this.uri=null}}class it extends bt.XFAObject{constructor(mt){super(St,"xsdConnection",!0),this.dataDescription=mt.dataDescription||"",this.name=mt.name||"",this.rootElement=null,this.uri=null}}class tt{static[s.$buildXFAObject](mt,Ct){if(tt.hasOwnProperty(mt))return tt[mt](Ct)}static connectionSet(mt){return new e(mt)}static effectiveInputPolicy(mt){return new i(mt)}static effectiveOutputPolicy(mt){return new d(mt)}static operation(mt){return new ut(mt)}static rootElement(mt){return new dt(mt)}static soapAction(mt){return new et(mt)}static soapAddress(mt){return new _(mt)}static uri(mt){return new c(mt)}static wsdlAddress(mt){return new lt(mt)}static wsdlConnection(mt){return new at(mt)}static xmlConnection(mt){return new ct(mt)}static xsdConnection(mt){return new it(mt)}}$.ConnectionSetNamespace=tt},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DatasetsNamespace=void 0;var s=_t(78),bt=_t(81),St=_t(87);const e=bt.NamespaceIds.datasets.id;class i extends St.XmlObject{constructor(et){super(e,"data",et)}[s.$isNsAgnostic](){return!0}}class d extends St.XFAObject{constructor(et){super(e,"datasets",!0),this.data=null,this.Signature=null}[s.$onChild](et){const _=et[s.$nodeName];(_==="data"&&et[s.$namespaceId]===e||_==="Signature"&&et[s.$namespaceId]===bt.NamespaceIds.signature.id)&&(this[_]=et),this[s.$appendChild](et)}}class ut{static[bt.$buildXFAObject](et,_){if(ut.hasOwnProperty(et))return ut[et](_)}static datasets(et){return new d(et)}static data(et){return new i(et)}}$.DatasetsNamespace=ut},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.LocaleSetNamespace=void 0;var s=_t(81),bt=_t(87),St=_t(84);const e=s.NamespaceIds.localeSet.id;class i extends bt.XFAObject{constructor(st){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new bt.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new bt.XFAObjectArray(2)}}class d extends bt.StringObject{constructor(st){super(e,"currencySymbol"),this.name=(0,St.getStringOption)(st.name,["symbol","isoname","decimal"])}}class ut extends bt.XFAObject{constructor(st){super(e,"currencySymbols",!0),this.currencySymbol=new bt.XFAObjectArray(3)}}class dt extends bt.StringObject{constructor(st){super(e,"datePattern"),this.name=(0,St.getStringOption)(st.name,["full","long","med","short"])}}class et extends bt.XFAObject{constructor(st){super(e,"datePatterns",!0),this.datePattern=new bt.XFAObjectArray(4)}}class _ extends bt.ContentObject{constructor(st){super(e,"dateTimeSymbols")}}class c extends bt.StringObject{constructor(st){super(e,"day")}}class lt extends bt.XFAObject{constructor(st){super(e,"dayNames",!0),this.abbr=(0,St.getInteger)({data:st.abbr,defaultValue:0,validate:nt=>nt===1}),this.day=new bt.XFAObjectArray(7)}}class at extends bt.StringObject{constructor(st){super(e,"era")}}class ct extends bt.XFAObject{constructor(st){super(e,"eraNames",!0),this.era=new bt.XFAObjectArray(2)}}class it extends bt.XFAObject{constructor(st){super(e,"locale",!0),this.desc=st.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class tt extends bt.XFAObject{constructor(st){super(e,"localeSet",!0),this.locale=new bt.XFAObjectArray}}class ot extends bt.StringObject{constructor(st){super(e,"meridiem")}}class mt extends bt.XFAObject{constructor(st){super(e,"meridiemNames",!0),this.meridiem=new bt.XFAObjectArray(2)}}class Ct extends bt.StringObject{constructor(st){super(e,"month")}}class Nt extends bt.XFAObject{constructor(st){super(e,"monthNames",!0),this.abbr=(0,St.getInteger)({data:st.abbr,defaultValue:0,validate:nt=>nt===1}),this.month=new bt.XFAObjectArray(12)}}class Pt extends bt.StringObject{constructor(st){super(e,"numberPattern"),this.name=(0,St.getStringOption)(st.name,["full","long","med","short"])}}class Tt extends bt.XFAObject{constructor(st){super(e,"numberPatterns",!0),this.numberPattern=new bt.XFAObjectArray(4)}}class Et extends bt.StringObject{constructor(st){super(e,"numberSymbol"),this.name=(0,St.getStringOption)(st.name,["decimal","grouping","percent","minus","zero"])}}class rt extends bt.XFAObject{constructor(st){super(e,"numberSymbols",!0),this.numberSymbol=new bt.XFAObjectArray(5)}}class ft extends bt.StringObject{constructor(st){super(e,"timePattern"),this.name=(0,St.getStringOption)(st.name,["full","long","med","short"])}}class wt extends bt.XFAObject{constructor(st){super(e,"timePatterns",!0),this.timePattern=new bt.XFAObjectArray(4)}}class b extends bt.XFAObject{constructor(st){super(e,"typeFace",!0),this.name=""|st.name}}class pt extends bt.XFAObject{constructor(st){super(e,"typeFaces",!0),this.typeFace=new bt.XFAObjectArray}}class Ot{static[s.$buildXFAObject](st,nt){if(Ot.hasOwnProperty(st))return Ot[st](nt)}static calendarSymbols(st){return new i(st)}static currencySymbol(st){return new d(st)}static currencySymbols(st){return new ut(st)}static datePattern(st){return new dt(st)}static datePatterns(st){return new et(st)}static dateTimeSymbols(st){return new _(st)}static day(st){return new c(st)}static dayNames(st){return new lt(st)}static era(st){return new at(st)}static eraNames(st){return new ct(st)}static locale(st){return new it(st)}static localeSet(st){return new tt(st)}static meridiem(st){return new ot(st)}static meridiemNames(st){return new mt(st)}static month(st){return new Ct(st)}static monthNames(st){return new Nt(st)}static numberPattern(st){return new Pt(st)}static numberPatterns(st){return new Tt(st)}static numberSymbol(st){return new Et(st)}static numberSymbols(st){return new rt(st)}static timePattern(st){return new ft(st)}static timePatterns(st){return new wt(st)}static typeFace(st){return new b(st)}static typeFaces(st){return new pt(st)}}$.LocaleSetNamespace=Ot},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SignatureNamespace=void 0;var s=_t(81),bt=_t(87);const St=s.NamespaceIds.signature.id;class e extends bt.XFAObject{constructor(ut){super(St,"signature",!0)}}class i{static[s.$buildXFAObject](ut,dt){if(i.hasOwnProperty(ut))return i[ut](dt)}static signature(ut){return new e(ut)}}$.SignatureNamespace=i},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StylesheetNamespace=void 0;var s=_t(81),bt=_t(87);const St=s.NamespaceIds.stylesheet.id;class e extends bt.XFAObject{constructor(ut){super(St,"stylesheet",!0)}}class i{static[s.$buildXFAObject](ut,dt){if(i.hasOwnProperty(ut))return i[ut](dt)}static stylesheet(ut){return new e(ut)}}$.StylesheetNamespace=i},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XdpNamespace=void 0;var s=_t(81),bt=_t(78),St=_t(87);const e=s.NamespaceIds.xdp.id;class i extends St.XFAObject{constructor(dt){super(e,"xdp",!0),this.uuid=dt.uuid||"",this.timeStamp=dt.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new St.XFAObjectArray,this.template=null}[bt.$onChildCheck](dt){const et=s.NamespaceIds[dt[bt.$nodeName]];return et&&dt[bt.$namespaceId]===et.id}}class d{static[s.$buildXFAObject](dt,et){if(d.hasOwnProperty(dt))return d[dt](et)}static xdp(dt){return new i(dt)}}$.XdpNamespace=d},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XhtmlNamespace=void 0;var s=_t(78),bt=_t(81),St=_t(83),e=_t(84),i=_t(87);const d=bt.NamespaceIds.xhtml.id,ut=Symbol(),dt=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),et=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",kt=>kt==="none"?"none":"normal"],["xfa-font-horizontal-scale",kt=>`scaleX(${Math.max(0,Math.min(parseInt(kt)/100)).toFixed(2)})`],["xfa-font-vertical-scale",kt=>`scaleY(${Math.max(0,Math.min(parseInt(kt)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(kt,st)=>(kt=st.fontSize=(0,e.getMeasurement)(kt),(0,St.measureToString)(.99*kt))],["letter-spacing",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))],["line-height",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))],["margin",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))],["margin-bottom",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))],["margin-left",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))],["margin-right",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))],["margin-top",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))],["text-indent",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))],["font-family",kt=>kt],["vertical-align",kt=>(0,St.measureToString)((0,e.getMeasurement)(kt))]]),_=/\s+/g,c=/[\r\n]+/g,lt=/\r\n?/g;function at(kt,st,nt){const gt=Object.create(null);if(!kt)return gt;const Ft=Object.create(null);for(const[yt,vt]of kt.split(";").map(Lt=>Lt.split(":",2))){const Lt=et.get(yt);if(Lt==="")continue;let jt=vt;Lt&&(jt=typeof Lt=="string"?Lt:Lt(vt,Ft)),yt.endsWith("scale")?gt.transform=gt.transform?`${gt[yt]} ${jt}`:jt:gt[yt.replaceAll(/-([a-zA-Z])/g,(Ht,Vt)=>Vt.toUpperCase())]=jt}if(gt.fontFamily&&(0,St.setFontFamily)({typeface:gt.fontFamily,weight:gt.fontWeight||"normal",posture:gt.fontStyle||"normal",size:Ft.fontSize||0},st,st[s.$globalData].fontFinder,gt),nt&&gt.verticalAlign&&gt.verticalAlign!=="0px"&&gt.fontSize){const Lt=(0,e.getMeasurement)(gt.fontSize);gt.fontSize=(0,St.measureToString)(Lt*.583),gt.verticalAlign=(0,St.measureToString)(Math.sign((0,e.getMeasurement)(gt.verticalAlign))*Lt*.333)}return nt&&gt.fontSize&&(gt.fontSize=`calc(${gt.fontSize} * var(--scale-factor))`),(0,St.fixTextIndent)(gt),gt}const ct=new Set(["body","html"]);class it extends i.XmlObject{constructor(st,nt){super(d,nt),this[ut]=!1,this.style=st.style||""}[s.$clean](st){super[s.$clean](st),this.style=function(gt){return gt.style?gt.style.trim().split(/\s*;\s*/).filter(Ft=>!!Ft).map(Ft=>Ft.split(/\s*:\s*/,2)).filter(([Ft,yt])=>(Ft==="font-family"&&gt[s.$globalData].usedTypefaces.add(yt),dt.has(Ft))).map(Ft=>Ft.join(":")).join(";"):""}(this)}[s.$acceptWhitespace](){return!ct.has(this[s.$nodeName])}[s.$onText](st,nt=!1){nt?this[ut]=!0:(st=st.replaceAll(c,""),this.style.includes("xfa-spacerun:yes")||(st=st.replaceAll(_," "))),st&&(this[s.$content]+=st)}[s.$pushGlyphs](st,nt=!0){const gt=Object.create(null),Ft={top:NaN,bottom:NaN,left:NaN,right:NaN};let yt=null;for(const[vt,Lt]of this.style.split(";").map(jt=>jt.split(":",2)))switch(vt){case"font-family":gt.typeface=(0,e.stripQuotes)(Lt);break;case"font-size":gt.size=(0,e.getMeasurement)(Lt);break;case"font-weight":gt.weight=Lt;break;case"font-style":gt.posture=Lt;break;case"letter-spacing":gt.letterSpacing=(0,e.getMeasurement)(Lt);break;case"margin":const jt=Lt.split(/ \t/).map(Ht=>(0,e.getMeasurement)(Ht));switch(jt.length){case 1:Ft.top=Ft.bottom=Ft.left=Ft.right=jt[0];break;case 2:Ft.top=Ft.bottom=jt[0],Ft.left=Ft.right=jt[1];break;case 3:Ft.top=jt[0],Ft.bottom=jt[2],Ft.left=Ft.right=jt[1];break;case 4:Ft.top=jt[0],Ft.left=jt[1],Ft.bottom=jt[2],Ft.right=jt[3]}break;case"margin-top":Ft.top=(0,e.getMeasurement)(Lt);break;case"margin-bottom":Ft.bottom=(0,e.getMeasurement)(Lt);break;case"margin-left":Ft.left=(0,e.getMeasurement)(Lt);break;case"margin-right":Ft.right=(0,e.getMeasurement)(Lt);break;case"line-height":yt=(0,e.getMeasurement)(Lt)}if(st.pushData(gt,Ft,yt),this[s.$content])st.addString(this[s.$content]);else for(const vt of this[s.$getChildren]())vt[s.$nodeName]!=="#text"?vt[s.$pushGlyphs](st):st.addString(vt[s.$content]);nt&&st.popFont()}[s.$toHTML](st){const nt=[];if(this[s.$extra]={children:nt},this[s.$childrenToHTML]({}),nt.length===0&&!this[s.$content])return e.HTMLResult.EMPTY;let gt;return gt=this[ut]?this[s.$content]?this[s.$content].replaceAll(lt,`
`):void 0:this[s.$content]||void 0,e.HTMLResult.success({name:this[s.$nodeName],attributes:{href:this.href,style:at(this.style,this,this[ut])},children:nt,value:gt})}}class tt extends it{constructor(st){super(st,"a"),this.href=(0,St.fixURL)(st.href)||""}}class ot extends it{constructor(st){super(st,"b")}[s.$pushGlyphs](st){st.pushFont({weight:"bold"}),super[s.$pushGlyphs](st),st.popFont()}}class mt extends it{constructor(st){super(st,"body")}[s.$toHTML](st){const nt=super[s.$toHTML](st),{html:gt}=nt;return gt?(gt.name="div",gt.attributes.class=["xfaRich"],nt):e.HTMLResult.EMPTY}}class Ct extends it{constructor(st){super(st,"br")}[s.$text](){return`
`}[s.$pushGlyphs](st){st.addString(`
`)}[s.$toHTML](st){return e.HTMLResult.success({name:"br"})}}class Nt extends it{constructor(st){super(st,"html")}[s.$toHTML](st){var gt;const nt=[];if(this[s.$extra]={children:nt},this[s.$childrenToHTML]({}),nt.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[s.$content]||""});if(nt.length===1){const Ft=nt[0];if((gt=Ft.attributes)!=null&&gt.class.includes("xfaRich"))return e.HTMLResult.success(Ft)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:nt})}}class Pt extends it{constructor(st){super(st,"i")}[s.$pushGlyphs](st){st.pushFont({posture:"italic"}),super[s.$pushGlyphs](st),st.popFont()}}class Tt extends it{constructor(st){super(st,"li")}}class Et extends it{constructor(st){super(st,"ol")}}class rt extends it{constructor(st){super(st,"p")}[s.$pushGlyphs](st){super[s.$pushGlyphs](st,!1),st.addString(`
`),st.addPara(),st.popFont()}[s.$text](){return this[s.$getParent]()[s.$getChildren]().at(-1)===this?super[s.$text]():super[s.$text]()+`
`}}class ft extends it{constructor(st){super(st,"span")}}class wt extends it{constructor(st){super(st,"sub")}}class b extends it{constructor(st){super(st,"sup")}}class pt extends it{constructor(st){super(st,"ul")}}class Ot{static[bt.$buildXFAObject](st,nt){if(Ot.hasOwnProperty(st))return Ot[st](nt)}static a(st){return new tt(st)}static b(st){return new ot(st)}static body(st){return new mt(st)}static br(st){return new Ct(st)}static html(st){return new Nt(st)}static i(st){return new Pt(st)}static li(st){return new Tt(st)}static ol(st){return new Et(st)}static p(st){return new rt(st)}static span(st){return new ft(st)}static sub(st){return new wt(st)}static sup(st){return new b(st)}static ul(st){return new pt(st)}}$.XhtmlNamespace=Ot},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.UnknownNamespace=void 0;var s=_t(81),bt=_t(87);class St{constructor(i){this.namespaceId=i}[s.$buildXFAObject](i,d){return new bt.XmlObject(this.namespaceId,i,d)}}$.UnknownNamespace=St},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DatasetReader=void 0;var s=_t(2),bt=_t(3),St=_t(71);function e(d){try{return(0,s.stringToUTF8String)(d)}catch(ut){return(0,s.warn)(`UTF-8 decoding failed: "${ut}".`),d}}class i extends St.SimpleXMLParser{constructor(ut){super(ut),this.node=null}onEndElement(ut){const dt=super.onEndElement(ut);if(dt&&ut==="xfa:datasets")throw this.node=dt,new Error("Aborting DatasetXMLParser.")}}$.DatasetReader=class{constructor(ut){if(ut.datasets)this.node=new St.SimpleXMLParser({hasAttributes:!0}).parseFromString(ut.datasets).documentElement;else{const dt=new i({hasAttributes:!0});try{dt.parseFromString(ut["xdp:xdp"])}catch{}this.node=dt.node}}getValue(ut){if(!this.node||!ut)return"";const dt=this.node.searchNode((0,bt.parseXFAPath)(ut),0);if(!dt)return"";const et=dt.firstChild;return(et==null?void 0:et.nodeName)==="value"?dt.children.map(_=>e(_.textContent)):e(dt.textContent)}}},(Ut,$,_t)=>{var ut,dt;Object.defineProperty($,"__esModule",{value:!0}),$.XRef=void 0;var s=_t(2),bt=_t(4),St=_t(16),e=_t(3),i=_t(5),d=_t(74);$.XRef=(dt=class{constructor(_,c){Fn(this,ut,null);this.stream=_,this.pdfManager=c,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new bt.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(_){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const c=this._newPersistentRefNum++;return this._cacheMap.set(c,_),bt.Ref.get(c,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),bt.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(_){this.startXRefQueue=[_]}parse(_=!1){let c,lt,at;_?((0,s.warn)("Indexing all PDF objects"),c=this.indexObjects()):c=this.readXRef(),c.assignXref(this),this.trailer=c;try{lt=c.get("Encrypt")}catch(ct){if(ct instanceof e.MissingDataException)throw ct;(0,s.warn)(`XRef.parse - Invalid "Encrypt" reference: "${ct}".`)}if(lt instanceof bt.Dict){const ct=c.get("ID"),it=ct!=null&&ct.length?ct[0]:"";lt.suppressEncryption=!0,this.encrypt=new d.CipherTransformFactory(lt,it,this.pdfManager.password)}try{at=c.get("Root")}catch(ct){if(ct instanceof e.MissingDataException)throw ct;(0,s.warn)(`XRef.parse - Invalid "Root" reference: "${ct}".`)}if(at instanceof bt.Dict)try{if(at.get("Pages")instanceof bt.Dict){this.root=at;return}}catch(ct){if(ct instanceof e.MissingDataException)throw ct;(0,s.warn)(`XRef.parse - Invalid "Pages" reference: "${ct}".`)}throw _?new s.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(_){"tableState"in this||(this.tableState={entryNum:0,streamPos:_.lexer.stream.pos,parserBuf1:_.buf1,parserBuf2:_.buf2});const c=this.readXRefTable(_);if(!(0,bt.isCmd)(c,"trailer"))throw new s.FormatError("Invalid XRef table: could not find trailer dictionary");let lt=_.getObj();if(lt instanceof bt.Dict||!lt.dict||(lt=lt.dict),!(lt instanceof bt.Dict))throw new s.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,lt}readXRefTable(_){const c=_.lexer.stream,lt=this.tableState;c.pos=lt.streamPos,_.buf1=lt.parserBuf1,_.buf2=lt.parserBuf2;let at;for(;;){if(!("firstEntryNum"in lt)||!("entryCount"in lt)){if((0,bt.isCmd)(at=_.getObj(),"trailer"))break;lt.firstEntryNum=at,lt.entryCount=_.getObj()}let ct=lt.firstEntryNum;const it=lt.entryCount;if(!Number.isInteger(ct)||!Number.isInteger(it))throw new s.FormatError("Invalid XRef table: wrong types in subsection header");for(let tt=lt.entryNum;tt<it;tt++){lt.streamPos=c.pos,lt.entryNum=tt,lt.parserBuf1=_.buf1,lt.parserBuf2=_.buf2;const ot={};ot.offset=_.getObj(),ot.gen=_.getObj();const mt=_.getObj();if(mt instanceof bt.Cmd)switch(mt.cmd){case"f":ot.free=!0;break;case"n":ot.uncompressed=!0}if(!Number.isInteger(ot.offset)||!Number.isInteger(ot.gen)||!ot.free&&!ot.uncompressed)throw new s.FormatError(`Invalid entry in XRef subsection: ${ct}, ${it}`);tt===0&&ot.free&&ct===1&&(ct=0),this.entries[tt+ct]||(this.entries[tt+ct]=ot)}lt.entryNum=0,lt.streamPos=c.pos,lt.parserBuf1=_.buf1,lt.parserBuf2=_.buf2,delete lt.firstEntryNum,delete lt.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new s.FormatError("Invalid XRef table: unexpected first object");return at}processXRefStream(_){if(!("streamState"in this)){const c=_.dict,lt=c.get("W");let at=c.get("Index");at||(at=[0,c.get("Size")]),this.streamState={entryRanges:at,byteWidths:lt,entryNum:0,streamPos:_.pos}}return this.readXRefStream(_),delete this.streamState,_.dict}readXRefStream(_){const c=this.streamState;_.pos=c.streamPos;const[lt,at,ct]=c.byteWidths,it=c.entryRanges;for(;it.length>0;){const[tt,ot]=it;if(!Number.isInteger(tt)||!Number.isInteger(ot))throw new s.FormatError(`Invalid XRef range fields: ${tt}, ${ot}`);if(!Number.isInteger(lt)||!Number.isInteger(at)||!Number.isInteger(ct))throw new s.FormatError(`Invalid XRef entry fields length: ${tt}, ${ot}`);for(let mt=c.entryNum;mt<ot;++mt){c.entryNum=mt,c.streamPos=_.pos;let Ct=0,Nt=0,Pt=0;for(let Et=0;Et<lt;++Et){const rt=_.getByte();if(rt===-1)throw new s.FormatError("Invalid XRef byteWidths 'type'.");Ct=Ct<<8|rt}lt===0&&(Ct=1);for(let Et=0;Et<at;++Et){const rt=_.getByte();if(rt===-1)throw new s.FormatError("Invalid XRef byteWidths 'offset'.");Nt=Nt<<8|rt}for(let Et=0;Et<ct;++Et){const rt=_.getByte();if(rt===-1)throw new s.FormatError("Invalid XRef byteWidths 'generation'.");Pt=Pt<<8|rt}const Tt={};switch(Tt.offset=Nt,Tt.gen=Pt,Ct){case 0:Tt.free=!0;break;case 1:Tt.uncompressed=!0;break;case 2:break;default:throw new s.FormatError(`Invalid XRef entry type: ${Ct}`)}this.entries[tt+mt]||(this.entries[tt+mt]=Tt)}c.entryNum=0,c.streamPos=_.pos,it.splice(0,2)}}indexObjects(){function _(Ot,kt){let st="",nt=Ot[kt];for(;nt!==10&&nt!==13&&nt!==60&&!(++kt>=Ot.length);)st+=String.fromCharCode(nt),nt=Ot[kt];return st}function c(Ot,kt,st){const nt=st.length,gt=Ot.length;let Ft=0;for(;kt<gt;){let yt=0;for(;yt<nt&&Ot[kt+yt]===st[yt];)++yt;if(yt>=nt)break;kt++,Ft++}return Ft}const lt=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,at=/\b(startxref|\d+\s+\d+\s+obj)\b/g,ct=/^(\d+)\s+(\d+)\s+obj\b/,it=new Uint8Array([116,114,97,105,108,101,114]),tt=new Uint8Array([115,116,97,114,116,120,114,101,102]),ot=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const mt=this.stream;mt.pos=0;const Ct=mt.getBytes(),Nt=(0,s.bytesToString)(Ct),Pt=Ct.length;let Tt=mt.start;const Et=[],rt=[];for(;Tt<Pt;){let Ot=Ct[Tt];if(Ot===9||Ot===10||Ot===13||Ot===32){++Tt;continue}if(Ot===37){do{if(++Tt,Tt>=Pt)break;Ot=Ct[Tt]}while(Ot!==10&&Ot!==13);continue}const kt=_(Ct,Tt);let st;if(kt.startsWith("xref")&&(kt.length===4||/\s/.test(kt[4])))Tt+=c(Ct,Tt,it),Et.push(Tt),Tt+=c(Ct,Tt,tt);else if(st=ct.exec(kt)){const nt=0|st[1],gt=0|st[2],Ft=Tt+kt.length;let yt,vt=!1;if(this.entries[nt]){if(this.entries[nt].gen===gt)try{new St.Parser({lexer:new St.Lexer(mt.makeSubStream(Ft))}).getObj(),vt=!0}catch(Vt){Vt instanceof e.ParserEOFException?(0,s.warn)(`indexObjects -- checking object (${kt}): "${Vt}".`):vt=!0}}else vt=!0;vt&&(this.entries[nt]={offset:Tt-mt.start,gen:gt,uncompressed:!0}),lt.lastIndex=Ft;const Lt=lt.exec(Nt);Lt?(yt=lt.lastIndex+1-Tt,Lt[1]!=="endobj"&&((0,s.warn)(`indexObjects: Found "${Lt[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),yt-=Lt[1].length+1)):yt=Pt-Tt;const jt=Ct.subarray(Tt,Tt+yt),Ht=c(jt,0,ot);Ht<yt&&jt[Ht+5]<64&&(rt.push(Tt-mt.start),this._xrefStms.add(Tt-mt.start)),Tt+=yt}else if(kt.startsWith("trailer")&&(kt.length===7||/\s/.test(kt[7]))){Et.push(Tt);const nt=Tt+kt.length;let gt;at.lastIndex=nt;const Ft=at.exec(Nt);Ft?(gt=at.lastIndex+1-Tt,Ft[1]!=="startxref"&&((0,s.warn)(`indexObjects: Found "${Ft[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),gt-=Ft[1].length+1)):gt=Pt-Tt,Tt+=gt}else Tt+=kt.length+1}for(const Ot of rt)this.startXRefQueue.push(Ot),this.readXRef(!0);const ft=[];let wt,b,pt=!1;for(const Ot of Et){mt.pos=Ot;const kt=new St.Parser({lexer:new St.Lexer(mt),xref:this,allowStreams:!0,recoveryMode:!0}),st=kt.getObj();if(!(0,bt.isCmd)(st,"trailer"))continue;const nt=kt.getObj();nt instanceof bt.Dict&&(ft.push(nt),nt.has("Encrypt")&&(pt=!0))}for(const Ot of[...ft,"genFallback",...ft]){if(Ot==="genFallback"){if(!b)break;this._generationFallback=!0;continue}let kt=!1;try{const st=Ot.get("Root");if(!(st instanceof bt.Dict))continue;const nt=st.get("Pages");if(!(nt instanceof bt.Dict))continue;const gt=nt.get("Count");Number.isInteger(gt)&&(kt=!0)}catch(st){b=st;continue}if(kt&&(!pt||Ot.has("Encrypt"))&&Ot.has("ID"))return Ot;wt=Ot}if(wt)return wt;if(this.topDict)return this.topDict;throw new s.InvalidPDFException("Invalid PDF structure.")}readXRef(_=!1){const c=this.stream,lt=new Set;for(;this.startXRefQueue.length;){try{const at=this.startXRefQueue[0];if(lt.has(at)){(0,s.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}lt.add(at),c.pos=at+c.start;const ct=new St.Parser({lexer:new St.Lexer(c),xref:this,allowStreams:!0});let it,tt=ct.getObj();if((0,bt.isCmd)(tt,"xref"))it=this.processXRefTable(ct),this.topDict||(this.topDict=it),tt=it.get("XRefStm"),Number.isInteger(tt)&&!this._xrefStms.has(tt)&&(this._xrefStms.add(tt),this.startXRefQueue.push(tt),Kt(this,ut)??On(this,ut,tt));else{if(!Number.isInteger(tt))throw new s.FormatError("Invalid XRef stream header");if(!(Number.isInteger(ct.getObj())&&(0,bt.isCmd)(ct.getObj(),"obj")&&(tt=ct.getObj())instanceof i.BaseStream))throw new s.FormatError("Invalid XRef stream");if(it=this.processXRefStream(tt),this.topDict||(this.topDict=it),!it)throw new s.FormatError("Failed to read XRef stream")}tt=it.get("Prev"),Number.isInteger(tt)?this.startXRefQueue.push(tt):tt instanceof bt.Ref&&this.startXRefQueue.push(tt.num)}catch(at){if(at instanceof e.MissingDataException)throw at;(0,s.info)("(while reading XRef): "+at)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!_)throw new e.XRefParseException}get lastXRefStreamPos(){return Kt(this,ut)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(_){const c=this.entries[_];return c&&!c.free&&c.offset?c:null}fetchIfRef(_,c=!1){return _ instanceof bt.Ref?this.fetch(_,c):_}fetch(_,c=!1){if(!(_ instanceof bt.Ref))throw new Error("ref object is not a reference");const lt=_.num,at=this._cacheMap.get(lt);if(at!==void 0)return at instanceof bt.Dict&&!at.objId&&(at.objId=_.toString()),at;let ct=this.getEntry(lt);if(ct===null)return this._cacheMap.set(lt,ct),ct;if(this._pendingRefs.has(_))return this._pendingRefs.remove(_),(0,s.warn)(`Ignoring circular reference: ${_}.`),bt.CIRCULAR_REF;this._pendingRefs.put(_);try{ct=ct.uncompressed?this.fetchUncompressed(_,ct,c):this.fetchCompressed(_,ct,c),this._pendingRefs.remove(_)}catch(it){throw this._pendingRefs.remove(_),it}return ct instanceof bt.Dict?ct.objId=_.toString():ct instanceof i.BaseStream&&(ct.dict.objId=_.toString()),ct}fetchUncompressed(_,c,lt=!1){const at=_.gen;let ct=_.num;if(c.gen!==at){const Nt=`Inconsistent generation in XRef: ${_}`;if(this._generationFallback&&c.gen<at)return(0,s.warn)(Nt),this.fetchUncompressed(bt.Ref.get(ct,c.gen),c,lt);throw new e.XRefEntryException(Nt)}const it=this.stream.makeSubStream(c.offset+this.stream.start),tt=new St.Parser({lexer:new St.Lexer(it),xref:this,allowStreams:!0}),ot=tt.getObj(),mt=tt.getObj(),Ct=tt.getObj();if(ot!==ct||mt!==at||!(Ct instanceof bt.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${_}`);if(Ct.cmd!=="obj"){if(Ct.cmd.startsWith("obj")&&(ct=parseInt(Ct.cmd.substring(3),10),!Number.isNaN(ct)))return ct;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${_}`)}return(c=this.encrypt&&!lt?tt.getObj(this.encrypt.createCipherTransform(ct,at)):tt.getObj())instanceof i.BaseStream||this._cacheMap.set(ct,c),c}fetchCompressed(_,c,lt=!1){const at=c.offset,ct=this.fetch(bt.Ref.get(at,0));if(!(ct instanceof i.BaseStream))throw new s.FormatError("bad ObjStm stream");const it=ct.dict.get("First"),tt=ct.dict.get("N");if(!Number.isInteger(it)||!Number.isInteger(tt))throw new s.FormatError("invalid first and n parameters for ObjStm stream");let ot=new St.Parser({lexer:new St.Lexer(ct),xref:this,allowStreams:!0});const mt=new Array(tt),Ct=new Array(tt);for(let Tt=0;Tt<tt;++Tt){const Et=ot.getObj();if(!Number.isInteger(Et))throw new s.FormatError(`invalid object number in the ObjStm stream: ${Et}`);const rt=ot.getObj();if(!Number.isInteger(rt))throw new s.FormatError(`invalid object offset in the ObjStm stream: ${rt}`);mt[Tt]=Et,Ct[Tt]=rt}const Nt=(ct.start||0)+it,Pt=new Array(tt);for(let Tt=0;Tt<tt;++Tt){const Et=Tt<tt-1?Ct[Tt+1]-Ct[Tt]:void 0;if(Et<0)throw new s.FormatError("Invalid offset in the ObjStm stream.");ot=new St.Parser({lexer:new St.Lexer(ct.makeSubStream(Nt+Ct[Tt],Et,ct.dict)),xref:this,allowStreams:!0});const rt=ot.getObj();if(Pt[Tt]=rt,rt instanceof i.BaseStream)continue;const ft=mt[Tt],wt=this.entries[ft];wt&&wt.offset===at&&wt.gen===Tt&&this._cacheMap.set(ft,rt)}if((c=Pt[c.gen])===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${_}`);return c}async fetchIfRefAsync(_,c){return _ instanceof bt.Ref?this.fetchAsync(_,c):_}async fetchAsync(_,c){try{return this.fetch(_,c)}catch(lt){if(!(lt instanceof e.MissingDataException))throw lt;return await this.pdfManager.requestRange(lt.begin,lt.end),this.fetchAsync(_,c)}}getCatalogObj(){return this.root}},ut=new WeakMap,dt)},(Ut,$,_t)=>{var at,Wl,Gl,gs,ot;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var s=_t(2);const bt=1,St=2,e=1,i=2,d=3,ut=4,dt=5,et=6,_=7,c=8;function lt(mt){switch(mt instanceof Error||typeof mt=="object"&&mt!==null||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),mt.name){case"AbortException":return new s.AbortException(mt.message);case"MissingPDFException":return new s.MissingPDFException(mt.message);case"PasswordException":return new s.PasswordException(mt.message,mt.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(mt.message,mt.status);case"UnknownErrorException":return new s.UnknownErrorException(mt.message,mt.details);default:return new s.UnknownErrorException(mt.message,mt.toString())}}$.MessageHandler=(ot=class{constructor(Ct,Nt,Pt){Fn(this,at);this.sourceName=Ct,this.targetName=Nt,this.comObj=Pt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Tt=>{const Et=Tt.data;if(Et.targetName!==this.sourceName)return;if(Et.stream){xn(this,at,Gl).call(this,Et);return}if(Et.callback){const ft=Et.callbackId,wt=this.callbackCapabilities[ft];if(!wt)throw new Error(`Cannot resolve callback ${ft}`);if(delete this.callbackCapabilities[ft],Et.callback===bt)wt.resolve(Et.data);else{if(Et.callback!==St)throw new Error("Unexpected callback case");wt.reject(lt(Et.reason))}return}const rt=this.actionHandler[Et.action];if(!rt)throw new Error(`Unknown action from worker: ${Et.action}`);if(Et.callbackId){const ft=this.sourceName,wt=Et.sourceName;new Promise(function(b){b(rt(Et.data))}).then(function(b){Pt.postMessage({sourceName:ft,targetName:wt,callback:bt,callbackId:Et.callbackId,data:b})},function(b){Pt.postMessage({sourceName:ft,targetName:wt,callback:St,callbackId:Et.callbackId,reason:lt(b)})})}else Et.streamId?xn(this,at,Wl).call(this,Et):rt(Et.data)},Pt.addEventListener("message",this._onComObjOnMessage)}on(Ct,Nt){const Pt=this.actionHandler;if(Pt[Ct])throw new Error(`There is already an actionName called "${Ct}"`);Pt[Ct]=Nt}send(Ct,Nt,Pt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ct,data:Nt},Pt)}sendWithPromise(Ct,Nt,Pt){const Tt=this.callbackId++,Et=new s.PromiseCapability;this.callbackCapabilities[Tt]=Et;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ct,callbackId:Tt,data:Nt},Pt)}catch(rt){Et.reject(rt)}return Et.promise}sendWithStream(Ct,Nt,Pt,Tt){const Et=this.streamId++,rt=this.sourceName,ft=this.targetName,wt=this.comObj;return new ReadableStream({start:b=>{const pt=new s.PromiseCapability;return this.streamControllers[Et]={controller:b,startCall:pt,pullCall:null,cancelCall:null,isClosed:!1},wt.postMessage({sourceName:rt,targetName:ft,action:Ct,streamId:Et,data:Nt,desiredSize:b.desiredSize},Tt),pt.promise},pull:b=>{const pt=new s.PromiseCapability;return this.streamControllers[Et].pullCall=pt,wt.postMessage({sourceName:rt,targetName:ft,stream:et,streamId:Et,desiredSize:b.desiredSize}),pt.promise},cancel:b=>{(0,s.assert)(b instanceof Error,"cancel must have a valid reason");const pt=new s.PromiseCapability;return this.streamControllers[Et].cancelCall=pt,this.streamControllers[Et].isClosed=!0,wt.postMessage({sourceName:rt,targetName:ft,stream:e,streamId:Et,reason:lt(b)}),pt.promise}},Pt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},at=new WeakSet,Wl=function(Ct){const Nt=Ct.streamId,Pt=this.sourceName,Tt=Ct.sourceName,Et=this.comObj,rt=this,ft=this.actionHandler[Ct.action],wt={enqueue(b,pt=1,Ot){if(this.isCancelled)return;const kt=this.desiredSize;this.desiredSize-=pt,kt>0&&this.desiredSize<=0&&(this.sinkCapability=new s.PromiseCapability,this.ready=this.sinkCapability.promise),Et.postMessage({sourceName:Pt,targetName:Tt,stream:ut,streamId:Nt,chunk:b},Ot)},close(){this.isCancelled||(this.isCancelled=!0,Et.postMessage({sourceName:Pt,targetName:Tt,stream:d,streamId:Nt}),delete rt.streamSinks[Nt])},error(b){(0,s.assert)(b instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,Et.postMessage({sourceName:Pt,targetName:Tt,stream:dt,streamId:Nt,reason:lt(b)}))},sinkCapability:new s.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Ct.desiredSize,ready:null};wt.sinkCapability.resolve(),wt.ready=wt.sinkCapability.promise,this.streamSinks[Nt]=wt,new Promise(function(b){b(ft(Ct.data,wt))}).then(function(){Et.postMessage({sourceName:Pt,targetName:Tt,stream:c,streamId:Nt,success:!0})},function(b){Et.postMessage({sourceName:Pt,targetName:Tt,stream:c,streamId:Nt,reason:lt(b)})})},Gl=function(Ct){const Nt=Ct.streamId,Pt=this.sourceName,Tt=Ct.sourceName,Et=this.comObj,rt=this.streamControllers[Nt],ft=this.streamSinks[Nt];switch(Ct.stream){case c:Ct.success?rt.startCall.resolve():rt.startCall.reject(lt(Ct.reason));break;case _:Ct.success?rt.pullCall.resolve():rt.pullCall.reject(lt(Ct.reason));break;case et:if(!ft){Et.postMessage({sourceName:Pt,targetName:Tt,stream:_,streamId:Nt,success:!0});break}ft.desiredSize<=0&&Ct.desiredSize>0&&ft.sinkCapability.resolve(),ft.desiredSize=Ct.desiredSize,new Promise(function(wt){var b;wt((b=ft.onPull)==null?void 0:b.call(ft))}).then(function(){Et.postMessage({sourceName:Pt,targetName:Tt,stream:_,streamId:Nt,success:!0})},function(wt){Et.postMessage({sourceName:Pt,targetName:Tt,stream:_,streamId:Nt,reason:lt(wt)})});break;case ut:if((0,s.assert)(rt,"enqueue should have stream controller"),rt.isClosed)break;rt.controller.enqueue(Ct.chunk);break;case d:if((0,s.assert)(rt,"close should have stream controller"),rt.isClosed)break;rt.isClosed=!0,rt.controller.close(),xn(this,at,gs).call(this,rt,Nt);break;case dt:(0,s.assert)(rt,"error should have stream controller"),rt.controller.error(lt(Ct.reason)),xn(this,at,gs).call(this,rt,Nt);break;case i:Ct.success?rt.cancelCall.resolve():rt.cancelCall.reject(lt(Ct.reason)),xn(this,at,gs).call(this,rt,Nt);break;case e:if(!ft)break;new Promise(function(wt){var b;wt((b=ft.onCancel)==null?void 0:b.call(ft,lt(Ct.reason)))}).then(function(){Et.postMessage({sourceName:Pt,targetName:Tt,stream:i,streamId:Nt,success:!0})},function(wt){Et.postMessage({sourceName:Pt,targetName:Tt,stream:i,streamId:Nt,reason:lt(wt)})}),ft.sinkCapability.reject(lt(Ct.reason)),ft.isCancelled=!0,delete this.streamSinks[Nt];break;default:throw new Error("Unexpected stream case")}},gs=async function(Ct,Nt){var Pt,Tt,Et;await Promise.allSettled([(Pt=Ct.startCall)==null?void 0:Pt.promise,(Tt=Ct.pullCall)==null?void 0:Tt.promise,(Et=Ct.cancelCall)==null?void 0:Et.promise]),delete this.streamControllers[Nt]},ot)},(Ut,$,_t)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFWorkerStream=void 0;var s=_t(2);$.PDFWorkerStream=class{constructor(i){this._msgHandler=i,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new bt(this._msgHandler),this._fullRequestReader}getRangeReader(i,d){const ut=new St(i,d,this._msgHandler);return this._rangeRequestReaders.push(ut),ut}cancelAllRequests(i){var d;(d=this._fullRequestReader)==null||d.cancel(i);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(i)}};class bt{constructor(i){this._msgHandler=i,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const d=this._msgHandler.sendWithStream("GetReader");this._reader=d.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(ut=>{this._isStreamingSupported=ut.isStreamingSupported,this._isRangeSupported=ut.isRangeSupported,this._contentLength=ut.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:i,done:d}=await this._reader.read();return d?{value:void 0,done:!0}:{value:i.buffer,done:!1}}cancel(i){this._reader.cancel(i)}}class St{constructor(i,d,ut){this._msgHandler=ut,this.onProgress=null;const dt=this._msgHandler.sendWithStream("GetRangeReader",{begin:i,end:d});this._reader=dt.getReader()}get isStreamingSupported(){return!1}async read(){const{value:i,done:d}=await this._reader.read();return d?{value:void 0,done:!0}:{value:i.buffer,done:!1}}cancel(i){this._reader.cancel(i)}}}],g={};function xt(Ut){var $=g[Ut];if($!==void 0)return $.exports;var _t=g[Ut]={exports:{}};return h[Ut](_t,_t.exports,xt),_t.exports}var Bt={};return(()=>{var Ut=Bt;Object.defineProperty(Ut,"__esModule",{value:!0}),Object.defineProperty(Ut,"WorkerMessageHandler",{enumerable:!0,get:function(){return $.WorkerMessageHandler}});var $=xt(1)})(),Bt})())})(pdf_worker_min);var pdf_worker_minExports=pdf_worker_min.exports;const pdfWorker=getDefaultExportFromCjs(pdf_worker_minExports);pdfExports.pdfjs.GlobalWorkerOptions.workerSrc=pdfWorker;const injectTextLayerCSS=()=>{if(!document.getElementById("pdf-text-layer-styles")){const a=document.createElement("style");a.id="pdf-text-layer-styles",a.textContent=`
      .textLayer {
        position: absolute;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        overflow: hidden;
        line-height: 1.0;
        text-align: initial;
        opacity: 0.2;
      }

      .textLayer span,
      .textLayer br {
        color: transparent;
        position: absolute;
        white-space: pre;
        cursor: text;
        transform-origin: 0% 0%;
      }

      .textLayer span.markedContent {
        top: 0;
        height: 0;
      }

      .textLayer .highlight {
        margin: -1px;
        padding: 1px;
        background-color: rgba(180, 0, 170, 0.2);
        border-radius: 4px;
      }

      .textLayer ::selection {
        background: rgba(240, 171, 0, 1); /* my-yellow with opacity */
        color: transparent;
      }
    `,document.head.appendChild(a)}};injectTextLayerCSS();const SimplePDFViewer=({pdfUrl:a,onError:o,renderCustomControls:h})=>{const[g,xt]=reactExports.useState(0),[Bt,Ut]=reactExports.useState(1),[$,_t]=reactExports.useState(1),[s,bt]=reactExports.useState(0),[St,e]=reactExports.useState(!0),[i,d]=reactExports.useState(!0),ut=reactExports.useRef(null),dt=reactExports.useRef(null),et=reactExports.useRef(null),_=reactExports.useRef(null),[c,lt]=reactExports.useState(null),at=reactExports.useRef(null),ct=reactExports.useRef(null),[it,tt]=reactExports.useState({width:0,height:0}),ot=reactExports.useRef(!0),mt=reactExports.useRef(1),Ct=()=>{if(ct.current&&!ct.current.promise.isFulfilled){try{ct.current.cancel()}catch(gt){console.warn("Error cancelling render task:",gt)}ct.current=null}dt.current&&(dt.current.innerHTML="")},Nt=()=>{if(Ct(),at.current){try{at.current.destroy()}catch(gt){console.warn("Error destroying PDF instance:",gt)}at.current=null}ut.current&&ut.current.getContext("2d").clearRect(0,0,ut.current.width,ut.current.height),dt.current&&(dt.current.innerHTML="")},Pt=()=>{if(!et.current||!it.width||!it.height)return 1;const gt=et.current.clientWidth-32,Ft=et.current.clientHeight-50,yt=gt/it.width,vt=Ft/it.height,Lt=Math.min(yt,vt*1.05,1.5);return console.log(`Calculated optimal scale: ${Lt} from container size ${gt}x${Ft} and page size ${it.width}x${it.height}`),Lt},Tt=()=>{mt.current=$;const gt=Pt();_t(gt),d(!0)},Et=()=>{mt.current=$,_t(1),d(!1)},rt=gt=>{if(!_.current||!ut.current)return;const Ft=_.current;ut.current;const yt=Ft.clientWidth,vt=Ft.clientHeight,Lt=Ft.scrollLeft+yt/2,jt=Ft.scrollTop+vt/2,Ht=gt/mt.current,Vt=Lt*Ht,Qt=jt*Ht;setTimeout(()=>{Ft.scrollLeft=Vt-yt/2,Ft.scrollTop=Qt-vt/2},50)};reactExports.useEffect(()=>{e(!0),ot.current=!0,mt.current=1,d(!0),Nt(),console.log("Loading PDF from:",a);const gt=`${a}?t=${Date.now()}`;return fetch(gt).then(Ft=>{if(!Ft.ok)throw new Error(`HTTP error! status: ${Ft.status}`);return Ft.arrayBuffer()}).then(Ft=>pdfExports.pdfjs.getDocument({data:Ft}).promise).then(Ft=>(console.log("PDF loaded successfully with",Ft.numPages,"pages"),at.current=Ft,lt(Ft),xt(Ft.numPages),Ft.getPage(1).then(yt=>{const vt=yt.getViewport({scale:1});console.log("Initial viewport dimensions:",vt.width,"x",vt.height),tt({width:vt.width,height:vt.height}),bt(0),e(!1)}))).catch(Ft=>{console.error("Error loading PDF:",Ft),e(!1),o&&typeof o=="function"&&o(Ft)}),()=>{Nt()}},[a,o]),reactExports.useEffect(()=>{if(it.width>0&&it.height>0&&et.current&&ot.current){const gt=setTimeout(()=>{Tt(),ot.current=!1,_.current&&(_.current.scrollTop=0)},100);return()=>clearTimeout(gt)}},[it,St]),reactExports.useEffect(()=>{const gt=()=>{c&&!St&&ut.current&&(mt.current=$,Tt())};let Ft;const yt=()=>{Ct(),clearTimeout(Ft),Ft=setTimeout(gt,250)};return window.addEventListener("resize",yt),()=>{window.removeEventListener("resize",yt),clearTimeout(Ft)}},[c,Bt,s,St,it,$]),reactExports.useEffect(()=>{!ot.current&&mt.current!==$&&(i||rt($),mt.current=$)},[$,i]);const ft=async(gt,Ft,yt)=>{const vt=await gt.getTextContent();if(yt.innerHTML="",yt.className="textLayer",!vt.items||vt.items.length===0)return;yt.style.width=`${Ft.width}px`,yt.style.height=`${Ft.height}px`;const Lt=vt.items;for(let jt=0;jt<Lt.length;jt++){const Ht=Lt[jt];if(!Ht.str||Ht.str.trim()==="")continue;const Vt=document.createElement("span"),Qt=pdfExports.pdfjs.Util.transform(Ft.transform,Ht.transform),_e=Math.sqrt(Qt[2]*Qt[2]+Qt[3]*Qt[3]);Vt.textContent=Ht.str;const Xt=Qt[4],Dt=Qt[5]-_e;Vt.style.left=`${Xt}px`,Vt.style.top=`${Dt}px`,Vt.style.fontSize=`${_e}px`,Vt.style.fontFamily=Ht.fontFamily||"sans-serif",Vt.style.width=`${Ht.width*Ft.scale}px`,Vt.style.height=`${_e}px`,Vt.style.color="transparent",Vt.style.position="absolute",Vt.style.whiteSpace="pre",Vt.style.transformOrigin="0% 0%",yt.appendChild(Vt)}},wt=async(gt,Ft,yt,vt)=>{if(!ut.current||!dt.current)return;Ct();const Lt=ut.current,jt=Lt.getContext("2d"),Ht=dt.current;jt.clearRect(0,0,Lt.width,Lt.height),Ht.innerHTML="";try{const Vt=await gt.getPage(Ft),Qt=Vt.getViewport({scale:yt,rotation:vt});Lt.width=Qt.width,Lt.height=Qt.height;const _e={canvasContext:jt,viewport:Qt};console.log(`Rendering page ${Ft} with scale ${yt} and rotation ${vt}`),ct.current=Vt.render(_e),await ct.current.promise,await ft(Vt,Qt,Ht),Lt.parentElement&&Lt.parentElement.parentElement&&(yt>1&&!i?(Lt.parentElement.parentElement.style.width=`${Math.max(Qt.width+40,et.current.clientWidth)}px`,Lt.parentElement.parentElement.style.height=`${Math.max(Qt.height+40,et.current.clientHeight)}px`):(Lt.parentElement.parentElement.style.width="100%",Lt.parentElement.parentElement.style.height="100%"))}catch(Vt){Vt.name!=="RenderingCancelled"&&console.error("Error rendering page:",Vt)}};reactExports.useEffect(()=>{c&&ut.current&&!St&&wt(c,Bt,$,s)},[c,Bt,$,s,St,i]);const b=()=>{Bt>1&&Ut(Bt-1)},pt=()=>{Bt<g&&Ut(Bt+1)},Ot=()=>{mt.current=$,d(!1),_t(gt=>{const Ft=Math.min(gt+.2,3);return console.log("Zooming in, new scale:",Ft),Ft})},kt=()=>{mt.current=$,d(!1),_t(gt=>{const Ft=Math.max(gt-.2,.5);return console.log("Zooming out, new scale:",Ft),Ft})},nt={pageNumber:Bt,numPages:g,scale:$,rotation:s,isLoading:St,goToPrevPage:b,goToNextPage:pt,zoomIn:Ot,zoomOut:kt,rotate:()=>{bt(gt=>{const Ft=(gt+90)%360;return console.log("Rotating, new rotation:",Ft),Ft})},fitToContainer:Tt,resetZoom:Et};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-1 bg-gray-600 rounded-t-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:h?h(nt):g>1?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:b,disabled:Bt<=1||St,className:"p-1 rounded hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:jsxRuntimeExports.jsx(ChevronLeft,{size:18,className:"text-white"})}),jsxRuntimeExports.jsxs("span",{className:"text-white text-sm",children:[Bt," / ",g||"?"]}),jsxRuntimeExports.jsx("button",{onClick:pt,disabled:Bt>=g||St,className:"p-1 rounded hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:jsxRuntimeExports.jsx(ChevronRight,{size:18,className:"text-white"})})]}):jsxRuntimeExports.jsx("div",{})}),h&&g>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:b,disabled:Bt<=1||St,className:"p-1 rounded hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:jsxRuntimeExports.jsx(ChevronLeft,{size:18,className:"text-white"})}),jsxRuntimeExports.jsxs("span",{className:"text-white text-sm",children:[Bt," / ",g||"?"]}),jsxRuntimeExports.jsx("button",{onClick:pt,disabled:Bt>=g||St,className:"p-1 rounded hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:jsxRuntimeExports.jsx(ChevronRight,{size:18,className:"text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:kt,className:"p-1 rounded hover:bg-gray-500","aria-label":"Zoom out",type:"button",disabled:St,children:jsxRuntimeExports.jsx(ZoomOut,{size:18,className:"text-white"})}),jsxRuntimeExports.jsxs("span",{className:"text-white text-sm",children:[Math.round($*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:Ot,className:"p-1 rounded hover:bg-gray-500","aria-label":"Zoom in",type:"button",disabled:St,children:jsxRuntimeExports.jsx(ZoomIn,{size:18,className:"text-white"})}),jsxRuntimeExports.jsx("button",{onClick:Et,className:"p-1 rounded hover:bg-gray-500","aria-label":"Reset to 100%",type:"button",disabled:St,title:"Reset to 100%",children:jsxRuntimeExports.jsx(Minimize,{size:18,className:"text-white"})}),jsxRuntimeExports.jsx("button",{onClick:Tt,className:"p-1 rounded hover:bg-gray-500","aria-label":"Fit to container",type:"button",disabled:St,children:jsxRuntimeExports.jsx(Maximize,{size:18,className:"text-white"})})]})]}),jsxRuntimeExports.jsx("div",{ref:et,className:"flex-grow bg-gray-700 relative",children:St?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full w-full",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):jsxRuntimeExports.jsx("div",{ref:_,className:"absolute inset-0 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:`${i||$<=1?"flex items-start justify-center min-h-full min-w-full pt-4":""} p-2`,children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("canvas",{ref:ut,className:"shadow-lg"}),jsxRuntimeExports.jsx("div",{ref:dt,className:"textLayer absolute top-0 left-0 right-0 bottom-0 z-10",style:{userSelect:"text",pointerEvents:"auto"}})]})})})})]})},Resources=()=>{const a="/CV_Adrian_Miller_Dark.pdf",o="/CV_Adrian_Miller.pdf",[h,g]=reactExports.useState(!0),[xt,Bt]=reactExports.useState("800px"),[Ut,$]=reactExports.useState(!1),[_t,s]=reactExports.useState(!1),bt=h?a:o;reactExports.useEffect(()=>{const ut=()=>{Bt(`${window.innerHeight*.85}px`)};ut();let dt;const et=()=>{clearTimeout(dt),dt=setTimeout(ut,250)};return window.addEventListener("resize",et),()=>{window.removeEventListener("resize",et),clearTimeout(dt)}},[]);const St=ut=>{console.log("PDF viewer failed, showing direct download links:",ut),$(!0)},e=()=>{g(ut=>!ut)},i=ut=>{if(ut.preventDefault(),!_t){s(!0);try{const dt=document.createElement("a");dt.href=bt,dt.download=h?"CV_Adrian_Miller_Dark.pdf":"CV_Adrian_Miller.pdf",document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),setTimeout(()=>{s(!1)},1e3)}catch(dt){console.error("Download error:",dt),s(!1),window.open(bt,"_blank")}}},d=()=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-white p-8 rounded-lg",children:[jsxRuntimeExports.jsx(FileUp,{size:40,className:"text-my-blue mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-semibold mb-4 text-gray-800",children:"PDF Viewer Unavailable"}),jsxRuntimeExports.jsx("p",{className:"mb-6 text-gray-600 text-center",children:"We couldn't load the PDF viewer. You can view the PDF in a new tab or download it directly."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs("a",{href:bt,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-my-blue rounded text-white hover:bg-opacity-80 transition-colors flex items-center gap-2",children:["Open in New Tab ",jsxRuntimeExports.jsx(ExternalLink,{size:16})]}),jsxRuntimeExports.jsxs("button",{onClick:i,disabled:_t,className:"px-4 py-2 border border-my-blue rounded text-my-blue hover:bg-gray-100 transition-colors flex items-center gap-2 disabled:opacity-50",children:[_t?"Downloading...":"Download"," ",jsxRuntimeExports.jsx(Download,{size:16})]})]})]});return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold",children:"Résumé"}),jsxRuntimeExports.jsx("div",{className:"flex gap-4",children:jsxRuntimeExports.jsxs("button",{onClick:i,disabled:_t,className:"px-4 py-2 bg-my-blue rounded hover:bg-opacity-80 transition-colors duration-300 flex items-center gap-2 disabled:opacity-50",children:[_t?"Downloading...":"Download CV"," ",jsxRuntimeExports.jsx(Download,{size:16})]})})]}),jsxRuntimeExports.jsx("div",{className:"backdrop-blur-md bg-gray-800 bg-opacity-50 p-6 rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-700 rounded-lg overflow-hidden",style:{height:xt},children:Ut?d():jsxRuntimeExports.jsx(SimplePDFViewer,{pdfUrl:bt,onError:St,renderCustomControls:ut=>jsxRuntimeExports.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-gray-500 flex items-center","aria-label":h?"Switch to light mode":"Switch to dark mode",title:h?"Switch to light mode":"Switch to dark mode",children:h?jsxRuntimeExports.jsx(Sun,{size:18,className:"text-white"}):jsxRuntimeExports.jsx(Moon,{size:18,className:"text-white"})})})})})]})})};function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(About,{})}),jsxRuntimeExports.jsx(Route,{path:"/projects",element:jsxRuntimeExports.jsx(Projects,{})}),jsxRuntimeExports.jsx(Route,{path:"/projects/:projectName",element:jsxRuntimeExports.jsx(ProjectDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/decolonise",element:jsxRuntimeExports.jsx(ProjectDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/gradient",element:jsxRuntimeExports.jsx(ProjectDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/valor",element:jsxRuntimeExports.jsx(ProjectDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/resources",element:jsxRuntimeExports.jsx(Resources,{})})]})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
